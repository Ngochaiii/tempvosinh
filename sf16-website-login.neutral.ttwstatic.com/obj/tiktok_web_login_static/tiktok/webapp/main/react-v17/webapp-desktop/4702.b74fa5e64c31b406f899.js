"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4702],{1087:(e,t,a)=>{a.d(t,{X:()=>n});var r=a(40099);const n=(e,t)=>{const a=(0,r.useRef)(!1);(0,r.useEffect)(()=>()=>{a.current=!0},[]),(0,r.useEffect)(()=>()=>{a.current&&e()},t)}},2043:(e,t,a)=>{a.d(t,{C:()=>s});var r=a(2787),n=a(40099),o=a(70589),i=a(62638);function l({mode:e,aspectRatio:t}){return(0,r.Y)(i.p,{mode:e,aspectRatio:t})}const s=(0,n.memo)(function({mode:e,aspectRatio:t=208/276}){const{isInProductHoldout:a}=(0,o.Vv)(),s=(0,n.useMemo)(()=>Array.from({length:24}).fill(t),[t]).map((t,a)=>(0,r.Y)(l,{mode:e,aspectRatio:t},a));return(0,r.Y)(i.C,{mode:e,isUnifiedGrid:!a,children:s})})},4144:(e,t,a)=>{a.d(t,{T:()=>_});var r=a(40099),n=a(72355),o=a(21722),i=a(53900),l=a(61317),s=a(16356),d=a(37783),u=a(21197),c=a(27799),m=a(69857),p=a(90976),g=a(16610),f=a(61198);const v="Inbox_Message",h={[-1]:"Follow",0:"Follow",1:"Following",3:"requested",2:"friends",4:"webapp_unblocked_button1",5:"Follow",6:"Inbox_Follow_back"},b=(e,t,a=!1)=>{if(a&&(1===e||2===e))return v;if(1===t){if(e<1)return"Inbox_Follow_back";if(1===e)return h[2]}return h[e]};function _({uniqueId:e,followerStatus:t,prevent:a,onNeedLogin:h,teaParams:_={},isInLiveCard:w=!1,liveCardTeaParams:y={},liveFollowStatus:I,uidForMessage:$,onClickFollow:x}){const k=(0,c.s)(),S=(0,n.W6)(),{user:C,language:T="en"}=(0,m.L$)((0,p.W)(()=>["user","language"],[])),O=Boolean(C),P=Boolean($),U=function({lang:e,uid:t}){const a=(0,u.VR)(e=>e.businessPermission,f.bN),{isElectronApp:r}=(0,g.B)();return{path:a.message?`/business-suite/messages?from=homepage&lang=${e}&u=${t}`:`/messages?lang=${e}&u=${t}`,target:r&&a.message?"_blank":void 0}}({lang:T,uid:$}),[{relation:j,secUid:E},A]=(0,s.JY)(t=>{var a,r,n,o;return{relation:null!==(r=null===(a=t.users[e])||void 0===a?void 0:a.relation)&&void 0!==r?r:-1,secUid:null!==(o=null===(n=t.users[e])||void 0===n?void 0:n.secUid)&&void 0!==o?o:""}},f.bN),L=b(j,t,P),q=k(L);(0,r.useEffect)(()=>{w&&A.setUserRelation({uniqueId:e,relation:Number(null!=I?I:0)})},[]);const B=(0,d.mG)(),{play_mode:D,group_id:F}=_,R=(0,r.useCallback)(t=>{var r;return a&&(t.preventDefault(),t.stopPropagation()),null==x||x(L),o.O.handleGeneralClick("follow",{scene:null!==(r=_.scene)&&void 0!==r?r:"video_feed",group_id:F,play_mode:D}),O?4===j?A.blockOrUnblockUser({uniqueId:e,secUid:E,isBlock:!0}):L===v?(i.w.handleEnterChatList(void 0,"click_noti"),void(U.target?window.open(U.path,U.target):S.push(U.path))):(A.postCommitFollowUser(Object.assign(Object.assign({},_),{uniqueId:e,useFollowV2:!1})),1!==j&&B.addMlModelTrainData({id:_.group_id,action:"follow"}),void(w&&(1===j?l.YH.handleUnFollow(y):l.YH.handleFollow(y)))):null==h?void 0:h()},[a,x,L,_,F,D,O,j,A,e,w,h,E,U.target,U.path,S,B,y]);return{isFollowing:1===j||2===j,text:q,handleFollow:R,relation:j}}},19495:(e,t,a)=>{a.d(t,{I:()=>n});var r=a(16410);const n=(()=>{const e={apply:function(e,t,a){return e(a[0],Object.assign(Object.assign({},a[1]),{shouldForwardProp:e=>{var t,r,n;return"theme"!==e&&!e.toString().startsWith("$")&&(null===(n=null===(r=null===(t=a[1])||void 0===t?void 0:t.shouldForwardProp)||void 0===r?void 0:r.call(t,e))||void 0===n||n)}}))}};return new Proxy(r.default,e)})()},26817:(e,t,a)=>{a.d(t,{A:()=>c});var r=a(24643),n=a(40099),o=a(16356),i=a(69857),l=a(61198),s=a(27799),d=a(57472);const u=(0,n.memo)(({badgePosition:e})=>{const t=(0,s.s)();return(0,r.jsx)(d.Cx,{$isTopPlacement:"top"===e,children:(0,r.jsx)(d.rC,{weight:"bold",color:"UIText1Display","data-tux-color-scheme":"dark",children:t("LIVE")})})});const c=(0,n.memo)(e=>{var{uniqueId:t,size:a,srcQuality:n="avatarThumb",liveSrc:s,liveBadgePosition:c,storiesStatus:m,e2eTag:p,onClick:g}=e,f=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a}(e,["uniqueId","size","srcQuality","liveSrc","liveBadgePosition","storiesStatus","e2eTag","onClick"]);const v=(0,i.L$)((0,o.nW)(e=>e.users[t],l.bN));return(0,r.jsxs)(d.Tj,{"data-e2e":p,className:"user-avatar-container",$size:"number"==typeof a?`${a}px`:a,$isLive:!!s,$storiesStatus:m,style:Object.assign(Object.assign({},"number"==typeof a&&{[d.u6]:`${Math.max(2,Math.floor(a/48))}px`}),!!g&&{cursor:"pointer"}),onClick:g,children:[(0,r.jsx)(d.U$,Object.assign(Object.assign({src:null!=s?s:v[n],alt:`Avatar for ${t}`,className:"user-avatar",$size:"number"==typeof a?`${a}px`:a},f),{style:f.style})),s&&c&&(0,r.jsx)(u,{badgePosition:c})]})})},44472:(e,t,a)=>{a.d(t,{A:()=>u});var r=a(2787),n=a(40099),o=a(46512),i=a(57615),l=a(81002);const s=(0,n.memo)((0,n.forwardRef)(function(e,t){return(0,r.Y)(l.iS,Object.assign({ref:t,role:"button",label:"",variant:"secondary",leadingIcon:(0,r.Y)(i.aCW,{})},e))})),d=(0,n.forwardRef)(function({embedCode:e,embedType:t,isEmbedDisabled:a,isEmbedBanned:i,uid:l,uniqueId:d,collectionId:u,collectionName:c,tagId:m,shareUrl:p},g){const f=(0,n.useRef)(null),v=(0,n.useMemo)(()=>({author_id:l,tag_id:m,collection_id:u,collection_name:c}),[l,m,u,c]),h=(0,o.R)({from:1,mode:1,shareUrl:p,uniqueId:d,enabled:!0,embedCode:e,embedType:t,isEmbedDisabled:a,isEmbedBanned:i,teaParams:v});return(0,n.useImperativeHandle)(g,()=>({show(){var e,t;null===(e=f.current)||void 0===e||e.focus(),null===(t=f.current)||void 0===t||t.click()}}),[]),(0,r.Y)(s,Object.assign({ref:f},h))}),u=(0,n.memo)(d)},48436:(e,t,a)=>{a.d(t,{q:()=>x});var r=a(2787),n=a(40099),o=a(53873),i=a(70589),l=a(73739),s=a(69857),d=a(90976),u=a(43214),c=a(20957),m=a(90886),p=a(78859),g=a(96406),f=a(74496),v=a(15601),h=a(42005),b=a(4144),_=a(26817),w=a(97593),y=a(80179),I=a(61198),$=a(1087);const x=(0,n.memo)(({user:e,isFTC:t,e2eTag:a,size:x=116,quality:k="Medium",supportsStories:S=!1})=>{const{uniqueId:C,secUid:T}=e,{isInTiktokStoriesExperiment:O}=(0,i.lY)(),P=(0,l.k9)(),{user:U}=(0,s.L$)((0,d.W)(()=>["user"],[])),[j]=(0,y.useAtom)(u.K),[{userStories:E},A]=(0,v.cG)(t=>({userStories:t.userItemListMap[e.uniqueId]}),(e,t)=>{var a,r;return(0,I.bN)(e,t)&&(null===(a=e.userStories)||void 0===a?void 0:a.AllViewed)===(null===(r=t.userStories)||void 0===r?void 0:r.AllViewed)}),L=(0,h.QG)(),q=(0,c.AL)({user:e,enterMethod:"others_photo"}),{isFollowing:B}=(0,b.T)({uniqueId:C}),D=(null==U?void 0:U.uniqueId)===e.uniqueId,F=j.isLive,R=j.isError,z=(0,n.useMemo)(()=>!(!O||!S||t)&&(!!D||!e.privateAccount||B),[t,B,O,D,S,e.privateAccount]),M=e[`avatar${k}`],N=(0,n.useMemo)(()=>({enter_from_merge:q.enter_from_merge,enter_method:q.enter_method}),[q]),Y=w.Rg("avatar-stable-url-hook",{user:e});(0,n.useEffect)(()=>{F&&f.mx.handleLiveShow({enter_from_merge:q.enter_from_merge,enter_method:q.enter_method,follow_status:q.follow_status,anchor_id:q.anchor_id,room_id:q.room_id,action_type:q.action_type,previous_page:g.f.commonParams.previous_page})},[F]),(0,n.useEffect)(()=>{z&&L.getStoriesForUser(e.uniqueId)},[z,L,e.uniqueId]),(0,$.X)(()=>{A.resetSingleUser()},[]);const G=(0,n.useCallback)(()=>{F&&f.mx.handleRecLivePlay({enter_from_merge:q.enter_from_merge,enter_method:q.enter_method,follow_status:q.follow_status,anchor_id:q.anchor_id,room_id:q.room_id,action_type:q.action_type,previous_page:g.f.commonParams.previous_page})},[q,F]),X=(0,n.useMemo)(()=>{var t;return!F&&z&&Object.values(null!==(t=null==E?void 0:E.itemList)&&void 0!==t?t:{}).length?(g.f.sendEvent("stories_show",{author_id:e.uniqueId}),(0,r.Y)(_.A,{e2eTag:a,uniqueId:e.uniqueId,storiesStatus:E.AllViewed?"watched":"unwatched",size:x,srcQuality:`avatar${k}`,onClick:()=>A.openStoriesPlayer({singleUser:e.uniqueId})})):(0,r.Y)(m.i,{alt:null==Y?void 0:Y.alt,isShowLive:F,src:M,size:x,needAnimation:R,e2eTag:a,isBiggerBadge:!0})},[M,z,a,F,R,k,null==Y?void 0:Y.alt,x,A,e.uniqueId,null==E?void 0:E.itemList,null==E?void 0:E.AllViewed]);return t?(0,r.Y)(o.A,{width:96,height:96,"data-e2e":"user-avatar"}):F?(0,r.Y)(p.B,{uniqueId:C,secUid:T,teaParams:q,extraQuery:N,onClick:G,shouldDirectOpenLive:P,children:X}):X})},57472:(e,t,a)=>{a.d(t,{Cx:()=>p,Tj:()=>m,U$:()=>c,V7:()=>l,rC:()=>g,u6:()=>d});var r=a(57615),n=a(43725),o=a(19495);const i="linear-gradient(183.16deg, rgba(255, 23, 100, 1) 8.16%, rgba(237, 52, 149, 1) 104.17%)",l=`linear-gradient(135deg, ${r.Tj4.SocialStoryGradientGreen1} 0, ${r.Tj4.SocialStoryGradientGreen2} 47.8362%, ${r.Tj4.SocialStoryGradientGreen3} 100%)`,s=`linear-gradient(135deg, ${r.Tj4.UIShapeNeutral3} 0, ${r.Tj4.UIShapeNeutral3} 100%)`,d="--user-avatar-ring-thickness",u=`var(${d})`,c=(0,o.I)(r.pfZ)(({$size:e="2rem"})=>[{height:`${e} !important`,width:`${e} !important`,padding:`calc(${u} * 2)`}]),m=o.I.div(({$size:e="2rem"})=>[{position:"relative",height:e,width:e,flexShrink:0}],({$size:e="2rem",$isLive:t,$storiesStatus:a})=>[{"::after":{content:"''",position:"absolute",inset:0,borderRadius:"50%"}},t&&{[d]:"2px","::after":{background:i,mask:`\n\t\t\t\tradial-gradient(\n\t\t\t\t\tcircle,\n\t\t\t\t\ttransparent 0px,\n\t\t\t\t\ttransparent calc((${e} / 2) - ${u}),\n\t\t\t\t\tblack calc((${e} / 2) - ${u}),\n\t\t\t\t\tblack calc(${e} / 2)\n\t\t\t\t)`}},a&&{[d]:"2px","::after":{background:"unwatched"===a?l:s,mask:`\n\t\t\t\tradial-gradient(\n\t\t\t\t\tcircle,\n\t\t\t\t\ttransparent 0px,\n\t\t\t\t\ttransparent calc((${e} / 2) - ${u}),\n\t\t\t\t\tblack calc((${e} / 2) - ${u}),\n\t\t\t\t\tblack calc(${e} / 2)\n\t\t\t\t)`}}]),p=o.I.span(({$isTopPlacement:e})=>[{width:"2rem",height:"1.25rem",position:"absolute",left:"50%",transform:"translateX(-50%)",zIndex:1,borderRadius:"0.5rem",background:i,alignContent:"center"},e?{top:"-11px"}:{bottom:"-8px"}]),g=(0,o.I)(n.F.P4)(()=>[{textAlign:"center"}])},59204:(e,t,a)=>{a.d(t,{E:()=>i});var r=a(46294),n=a(71394),o=a(40099),i=(0,n.r)(function(e){return o.createElement("svg",(0,r._)({},e,{viewBox:"0 0 48 48",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),o.createElement("g",{clipPath:"url(#Icon_Color-Default_Avatar_svg__a)"},o.createElement("circle",{cx:24,cy:24,r:24,fill:"#D0D1D3"}),o.createElement("path",{d:"M8.28 42.14a18 18 0 0 1 31.38.05A23.9 23.9 0 0 1 24 48a23.9 23.9 0 0 1-15.72-5.86Z",fill:"#fff",fillOpacity:.75}),o.createElement("path",{d:"M32.95 22.02a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z",fill:"#fff",fillOpacity:.75})),o.createElement("defs",null,o.createElement("clipPath",{id:"Icon_Color-Default_Avatar_svg__a"},o.createElement("path",{fill:"#fff",d:"M0 0h48v48H0z"}))))})},62638:(e,t,a)=>{a.d(t,{C:()=>l,p:()=>s});var r=a(75431),n=a(16410),o=a(26819);const i=(0,r.i7)({"0%":{backgroundPositionX:"200%"},"100%":{backgroundPositionX:"-150%"}}),l=o.ph,s=(0,n.default)("div",{target:"e15jf4tc0"})(({theme:e,mode:t,aspectRatio:a=208/276})=>[{borderRadius:"explore"===t?"8px":"4px",position:"relative",width:"100%",paddingTop:100/a+"%",backgroundColor:e.colors.BGPlaceholderDefault,backgroundImage:"linear-gradient(90deg, rgba(22, 24, 35, 0) 0%, rgba(22, 24, 35, .04) 50%, rgba(22, 24, 35, 0) 100%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",animation:`${i} cubic-bezier(0, 0, 1, 1) 1.5s infinite`}],"label:DivSkeletonCard;")},81002:(e,t,a)=>{a.d(t,{$7:()=>s,Dx:()=>l,iS:()=>d});var r=a(16410),n=a(93584),o=a(57615),i=a(67476);const l=(0,r.default)("div",{target:"efrkfhz0"})([{position:"relative",display:"flex",flexDirection:"row",alignItems:"center",gap:"12px",marginTop:"20px"}],"label:DivButtonPanelWrapper;"),s=(0,r.default)(o.I05,{target:"efrkfhz1"})((0,n.jJ)({max:i.f5.Small-1,style:{minWidth:"0 !important",width:"40px !important",paddingLeft:"0 !important",paddingRight:"0 !important","& > :first-child":{"& > .TUXButton-label":{display:"none !important"}}}},{min:i.f5.Small,style:{minWidth:"0 !important",width:"fit-content","& > :first-of-type":{"& > .TUXButton-iconContainer":{display:"none !important"},"& > .TUXButton-label":{margin:"unset !important"}}}}),"label:StyledTUXResponsiveButton;"),d=(0,r.default)(o.I05,{target:"efrkfhz2"})({minWidth:"0 !important",width:"40px !important",paddingLeft:"0 !important",paddingRight:"0 !important","& > :first-of-type":{"& > .TUXButton-label":{display:"none !important"}}},"label:StyledTUXIconOnlyButton;")}}]);