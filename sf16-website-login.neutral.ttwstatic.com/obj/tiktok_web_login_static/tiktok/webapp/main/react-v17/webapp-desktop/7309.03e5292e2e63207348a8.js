"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7309],{13940:(e,t,o)=>{o.d(t,{U:()=>d});var n=o(2787),i=o(70589),r=o(98566),a=o(16410);const s=(0,a.default)("div",{target:"e1tueqr40"})(()=>[{height:"100%",margin:"0 auto",padding:"0.5rem",display:"flex",alignItems:"end",gap:"1rem"}],"label:DivOneColSkeletonContainer;"),l=(0,a.default)("div",{target:"e1tueqr41"})(({theme:{colors:e}})=>[{height:"100%",aspectRatio:"9 / 16",borderRadius:"16px",backgroundColor:e.BGPlaceholderDefault}],"label:DivOneColSkeletonCard;"),c=({style:e})=>(0,n.FD)(s,{style:e,children:[(0,n.Y)(l,{}),(0,n.Y)(r.A,{num:6})]});var u=o(47305);const d=()=>{const{isInProductHoldout:e}=(0,i.Vv)();return e?(0,n.Y)(u.X,{}):(0,n.Y)(c,{})}},43672:(e,t,o)=>{o.d(t,{$h:()=>R,Bj:()=>F,Ft:()=>E,LB:()=>Y,Nc:()=>V,d9:()=>z,eF:()=>$});var n=o(2787),i=o(40099),r=o(11060),a=o(99789),s=o.n(a),l=o(54133),c=o(80049),u=o(10757),d=o(34778),p=o(59475),m=o(61273),g=o(73041),_=o(73137),y=o(31846),h=o(52165),f=o(27799),x=o(49858),v=o(69831),b=o(95074),C=o(11229),w=o(65476),D=o(29645),P=o(19664),O=o(78445),S=o(42186),L=o(24443),k=o(56507),M=o(21115),A=o(61198),j=o(57354),N=o(13940),B=o(62145),I=o(87314),T=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};function E(){const{streamDeviceType:e}=(0,c.A)(),[t,o]=(0,O.NY)(e=>({list:e.list,loading:e.loading,hasMore:e.hasMore}),A.bN),{loading:n,hasMore:r}=t,a=(0,u.s)(),s=(0,d.JD)(e=>e.showingBrowserMode),l=(0,S.Z9)(e=>e.isOpen),h=l?"immersive_player":s?"browser_mode":"one_column",{fypFeederItemId:f}=(0,p.ip)(),{enableVVAvgPerDayStrategy:x,defaultRecommendFetchCount:v}=(0,m.id)();return(0,i.useCallback)((t=!1)=>T(this,void 0,void 0,function*(){if((n||!r)&&!t)return;const i=(0,g.fU)()?"":(0,_.ey)(),s=(0,y.tR)().getPortraitTarget("vv_avg_per_day");yield o.getRecommendList({fromPage:"fyp",watchLiveLastTime:i,device_type:e,ttamParams:a,playModeForTea:h,fypFeederItemId:f,fetchCount:x?s:v})}),[o,r,e,n,a,h,f,x,v])}function R(){const e=(0,O.Lu)(e=>null!=e?e:{list:[],loading:!1,hasMore:!0,statusCode:0},A.bN),t=(0,L.b1)(),{statusCode:o,hasMore:n}=e;return(0,i.useCallback)(()=>{n||10404!==o||t.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"vv_limit"}})},[t,o,n])}const V=()=>{const{search:e}=(0,r.zy)(),t=(0,P.VP)(),{isBrowserModeShowing:o}=(0,i.useContext)(h.g),{hasSidebar:n}=(0,I.jN)(),a=(0,l.stringifyUrl)({url:"/foryou",query:s()((0,l.parse)(e),"sender_device","sender_web_id","item_id")},{skipNull:!0});(0,i.useEffect)(()=>{n||t>0&&!o&&window.history.replaceState(window.history.state,"foryou",a)},[a,t,o,n])},F=({iconEle:e,handleRefresh:t})=>{const o=(0,f.s)();return(0,n.Y)(B.x,{children:(0,n.Y)(x.W,{iconElem:e,title:o("server_error_title"),desc:o("server_error_sub"),buttonText:o("refresh"),onButtonClick:t})})},Y=()=>(0,n.Y)(N.U,{}),$=()=>{const e=(0,O.Lu)(e=>null==e?void 0:e.list,A.bN),t=(0,b.P)(v.k),o=(0,d.JD)(e=>e.showingBrowserMode,A.bN),n=(0,S.Z9)(e=>e.isOpen,A.bN);(0,i.useEffect)(()=>{var i;if(e&&0!==e.length)for(let r=0;r<e.length;r++){const a=t[e[r]];if(a){if(a.ad_info){const e=a.ad_info,t=(0,C.n5)({ad_info:e,play_mode:n?"immersive_player":o?"browser_mode":"one_column"});w.pg.handleReceive(t)}D.j.handleVideoReceive({item_id:a.id,group_id:null===(i=null==a?void 0:a.video)||void 0===i?void 0:i.id})}}},[])};function z(){const e=(0,O.sL)();return(0,i.useCallback)(()=>T(this,void 0,void 0,function*(){const t=(0,j.yK)();return Promise.all([t.service.baseContext.getBaseContext(),t.service.commonConfig.getAbTestValueWithUrl(k.W$)]).then(([{user:o},n])=>{const i=(0,M.i1)(o,n);return e.getRecommendList({itemId:t.request.query.item_id,isNonPersonalized:i})})}),[e])}},45435:(e,t,o)=>{o.d(t,{Ih:()=>c});var n=o(1183),i=o(64388);const r=(0,n.p)("mobileVideoPlayerAtom@tiktok/webapp-atoms",{currentVideo:null}),{useServiceState:a,useServiceDispatchers:s,getStaticApi:l}=(0,i.i)(r,(e,t)=>({setCurrentVideo(e){t(r,t=>Object.assign(Object.assign({},t),{currentVideo:e.currentVideo}))},updateVideo(e){this.setCurrentVideo(e)}})),c=()=>a(e=>e.currentVideo)},47305:(e,t,o)=>{o.d(t,{X:()=>y});var n=o(2787),i=o(40099),r=o(16410),a=o(93584);const s=(0,r.default)("div",{target:"e192izzu0"})(({center:e})=>[{display:"flex",marginRight:"68px",paddingTop:"24px"},e?{marginRight:"0px",margin:"0 auto"}:null],"label:DivOneColSkeletonContainer;"),l=(0,r.default)("div",{target:"e192izzu1"})({width:"56px",height:"56px",flex:"0 0 56px",borderRadius:"100%"},({theme:{direction:e,colors:t}})=>Object.assign({background:t.BGPlaceholderDefault},(0,a.mp)({direction:e,marginEnd:"12px"})),(0,a.jJ)({max:479,style:{display:"none"}}),"label:DivOneColSkeletonAvatar;"),c=(0,r.default)("div",{target:"e192izzu2"})({display:"flex",flexDirection:"row",alignItems:"center",[`${l}`]:{width:"40px",height:"40px",flex:"0 0 40px",display:"none"}},(0,a.jJ)({max:479,style:{[`${l}`]:{display:"block"}}}),"label:DivOneColSkeletonContentContainer;"),u=(0,r.default)("div",{target:"e192izzu3"})({paddingTop:"10px",flex:"1 1 auto"},"label:DivOneColSkeletonWrapper;"),d=(0,r.default)("div",{target:"e192izzu4"})(({styles:{width:e,marginBottom:t,marginTop:o},theme:n})=>({width:e,marginBottom:t,marginTop:o,maxWidth:"100%",height:"16px",background:n.colors.BGPlaceholderDefault,borderRadius:"2px"}),"label:DivOneColSkeletonContent;"),p={width:"200px",marginBottom:"6px"},m={width:"160px"},g={width:"478px",marginBottom:"5px",marginTop:"15px"},_={width:"478px",marginBottom:"0px"},y=(0,i.memo)(function({center:e,style:t}){return(0,n.FD)(s,{style:t,center:e,children:[(0,n.Y)(l,{}),(0,n.FD)(u,{children:[(0,n.FD)(c,{children:[(0,n.Y)(l,{}),(0,n.FD)("div",{children:[(0,n.Y)(d,{styles:p}),(0,n.Y)(d,{styles:m})]})]}),(0,n.Y)(d,{styles:g}),(0,n.Y)(d,{styles:_})]})]})})},48384:(e,t,o)=>{o.d(t,{T:()=>a});var n=o(40099),i=o(7615),r=o(27799);const a=(e=i.i_.WebApp,t=!1)=>{const o=(0,r.s)(e),a=(0,n.useCallback)((e,n)=>{const i=function(e,t=!1){if(!e||isNaN(e))return"";const o=new Date(Number(e)),n=new Date,i=Math.max(n.getTime()-o.getTime(),0);if(t){if(~~(i/u)>7)return{num:1,unit:"unit_week"}}else{if(o.getFullYear()!==n.getFullYear())return`${o.getFullYear()}-${o.getMonth()+1}-${o.getDate()}`;if(~~(i/u)>7)return`${o.getMonth()+1}-${o.getDate()}`}return 7===~~(i/u)?{num:1,unit:"unit_week"}:i>u?{num:~~(i/u),unit:"unit_day"}:i>c?{num:~~(i/c),unit:"unit_hr"}:i>l?{num:~~(i/l),unit:"unit_min"}:{num:1+~~(i/s),unit:"unit_sec"}}(e,t);if("string"==typeof i)return i;const{num:r,unit:a}=i;return n?`${r}${o(a)}`:o("time_ago",{num:r,unit:o(a)})},[o,t]);return{t:o,timeTranslator:a}},s=1e3,l=60*s,c=60*l,u=24*c},62145:(e,t,o)=>{o.d(t,{Y:()=>i,x:()=>r});var n=o(16410);const i=(0,n.default)("main",{target:"ec6jhlz0"})(()=>[{position:"relative",margin:"0 auto",width:"100%",minWidth:"420px",flexShrink:1,display:"flex",justifyContent:"center",alignItems:"stretch"}],"label:DivMainContainer;"),r=(0,n.default)("div",{target:"ec6jhlz1"})({padding:"210px 0"},"label:DivErrorWrapper;")},79742:(e,t,o)=>{o.d(t,{M2:()=>c,_B:()=>s,bn:()=>a});var n=o(1183),i=o(64388);const r=(0,n.p)("mobileBasicPlayerAtom@tiktok/webapp-atoms",{mobileDefaultMute:!1,forcePause:!1,forcePlay:!1,canRetry:!0}),{useServiceState:a,useServiceDispatchers:s,useAtomService:l}=(0,i.i)(r,(e,t)=>({setMobileDefaultMute(e){t(r,t=>Object.assign(Object.assign({},t),{mobileDefaultMute:e}))},setForcePause(e){t(r,t=>Object.assign(Object.assign({},t),{forcePause:e}))},setForcePlay(e){t(r,t=>Object.assign(Object.assign({},t),{forcePlay:e}))},setCanRetry(e){t(r,t=>Object.assign(Object.assign({},t),{canRetry:e}))}})),c=()=>a(e=>e.mobileDefaultMute)},86697:(e,t,o)=>{o.d(t,{C1:()=>b,E0:()=>w,b1:()=>C,pn:()=>D,tZ:()=>P});var n=o(40099),i=o(34778),r=o(705),a=o(33923),s=o(69857),l=o(61322),c=o(90976),u=o(2232),d=o(96406),p=o(82180),m=o(80230),g=o(65036),_=o(86508),y=o(61198),h=o(43672),f=o(86790),x=o(99998),v=function(e,t,o,n){return new(o||(o=Promise))(function(i,r){function a(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})};const b=e=>{const{currentCategoryType:t,currentCategory:o}=(0,f.eO)(e=>({currentCategoryType:e.currentCategoryType,currentCategory:e.currentCategory}),y.bN),[i,r]=(0,m.V2)(t=>{var o,n,i,r,a,s;return{loading:null!==(n=null===(o=t[null!=e?e:0])||void 0===o?void 0:o.loading)&&void 0!==n&&n,hasMore:null===(r=null===(i=t[null!=e?e:0])||void 0===i?void 0:i.hasMore)||void 0===r||r,list:null!==(s=null===(a=t[null!=e?e:0])||void 0===a?void 0:a.list)&&void 0!==s?s:[]}},y.bN),[a,s]=(0,g.IO)(e=>({loading:e.loading,hasMore:e.hasMore,list:e.list}),y.bN),{loading:l,hasMore:c,list:u}=void 0!==e?i:a,d=void 0!==e?r:s,_=(0,n.useRef)(void 0);return(0,n.useCallback)(()=>{l||(!c||u.length>=200?_.current!==t&&(p.H.handleBottomNoMoreVideosShow({tab_name:o}),_.current=t):(p.H.handleExploreLoadMore({enter_from:`category_${o}`}),d.getExploreList({categoryType:null!=e?e:t})))},[l,c,u.length,d,e,t,o])};function C(e,t){const o=(0,f.eO)(e=>e.currentCategory,y.bN);return 19!==t?null:{enter_method:"category_video_display",enter_tab:o,diversify_id:null==e?void 0:e.diversificationId}}function w(){return(0,n.useMemo)(()=>({enter_from:"explore_page",search_position:"explore_page",words_source:"explore_all",words_type:"explore_all",group_id:"",previous_page:d.f.commonParams.previous_page}),[])}function D(e){var t;const{enterIndex:o}=(0,i.JD)(e=>({enterIndex:e.enterIndex}),y.bN),{enterItemId:s}=(0,r.d8)(e=>{var t;return{enterItemId:null!==(t=e.browserList[o])&&void 0!==t?t:""}},y.bN),l=b(e),c=(0,h.Ft)(),u=(0,_.ND)(),[d,p]=(0,n.useState)(!1),m=(0,n.useCallback)(e=>v(this,void 0,void 0,function*(){yield u.getRelatedList({itemId:e})}),[u]),g=null!==(t=(0,a.GA)("browser_content_logic"))&&void 0!==t?t:"v1";return{loadMoreConfig:(0,n.useMemo)(()=>{const e=[{itemListKey:"explore",limit:1}];return"v1"!==g&&"v4"!==g&&e.push({itemListKey:"video",limit:4}),"v2"===g||"v4"===g?(e.push({itemListKey:"foryou",limit:1/0}),e.push({itemListKey:"explore",limit:1/0})):e.push({itemListKey:"explore",limit:1/0}),{sources:e}},[g]),loadMoreHandler:(0,n.useCallback)(e=>{switch(e){case"explore":default:l();break;case"video":if(d)return!1;p(!0),m(s);break;case"foryou":c()}return!0},[l,m,c,s,d])}}const P=()=>{var e,t;const{config:o}=(0,s.L$)((0,l.U)(()=>["config"],[])),{exploreCategoryList:i}=(0,s.L$)(o),{abTestVersion:r}=(0,s.L$)((0,c.W)(()=>["abTestVersion"],[])),a=(null!==(t=i[null!==(e=(0,u.qt)(r,"explore_category_ranking"))&&void 0!==e?e:"v0"])&&void 0!==t?t:x.Cj).map(e=>Object.assign(Object.assign({},e),{type:Number(e.type)}));return(0,n.useMemo)(()=>a,[])}},86790:(e,t,o)=>{o.d(t,{eO:()=>l,g_:()=>s});var n=o(78695),i=o(64388),r=o(1183);const a=(0,n._)((0,r.p)("exploreAtom@tiktok/webapp-desktop",{currentCategory:"",currentCategoryType:0}),{rehydrationKey:"desktop.explorePage.root"});a.debugLabel="exploreAtom";const{useAtomService:s,useServiceState:l,useServiceDispatchers:c}=(0,i.i)(a,(e,t)=>({setCurrentCategory(e){t(a,t=>Object.assign(Object.assign({},t),{currentCategory:e}))},setCurrentCategoryType(e){t(a,t=>Object.assign(Object.assign({},t),{currentCategoryType:e}))}}))},96199:(e,t,o)=>{o.d(t,{G5:()=>r});var n=o(75431),i=o(16410);o(10594);const r=(0,i.default)("section",{target:"ees02z00"})(()=>[{display:"flex",flexDirection:"column",alignItems:"center"}],"label:SectionActionBarContainer;");(0,n.i7)({"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.67)"},"100%":{transform:"scale(1)"}}),(0,n.i7)({"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.33)"},"100%":{transform:"scale(1)"}})},98566:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(2787),i=o(40099),r=o(96199),a=o(67476),s=o(16410),l=o(93584);const c=(0,s.default)("div",{target:"ea9s2gj0"})(({theme:{colors:e}})=>[{width:"48px",height:"48px",borderRadius:"24px",backgroundColor:e.BGPlaceholderDefault,marginBottom:"32px"},(0,l.jJ)({max:a.f5.Small,style:{width:"32px",height:"32px"}})],"label:ActionItemPlaceHolder;"),u=(0,i.memo)(({num:e=6,style:t})=>{const o=(0,i.useMemo)(()=>Array.from({length:e},(e,t)=>(0,n.Y)(c,{},`action-item-placeholder_${t}`)),[e]);return(0,n.Y)(r.G5,{style:Object.assign({justifyContent:"center"},t),children:o})})},99998:(e,t,o)=>{o.d(t,{Cj:()=>i,WI:()=>r,hg:()=>n});const n=96,i=[{text:"pc_web_explorePage_all",name:"All",type:120},{text:"pc_web_explorePage_topics_singing_dancing",name:"Singing & Dancing",type:119},{text:"pc_web_explorePage_topics_comedy",name:"Comedy",type:104},{text:"pc_web_explorePage_topics_sports",name:"Sports",type:112},{text:"pc_web_explorePage_topics_anime_comics",name:"Anime & Comics",type:100},{text:"pc_web_explorePage_topics_relationship",name:"Relationship",type:107},{text:"pc_web_explorePage_topics_shows",name:"Shows",type:101},{text:"pc_web_explorePage_topics_lipsync",name:"Lipsync",type:110},{text:"pc_web_explorePage_topics_daily_life",name:"Daily Life",type:105},{text:"pc_web_explorePage_topics_beauty_care",name:"Beauty Care",type:102},{text:"pc_web_explorePage_topics_games",name:"Games",type:103},{text:"pc_web_explorePage_topics_society",name:"Society",type:114},{text:"pc_web_explorePage_topics_outfit",name:"Outfit",type:109},{text:"pc_web_explorePage_topics_cars",name:"Cars",type:115},{text:"pc_web_explorePage_topics_food",name:"Food",type:111},{text:"pc_web_explorePage_topics_animals",name:"Animals",type:113},{text:"pc_web_explorePage_topics_family",name:"Family",type:106},{text:"pc_web_explorePage_topics_drama",name:"Drama",type:108},{text:"pc_web_explorePage_topics_fitness_health",name:"Fitness & Health",type:117},{text:"pc_web_explorePage_topics_education",name:"Education",type:116},{text:"pc_web_explorePage_topics_technology",name:"Technology",type:118}];var r;!function(e){e.NORMAL="0",e.NEW="1",e.HOT="2",e.RECOM="3",e.EXCLUSIVE="4",e.LOCAL="5",e.BURST="6",e.BOIL="7",e.WENDA_CLUE="8",e.LONG_VIDEO="9",e.LIVE="10",e.UPDATE="15",e.BUBBLE_WORDS="16",e.SAV="17",e.MUSIC="18",e.SEARCH_AGAIN="19",e.COUPON="20"}(r||(r={}))}}]);