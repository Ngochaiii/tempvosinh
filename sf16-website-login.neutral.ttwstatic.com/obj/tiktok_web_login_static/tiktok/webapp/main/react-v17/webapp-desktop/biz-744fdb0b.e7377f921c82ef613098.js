(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2780],{555:(e,t,i)=>{"use strict";i.d(t,{$l:()=>w,Yy:()=>j,qT:()=>C});var n=i(72516),o=i(95074),a=i(40099),r=i(60433),s=i(69484),l=i(35762),d=i(21002),c=i(20173),u=i(82778),p=i(41221),g=i(73976),_=i(21197),m=i(61198),h=i(2232),v=i(70589),f=i(57383),y=i(72355),b=i(37818),x=i(53900),k=i(96406);function w(){var e,t;const i=(0,r.V)(),{user:d,encryptedWebid:u,lang:_,appType:m,abTestVersion:f,env:y,wid:b,$apiUrl:x,$wsUrl:k}=(0,o.P)(c.L,{dependencies:[],selector:e=>{var t,n,o,a,r,s;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user,wid:null===(n=e.appContext)||void 0===n?void 0:n.wid,encryptedWebid:null===(o=e.appContext)||void 0===o?void 0:o.encryptedWebid,appType:null===(a=e.appContext)||void 0===a?void 0:a.appType,lang:e.lang,env:null===(r=e.appContext)||void 0===r?void 0:r.env,$apiUrl:i.imApi,$wsUrl:i.imFrontier,abTestVersion:null===(s=e.appContext)||void 0===s?void 0:s.abTestVersion}}}),w=(0,p.rp)(),S=(0,g._q)(),C="v2"===(null!==(e=(0,h.qt)(f,"web_dm_test_force_http"))&&void 0!==e?e:"v1"),j=(0,v.cV)(),T="v2"===(null!==(t=(0,h.qt)(f,"web_dm_enable_debug"))&&void 0!==t?t:"v1");(0,a.useEffect)(()=>{(()=>{(0,n.__awaiter)(this,void 0,void 0,function*(){var e;yield l.h.init(_);const t=l.h.getRiskParams(0),i=(0,s.Ri)("msToken")||"";Object.keys(t).forEach(e=>{void 0!==t[e]?t[e]=String(t[e]):t[e]=""}),t.referer||(t.referer=window.location.href);const o={appId:1459,userId:null!==(e=null==d?void 0:d.uid)&&void 0!==e?e:"",secUid:null==d?void 0:d.secUid,deviceId:null!=b?b:"",appKey:"e1bd35ec9db7b8d846de66ed140b1ad9",fpId:9,method:1,apiUrl:x,inboxType:j?[0,1,3]:[0,3],acceptIncorrectInboxType:!0,frontierUrl:k,headers:Object.assign(Object.assign({},t),{from_appID:"1988",app_language:_,locale:_,app_name:"tiktok_web",channel:"web",user_agent:navigator.userAgent,"Web-Sdk-Ms-Token":i}),whaleQueryParams:{aid:"1988",version_code:"1.0.0",app_name:"tiktok_web",device_platform:"web_pc"},extended:{device_id:void 0,ttwid:window.decodeURIComponent(null!=u?u:""),"Web-Sdk-Ms-Token":i},timeout:5e3,disableInitPull:!0,serialSendFileMessage:!0,autoFetchUploadConfig:!0,sortByLocalIndex:!0,enableServerUnreadCount:!0,isStrangerRevamp:!0,eventListener:e=>(0,n.__awaiter)(this,void 0,void 0,function*(){yield S.handleIMEvent(Object.assign(Object.assign({},e),{abTestVersion:f}))}),monitor:{emitMetrics(e,t={},i={}){if(!window.SlardarClient||"network.request"!==e||"1"!==i.inbox_type)return;const{imsdk_cmd:n,conversation_id:o,error_code:a,inbox_type:r,logid:s}=i;window.SlardarClient.sendEvent({name:"im_request",categories:{imsdk_cmd:n,conversation_id:o,error_code:a,inbox_type:r,logid:s},metrics:Object.assign({count:1},t)})}}};Object.assign(o,{debug:!1,service:5,withCredentials:!0}),C&&(o.webSocketLevel=3),yield w.initSdk(o,f),yield S.startConversationChange(),S.initWebDMLocalStorage(o.secUid)})})()},[m,null==y?void 0:y.name,null==d?void 0:d.secUid,null==d?void 0:d.uid,b,u,_,x,k,f,S,w,C,j,T])}const S=/^\(\d+\+?\)/;function C(){const e=(0,g.VB)(e=>e.messageCount,m.bN),t=(0,o.P)(u.kK,{dependencies:[],selector:e=>e.noticeCount.reduce((e,{count:t})=>e+t,0)}),i=(0,a.useMemo)(()=>e+t,[e,t]);(0,a.useEffect)(()=>{if(i>0){const e=(0,d.lH)(i);S.test(document.title)?document.title=document.title.replace(S,`(${e})`):document.title=`(${e})${document.title}`}else document.title=document.title.replace(S,"")},[i])}const j=({setCanUseBcVisible:e})=>{var t;const{pathname:i}=(0,y.zy)(),n=(0,y.W6)(),{language:r,abTestVersion:s}=(0,o.P)(c.L,{selector:({appContext:e})=>{const{language:t,abTestVersion:i}=null!=e?e:{};return{language:t,abTestVersion:i}},dependencies:[]}),{path:l,target:d}=(0,f._Y)(r),u=i.startsWith("/message"),[{businessPermission:p,businessAccountInfoResponse:v},w]=(0,_.hG)(e=>({businessPermission:e.businessPermission,businessAccountInfoResponse:e.businessAccountInfoResponse}),m.bN),S=(0,g.VB)(e=>e.messageCount,m.bN),C="v2"===(null!==(t=(0,h.qt)(s,"web_dm_icon_click_check"))&&void 0!==t?t:"v1");(0,a.useEffect)(()=>{w.getBusinessPermissionList()},[w]),(0,a.useEffect)(()=>{p.comment&&p.message&&w.getBusinessAccountInfoResponse()},[p,w]);const j=(0,a.useCallback)(t=>{var o;if(t.preventDefault(),p.message&&(null===(o=v.data)||void 0===o?void 0:o.can_use_bc))v.data.has_bc?(k.f.event("webtt_bc_dm_open"),(()=>{var t;const n=i===b.OZ.messages,o=null===(t=v.data)||void 0===t?void 0:t.redirect_url;o&&(n?location.href=o:window.open(o),e(!1))})()):e(!0);else if("_blank"===d)window.open(l,"_blank");else{if(C&&u)return;i.startsWith("/coin")?window.location.href=l:n.push(l)}x.w.handleEnterChatList(S)},[S,v,p,u,C,d]);return j}},862:(e,t,i)=>{"use strict";i.d(t,{P:()=>s});var n=i(40099),o=i(80179),a=i(9656),r=i(74908);function s(e){const{roomId:t,active:i}=e,s=(0,n.useRef)(""),[,l]=(0,o.useAtom)(a.J);return{handleMultiGuestPanelShow:(0,n.useCallback)(e=>{var n,o,a,d;if(i){const i=null!==(o=null===(n=e.app_data)||void 0===n?void 0:n.channel_id)&&void 0!==o?o:"",c=(0,r.Sl)(null!==(d=null===(a=e.app_data)||void 0===a?void 0:a.grids)&&void 0!==d?d:[]);t&&i&&s.current!==c&&(s.current=c,l({room_id:t}))}else s.current=""},[l,t,i])}}},1003:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var n=i(24643),o=i(67518),a=i(97517),r=i(40099),s=i(82436),l=i(27799),d=i(16410),c=i(93584);const u=(0,d.default)("div",{target:"e4cyjsy0"})(({theme:e,justifyContent:t})=>[(0,c.zy)({theme:e,fontFamily:"TikTokFont",color:"ConstTextInverse"}),{background:e.colors.BGInverse3,display:"flex",justifyContent:t,alignItems:"center"}],"label:DivScheduleItemWarn;");function p(e){const t=(0,a.unix)(e).format("YYYY-M-D-H:mm"),[i,o,r,s]=t.split("-");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:" "}),(0,n.jsx)("span",{children:i}),(0,n.jsx)("span",{children:"-"}),(0,n.jsx)("span",{children:o}),(0,n.jsx)("span",{children:"-"}),(0,n.jsx)("span",{children:r}),(0,n.jsx)("span",{children:" "}),(0,n.jsx)("span",{children:s})]})}const g=(0,r.memo)(function({height:e,fontSize:t,scheduledTime:i,iconSize:a,iconMargin:r,className:d,isTextAlignStart:c=!1}){const{direction:g}=(0,o.u)(),_=(0,l.s)();return(0,n.jsxs)(u,{justifyContent:c?"center":void 0,className:d,style:{fontSize:t,height:e,lineHeight:e},children:[(0,n.jsx)(s.A,{width:a,height:a,style:{["ltr"===g?"marginRight":"marginLeft"]:r}}),_("scheduled_for"),p(i)]})})},1009:(e,t,i)=>{"use strict";i.d(t,{$:()=>V,x:()=>W});var n=i(72516),o=i(24643),a=i(40099),r=i(34419),s=i(82729),l=i(78751),d=i(96309),c=i(60933),u=i(26930),p=i(80179),g=i(61198),_=i(40746),m=i(11675),h=i(69857),v=i(90976),f=i(2232),y=i(27799),b=i(28591);const x={m:{PACKAGE:"com.zhiliaoapp.musically",STORE_ID:"835599320",NAME:"musical.ly",FACEBOOK_ID:"597615686992125",CLIPS_CONTENT:"app-id=835599320, app-clip-bundle-id=com.zhiliaoapp.musically.Clip"},t:{PACKAGE:"com.ss.android.ugc.trill",STORE_ID:"1235601864",NAME:"TIKTOK",FACEBOOK_ID:"1862952583919182",CLIPS_CONTENT:"app-id=1235601864, app-clip-bundle-id=com.ss.iphone.ugc.Ame.Clip"},c:{PACKAGE:"com.ss.android.ugc.tiktok.lite",STORE_ID:"6447160980",NAME:"TikTok Lite",FACEBOOK_ID:"171444425350301",CLIPS_CONTENT:"app-id=6447160980, app-clip-bundle-id=com.ss.iphone.ugc.tiktok.lite.Clip"},pro:{PACKAGE:"com.ss.android.ugc.tiktok.pro",STORE_ID:"6741796873",NAME:"TikTok Pro",FACEBOOK_ID:"171444425350301",CLIPS_CONTENT:"app-id=6741796873, app-clip-bundle-id=com.ss.iphone.ugc.tiktok.pro.Clip"}},k={m:"snssdk1233://",t:"snssdk1180://",c:"snssdk473824://"},w={feed:"feed?",video:"aweme/detail/{{id}}?",story:"story/detail/{{id}}?",user:"user/profile/{{id}}?",challenge:"challenge/detail/{{id}}?",music:"music/detail/{{id}}?",sticker:"stickers/detail/{{id}}?",collection:"collection/detail?collection_id={{id}}&",playlist:"mix/detail?id={{id}}&",group:"messages/group?invite_id={{id}}&",search:"search?keyword={{id}}&"},S={video:"err_video",sticker:"err_sticker",user:"err_profile",challenge:"err_hashtag",music:"err_music"};var C=i(72355),j=i(35762),T=i(72180),I=i(94332),P=i(54133),A=i(78695),M=i(71111),L=i(64388);const D=(0,A._)((0,M.atom)({queryData:{},queryDataLoaded:!1}),{rehydrationKey:"sharing.global.query_data"}),O=(0,_.M)({csr:()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){const e=(0,T.YI)(I.gA.reflowGlobalQueryData);if(e)return e.queryData;const t=location.search,i=yield j.h.get("/node-webapp/api/query-token/",{query:(0,P.parse)(t),baseUrlType:2});return 0===i.statusCode?i.query:{}})}),{useServiceState:R,useServiceDispatchers:E,useAtomService:F,getStaticApi:B}=(0,L.i)(D,(e,t)=>({fetchGlobalQueryData(){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{const e=yield O();t(D,t=>Object.assign(Object.assign({},t),{queryDataLoaded:!0,queryData:e}))}catch(e){t(D,e=>Object.assign(Object.assign({},e),{queryDataLoaded:!0,queryData:{}}))}})}})),z=(0,a.memo)(({pageType:e,cover:t,title:i,description:n,token:a="",withTD:r=!1})=>{var s;const{language:l}=(0,h.L$)((0,v.W)(()=>["language","abTestVersion","wid"],[])),{metaInfos:d,schemeURL:c}=function(e,t){var i,n,o;const{appType:a}=(0,h.L$)((0,v.W)(()=>["appType"],[])),r=null!==(i=k[a])&&void 0!==i?i:k.m,s=null!==(n=w[e])&&void 0!==n?n:w.feed;return{metaInfos:null!==(o=x[a])&&void 0!==o?o:x.m,schemeURL:`${r}${s}ug_medium=card&refer=facebook`.replace("{{id}}",t)}}(e,a),{queryData:p}=function(){const[{queryData:e,queryDataLoaded:t},i]=F();return(0,u.o)(()=>t?Promise.resolve():i.fetchGlobalQueryData(),[i,t]),{queryData:e,queryDataLoaded:t}}(),{pathname:g}=(0,C.zy)(),_=(0,y.s)("MT_Reflow"),m=null!=i?i:_(null!==(s=S[e])&&void 0!==s?s:"TikTok"),f=null!=n?n:_("err_desc_body"),j=null!=t?t:"https://lf16-tiktok-common.ibytedtos.com/obj/tiktok-web-common-sg/mtact/static/images/tiktok-logo/poster-square.png",T=Object.entries(p).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join("&");return(0,o.jsxs)(b.mg,{htmlAttributes:{lang:l},children:[r&&(0,o.jsx)("title",{children:i}),r&&(0,o.jsx)("meta",{name:"description",content:n},"description"),(0,o.jsx)("meta",{property:"og:type",content:"website"}),(0,o.jsx)("meta",{property:"og:site_name",content:"TikTok"}),(0,o.jsx)("meta",{property:"og:url",content:`https://www.tiktok.com${g}?${T}`}),(0,o.jsx)("meta",{property:"og:image",content:j}),(0,o.jsx)("meta",{property:"og:title",content:m}),(0,o.jsx)("meta",{property:"og:description",content:f}),(0,o.jsx)("meta",{property:"al:ios:app_name",content:d.NAME}),(0,o.jsx)("meta",{property:"al:ios:app_store_id",content:d.STORE_ID}),(0,o.jsx)("meta",{property:"al:android:app_name",content:d.NAME}),(0,o.jsx)("meta",{property:"al:android:package",content:d.PACKAGE}),(0,o.jsx)("meta",{property:"fb:app_id",content:d.FACEBOOK_ID}),(0,o.jsx)("meta",{property:"al:ios:url",content:`${c}&${T}`}),(0,o.jsx)("meta",{property:"al:android:url",content:`${c}&${T}`})]})});var U=i(68252);const N=(0,_.M)({csr:()=>window.navigator.userAgent}),W=e=>{var t,i;const{disableAlternateLink:s,generateAlternateWithCanonical:c}=e,_=(0,m.wW)(),f=(0,y.s)(),{language:b,appType:x}=(0,h.L$)((0,v.W)(()=>["language","appType"],[])),k=(0,a.useRef)({}),w=(0,p.useSetAtom)(l.b),[S,C]=(0,d.sW)(({wordDetail:e,videoList:t})=>({wordDetail:e,videoList:t}),g.bN),j=S.wordDetail,T=S.videoList,I=null!==(i=null===(t=null==j?void 0:j.wordDetail)||void 0===t?void 0:t.uniqueWord)&&void 0!==i?i:"";return(0,u.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){return C.subscribe(["wordDetail","videoList"])}),[C]),(0,u.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e,t,i,n;const o={keyword:I,itemResponse:T,detailResponse:j};if(o.itemResponse){const a={language:b},l=Object.assign(Object.assign(Object.assign({},o),a),{seoProps:{pageId:"",pageType:133,abtest:_},t:f}),d=yield(0,U.G)(l,r.Hm),{metaParams:u={},jsonldList:p=[]}=d,{title:g,description:m}=u;w({metaParams:u,jsonldList:p,disableAlternateLink:s,generateAlternateWithCanonical:c});const[h="",v="",y=""]=null!==(n=null===(i=null===(t=null===(e=o.itemResponse)||void 0===e?void 0:e.videoList)||void 0===t?void 0:t[0])||void 0===i?void 0:i.video.shareCover)&&void 0!==n?n:[],x=N(),S=x.includes("WhatsApp")||x.includes("line-poker")?v:y,C=h||S;return k.current={title:g,description:m,cover:C},Promise.resolve()}}),[x,b,I,T]),(0,o.jsx)(z,{pageType:"user",cover:k.current.cover,title:k.current.title,description:k.current.description})},V=e=>{var t,i;const{disableAlternateLink:r,generateAlternateWithCanonical:_,isKEPInFindUI:b}=e,x=(0,m.wW)(),k=(0,y.s)(),{language:w,appType:S}=(0,h.L$)((0,v.W)(()=>["language","appType"],[])),C=(0,a.useRef)({}),j=(0,p.useSetAtom)(l.b),[T,I]=(0,d.sW)(({wordDetail:e,relatedKeywords:t,videoList:i})=>({wordDetail:e,relatedKeywords:t,videoList:i}),g.bN),P=T.wordDetail,A=T.relatedKeywords,M=T.videoList,L=null!==(i=null===(t=null==P?void 0:P.wordDetail)||void 0===t?void 0:t.uniqueWord)&&void 0!==i?i:"",D=(0,f.TQ)("kep_remove_meta_desc_keywords"),[O,R]=(0,c.tx)(e=>e.customTDK);return(0,u.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){return I.subscribe(["wordDetail","videoList","relatedKeywords"])}),[I]),(0,u.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e;if(!L)return Promise.resolve();if("v1"!==(null===(e=null==x?void 0:x.parameters.kep_aigc_tdk)||void 0===e?void 0:e.vid))return I.setData({customTDK:{}}),Promise.resolve();const t={pageId:L,pageType:7};return[R.fetchData(t).then(e=>{I.setData({customTDK:e})}),()=>{R.reset()}]}),[R,L,I]),(0,u.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e,t,i,n;const o={keyword:L,itemResponse:M,expansionResponse:A,detailResponse:P};if(o.itemResponse){const a={language:w},l=Object.assign(Object.assign(Object.assign({},o),a),{seoProps:{pageId:"",pageType:124,isKEPInFindUI:b,abtest:x,removeRelatedKeywordsInDesc:D,customTDK:O},t:k}),d=yield(0,U.G)(l,s.Dj),{metaParams:c={},jsonldList:u=[]}=d,{title:p,description:g}=c;j({metaParams:c,jsonldList:u,disableAlternateLink:r,generateAlternateWithCanonical:_});const[m="",h="",v=""]=null!==(n=null===(i=null===(t=null===(e=o.itemResponse)||void 0===e?void 0:e.videoList)||void 0===t?void 0:t[0])||void 0===i?void 0:i.video.shareCover)&&void 0!==n?n:[],f=N(),y=f.includes("WhatsApp")||f.includes("line-poker")?h:v,S=m||y;return C.current={title:p,description:g,cover:S},Promise.resolve()}}),[S,w,L,O,M]),(0,o.jsx)(z,{pageType:"user",cover:C.current.cover,title:C.current.title,description:C.current.description})}},1295:(e,t,i)=>{"use strict";i.d(t,{Y:()=>B});var n=i(24643),o=i(45027),a=i(54133),r=i(40099),s=i(72355),l=i(45924),d=i(48156),c=i(28343),u=i(70148),p=i(27799),g=i(91575),_=i(61363),m=i(21972);var h=i(90976),v=i(61322),f=i(14863),y=i(61907),b=i(16410),x=i(73107);const k=(0,b.default)("form",{target:"e1igqxe80"})({fontSize:"16px",lineHeight:"22px"},"label:Form;"),w=(0,b.default)("label",{target:"e1igqxe81"})({display:"block"},({theme:e})=>({fontWeight:e.fontWeights.semiBold}),"label:LabelContent;"),S=(0,b.default)("textarea",{target:"e1igqxe82"})({display:"block",resize:"none",outline:"none",boxSizing:"border-box",width:"100%",height:"148px",marginTop:"12px",padding:"16px 12px 0",borderRadius:"2px"},({theme:e})=>({color:e.isDark?e.colors.TextReverse:void 0,border:e.isDark?void 0:`1px solid ${e.colors.LineSecondary}`,backgroundColor:e.isDark?e.colors.BGInput:void 0}),({theme:e})=>({"::-webkit-input-placeholder":{color:e.colors.TextQuaternary}}),"label:TextareaContent;"),C=(0,b.default)("label",{target:"e1igqxe83"})({display:"block",margin:"16px 0 12px"},({theme:e})=>({fontWeight:e.fontWeights.semiBold}),"label:LabelUpload;"),j=(0,b.default)("div",{target:"e1igqxe84"})({width:"100%",display:"flex",flexWrap:"wrap",marginBottom:"-12px","> div":{height:"60px",width:"60px",margin:"0 12px 12px 0"},img:{width:"60px",height:"60px",aspectRatio:"auto 60 / 60"}},"label:DivUploadContainer;"),T=(0,b.default)(x.y,{target:"e1igqxe85"})({position:"relative",marginTop:"24px",width:"208px"},"label:StyledSubmit;");var I=i(76926);const P={id:"image-ca076a88",use:"image-ca076a88-usage",viewBox:"0 0 25 21",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 21" id="image-ca076a88"><path fill-rule="evenodd" d="M.063 1.5C.063.706.706.063 1.5.063h22c.794 0 1.438.643 1.438 1.437v17.75c0 .794-.644 1.438-1.438 1.438h-22A1.44 1.44 0 0 1 .063 19.25zm23 10.026V1.938H1.938v16.875h1.284L17.019 7.565a.94.94 0 0 1 1.185 0zM6.189 18.813 17.611 9.5l5.451 4.444v4.868zm1.922-9.646a2 2 0 1 0 0-4 2 2 0 0 0 0 4" clip-rule="evenodd" /></symbol>'};function A(e){const t=(0,r.useContext)(I.X);return(0,r.useLayoutEffect)(()=>(t.add(P),()=>{t.remove("image-ca076a88")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#image-ca076a88"},void 0)}),void 0)}const M=(0,b.default)("div",{target:"evo8op20"})({display:"inline-block",textAlign:"center",width:"60px",height:"60px",paddingTop:"11px",borderRadius:"2px",cursor:"pointer"},({theme:e})=>({backgroundColor:e.colors.BGInput}),"label:DivUploadFile;"),L=(0,b.default)(A,{target:"evo8op21"})({display:"block",margin:"auto",width:"25px",height:"21px"},({theme:e})=>({fill:e.colors.TextQuaternary}),"label:StyledImageIcon;"),D=(0,b.default)("label",{target:"evo8op22"})({fontSize:"12px",lineHeight:"15px",marginTop:"8px",cursor:"pointer",pointerEvents:"none"},({theme:e})=>({color:e.colors.TextTertiary}),"label:Label;"),O=g.b$.join(","),R={display:"none"};function E(e){e.stopPropagation()}const F=e=>{const{id:t,onUpload:i,count:o,max:a,multiple:s}=e,l=(0,r.useRef)(null),d=(0,r.useRef)(0),c=(0,r.useMemo)(()=>a-o,[a,o]),u=(0,r.useCallback)(e=>{const{target:t}=e,n=t.files;if(!(null==n?void 0:n.length))return;const o=new Map,a=c<n.length?c:n.length;for(let e=0;e<a;e++){const t=n.item(e);(null==t?void 0:t.type.match("image"))&&o.set(d.current++,{file:t})}t.value="",null==i||i(o)},[c,i]),p=(0,r.useCallback)(()=>{var e;null===(e=l.current)||void 0===e||e.click()},[]);return a?(0,n.jsxs)(M,{onClick:p,children:[(0,n.jsx)(L,{}),(0,n.jsxs)(D,{children:[o,"/",a]}),(0,n.jsx)("input",{id:t,type:"file",ref:l,multiple:s,accept:O,onChange:u,style:R,onClick:E})]}):null},B=e=>{var t,i;const{formRef:b,onSuccess:x,className:I}=e,{region:P="",language:A="en",user:M}=null!==(t=(0,h.W)(()=>["region","language","user"],[]))&&void 0!==t?t:{},{isMobile:L=!1}=null!==(i=(0,v.U)(()=>["isMobile"],[]))&&void 0!==i?i:{},D=(0,p.s)(),[O,R]=(0,o.S)(c.i,{selector:e=>e.form,dependencies:[]}),{submitting:E,success:B,uploadError:z,error:U}=O,[N,W]=(0,r.useState)(""),[V,H]=(0,r.useState)(new Map),[q,$]=(0,r.useState)(),G=function(...e){return r.useMemo(()=>e.every(e=>null==e)?null:t=>{e.forEach(e=>{e&&function(e,t){if(null!=e)if("function"!=typeof e)try{e.current=t}catch(i){throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}else e(t)}(e,t)})},e)}(b,(0,r.useRef)(null)),{search:K}=(0,s.zy)(),{isTtincar:Y}=(0,u.Qt)(),{id:Z="",entrance:J=""}=(0,r.useMemo)(()=>(0,a.parse)(K),[K]),X=(0,r.useMemo)(()=>N.trim().length>=g.w0,[N]),Q=(0,r.useMemo)(()=>Array.from(V.values()).map(({file:e})=>e),[V]),ee=(0,r.useCallback)(()=>{W(""),H(new Map)},[]),te=(0,r.useCallback)(e=>{const{value:t}=e.target;W(t)},[]),ie=(0,r.useCallback)(e=>{H(t=>new Map([...t,...e]))},[]),ne=(0,r.useCallback)(e=>{H(t=>{const i=new Map(t);return i.delete(e),i})},[]),oe=(0,r.useCallback)(e=>{$(e)},[]),ae=(0,r.useCallback)(()=>{$(void 0)},[]),re=(0,r.useCallback)(e=>{e.preventDefault(),E||(l.S.handleSubmitFeedback(),R.submitFeedback({content:N,files:Array.from(V.values()),feedbackId:(0,m.xs)(Z),isMobile:L,language:A,region:P,entrance:J}))},[N,V,Z,E,R,P,A]),se=(0,r.useCallback)((e,t)=>{const{height:i,width:n}=null!=t?t:{};H(t=>{const o=new Map(t);for(const[t,{file:a}]of o.entries())if(e===a){o.set(t,{file:a,height:i,width:n});break}return o})},[]);return(0,r.useEffect)(()=>{z&&(d.F.open({content:D("Couldn't upload image. Please try again"),duration:3,style:L?void 0:{width:"50vw"}}),R.setFormState({uploadError:!1}))},[z,L,R,D]),(0,r.useEffect)(()=>{B&&(R.setFormState({success:!1}),R.getReportRecords({maxId:0,language:A,user:M,region:P}),ee(),null==x||x())},[B,R,x,ee,A,M,P]),(0,r.useEffect)(()=>{U&&(d.F.open({content:D("Network error. Please try again."),duration:3,style:L?void 0:{width:"50vw"}}),R.setFormState({error:!1}))},[U,R,L,D]),(0,n.jsxs)(k,{ref:G,className:I,onSubmit:re,children:[(0,n.jsx)(w,{htmlFor:"content",children:D(_.j.TELL_US_YOUR_FEEDBACK.key)}),(0,n.jsx)(S,{id:"content",value:N,placeholder:D(_.j.PLEASE_PROVIDE_AS_MUCH_DETAIL_AS_POSSIBLE.key),onChange:te}),Y||(0,m.I$)(P)?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(C,{htmlFor:"files",children:D(_.j.FEEDBACK_PC_UPLOAD.key)}),(0,n.jsxs)(j,{children:[Array.from(V.entries()).map(([e,{file:t}])=>(0,n.jsx)(f.d,{file:t,onRemove:ne.bind(null,e),onPreview:oe.bind(null,t),onLoad:se},e)),(0,n.jsx)(F,{id:"files",count:V.size,max:g.jf,multiple:!0,onUpload:ie})]})]}),(0,n.jsx)(T,{buttonTheme:"primary",type:"submit",loading:E,size:"medium",disabled:!X,children:D(_.j.SUBMIT.key)}),q&&(0,n.jsx)(y.f,{visible:Boolean(q),onClose:ae,files:Q,defaultFile:q})]})}},1452:(e,t,i)=>{"use strict";e.exports=i.p+"c287bca871661e22ee8a.png"},1491:(e,t,i)=>{"use strict";i.d(t,{$2:()=>p,CY:()=>u,F3:()=>b,II:()=>E,Ii:()=>M,Jr:()=>y,Mu:()=>f,O8:()=>c,QN:()=>x,RK:()=>D,Rq:()=>I,TP:()=>R,_P:()=>d,cR:()=>g,d4:()=>k,es:()=>S,fJ:()=>C,iH:()=>_,jc:()=>O,kn:()=>j,lG:()=>w,oK:()=>T,rh:()=>m,sh:()=>A,xS:()=>P,zm:()=>L});var n=i(16410),o=i(97118),a=i(19434),r=i(93584),s=i(79415),l=i(7125);const d=(0,n.default)("div",{target:"e11s2kul0"})(({theme:{colors:e}})=>({position:"fixed",left:0,top:0,right:0,bottom:0,background:e.BGPrimary,zIndex:3e3,display:"flex",flexDirection:"row"}),"label:DivBrowserModeContainer;"),c={left:"-80px",right:"-80px",width:"auto"},u={maxWidth:"419px"},p={maxWidth:"419px"},g=(0,n.default)(l.x,{target:"e11s2kul2"})(({withBlurBG:e=!1,withLinearGradientBG:t=!1})=>({position:"absolute",width:"10%",height:"10%",filter:e?"blur(2px)":"none",left:"50%",top:"50%",transform:"scale(11)",opacity:t?"0":"0.3"}),"label:StyledVideoBlurBackground;"),_=(0,n.default)("div",{target:"e11s2kul3"})({position:"absolute",left:0,width:"100%",height:"100%",cursor:"pointer",":hover":{[`${s.ht}`]:{opacity:1}},":focus-within":{[`${s.ht}`]:{opacity:1}}},"label:DivVideoWrapper;"),m=(0,n.default)(a.A,{target:"e11s2kul4"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:StyledPlayIcon;");m.defaultProps=Object.assign(Object.assign({},m.defaultProps),{"data-e2e":"browse-video-play"});const h="1px solid blue",v=(0,n.default)("button",{target:"e11s2kul5"})(({theme:{colors:e}})=>({position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",background:e.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0,"&:focus-visible":{outline:`2px solid ${e.Negative}`}}),({theme:e})=>(0,r.oO)({theme:e,isUiOptimise:!0}),"label:ButtonBasicButtonContainer;"),f=(0,n.default)(v,{target:"e11s2kul6"})(({needOffset:e=!1})=>({width:"40px",height:"40px",top:"20px",transition:"opacity .3s",zIndex:100,backgroundColor:"",transform:`translateY(${e?16:0}px)`,":hover":{opacity:.7},":active":{opacity:.5}}),({theme:{direction:e}})=>(0,r.mp)({direction:e,start:"20px"}),({isClearModeAB:e=!1})=>e&&{opacity:.4,transition:"opacity 400ms cubic-bezier(0.25, 0, 0.25, 1)"},"label:StyledCloseIconContainer;");f.defaultProps=Object.assign(Object.assign({},f.defaultProps),{"data-e2e":"browse-close"});const y=(0,n.default)(v,{target:"e11s2kul7"})(({theme:e,needOffset:t=!1})=>({top:"20px",zIndex:100,backgroundColor:e.colors.ConstBGInverse4,height:"40px",padding:"0 10px",minWidth:"40px",borderRadius:"80px",transform:`translateY(${t?16:0}px)`,":hover":{opacity:.7},":active":{opacity:.5}}),({theme:{direction:e}})=>(0,r.mp)({direction:e,start:"20px"}),"label:StyledExitCreatorModeIconContainer;"),b=(0,n.default)("div",{target:"e11s2kul8"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:DivExitCreatorModeTextContainer;"),x=(0,n.default)("div",{target:"e11s2kul9"})(({theme:e})=>[(0,r.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont",fontSize:16}),{color:"#fff",height:"24px",textAlign:"center",fontSize:"16px",display:"flex",alignItems:"center",lineHeight:"24px"},(0,r.mp)({direction:e.direction,paddingStart:"5px"})],"label:DivExitCreatorModeText;"),k=(0,n.default)(v,{target:"e11s2kul10"})(({isPrev:e,theme:{colors:t},isUiOptimise:i})=>({width:"40px",height:"40px",transform:e?"rotate(-90deg)":"rotate(90deg)",top:e?"calc(50% - 48px)":"calc(50% + 8px)",marginTop:"-24px",":disabled":{display:"none"},background:i?"":t.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}}),({theme:{direction:e}})=>(0,r.mp)({direction:e,end:"20px"}),({isClearModeAB:e=!1})=>e&&{opacity:.4,transition:"opacity 400ms cubic-bezier(0.25, 0, 0.25, 1)"},"label:StyledVideoSwitch;"),w=(0,n.default)("div",{target:"e11s2kul13"})(({theme:e})=>[(0,r.zy)({theme:e,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{padding:"10px 16px",backgroundColor:e.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:e.colors.ConstTextInverse,WebkitAppRegion:"no-drag",":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:h}},(0,r.oO)({theme:e,isUiOptimise:!0}),(0,r.mp)({direction:e.direction,end:"20px"})],"label:DivReportText;");w.defaultProps=Object.assign(Object.assign({},w.defaultProps),{"data-e2e":"browse-report"});const S=(0,n.default)("div",{target:"e11s2kul14"})(({theme:e,isClearModeAB:t=!1})=>[(0,r.zy)({theme:e,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse4",fontFamily:"TikTokDisplayFont"}),{width:"40px",height:"40px",backgroundColor:e.colors.ConstBGContainer,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100px",position:"absolute",top:"20px",cursor:"pointer",zIndex:100,color:e.colors.ConstTextInverse,WebkitAppRegion:"no-drag","&:focus-visible":{outline:h}},t&&{opacity:0,transition:"opacity 400ms cubic-bezier(0.25, 0, 0.25, 1)"},(0,r.oO)({theme:e,isUiOptimise:!0}),(0,r.mp)({direction:e.direction,end:"20px"})],"label:DivIconWrapper;");S.defaultProps=Object.assign(Object.assign({},S.defaultProps),{"data-e2e":"browse-ellipsis"});const C=(0,n.default)(o.A,{target:"e11s2kul15"})(({theme:{direction:e}})=>(0,r.mp)({direction:e,marginEnd:"5px"}),{verticalAlign:"middle"},"label:StyledIconFlag;"),j=(0,n.default)("button",{target:"e11s2kul16"})(r.WA,({theme:e})=>({display:"flex",transition:"opacity 0.3s",cursor:"pointer",fontsize:0,lineHeight:0,borderRadius:"100px",backgroundColor:e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5},"&:focus-visible":{outline:h}}),({theme:e})=>(0,r.oO)({theme:e,isUiOptimise:!0}),"label:ButtonVoiceControlNew;");j.defaultProps=Object.assign(Object.assign({},j.defaultProps),{"data-e2e":"browse-sound"});const T=(0,n.default)("div",{target:"e11s2kul17"})(({widerBottom:e=!1})=>({position:"absolute",zIndex:1,bottom:e?"60px":"20px"}),({theme:{direction:e}})=>(0,r.mp)({direction:e,end:"20px"}),({isClearModeAB:e=!1})=>e&&{opacity:0,transition:"opacity 400ms cubic-bezier(0.25, 0, 0.25, 1)"},"label:DivVoiceControlContainer;"),I=(0,n.default)("div",{target:"e11s2kul18"})(({widerBottom:e=!1})=>({position:"absolute",bottom:e?"60px":"20px"}),({theme:{direction:e},showMiniPlayer:t})=>(0,r.mp)({direction:e,end:t?"116px":"68px"}),"label:DivCaptionContainer;"),P=(0,n.default)("div",{target:"e11s2kul19"})(({widerBottom:e=!1})=>({position:"absolute",bottom:e?"60px":"20px"}),({theme:{direction:e}})=>(0,r.mp)({direction:e,end:"68px"}),({isClearModeAB:e=!1})=>e&&{opacity:0,transition:"opacity 400ms cubic-bezier(0.25, 0, 0.25, 1)"},"label:DivMiniPlayerContainer;"),A=(0,n.default)("div",{target:"e11s2kul20"})(({useNarrowSearchBar:e=!1,isClearModeAB:t=!1})=>[{position:"absolute",zIndex:1,width:"100%",display:"flex",justifyContent:"center",left:0,right:0,margin:"auto",alignItems:"center",height:"85px",WebkitAppRegion:"no-drag","@media(max-width: 1600px)":{width:e?"50%":"100%"},"@media(max-width: 1300px)":{display:e?"none":"flex"}},t&&{opacity:0,transition:"opacity 400ms cubic-bezier(0.25, 0, 0.25, 1)"},{":focus-within":{opacity:1}}],"label:DivSearchBarContainer;"),M=(0,n.default)("div",{target:"e11s2kul21"})(({theme:{colors:e},withLinearGradientBlueBG:t=!1,withLinearGradientBlackBG:i=!1,isFullUIVisible:n=!1})=>[{flex:"1 0 600px",maxWidth:"100%",background:i?"linear-gradient(180deg, #2b2b2b 0%, #000000 40%)":t?"linear-gradient(180deg, #101820 0%, #1c2b35 100%)":e.ConstBGInverse,position:"relative",overflow:"hidden",padding:"0 80px",":hover":{[`${A}, ${S}, ${P}, ${T}, ${f}, ${k}`]:{opacity:1}}},n&&{[`${A}, ${S}, ${P}, ${T}, ${f}, ${k}, ${s.ht}`]:{opacity:1}}],"label:DivVideoContainer;"),L=(0,n.default)("div",{target:"e11s2kul22"})({position:"absolute",bottom:0,left:0,right:0},"label:DivWarnInfoPosition;"),D=(0,n.default)("div",{target:"e11s2kul23"})(({display:e})=>({display:e||"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:"84px",left:"50%",transform:"translateX(-50%)",textDecoration:"none"}),"label:FooterBtnWrapper;"),O=(0,n.default)("a",{target:"e11s2kul24"})(({theme:{colors:e,direction:t}})=>[{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:500,fontSize:"18px",padding:"11.5px 24px",borderRadius:"52px",color:e.ConstTextInverse,background:e.ToastDefault,cursor:"pointer",textDecoration:"none",":hover":{opacity:.7,color:e.ConstTextInverse,textDecoration:"none"},":active":{opacity:.5,color:e.ConstTextInverse,textDecoration:"none"},":visited":{opacity:1,color:e.ConstTextInverse,textDecoration:"none"}},(0,r.mp)({direction:t,marginEnd:"8px"})],"label:AAnalyticsWrapper;"),R=(0,n.default)("div",{target:"e11s2kul25"})(({useNarrowSearchBar:e=!1})=>({position:"absolute",height:"85px",width:"100%",background:"linear-gradient(180deg, rgba(0, 0, 0, 0.3) 0, rgba(0, 0, 0, 0) 100%)","@media(max-width: 1600px)":{width:e?"200%":"100%"}}),"label:DivSearchBarBackground;"),E=(0,n.default)("div",{target:"e11s2kul26"})({position:"absolute",insetInlineStart:"10px",bottom:"10px",zIndex:"1"},"label:DivVideoClosedCaptionContainer;")},1908:(e,t,i)=>{"use strict";i.d(t,{j:()=>g});var n=i(24643),o=i(40099),a=i(98679),r=i(3178),s=i(9850),l=i(32627),d=i(95399),c=i(70338),u=i(16410);(0,u.default)(r.E)`
  border-radius: 50%;
  overflow: hidden;
`,(0,u.default)(a.p)`
  border-radius: 50%;
  overflow: hidden;
`;const p=u.default.span`
  display: inline-flex;
  align-items: center;
  border-radius: 50%;
  overflow: hidden;
`,g=(0,o.memo)(function(e){const{isColor:t,isStrong:i,showTick:o,size:u}=e;return t?o?(0,n.jsx)(p,{children:(0,n.jsx)(a.p,{size:u})}):(0,n.jsx)(p,{children:(0,n.jsx)(r.E,{size:u})}):i?o?(0,n.jsx)(s.S,{size:u}):(0,n.jsx)(l.r,{size:u}):o?(0,n.jsx)(d.n,{size:u}):(0,n.jsx)(c.I,{size:u})})},2030:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(24643),o=i(40099),a=i(76926);const r={id:"transcript-b98b6279",use:"transcript-b98b6279-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="transcript-b98b6279"><path fill="currentColor" fill-rule="evenodd" d="M3 4a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm16 0H5v16h14z" clip-rule="evenodd" /><path fill="currentColor" fill-rule="evenodd" d="M8 7.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm0 4a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5zm.5 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5z" clip-rule="evenodd" /></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("transcript-b98b6279")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#transcript-b98b6279"},void 0)}),void 0)}},2049:(e,t,i)=>{"use strict";i.d(t,{k:()=>v});var n=i(24643),o=i(67518),a=i(28333),r=i(40099),s=i(61651),l=i(20434),d=i(27799),c=i(57615),u=i(6473),p=i(42186),g=i(97260),_=i(34778),m=i(61198);const h=(0,g.w)(s.X),v=(0,r.memo)(function(e){const{useLargeToggle:t=!1,tooltipOffset:i=-11,hideTooltip:s,iconSize:g,item:v,playMode:f}=e,{colors:y}=(0,o.u)(),b=(0,d.s)(),x=(0,u.K)(),k=(0,_.JD)(e=>e.showingBrowserMode,m.bN),w=(0,p.Z9)(e=>e.isOpen,m.bN),S=(0,r.useMemo)(()=>({background:t?y.ConstBGInverse3:y.ConstBGInverse1,paddingInlineStart:"12px",paddingInlineEnd:"12px",fontWeight:500,fontSize:"14px",lineHeight:"18px",display:s?"none":""}),[t,y.ConstBGInverse3,y.ConstBGInverse1,s]),C=(0,r.useMemo)(()=>({author_id:null==v?void 0:v.authorId,group_id:null==v?void 0:v.id,play_mode:f}),[v,f]),j=(0,r.useCallback)(()=>{x.setIsCaptionModalOn(!0)},[x]);return(0,n.jsx)(a.m,{fullscreenAdjust:!0,overlay:b("claSeeTranslation_fyp_longPressPanel_captionsLabelV2"),overlayInnerStyle:S,arrow:!1,align:{offset:[0,i]},children:(0,n.jsx)(h,{onClick:j,onMouseDown:l.dG,useLargeToggle:t,etImpression:{etName:"show_captions_button",etParams:C,unobserveAfterIntersect:!0,skip:"one_column"===f&&(k||w)},etClick:{etName:"click_captions_button",etParams:C},children:(0,n.jsx)(c.qY7,{style:{fill:"rgba(255, 255, 255, 1)",width:null!=g?g:t?20:21,height:null!=g?g:t?20:21}})})})})},2178:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(24643),o=i(40099),a=i(76926);const r={id:"pc-share-078b3fae",use:"pc-share-078b3fae-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="pc-share-078b3fae"><path fill="currentColor" fill-rule="evenodd" d="M10.938 3.175a.674.674 0 0 1 1.138-.488l6.526 6.215c.574.547.554 1.47-.043 1.991l-6.505 5.676a.674.674 0 0 1-1.116-.508V13.49s-6.985-1.258-9.225 2.854c-.209.384-1.023.518-.857-1.395.692-3.52 2.106-9.017 10.082-9.017z" clip-rule="evenodd" /><path fill="#161823" fill-rule="evenodd" d="m15.754 6.212 1.295 2.59a1.12 1.12 0 0 1-.268 1.349l-5.799 5.042s-.28 1.403.562 1.403 7.578-6.174 7.578-6.174.28-.842-.561-1.684c-.843-.842-2.807-2.526-2.807-2.526" clip-rule="evenodd" opacity=".03" /><path fill="url(#pc-share-078b3fae_a)" fill-rule="evenodd" d="M10.937 6.23v7.297s-6.683-.942-8.777 2.246C.146 18.839.331 12.309 3.363 9.057s7.574-2.827 7.574-2.827" clip-rule="evenodd" opacity=".09" /><defs><radialGradient id="pc-share-078b3fae_a" cx="0" cy="0" r="1" gradientTransform="rotate(-113.046 11.628 5.43)scale(8.93256 8.78076)" gradientUnits="userSpaceOnUse"><stop /><stop offset=".995" stop-opacity=".01" /><stop offset="1" stop-opacity=".01" /></radialGradient></defs></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("pc-share-078b3fae")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#pc-share-078b3fae"},void 0)}),void 0)}},2460:(e,t,i)=>{"use strict";i.d(t,{Ee:()=>r,L2:()=>n,VC:()=>o});var n,o,a=i(73041);function r(){return{deviceLevel:function(){if((0,a.fU)())return n.UNKNOWN;const e=navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,t=navigator.deviceMemory?navigator.deviceMemory:4;return e>=8&&t>=8?n.High:e>=4&&t>=4?n.Medium:n.Low}(),networkLevel:function(){if((0,a.fU)())return o.UNKNOWN;const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection,t=null==e?void 0:e.effectiveType,i=null==e?void 0:e.downlink;if(t)switch(t){case"slow-2g":case"2g":return o.Low;case"3g":default:return o.Medium;case"4g":case"5g":return o.High}return i?i<1?o.Low:i>=1&&i<=5?o.Medium:o.High:o.Medium}()}}!function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High",e[e.UNKNOWN=3]="UNKNOWN"}(n||(n={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High",e[e.UNKNOWN=3]="UNKNOWN"}(o||(o={}))},3045:(e,t,i)=>{"use strict";i.d(t,{j:()=>u});var n=i(40099),o=i(24643),a=i(23973),r=i(92467),s=i(27799),l=i(55911);const d={activeIcon:(0,o.jsx)(a.A,{width:"1em",height:"1em"}),inActiveIcon:(0,o.jsx)(r.A,{width:"1em",height:"1em"}),activeTip:"Webapp_tooltips_Pause",inActiveTip:"Webapp_tooltips_play"};function c(e){const t=(0,s.s)(),{onPlaying:i,activeIcon:n=d.activeIcon,inActiveIcon:a=d.inActiveIcon,activeTip:r=t(d.activeTip),inActiveTip:c=t(d.inActiveTip),hideTips:u,isBrowserMode:p,playing:g}=e,_={activeIcon:n,inActiveIcon:a,activeTip:r,inActiveTip:c};return(0,o.jsx)(l.iy,Object.assign({isBrowserMode:p,hideTips:u,dataE2E:"play-icon",isActive:g,onClick:i},_))}function u(e){const{defaultPlaying:t,onPlay:i,onPause:o}=null!=e?e:{},[a,r]=(0,n.useState)(null!=t&&t),s=(0,n.useCallback)(()=>{a?null==o||o():null==i||i(),r(!a)},[o,i,a]);(0,n.useEffect)(()=>{void 0!==t&&r(t)},[t]);const l=(0,n.useMemo)(()=>({playing:a,onPlaying:s}),[a,s]);return{playing:a,PlayIcon:c,playIconProps:l}}},3211:(e,t,i)=>{"use strict";i.d(t,{Ei:()=>d,N:()=>c,U6:()=>n,Ud:()=>r,We:()=>s,Zn:()=>o,a0:()=>l,u4:()=>a});const n="TT2DSP_AUTH_SPOTIFY_CODE",o="TT2DSP_AUTH_SPOTIFY_ACCESS_CODE",a="TT2DSP_AUTH_SPOTIFY_ACCESS_CODE_EXPIRE_TIMESTAMP",r="TT2DSP_AUTH_SPOTIFY_STATE",s="https://accounts.spotify.com/authorize",l="949ee5eac701483299bde049ac493baf",d="https://www.tiktok.com/oauthSpotify",c="user-library-modify"},3850:(e,t,i)=>{"use strict";i.d(t,{oL:()=>j});var n=i(24643),o=i(40099),a=i(72355),r=i(27799),s=i(96406),l=i(87310),d=i(37818),c=i(67476),u=i(10399),p=i(71628),g=i(16410);const _=g.default.div`
  padding: 1.5rem; /* 24px */
  display: flex;
  justify-content: space-between;
  gap: 0.75rem; /* 12px */
`,m=g.default.div`
  flex-shrink: 0;
  width: 2rem; /* 32px */
  height: 2rem; /* 32px */
  cursor: pointer;

  & > svg {
    width: 100%;
    height: 100%;
  }
`,h=g.default.div`
  display: flex;
  flex-direction: column;
  gap: 0.25rem; /* 4px */
  font-size: 24px !important;
  line-height: 1.2 !important;
  font-weight: 500 !important;
  font-family: TikTokDisplayFont !important;
`,v=(0,g.default)("div",{target:"eb49iru0"})(({theme:{colors:e}})=>({color:e.UIText1}),"label:Title;"),f=g.default.div`
  color: rgba(22, 24, 35, 0.75);
  font-size: 16px;
  line-height: 1.5;
  font-weight: normal;
  font-family: TikTokFont;
`,y=g.default.div`
  display: flex;
  justify-content: space-between;
  padding: 1.5rem;
`,b=g.default.div`
  display: flex;
  align-items: center;
  gap: 1rem; /* 16px */
`;function x(e){const{visible:t,title:i,subTitle:a,returnable:r,onReturn:s,closable:l=!0,onClose:d,children:g,footer:x,renderLeftFooter:k,renderRightFooter:w,okText:S,onCancel:C,onOk:j,cancelText:T,okButtonProps:I={},cancelButtonProps:P={}}=e,{isOpen:A,transitionStatus:M,open:L,close:D}=(0,c.eb)({onClose:d});return(0,o.useEffect)(()=>{t?L():D()},[t]),(0,n.jsxs)(c.nO,{isOpen:A,transitionStatus:M,open:L,close:D,width:"Medium",height:"Compact",children:[(0,n.jsxs)(_,{children:[r&&(0,n.jsx)(m,{onClick:s,children:(0,n.jsx)(u.A,{})}),(0,n.jsxs)(h,{children:[(0,n.jsx)(v,{children:i}),!!a&&(0,n.jsx)(f,{children:a})]}),l&&(0,n.jsx)(m,{onClick:()=>D(),children:(0,n.jsx)(p.A,{})})]}),(0,n.jsx)(c.Qx,{color:"LineSecondary"}),g,x||(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Qx,{color:"LineSecondary"}),(0,n.jsxs)(y,{children:[(0,n.jsx)("div",{children:k}),(0,n.jsx)(b,{children:w||(0,n.jsxs)(n.Fragment,{children:[T&&(0,n.jsx)(c.I0,Object.assign({size:"medium",label:T,onClick:C},P)),S&&(0,n.jsx)(c.I0,Object.assign({size:"medium",label:S,onClick:j},I))]})})]})]})]})}var k=i(77509),w=i(67316),S=i(21197),C=i(61198);const j=function({canUseBcVisible:e,setCanUseBcVisible:t}){const{pathname:i}=(0,a.zy)(),u=(0,r.s)(),p=(0,S.VR)(e=>e.businessAccountInfoResponse,C.bN),g=(0,o.useMemo)(()=>[{icon:k.A,title:u("wbs_goto_bc_modal_feature3_title"),description:u("wbs_goto_bc_modal_feature3_content")},{icon:w.A,title:u("wbs_goto_bc_modal_feature1_title"),description:u("wbs_goto_bc_modal_feature1_content")}],[u]);return(0,o.useEffect)(()=>{s.f.event("webtt_bc_dm_on_popup_window_show")},[]),(0,n.jsx)(x,{visible:e,onClose:()=>t(!1),title:u("wbs_goto_bc_modal_title"),renderRightFooter:(0,n.jsx)(c.I0,{variant:"primary",size:"medium",label:u("wbs_goto_bc_modal_btn"),onClick:()=>{(()=>{var e;const n=i===d.OZ.messages,o=null===(e=p.data)||void 0===e?void 0:e.redirect_url;o&&(n?location.href=o:window.open(o),t(!1))})(),s.f.event("webtt_bc_dm_go_to_biz_center")}}),children:(0,n.jsx)(l.$m,{children:g.map((e,t)=>(0,n.jsxs)(l.iS,{children:[(0,n.jsx)("div",{children:(0,o.createElement)(e.icon,{fontSize:24})}),(0,n.jsxs)(l.bP,{children:[(0,n.jsx)(l.Gq,{children:u(e.title)}),(0,n.jsx)(l.k5,{children:u(e.description)})]})]},t))})})}},3912:(e,t,i)=>{"use strict";i.d(t,{Y:()=>w,A:()=>S});var n=i(24643),o=i(40099);const a=i.p+"863338800afbd636244a.png";var r=i(28708),s=i(29450),l=i(78454),d=i(16410),c=i(93584);const u=(0,d.default)("div",{target:"egjh0py0"})({display:"flex",padding:"10px 0"},"label:DivItemContainer;"),p=(0,d.default)("div",{target:"egjh0py1"})(({theme:{direction:e,colors:t}})=>[{height:"48px",width:"48px",borderRadius:"50%",border:`1px solid ${t.LinePrimary}`,backgroundColor:t.BGTertiary,display:"flex",alignItems:"center",justifyContent:"center","> svg > path":{fill:t.TextPrimary}},(0,c.mp)({direction:e,marginEnd:"12px"})],"label:DivLogoContainer;"),g=(0,d.default)("img",{target:"egjh0py2"})(({theme:{direction:e}})=>[{height:"48px",width:"48px",borderRadius:"50%"},(0,c.mp)({direction:e,marginEnd:"12px"})],"label:ImgLeftIcon;"),_=(0,d.default)("img",{target:"egjh0py3"})(({theme:{colors:e}})=>({objectFit:"cover",backgroundColor:e.TextTertiary}),"label:ImgCover;"),m=(0,d.default)("div",{target:"egjh0py4"})({flex:1,display:"flex",justifyContent:"space-between"},"label:DivRightContent;"),h=(0,d.default)("div",{target:"egjh0py5"})(({theme:{colors:e,direction:t}})=>[{flex:1,color:e.TextPrimary},(0,c.mp)({direction:t,marginEnd:"12px"})],"label:DivDialogContent;"),v=(0,d.default)("span",{target:"egjh0py6"})(({theme:e})=>[(0,c.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P3"}),{lineHeight:"17px"}],"label:SpanTitle;"),f=(0,d.default)("div",{target:"egjh0py7"})(({theme:e})=>[(0,c.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P3"}),{lineHeight:"17px"}],"label:DivContent;"),y=(0,d.default)("span",{target:"egjh0py8"})(({theme:e})=>[(0,c.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P3",color:"TextQuaternary"}),{lineHeight:"17px"}],"label:SpanTime;"),b=(0,d.default)("div",{target:"egjh0py9"})({width:"42px",height:"56px",borderRadius:"2px",overflow:"hidden",position:"relative"},"label:DivImgWrapper;"),x=(0,d.default)("div",{target:"egjh0py10"})(({theme:{direction:e}})=>[{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",height:"100%",top:0,backgroundColor:"rgba(0, 0, 0, .5)"},(0,c.mp)({direction:e,start:0})],"label:DivViolationMask;");var k=i(27799);const w={DSA_LEARN_MORE:"dsa_learn_more",DSA_LEARN_MORE_ID:"report_detail_dsa_learn_more"},S=({item:e,isV2:t})=>{const[i,d]=(0,o.useState)(!1),[c,S]=(0,o.useState)(!1),C=(0,k.s)(),j=(0,o.useCallback)(()=>{d(!0)},[]),T=(0,o.useCallback)(()=>{S(!0)},[]),I=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.id)===w.DSA_LEARN_MORE_ID&&window.open("https://www.tiktok.com/legal/page/global/reporting-illegal-content/en")},{title:P="",content:A="",time:M="",cover_url:L="",avatar_url:D="",has_mask:O=!1}=e;return(0,n.jsxs)(u,{role:"listitem",tabIndex:0,"aria-label":A,children:[D&&""!==D?(0,n.jsx)(g,{src:D||a}):(0,n.jsx)(p,{children:(0,n.jsx)(r.c,{size:32})}),(0,n.jsxs)(m,{children:[(0,n.jsxs)(h,{children:[(0,n.jsx)(v,{children:P}),(0,n.jsxs)(f,{children:[(e=>{const t=e.split(/({{.*?}})/);return(0,n.jsx)("div",{onClick:I,children:t.map(e=>e.startsWith("{{")&&e.endsWith("}}")?(e.slice(2,-2),w.DSA_LEARN_MORE,(0,n.jsx)("b",{id:w.DSA_LEARN_MORE_ID,children:C("dsa_illegal_placeholder_learnmore")})):e)})})(A)," ",(0,n.jsx)(y,{children:t?(0,l.z)(M):M})]})]}),L&&(0,n.jsxs)(b,{children:[!c&&(0,n.jsx)(_,{width:"100%",height:"100%",src:L,onLoad:j,onError:T}),O&&i&&(0,n.jsx)(x,{children:(0,n.jsx)(s.A,{width:20,height:20})})]})]})]})}},4287:(e,t,i)=>{"use strict";i.d(t,{S:()=>g});var n=i(24643),o=i(40099),a=i(61651),r=i(50654),s=i(6473),l=i(40485),d=i(11706),c=i(18433),u=i(20434),p=i(20597);const g=(0,o.memo)(function(e){var t;const{item:i}=e,{enabledClosedCaption:g}=(0,r.vN)(),_=(0,r.MQ)(),[{currentCaption:m},h]=(0,s.JE)(),v=(0,l.l)(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:""),{selectedTranslationLanguage:f}=(0,d.RD)(),y=(0,p.mx)(i),b=!!(null==i?void 0:i.ad_info),x=(0,c.Jl)(i),k=(g||_)&&v&&m.length>0&&!y&&!b&&!x,w=(0,o.useCallback)(e=>{h.setIsCaptionModalOn(!0),h.setCaptionModalEnterMethod("click_subtitle"),(0,u.Gu)(e)},[h]);return(0,o.useEffect)(()=>{h.setCurrentCaption("")},[null==i?void 0:i.id,f]),k?(0,n.jsx)(a.Z,{onClick:w,children:m}):null})},4337:(e,t,i)=>{"use strict";i.d(t,{D:()=>Q});var n=i(24643),o=i(95074),a=i(45027),r=i(40099),s=i(16410),l=i(57615);const d=(0,s.default)(l.nOL)`
  .TUXModal {
    max-width: none;
  }
`,c=(0,s.default)("div",{target:"e1xzi9ym0"})(({theme:e})=>({backgroundColor:e.colors.BGPlaceholderOpaque,borderRadius:"12px","@media (max-width: 700px)":{height:"100%",borderRadius:"0px"}}),"label:AccountStatusWrapper;"),u=(0,s.default)("div",{target:"e1xzi9ym1"})(({})=>({position:"fixed",inset:0,backgroundColor:"#fff",zIndex:3003,overflowY:"auto"}),"label:FullScreenModal;");var p=i(67977);const g=(0,s.default)("div",{target:"e1hq9hdj0"})({height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",overflow:"hidden"},"label:Container;"),_=(0,s.default)("div",{target:"e1hq9hdj1"})(({showTopBanner:e})=>[{display:"flex",flexDirection:"row",alignItems:"center",margin:"24px 24px 16px 24px","@media (max-width: 700px)":{margin:"24px 24px 16px 10px"}},e&&{marginBottom:"0"}],"label:DivHeader;");var m=i(92722),h=i(72516),v=i(71450),f=i(4126),y=i(13356),b=i(340),x=i(28439),k=i(55867),w=i(7672),S=i(44094),C=i(62564),j=i(72916);let T=class{constructor(e){this.fetch=e}getAccountStatus({user_id:e,from_source:t}){return this.fetch.get("/tns-api/account/status/",{query:Object.assign({user_id:e},t&&{from_source:t}),baseUrlType:2})}getAccountAppealStatus({object_type:e,object_id:t,verify_ticket:i}){return this.fetch.get("/tns-api/appeal/status/",{query:Object.assign(Object.assign({object_type:e},i&&{verify_ticket:i}),t&&{object_id:t}),baseUrlType:2})}accountAppealCommit(e){return this.fetch.post("/aweme/v1/material/upload/",{body:JSON.stringify({ns:"review_account_appeal",uid:e.object_id,data:JSON.stringify({email:e.mail_address})}),baseUrlType:2,headers:{"Content-Type":"application/json"}}).pipe((0,C.T)(t=>{if(0===t.status_code&&t.data)return Object.assign(Object.assign({},e),{extra:JSON.stringify({mail_address_v2:t.data.mid})});throw t})).pipe((0,j.n)(e=>this.fetch.post("/tns-api/appeal/post-commit/",{body:JSON.stringify(e),baseUrlType:2,headers:{"Content-Type":"application/json"}})))}appealCommit(e){var{appeal_type:t,object_id:i,reason:n,mail_address:o,verify_ticket:a}=e,r=(0,h.__rest)(e,["appeal_type","object_id","reason","mail_address","verify_ticket"]);return this.fetch.post("/tns-api/appeal/post-commit/",{body:JSON.stringify(Object.assign(Object.assign({object_id:i,appeal_type:t,reason:n,mail_address:o},a&&{verify_ticket:a}),r)),baseUrlType:2,headers:{"Content-Type":"application/json"}})}};T=(0,h.__decorate)([(0,w._)(),(0,h.__metadata)("design:paramtypes",[S.p])],T);var I=i(35572),P=i(74690),A=i(80339),M=i(26324),L=i(48156),D=i(6418),O=i(22889);let R=class extends v.E{constructor(e,t,i){super(),this.service=e,this.slardarService=t,this.t=i,this.defaultState={accountAppealRes:void 0,accountStatusInfo:void 0,appealCommitResult:"init",showResultPopup:!1,accountAppealInfo:void 0,avatarUrl:void 0,userEducationResources:void 0,accountState:void 0,surveyData:void 0,status:"init"}}setAccountStatusStatus(e,t){e.status=t}setAccountStatusData(e,t){e.accountStatusInfo=t.account_status_info,e.avatarUrl=t.avatarUrl,e.userEducationResources=t.user_education_resources,e.accountState=t.account_state,e.accountAppealInfo=t.account_appeal_info,e.surveyData=t.survey_data}setAccountAppealStatus(e,t){e.accountAppealRes=t}setAppealCommitStatus(e,t){console.log("Updating appealCommitResult state:",t),e.appealCommitResult=t,"success"===t&&(e.showResultPopup=!0)}setShowResultPopup(e,t){e.showResultPopup=t}getAccountAppealStatus(e){return e.pipe((0,I.p)(e=>this.service.getAccountAppealStatus(e).pipe((0,C.T)(e=>{var t;return e&&0===e.status_code?this.getActions().setAccountAppealStatus(e):(this.commonToastError(),this.slardarService.emitEvent("account_appeal_fetch_failed",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.noop())}),(0,P.Z)(this.getActions().setAccountStatusStatus("loading")),(0,A.q)(this.getActions().setAccountStatusStatus("idle")),(0,k.n)({callback:this.commonToastError}))))}appealCommit(e){return e.pipe((0,I.p)(e=>this.service.accountAppealCommit(e).pipe((0,C.T)(e=>{var t;return e&&0===e.status_code?this.getActions().setAppealCommitStatus("success"):(this.commonToastError(),this.slardarService.emitEvent("account_appeal_fetch_failed",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.getActions().setAppealCommitStatus("fail"))}),(0,P.Z)(this.getActions().setAppealCommitStatus("loading")),(0,A.q)(this.getActions().setAppealCommitStatus("init")),(0,k.n)({callback:this.commonToastError}))))}getAccountStatus(e){return console.log("api called with params: ",e),e.pipe((0,I.p)(e=>this.service.getAccountStatus(e).pipe((0,C.T)(e=>{var t;return e&&0===e.status_code?this.getActions().setAccountStatusData({accountStatusInfo:null==e?void 0:e.account_status_info,avatarUrl:null==e?void 0:e.avatarUrl,userEducationResources:null==e?void 0:e.user_education_resources,accountState:null==e?void 0:e.account_state,accountAppealInfo:null==e?void 0:e.account_appeal_info,surveyData:null==e?void 0:e.survey_data}):(this.commonToastError(),this.slardarService.emitEvent("account_status_fetch_failed",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.noop())}),(0,P.Z)(this.getActions().setAccountStatusStatus("loading")),(0,A.q)(this.getActions().setAccountStatusStatus("idle")),(0,k.n)({callback:this.commonToastError}))))}commonToastError(){L.F.destroy(),L.F.open({content:this.t(D.z$),duration:3,widthType:"half"})}};(0,h.__decorate)([(0,f.h5)(),(0,h.__metadata)("design:type",Function),(0,h.__metadata)("design:paramtypes",[Object,String]),(0,h.__metadata)("design:returntype",void 0)],R.prototype,"setAccountStatusStatus",null),(0,h.__decorate)([(0,f.h5)(),(0,h.__metadata)("design:type",Function),(0,h.__metadata)("design:paramtypes",[Object,Object]),(0,h.__metadata)("design:returntype",void 0)],R.prototype,"setAccountStatusData",null),(0,h.__decorate)([(0,f.h5)(),(0,h.__metadata)("design:type",Function),(0,h.__metadata)("design:paramtypes",[Object,Object]),(0,h.__metadata)("design:returntype",void 0)],R.prototype,"setAccountAppealStatus",null),(0,h.__decorate)([(0,f.h5)(),(0,h.__metadata)("design:type",Function),(0,h.__metadata)("design:paramtypes",[Object,String]),(0,h.__metadata)("design:returntype",void 0)],R.prototype,"setAppealCommitStatus",null),(0,h.__decorate)([(0,f.h5)(),(0,h.__metadata)("design:type",Function),(0,h.__metadata)("design:paramtypes",[Object,Boolean]),(0,h.__metadata)("design:returntype",void 0)],R.prototype,"setShowResultPopup",null),(0,h.__decorate)([(0,f.Mj)(),(0,h.__metadata)("design:type",Function),(0,h.__metadata)("design:paramtypes",[M.c]),(0,h.__metadata)("design:returntype",void 0)],R.prototype,"getAccountAppealStatus",null),(0,h.__decorate)([(0,f.Mj)(),(0,h.__metadata)("design:type",Function),(0,h.__metadata)("design:paramtypes",[M.c]),(0,h.__metadata)("design:returntype",void 0)],R.prototype,"appealCommit",null),(0,h.__decorate)([(0,f.Mj)(),(0,h.__metadata)("design:type",Function),(0,h.__metadata)("design:paramtypes",[M.c]),(0,h.__metadata)("design:returntype",void 0)],R.prototype,"getAccountStatus",null),R=(0,h.__decorate)([(0,y.nV)("AccountStatus"),(0,h.__param)(2,(0,b.y)(x.hp)),(0,h.__metadata)("design:paramtypes",[T,O.V$,Function])],R);var E=i(54132),F=i(27799),B=i(93584);const z=(0,s.default)("div",{target:"esgmed80"})({paddingLeft:24,paddingRight:24,height:"100%",flexGrow:1,"@media (max-width: 700px)":{paddingLeft:12,paddingRight:12}},"label:Container;"),U=(0,s.default)("div",{target:"esgmed81"})(({theme:e})=>({padding:16,backgroundColor:e.colors.BGPrimary,borderRadius:8,marginBottom:8}),"label:ComponentWrapper;"),N=(0,s.default)("div",{target:"esgmed84"})(({showAppealButton:e})=>[{position:"relative",bottom:"0",left:"0",width:"100%",height:54,marginBottom:12,padding:8,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","@media (max-width: 700px)":{position:"fixed",bottom:0,left:0,width:"100%",padding:18,height:"auto",backgroundColor:"#f4f4f4",zIndex:4e3}},e&&{alignItems:"start"}],"label:DivFooter;"),W=(0,s.default)("div",{target:"esgmed85"})({display:"flex",flexDirection:"column",height:"580px",overflowY:"auto","@media (max-width: 700px)":{height:"auto",paddingBottom:"80px"}},"label:ContainerWrapper;"),V=(0,s.default)("div",{target:"esgmed86"})({display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginBottom:32,"@media (max-width: 700px)":{alignItems:"flex-start",textAlign:"left",margin:"24px 16px"}},"label:SectionAppealStatus;"),H=(0,s.default)("div",{target:"esgmed88"})(({theme:e})=>[(0,B.zy)({theme:e,fontFamily:"TikTokFont",typography:"H4",color:"TextPrimary",fontWeight:"bold"}),{marginTop:18,textAlign:"center","@media (max-width: 700px)":{textAlign:"left",marginTop:0,fontSize:32}}],"label:AppealTitle;"),q=(0,s.default)("div",{target:"esgmed89"})(({theme:e})=>[(0,B.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{marginTop:12,textAlign:"center","@media (max-width: 700px)":{textAlign:"left",marginTop:4,fontSize:"15px",fontStyle:" normal",fontWeight:400,lineHeight:"130%",letterSpacing:"0.061px"}}],"label:AppealSubtitle;"),$=(0,s.default)("div",{target:"esgmed810"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),G=(0,s.default)("div",{target:"esgmed811"})({flexGrow:1},"label:FlexGrowDiv;"),K=(0,s.default)("button",{target:"esgmed812"})(({theme:e})=>[(0,B.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"ConstTextInverse",fontWeight:"semiBold"}),{height:"36px",padding:"7px 16px",position:"absolute",cursor:"pointer",right:"24px",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"4px",":disabled":{background:e.colors.BGPlaceholderDefault,color:e.colors.TextQuaternary},"@media (max-width: 700px)":{width:"100%",right:"0",position:"relative",marginTop:"8px",height:"48px",fontSize:"16px"}}],"label:ButtonSubmit;"),Y=(0,s.default)(l.U5X)`
  .TUXTextAreaBox {
    background-color: transparent !important;
    padding: 0 !important;
  }
  .TUXTextAreaCore-textarea {
    padding: 0 !important;
  }
  .TUXFormField-header {
    margin: 0 !important;
  }
`;var Z=i(67553);const J=({handleClose:e,handleAppealClick:t=()=>{}})=>{const{appealCommitResult:i}=(0,o.P)(R),[a,s]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[g,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=a.trim().length>0,t=(0,Z.D)(d);m(!(!e||!t))},[a,d]);const h=(0,F.s)(),v=(0,r.useCallback)(e=>{c(e),h("dsaCGWebapp_detailPg_sectionCG_body"),(0,Z.D)(e)?p(""):p(h("banToWeb_appealPg_emailErrorState_desc"))},[]),f=(0,r.useCallback)(()=>{(0,Z.D)(d)?t(d,a):p(h("banToWeb_appealPg_emailErrorState_desc"))},[d,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(_,{showTopBanner:!0,children:[(0,n.jsx)($,{onClick:e,children:(0,n.jsx)(l.UBT,{size:"24"})}),(0,n.jsx)(G,{})]}),(0,n.jsx)(W,{children:(0,n.jsxs)(z,{children:[(0,n.jsxs)(V,{children:[(0,n.jsx)(H,{children:h("banToWeb_appealPg_submitAppeal_header")}),(0,n.jsx)(q,{children:h("banToWeb_appealPg_submitAppeal_body")})]}),(0,n.jsx)(U,{children:(0,n.jsx)(Y,{requirement:"required",style:{width:"100%"},value:a,onChange:e=>s(e),label:h("banToWeb_appealPg_description_title"),maxLength:200,placeholder:h("banToWeb_appealPg_description_placeholder")})}),(0,n.jsx)(U,{children:(0,n.jsx)(l.ZPA,{requirement:"required",style:{width:"100%"},value:d,onChange:v,description:h("banToWeb_appealPg_email_desc"),label:h("banToWeb_appealPg_email_title"),placeholder:h("banToWeb_appealPg_email_placeholder"),error:u})})]})}),(0,n.jsx)(N,{showAppealButton:!0,children:(0,n.jsx)(K,{disabled:!g||"loading"===i,onClick:f,children:h("banToWeb_submit_button")})})]})},X=({accountAppealRes:e,verifyTicket:t,url:i="",onClose:s})=>{var d,c,u;const p=new URL(i),_=new URLSearchParams(p.search),h=(0,F.s)(),v=null!==(d=_.get("object_id"))&&void 0!==d?d:void 0,f=null!==(c=_.get("appeal_type"))&&void 0!==c?c:void 0,y=null!==(u=_.get("punish_key"))&&void 0!==u?u:void 0,b=(0,a.w)(R),x=(0,a.w)(E.Z),{showResultPopup:k}=(0,o.P)(R),w=(0,r.useCallback)(()=>{s()},[s]);return(0,n.jsx)(g,{children:(0,n.jsxs)(m.juU,{children:[(0,n.jsx)(J,{handleAppealClick:(e,i)=>{v&&b.appealCommit({verify_ticket:t,object_id:v,mail_address:e,appeal_type:Number(f),reason:i,punish_key:y})},accountAppealRes:e,handleClose:w,objectId:v,appealType:f}),(0,n.jsx)(l.yl7,{zIndex:9999,title:h("banToWeb_fyfWeb_appealSubmitted_header"),message:h("banToWeb_fyfWeb_appealSubmitted_body"),actionVariant:"text",isVisible:k,actionDirection:"vertical",actions:[{variant:"primary",text:h("banToWeb_generic_logout_button"),onClick:()=>{b.setShowResultPopup(!1),x.setVisible(!1)}}]})]})})},Q=(0,r.memo)(function(){var e;const[t,i]=(0,r.useState)(!1),s=(0,o.P)(E.Z),l=(0,a.w)(E.Z),[g,_]=(0,r.useState)({userId:void 0,url:void 0}),m=null!==(e=s.accountStatusDetail.verifyTicket)&&void 0!==e?e:void 0,h=function(e=700){const[t,i]=(0,r.useState)(()=>window.innerWidth<=e);return(0,r.useEffect)(()=>{const t=()=>i(window.innerWidth<=e);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),t}(700),v=s.visible;(0,r.useEffect)(()=>{var e,t,n,o;if(v)return _({userId:null!==(t=null===(e=s.accountStatusDetail)||void 0===e?void 0:e.userId)&&void 0!==t?t:void 0,url:null!==(o=null===(n=s.accountStatusDetail)||void 0===n?void 0:n.url)&&void 0!==o?o:void 0}),void i(!0);i(!1)},[v,s]);const f=(0,r.useCallback)(()=>{l.setVisible(!1),i(!1)},[l]);return t?(0,n.jsx)(p.Ay,{autoFocus:!0,disabled:!t,returnFocus:!0,children:h?(0,n.jsx)(u,{children:(0,n.jsx)(c,{children:(0,n.jsx)(X,{verifyTicket:m,accountAppealRes:s.accountStatusDetail.accountAppealRes,url:g.url,onClose:f})})}):(0,n.jsx)(d,{open:t,onOpenChange:i,width:"large",outsidePressDismiss:!1,children:(0,n.jsx)(c,{children:(0,n.jsx)(X,{verifyTicket:m,accountAppealRes:s.accountStatusDetail.accountAppealRes,url:g.url,onClose:f})})})}):null})},4352:(e,t,i)=>{"use strict";i.d(t,{AS:()=>m,DM:()=>l,Hg:()=>r,NY:()=>_,Te:()=>d,bI:()=>p,f4:()=>u,pv:()=>h,q5:()=>c,wB:()=>g});var n=i(16410),o=i(93584),a=i(92726);const r=12,s=({theme:{colors:e,direction:t},disabled:i=!1})=>Object.assign({display:"flex",justifyContent:"center",alignItems:"center",width:"36px",height:"36px",borderRadius:"100%",color:i?e.ConstTextInverse5:e.ConstTextInverse,cursor:"pointer",transform:`rotate(${"rtl"===t?"180deg":"0"})`},(0,a.I)()),l=(0,n.default)("div",{target:"exksjhw0"})({margin:"0 8px",padding:"12px 17px",borderRadius:"18px"},"label:DivPaginationWrapper;"),d=(0,n.default)("div",{target:"exksjhw1"})(({num:e})=>({position:"relative",display:"flex",overflow:"hidden",width:r*e+"px",height:`${r}px`}),"label:DivPaginationContainer;"),c=(0,n.default)("div",{target:"exksjhw2"})(s,"label:DivLeftArrow;"),u=(0,n.default)("div",{target:"exksjhw3"})(s,"label:DivRightArrow;"),p=(0,n.default)("div",{target:"exksjhw4"})(({theme:{colors:e}})=>({position:"absolute",bottom:0,width:"100%",height:"100%",cursor:"pointer",userSelect:"none","&:hover":{[l.toString()]:{backgroundColor:e.ConstBGInverse4},[c.toString()]:{backgroundColor:e.ConstBGInverse4},[u.toString()]:{backgroundColor:e.ConstBGInverse4}}}),"label:DivPhotoWrapper;"),g=(0,n.default)("div",{target:"exksjhw5"})({position:"absolute",left:0,right:0,bottom:0},"label:DivPhotoControlWrapper;"),_=(0,n.default)("div",{target:"exksjhw6"})({display:"flex",position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",height:"36px"},"label:DivPhotoControl;"),m=(0,n.default)("div",{target:"exksjhw7"})(({theme:{direction:e},index:t})=>[{position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:`${r}px`,height:`${r}px`,transition:"all 200ms cubic-bezier(.65, 0, .35, 1)"},(0,o.mp)({direction:e,start:t*r})],"label:DivDotWrapper;"),h=(0,n.default)("div",{target:"exksjhw8"})(({active:e})=>({width:"6px",height:"6px",margin:"3px",borderRadius:"100%",backgroundColor:e?"#fff":"rgba(255, 255, 255, .6)",transition:"all 200ms cubic-bezier(.65, 0, .35, 1)"}),"label:DivDot;")},4397:(e,t,i)=>{"use strict";i.d(t,{z:()=>v});var n=i(24643),o=i(40099),a=i(48156),r=i(24443),s=i(61198),l=i(29547),d=i(16410),c=i(73635),u=i(93584);i(95501);const p=(0,d.default)("div",{target:"eaxh4gs0"})(({theme:{direction:e}})=>[{position:"relative",borderRadius:"8px",overflow:"hidden"},(0,u.mp)({direction:e,start:"unset"})],"label:DivFrameContainer;");p.defaultProps=Object.assign(Object.assign({},p.defaultProps),{"data-e2e":"login-frame"});const g=(0,d.default)("button",{target:"eaxh4gs1"})(({theme:{direction:e}})=>[u.WA,{position:"absolute",top:"24px",width:"40px",height:"40px",cursor:"pointer",background:"rgba(22, 24, 35, .06)",borderRadius:"100%",transition:"all ease-in-out 200ms",":hover":{background:"rgba(22, 24, 35, .1)"},":active":{background:"rgba(22, 24, 35, .14)"}},(0,u.mp)({direction:e,end:"24px"})],"label:ButtonCloseWrapper;"),_=(0,d.default)(c.A,{target:"eaxh4gs2"})({position:"absolute",top:"8px",right:"8px",width:"24px",height:"24px"},"label:StyledXMark;"),m=(0,d.default)("iframe",{target:"eaxh4gs3"})({overflow:"hidden",display:"block",width:"472px",height:"calc(100vh - 64px)",maxHeight:"660px",background:"transparent",border:"none"},"label:IframeLoginSite;");var h=i(90976);const v=function(){var e;const[t,i]=(0,r.MR)(e=>e,s.bN),{user:d}=null!==(e=(0,h.W)(()=>["user"],[]))&&void 0!==e?e:{},c=(0,o.useCallback)((e="click_x")=>{i.closeModal({enter_method:e})},[i]),u=(0,o.useCallback)(()=>{c("click_x")},[c]),v=(0,o.useCallback)(e=>{let t="click_x";t=0===e||2===e?"click_x":"click_blank",i.closeModal({enter_method:t})},[i]);return(0,o.useEffect)(()=>{function e(e){var t,n,o;if("object"==typeof e.data&&e.origin===location.origin)switch(e.data.event){case"deleteSuccess":localStorage.setItem("multi-account-info",JSON.stringify({data:null!==(o=null===(n=JSON.parse(null!==(t=localStorage.getItem("multi-account-info"))&&void 0!==t?t:'{"data":[]}').data)||void 0===n?void 0:n.filter(e=>e.secUid!==(null==d?void 0:d.secUid)))&&void 0!==o?o:[]})),c(),window.location.href="https://www.tiktok.com/logout";break;case"loginCancel":c();break;case"hasLogin":c(),window.location.reload();break;case"loginSuccess":if(c("login_success"),e.data.message)return a.F.open({content:e.data.message,duration:3,widthType:"half",style:{zIndex:10011}}),void setTimeout(()=>{e.data.redirectUrl&&e.data.redirectUrl!==location.href?/^https?:\/\//.test(e.data.redirectUrl)&&(window.location.href=e.data.redirectUrl):window.location.reload()},3e3);e.data.redirectUrl&&e.data.redirectUrl!==location.href?/^https?:\/\//.test(e.data.redirectUrl)&&(window.location.href=e.data.redirectUrl):window.location.reload();break;case"hideOuterClose":i.setCloseable(!1)}}return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e,!1)}},[i,c,null==d?void 0:d.secUid]),(0,n.jsx)(l.aF,{visible:t.isOpen,zIndex:10010,maskCloseable:!1,keyboardCloseable:t.closeable,onClose:v,popupType:t.popupType,children:(0,n.jsxs)(p,{children:[t.closeable&&(0,n.jsx)(g,{onClick:u,children:(0,n.jsx)(_,{})}),(0,n.jsx)(m,{src:t.url,style:t.iframeStyle},t.url)]})})}},4887:(e,t,i)=>{"use strict";i.d(t,{o4:()=>k,VJ:()=>b,Od:()=>y});var n=i(72516),o=i(64388),a=i(1183),r=i(55352),s=i(57297),l=i(87303),d=i(26595),c=i(20434);const u=e=>{(0,c.AP)(d.oB,JSON.stringify({userToken:e,updateAt:Date.now()}))},p=e=>{(0,c.AP)(d.NG,JSON.stringify({expireTimestamp:e,updateAt:Date.now()}))};var g=i(66263);var _=i(3211),m=i(64943),h=i(65774);const v=(0,a.p)("tt2dspAuthAtom@tiktok/fe-shared",{}),f=({loginResult:e,platform:t,enterFrom:i,errorCode:n,groupId:o,musicId:a})=>{var l,d;e.status===r.kd.Success?h.G.handleAuthorizeTttodspStatusReport({status:"1",group_id:null!=o?o:"",enter_from:i,music_id:a,button_name:null!==(l=s.x1[t])&&void 0!==l?l:""}):h.G.handleAuthorizeTttodspStatusReport({status:"0",group_id:null!=o?o:"",enter_from:i,music_id:a,button_name:null!==(d=s.x1[t])&&void 0!==d?d:"",error_code:null!=n?n:""})},{useAtomService:y,useServiceDispatchers:b,useServiceState:x,getStaticApi:k}=(0,o.i)(v,(e,t)=>({setAppleMusicDeveloperToken(e){t(v,t=>Object.assign(Object.assign({},t),{appleMusicDeveloperToken:null!=e?e:t.appleMusicDeveloperToken}))},verifyAccessToken(e){const{accessToken:t,expireTimestamp:i}=this.getAndUpdateAccessTokenAndExpireTime(e);return!(!t||!i)&&Date.now()/1e3<i},login(i){return(0,n.__awaiter)(this,void 0,void 0,function*(){let o;const a=yield(i=>(0,n.__awaiter)(this,void 0,void 0,function*(){switch(i){case 1:const i=e(v).appleMusicDeveloperToken;if(!i)return o=r.Nz.AppleMusicDeveloperTokenNotFound,!1;const a=yield(0,l.b)(i);if(!a)return o=r.Nz.AppleMusicLoginFailed,!1;const s=(new Date).getTime()/1e3+d.W$;return u(a),p(s),t(v,e=>Object.assign(Object.assign({},e),{appleMusicUserToken:a,appleMusicUserTokenExpireTimestamp:s})),a;case 3:return(yield(0,n.__awaiter)(void 0,void 0,void 0,function*(){(0,m.$v)(),(0,m.du)();const e=(t=16,crypto.getRandomValues(new Uint8Array(t)).reduce((e,t)=>e+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[t%62],""));var t;(0,m.Cm)(e);const i=new URL(_.We),o={response_type:"code",client_id:_.a0,scope:_.N,redirect_uri:_.Ei,state:e,utm_campaign:"tiktok_save",utm_medium:"tiktok_web",utm_source:"tiktok"};i.search=new URLSearchParams(o).toString();const a=window.open(i,"_blank");return new Promise(t=>{const i=setInterval(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){try{if(!a||a.closed||a.authDoneClose){clearInterval(i);try{(null==a?void 0:a.authDoneClose)&&a.close()}catch(e){}const n=(0,m.eX)(),o=(0,m.cD)();t(!(!n||o!==e)&&n)}}catch(e){}}),100)})}))||(o=r.Nz.SpotifyLoginFailed,!1);default:return!1}}))(i);if(a){if(1===i)return{status:r.kd.Success,accessToken:a};{const{status:e,accessToken:t,errorCode:n}=yield this.requestAccessToken(i,0);return e===r.lf.Success?{status:r.kd.Success,accessToken:t}:{status:r.kd.RequestAccessTokenError,errorCode:n}}}return{status:r.kd.LoginError,errorCode:o}})},requestAccessToken(e,i){return(0,n.__awaiter)(this,void 0,void 0,function*(){switch(e){case 1:{const{status:e,user_token:o,expires_in:a,errorCode:s}=yield(e=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){let t=r.Nz.Unknown;try{if(0===e)return{status:r.lf.OtherErrors,errorCode:t};const i=yield(0,g.Qh)({platform:1,grant_type:e}),{access_token:n,status_code:o}=i;if(t=o.toString(),o===g.DM.MusicDSPInvalidRefreshToken)return{status:r.lf.InvalidRefreshToken,errorCode:t};if(!n)throw new Error("[TT2DSP] Spotify auth error: no code or codeVerifier");if(o!==g.DM.Success)throw new Error("[TT2DSP] Apple Music auth error: other errors");return{status:r.lf.Success,user_token:i.access_token,expires_in:d.W$}}catch(e){return console.error(e),{status:r.lf.OtherErrors,errorCode:t}}}))(i);if(e===r.lf.Success&&o&&a){const e=(new Date).getTime()/1e3+a;u(o),p(e),t(v,t=>Object.assign(Object.assign({},t),{appleMusicUserToken:o,appleMusicUserTokenExpireTimestamp:e}))}return{status:e,accessToken:o,errorCode:s}}case 3:{const{status:e,access_token:o,expires_in:a,errorCode:s}=yield(e=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){let t=r.Nz.Unknown;try{let i;if(0===e&&(i=(0,m.eX)(),!i))return{status:r.lf.OtherErrors,errorCode:t};const n=yield(0,g.Qh)({platform:3,client_id:_.a0,grant_type:e,authentication_code:i,redirect_uri:_.Ei}),{access_token:o,expires_in:a,status_code:s}=n;if(t=s.toString(),s===g.DM.MusicDSPInvalidRefreshToken){if(0===e)throw new Error("[TT2DSP] Spotify auth error: no access_token or expires_in");return{status:r.lf.InvalidRefreshToken,errorCode:t}}if(!o||!a)throw new Error("[TT2DSP] Spotify auth error: no code or codeVerifier");if(s!==g.DM.Success)throw new Error("[TT2DSP] Spotify auth error: other errors");return{status:r.lf.Success,access_token:o,expires_in:parseInt(a.toString())}}catch(e){return console.error(e),{status:r.lf.OtherErrors,errorCode:t}}}))(i);if(e===r.lf.Success&&o&&a){const e=(new Date).getTime()/1e3+a;(0,m.kv)(o),(0,m.Vq)(e),t(v,t=>Object.assign(Object.assign({},t),{spotifyAccessToken:o,spotifyAccessTokenExpireTimestamp:e}))}return{status:e,accessToken:o,errorCode:s}}default:return{status:r.lf.OtherErrors,errorCode:r.Nz.Unknown}}})},auth({platform:e,isSelectedByUser:t,enterFrom:i,musicId:o,groupId:a}){return(0,n.__awaiter)(this,void 0,void 0,function*(){if(!s.OC.includes(e))return{status:r.kd.ParamsError,errorCode:r.Nz.Unknown};if(t){if(this.verifyAccessToken(e)){const t=this.getAndUpdateAccessTokenAndExpireTime(e).accessToken;return{status:r.kd.Success,accessToken:t}}{const{status:t,accessToken:n,errorCode:s}=yield this.requestAccessToken(e,1);if(t===r.lf.Success)return{status:r.kd.Success,accessToken:n};if(t===r.lf.InvalidRefreshToken){const t=yield this.login(e);return f({loginResult:t,enterFrom:i,platform:e,errorCode:t.errorCode,musicId:o,groupId:a}),Object.assign(Object.assign({},t),{isUserLoginOnWeb:!0})}return f({loginResult:{status:r.kd.RequestAccessTokenError},enterFrom:i,platform:e,errorCode:s,musicId:o,groupId:a}),{status:r.kd.RequestAccessTokenError,errorCode:s}}}{const t=yield this.login(e);return f({loginResult:t,enterFrom:i,platform:e,errorCode:t.errorCode,musicId:o,groupId:a}),Object.assign(Object.assign({},t),{isUserLoginOnWeb:!0})}})},getAndUpdateAccessTokenAndExpireTime(i){const{spotifyAccessToken:n,spotifyAccessTokenExpireTimestamp:o,appleMusicUserToken:a,appleMusicUserTokenExpireTimestamp:r}=e(v);switch(i){case 1:if(a&&r)return{accessToken:a,expireTimestamp:r};const e=(null===(s=JSON.parse((0,c._S)(d.oB)||"{}"))||void 0===s?void 0:s.userToken)||"",i=(()=>{var e;return(null===(e=JSON.parse((0,c._S)(d.NG)||"{}"))||void 0===e?void 0:e.expireTimestamp)||0})();return e&&i&&t(v,t=>Object.assign(Object.assign({},t),{appleMusicUserToken:e,appleMusicUserTokenExpireTimestamp:i})),{accessToken:e,expireTimestamp:i};case 3:if(n&&o)return{accessToken:n,expireTimestamp:o};const l=(0,m.U5)(),u=(0,m.Je)();return l&&u&&t(v,e=>Object.assign(Object.assign({},e),{spotifyAccessToken:l,spotifyAccessTokenExpireTimestamp:u})),{accessToken:l,expireTimestamp:u};default:return{accessToken:"",expireTimestamp:0}}var s},getStaticSpotifyAccessToken:()=>e(v).spotifyAccessToken,getStaticAppleMusicUserToken:()=>e(v).appleMusicUserToken,getStaticAppleMusicDeveloperToken:()=>e(v).appleMusicDeveloperToken}))},5124:(e,t,i)=>{"use strict";i.d(t,{EX:()=>v,FS:()=>r,Nm:()=>m,To:()=>h,az:()=>p,eX:()=>a,gC:()=>_,gI:()=>g,uI:()=>d,u_:()=>c});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"e1rzzhjk0"})(({isReply:e})=>({display:"flex",flexDirection:"row",alignItems:"flex-end",marginBottom:e?"16px":"",gap:"0.5rem"}),"label:DivCommentInputContainer;"),r=(0,n.default)("div",{target:"e1rzzhjk1"})({flex:"1 1 auto"},"label:DivLayoutContainer;"),s="48px",l="39px",d=(0,n.default)("div",{target:"e1rzzhjk2"})(({theme:{colors:e},isFocus:t,isInVideoDetail:i})=>[{position:"relative",display:"flex",flexDirection:"row",alignItems:"end",backgroundColor:e.BGInput,boxSizing:"border-box",border:"1px solid",borderColor:t?e.LinePrimary:"transparent",borderRadius:8,padding:i?"0 9px 0 16px":"0 9px",cursor:"text"}],"label:DivInputAreaContainer;");d.defaultProps=Object.assign(Object.assign({},d.defaultProps),{"data-e2e":"comment-input"});const c=(0,n.default)("div",{target:"e1rzzhjk3"})(({isInVideoDetail:e=!1})=>({flex:"1 1 auto",height:"auto",margin:e?"11px 0":"10px 0",marginInlineEnd:"8px",alignSelf:"center",":has(> .multiline-input)":{alignSelf:"end"}}),"label:DivInputEditorContainer;");function u({theme:e,isActive:t=!1,isInVideoDetail:i=!1}){return[{flex:"0 0 32px",width:32,height:32,padding:5,margin:i?"7px 3px":3,cursor:"pointer",backgroundColor:t?e.colors.ShadowPrimary:"transparent",borderRadius:8,":hover":{backgroundColor:e.colors.ShadowPrimary},svg:{width:"100%",height:"100%"}}]}c.defaultProps=Object.assign(Object.assign({},c.defaultProps),{"data-e2e":"comment-text"});const p=(0,n.default)("div",{target:"e1rzzhjk4"})(u,"label:DivMentionButton;");p.defaultProps=Object.assign(Object.assign({},p.defaultProps),{"data-e2e":"comment-at-icon"});const g=(0,n.default)("div",{target:"e1rzzhjk5"})(u,"label:DivEmojiButton;");g.defaultProps=Object.assign(Object.assign({},g.defaultProps),{"data-e2e":"comment-emoji-icon"});const _=(0,n.default)("div",{target:"e1rzzhjk6"})(({theme:e,isActive:t,isInVideoDetail:i=!1})=>[(0,o.zy)({theme:e,color:t?"Primary":"TextQuaternary",typography:"H6",fontWeight:"semiBold"}),{cursor:t?"pointer":"default",flex:"0 0 48px",fontSize:i?"16px":"14px",lineHeight:i?s:l,textAlign:(0,o.t7)(e.direction,"end")},({isReply:t})=>(0,o.mp)({direction:e.direction,marginEnd:t?16:4})],"label:DivPostButton;");_.defaultProps=Object.assign(Object.assign({},_.defaultProps),{"data-e2e":"comment-post"});const m=(0,n.default)("div",{target:"e1rzzhjk7"})(({show:e,theme:{colors:t,direction:i}})=>[{position:"absolute",zIndex:1,width:280,height:256,top:-256,borderRadius:8,overflow:"hidden",backgroundColor:t.BGPrimary,boxShadow:`${t.ShadowPrimary} 0px 4px 16px 0px`,display:e?"block":"none"},(0,o.mp)({direction:i,start:44})],"label:DivMentionSuggestionContainer;"),h=(0,n.default)("div",{target:"e1rzzhjk9"})(({theme:{colors:e,direction:t}})=>[{position:"absolute",width:368,height:300,top:-300,borderRadius:8,overflow:"hidden",backgroundColor:e.BGPrimary,boxShadow:`${e.ShadowPrimary} 0px 4px 16px 0px`,outline:0,zIndex:1},(0,o.mp)({direction:t,end:12})],"label:DivEmojiPanelContainer;"),v=(0,n.default)("div",{target:"e1rzzhjk10"})(({isInVideoDetail:e,theme:t})=>({cursor:"pointer",display:"flex",alignItems:"center",height:e?s:l,color:t.colors.TextPrimary}),"label:DivCloseBtn;")},5663:(e,t,i)=>{"use strict";i.d(t,{_:()=>P});var n=i(24643),o=i(40099),a=i(27799),r=i(25961),s=i(90976),l=i(13935),d=i(16410),c=i(70170),u=i(80342),p=i(93584);const g=(0,d.default)("div",{target:"e1xbbn5s0"})({height:24,overflow:"hidden",display:"flex"},"label:DivUserEventContainer;"),_=(0,d.default)("div",{target:"e1xbbn5s1"})({height:24,textDecoration:"none",display:"flex",alignItems:"center"},"label:DivUserEventLink;"),m=(0,d.default)("div",{target:"e1xbbn5s2"})(({theme:e})=>[(0,p.zy)({theme:e,fontWeight:"semiBold"}),{fontSize:16,color:e.colors.TextPrimary,padding:"0 8px",backgroundColor:e.colors.BGInput,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderRadius:2,display:"flex",alignItems:"center"}],"label:DivUserEventTextWrapper;"),h=(0,d.default)(c.A,{target:"e1xbbn5s3"})(({theme:e})=>[(0,p.mp)({direction:e.direction,marginEnd:6}),{color:e.colors.ConstTextInverse,height:24,width:24}],"label:StyledEventIcon;"),v=(0,d.default)(c.A,{target:"e1xbbn5s4"})(({theme:e})=>[(0,p.mp)({direction:e.direction,marginEnd:6}),{color:e.colors.ConstTextInverse,height:14,width:14}],"label:StyledEventIcon2;"),f=(0,d.default)("div",{target:"e1xbbn5s5"})({display:"flex",alignItems:"center"},"label:DivMultiEvents;"),y=(0,d.default)("div",{target:"e1xbbn5s6"})(({theme:e})=>[(0,p.zy)({theme:e}),{fontSize:16,color:e.colors.LineSecondary,marginLeft:10,marginRight:8}],"label:SpanVector;"),b=(0,d.default)(u.A,{target:"e1xbbn5s7"})(({theme:e})=>[(0,p.mp)({direction:e.direction,marginStart:4}),{color:e.colors.TextPrimary,height:16,transition:"all .3s ease",width:16}],"label:StyledIconChevronDown;"),x=(0,d.default)("ul",{target:"e1xbbn5s8"})({margin:0,padding:0},"label:Ul;"),k=(0,d.default)("div",{target:"e1xbbn5s9"})({cursor:"pointer"},"label:DivEventLink;"),w=(0,d.default)("li",{target:"e1xbbn5s10"})(({theme:e})=>[(0,p.zy)({theme:e}),{listStyleType:"none",height:41,display:"flex",alignItems:"center",padding:8,":hover":{backgroundColor:e.colors.BGView}}],"label:Li;");var S=i(67476),C=i(8622),j=i(72355),T=i(54133);const I="undefined"!=typeof window,P=e=>{var t;const{eventList:i,displayMultiEvents:d,isBrowserMode:c}=e,u=i.length,{eventId:p,groupId:P,eventStartTime:A,authorId:M}=i[0],L=(0,a.s)(),{pathname:D}=(0,j.zy)(),O=(0,o.useMemo)(()=>"video"===(0,r.sn)(D)?"landing_page":(0,r.sn)(D),[D]),{language:R}=null!==(t=(0,s.W)(()=>["language","user"],[]))&&void 0!==t?t:{},E=null!=R?R:"en",F=I?(0,l.SV)(Number(A),E,"MMM D, h:mm A"):(0,n.jsx)(S.sO,{width:130}),B=`/live/event/${p}`,[z,U]=(0,o.useState)(!1),N=(0,o.useRef)(!0),W=(0,o.useCallback)(({visible:e})=>{setTimeout(()=>U(e)),e&&(C.W.handleLiveEventCardMoreClick({live_event_id:p,author_id:M||""}),N.current&&i.length&&(i.forEach((e,t)=>{C.W.handleLiveEventCardShow({live_event_id:e.eventId,author_id:e.authorId||"",impr_position:1+t})}),N.current=!1))},[M,p,i]);(0,o.useEffect)(()=>{d&&C.W.handleLiveEventCardShow({live_event_id:p,author_id:M||"",impr_position:1})},[M,d,p]),(0,o.useEffect)(()=>{d||C.W.handleMultiAnchorEntranceShow({live_event_id:p,author_id:M||"",group_id:P||"",video_show_mode:c?"browser_mode":O})},[M,d,p,P,O]);const V=(e,t,i,n="",o)=>{e.stopPropagation(),d?C.W.handleLiveEventCardClick({live_event_id:i,author_id:n,impr_position:1+t}):C.W.handleMultiAnchorEntranceClick({live_event_id:i,author_id:n||"",group_id:P||"",video_show_mode:c?"browser_mode":O}),window.open((0,T.stringifyUrl)({url:o,query:{enter_from:d?"personal_live_event_card":"anchor"}}),"_blank")},H=(0,n.jsx)(x,{children:i.map((e,t)=>{const{eventId:i,eventStartTime:o,authorId:a}=e,r=(0,l.SV)(Number(o),E,"MMM D, h:mm A"),s=`/live/event/${i}`;return(0,n.jsx)(w,{children:(0,n.jsx)(k,{onClick:e=>V(e,t,i,a,s),style:{textDecoration:"none"},children:(0,n.jsxs)(_,{children:[(0,n.jsx)(v,{}),(0,n.jsx)("span",{children:L("event_dm_share_message_card")}),"  · ",r]})})},i)})});return(0,n.jsx)(g,{children:(0,n.jsx)(k,{onClick:e=>V(e,0,p,M,B),style:{textDecoration:"none"},children:(0,n.jsxs)(_,{children:[(0,n.jsx)(h,{}),(0,n.jsxs)(m,{children:[(0,n.jsx)("span",{children:L("event_dm_share_message_card")}),(0,n.jsx)("span",{children:" · "}),(0,n.jsx)("span",{children:F}),I&&d&&u>1&&(0,n.jsx)(S.N0,{maxWidth:1e3,background:"BGPrimary",content:H,position:"Bottom",onVisibleChange:W,children:(0,n.jsxs)(f,{children:[(0,n.jsx)(y,{children:"|"})," ",u,(0,n.jsx)(b,{style:z?{transform:"rotate(180deg)"}:{}})]})})]})]})})})}},5701:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var n=i(24643),o=i(40099),a=i(28333),r=i(27799);const s=e=>{const{visible:t=!1,duration:i=5e3,onHide:s,text:l,children:d,onShow:c,closeByActive:u}=e,p=(0,r.s)(),[g,_]=(0,o.useState)(!1);(0,o.useEffect)(()=>{_(t)},[t]),(0,o.useEffect)(()=>{!g&&s&&s(),g&&(null==c||c(),setTimeout(()=>{_(!1)},i))},[s,g,i,c]);const m=(0,o.useCallback)(()=>{u&&_(!1)},[u]),h=(0,o.useMemo)(()=>({padding:"12px"}),[]),v=(0,o.useMemo)(()=>({keepParent:!0}),[]);return(0,n.jsx)(a.m,{destroyTooltipOnHide:v,onClick:m,placement:"top",overlay:p(l),tooltipTheme:"blue",visible:g,overlayInnerStyle:h,children:d})}},5786:(e,t,i)=>{"use strict";i.d(t,{E:()=>b});var n=i(72516),o=i(24643),a=i(40099),r=i(52340),s=i(54253),l=i(11229),d=i(65476),c=i(45375),u=i(20434),p=i(57383),g=i(19053),_=i(69484),m=i(49432),h=i(22797),v=i(31382),f=i(69831),y=i(45027);const b=(0,a.memo)((0,a.forwardRef)(function(e,t){var{uniqueId:i,secUid:b,extraQuery:x={},children:k,replace:w=!1,isInBrowserMode:S=!1,teaParams:C,shouldStopPropagation:j=!0,reportTea:T=!0,onClick:I,onLinkClick:P,adInfo:A,style:M}=e,L=(0,n.__rest)(e,["uniqueId","secUid","extraQuery","children","replace","isInBrowserMode","teaParams","shouldStopPropagation","reportTea","onClick","onLinkClick","adInfo","style"]);const D=(0,m.U)({pathname:(0,c.fJR)({uniqueId:i,secUid:b}),search:x}),O=(0,v.yS)(i),R=(0,p.Ig)(),E=(0,a.useRef)(null),F=(0,y.w)(f.k),{playMode:B,ttamRefer:z=r.Hq.Photo}=C,U=null==A?void 0:A.is_normal,N=(0,a.useCallback)(e=>{if(A&&!U&&A.web_url)return(0,u.Gu)(e),void(0,g.Zy)({adInfo:A,refer:z,tag:B&&r.EM[B]||r.xY.OneColumn});if(R)return(0,u.Gu)(e),void(0,_.Hz)("user-select",{uid:null==O?void 0:O.id,uniqueId:i,from:"user-link"});if(j&&e.stopPropagation(),T&&s.q.handleEnterUser(C),null==A?void 0:A.is_normal){const e=(0,l.n5)({ad_info:A,play_mode:null!=B?B:"one_column"});d.pg.handleOtherclick(Object.assign(Object.assign({},e),{refer:z}))}(C.group_id||C.from_group_id)&&F.addMlModelTrainData({id:C.group_id||C.from_group_id,action:"head"}),null==I||I(e),null==P||P(e,D,"user")},[F,A,R,j,T,C,I,P,D,null==O?void 0:O.id,i,B,z]),W=(0,a.useCallback)(e=>{var t;13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),null===(t=E.current)||void 0===t||t.click())},[]);return(0,a.useImperativeHandle)(t,()=>({linkClick:()=>{var e;null===(e=E.current)||void 0===e||e.click()}})),A&&!U&&A.web_url?(0,o.jsx)("a",Object.assign({href:A.web_url},L,{ref:E,onClick:N,onKeyDown:W,style:M,target:"_blank",rel:"noreferrer",children:k})):(0,o.jsx)(h.N_,Object.assign({to:D},L,{replace:w||S,ref:E,onClick:N,onKeyDown:W,style:M,children:k}))}))},6972:(e,t,i)=>{"use strict";i.d(t,{Q:()=>v});var n=i(24643),o=i(70716),a=i(64267),r=i(9668),s=i(67476),l=i(40099),d=i(48926),c=i(45027),u=i(73580),p=i(72355),g=i(27799),_=i(85650),m=i(15923);const h=Array.from({length:12},(e,t)=>({label:(5*(t+1)).toString()+"m",value:5*(t+1)})),v=e=>{const{isPopup:t=!1,handleEditPopupClose:i}=e,[v,f]=(0,c.S)(_.z),y=(0,u.Nj)(m.i),[b,x]=(0,l.useState)(v.durationReminder),[k,w]=(0,l.useState)(!!v.durationReminder),[S,C]=(0,l.useState)(!1),[j,T]=(0,l.useState)(1===v.durationReminderType),[I,P]=(0,l.useState)(()=>{let e=v.durationReminder%60;return 0===e&&(e=60),[e]}),A=(0,p.W6)(),M=(0,g.s)(),L="screentimedash_digitalwellbeing_summary_timespent_graph_yaxis_minutes_1",D={"10m":{label:M(L,{minutes:"10"},"{minutes}m"),value:10},"20m":{label:M(L,{minutes:"20"},"{minutes}m"),value:20},"30m":{label:`${M(L,{minutes:"30"},"{minutes}m")}`,value:30}},O=[{name:"minute",options:h}];return(0,l.useEffect)(()=>{k?(C(!0),!b&&x(10)):C(!1)},[k]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.bP,{isPopup:!0,children:[(0,n.jsx)(o.Uc,{children:M("screentime_settings_screentimebreaks_intro_desc",{},"Break reminders help you feel more mindful and balanced on TikTok.")}),t?null:(0,n.jsx)(s.zm,{color:"LineSecondary"}),(0,n.jsxs)(o.w2,{children:[(0,n.jsx)(a.A,{}),(0,n.jsx)(o.PZ,{children:M("screentime_settings_screentimebreaks_intro_schedulebreaks_heading",{},"Schedule a break")})]}),(0,n.jsx)(o.up,{children:M("screentime_settings_screentimebreaks_actionsheet_desc_returninguser",{},"Get reminded to take a break from TikTok after a period of uninterrupted screen time.")}),(0,n.jsxs)(o.w2,{children:[(0,n.jsx)(r.A,{}),(0,n.jsx)(o.PZ,{children:M("screentime_settings_screentimebreaks_intro_tailoryourexp_heading",{},"Tailor your experience")})]}),(0,n.jsx)(o.up,{children:M("screentime_settings_screentimebreaks_intro_tailoryourexp_desc",{},"Snooze to get reminded again or edit future reminders")}),t?null:(0,n.jsx)(s.zm,{color:"LineSecondary"}),(0,n.jsxs)(o.NC,{children:[(0,n.jsx)(o.c3,{children:M("screenTime_web_screenTimeBreaks_mainSetting_toggle_desc",{},"Schedule screen time breaks")}),(0,n.jsx)(s.OV,{label:"",checked:k,onChange:e=>{const{checked:t}=e.target;w(t)}})]}),S?(0,n.jsx)(o.PF,{children:(0,n.jsx)(o.hN,{children:(0,n.jsxs)(n.Fragment,{children:[Object.keys(D).map(e=>(0,n.jsx)(o.tZ,{width:"120px",onClick:()=>{var t;t=D[e].value,T(!1),x(t)},isSelected:!j&&b===D[e].value,children:D[e].label},`${e}`)),(0,n.jsxs)(o.VB,{children:[(0,n.jsx)(o.tZ,{width:"120px",onClick:()=>{T(!0)},isSelected:j,children:M("screenTime_web_setting_customTime_option",{},"Custom")}),j?(0,n.jsx)(d.Q,{label:e=>(e=>{const[t]=e;return`${t?M(L,{minutes:String(t)},"{minutes}m"):""}`})(e),value:I,onChange:e=>{const[t]=e;x(t),j&&P([...e])},selection:O,showArrow:!1,width:"120px"}):null]})]})})}):null,(0,n.jsx)(o.GD,{children:(0,n.jsx)(s.I0,{label:M("screenTime_web_dailyscreentime_manageTime_modal_done_btn",{},"Done"),variant:"primary",onClick:()=>{try{f.sessionDurationChangeHandler({value:k?b:0,type:j?1:0}),t?("function"==typeof i&&i(),y.uploadMetric("web_screen_time_break_in_feed_edit",{break_reminder_status:k?"on":"off",select_time_value:k?b:0})):(A.goBack(),y.uploadMetric("web_screen_time_break_toggle",{status:k?"on":"off"}))}catch(e){console.error(e)}}})})]})})}},6985:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(24643),o=i(40099),a=i(76926);const r={id:"heart-fill-52d919d9",use:"heart-fill-52d919d9-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="heart-fill-52d919d9"><g fill-rule="evenodd" clip-path="url(#heart-fill-52d919d9_a)" clip-rule="evenodd"><path d="M7.5 2.25c3 0 4.5 2 4.5 2s1.5-2 4.5-2c3.5 0 6 2.75 6 6.25 0 4-3.269 7.566-6.25 10.25C14.41 20.407 13 21.5 12 21.5s-2.45-1.101-4.25-2.75C4.82 16.066 1.5 12.5 1.5 8.5c0-3.5 2.5-6.25 6-6.25" /><path fill="black" fill-opacity=".03" d="M2.402 12.2c1.187 2.497 3.357 4.727 5.348 6.55C9.55 20.399 11 21.5 12 21.5s2.41-1.093 4.25-2.75c2.98-2.684 6.25-6.25 6.25-10.25q0-.13-.005-.26C20.567 13.661 13.68 18.5 11.75 18.5c-1.437 0-6.14-2.687-9.348-6.3" /></g><defs><clipPath id="heart-fill-52d919d9_a"><path fill="white" d="M0 0h24v24H0z" /></clipPath></defs></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("heart-fill-52d919d9")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#heart-fill-52d919d9"},void 0)}),void 0)}},7125:(e,t,i)=>{"use strict";i.d(t,{x:()=>f});var n=i(72516),o=i(24643),a=i(40099),r=i(16410),s=i(24506),l=i(80677),d=i(90976),c=i(61322),u=i(47263),p=i(95778);const g=["240","480","720","960"],_=r.default.div`
  width: 100%;
  height: 100%;
  position: relative;
  & img {
    object-fit: ${e=>{var t;return null!==(t=e.objectFit)&&void 0!==t?t:"cover"}};
  }
`,m=r.default.img`
  width: 100%;
  height: 100%;
  object-fit: ${e=>{var t;return null!==(t=e.objectFit)&&void 0!==t?t:"cover"}};
`,h=(()=>{let e=0;return()=>e++})(),v=(0,a.forwardRef)(function(e,t){var i,r,{className:u,objectFit:m,style:v,video:f,imagexSsrMode:y=!0,onLoad:b,useDynamic:x,"data-fmp":k}=e,w=(0,n.__rest)(e,["className","objectFit","style","video","imagexSsrMode","onLoad","useDynamic","data-fmp"]);const{zoomCover:S,cover:C="",quality:j,loading:T="lazy"}=f,I=(0,p.G)(null==S?void 0:S[240]),{userAgent:P}=null!==(i=(0,d.W)(()=>["userAgent"],[]))&&void 0!==i?i:{},{isIOS:A,videoCoverSettings:M}=null!==(r=(0,c.U)(()=>["isIOS","videoCoverSettings"],[]))&&void 0!==r?r:{},L=/^((?!chrome|android).)*safari/i.test(null!=P?P:""),D="undefined"==typeof window,O=y&&D&&M;O&&M._ssrCount++;const R=D?0:h(),[E,F,B]=(0,s.Dh)("video-cover-viewer-ssr-count"),z=!!y&&(D||R<Number(E)),[U,N]=(0,a.useState)(!1),W=(0,a.useCallback)(e=>{e.target.currentSrc.startsWith("data:image")||(null==b||b(e),N(!0))},[b]);return(0,o.jsxs)(_,{className:u,style:v,objectFit:m,ref:t,children:[O&&(0,o.jsx)(B,{data:M._ssrCount}),(0,o.jsx)(l.j,Object.assign({ssr:z,ua:P,src:C,formats:2===I?["avif"]:1===I?["webp"]:[],imageSizes:g.map(e=>Number(e)),layout:"fill",loader:e=>{if("image"===e.format&&0!==I)return C;let t;return t=j?null==S?void 0:S[j]:null==S?void 0:S[e.width||"720"],t||(t=C,t.startsWith("http://")&&(t=t.replace("http://","https://"))),t},loading:L||A?"eager":T,error:(0,o.jsx)("div",{}),onLoad:W,"data-fmp":D||U?k:void 0},w))]})}),f=(0,a.memo)((0,a.forwardRef)(function(e,t){const{useDynamic:i,video:r}=e,s=(0,n.__rest)(e,["useDynamic","video"]),{dynamicCover:l,loading:d}=r,[c,g]=(0,a.useState)(!!l);return(0,a.useEffect)(()=>{if(i&&1===(0,p.G)(l)){const{supportWebp:e}=(0,u.PD)();g(e)}},[]),i&&c?(0,o.jsx)(m,Object.assign({loading:d,src:l,ref:t},s)):(0,o.jsx)(v,Object.assign({},e,{ref:t}))}),(e,t)=>{var i,n;return e.video.cover===t.video.cover&&e.video.quality===t.video.quality&&(null===(i=e.video)||void 0===i?void 0:i.loading)===(null===(n=t.video)||void 0===n?void 0:n.loading)&&e.objectFit===t.objectFit})},7180:(e,t,i)=>{"use strict";i.d(t,{m:()=>m});var n=i(40099),o=i(18499),a=i(23037),r=i(24643),s=i(75431),l=i(16410),d=i(38017);const c=(0,l.default)("div",{target:"exhfy940"})({pointerEvents:"none",position:"fixed",zIndex:1e3},"label:DivDoubleTapContainer;"),u=(0,s.i7)({"0%":{opacity:"1",transform:"scale(1.18)"},"14%":{opacity:"1",transform:"scale(.9)"},"21%":{opacity:"1",transform:"scale(1)"},"58%":{opacity:"1",transform:"scale(1)"},"100%":{opacity:"0",transform:"scale(1.93)"}}),p=(0,l.default)(d.A,{target:"exhfy941"})({animation:`${u} 1400ms`,width:"120px",height:"120px"},"label:StyledLikeIcon;");var g=i(67518);const _=function({x:e,y:t,styledCache:i}){const n=Math.floor(61*Math.random()-30),o=(0,r.jsx)(c,{style:{left:e-60,top:t-60,transform:`rotate(${n}deg)`},children:(0,r.jsx)(p,{})});return i?(0,r.jsxs)(g.C,{value:i,children:[" ",o," "]}):o};class m{constructor(e,t,i=document,n=void 0){this.x=e,this.y=t,this.documentObj=i,this.styledCache=n,this.el=this.documentObj.createElement("div")}emit(){var e;try{(null!==(e=this.documentObj[null===a.e||void 0===a.e?void 0:a.e.fullscreenElement])&&void 0!==e?e:this.documentObj.body).appendChild(this.el),(0,o.render)((0,n.createElement)(_,{x:this.x,y:this.y,styledCache:this.styledCache}),this.el),window.setTimeout(()=>{this.destroy()},1400)}catch(e){console.error(e)}}destroy(){var e;try{(0,o.unmountComponentAtNode)(this.el),(null!==(e=this.documentObj[null===a.e||void 0===a.e?void 0:a.e.fullscreenElement])&&void 0!==e?e:this.documentObj.body).removeChild(this.el)}catch(e){console.error(e)}}}},7182:(e,t,i)=>{"use strict";i.d(t,{I:()=>g});var n=i(72516),o=i(24643),a=i(40099),r=i(43629),s=i(26401),l=i(93731);const d=(0,a.forwardRef)((e,t)=>{const{defaultVolume:i,defaultMuted:n,onVolumeChange:d,onMutedChange:c,showVolumeIcon:u}=e,p=(0,a.useRef)(null),{xgplayer:g,mutedPlay:_,handlePlayerDestroy:m}=(0,r.F)(Object.assign(Object.assign({},e),{playerContainerRef:p}));return(0,a.useImperativeHandle)(t,()=>({destroy:()=>{m()},retry:()=>{var e;null===(e=g.current)||void 0===e||e.retry()}})),(0,o.jsx)(l.S1,{ref:p,children:(0,o.jsx)(l.jw,{children:(0,o.jsx)(s.b,{xgplayer:g,visible:u,defaultVolume:i,defaultMuted:n,mutedPlay:_,onVolumeChange:d,onMutedChange:c})})})});var c=i(74967),u=i(44203);const p=(0,i(16410).default)("div",{target:"e1itz5kg0"})({width:"100%",height:"100%",zIndex:0,position:"relative"},"label:DivSearchPlayer;"),g=(0,a.memo)(e=>{const{visible:t=!0,teaParams:i}=e,r=(0,n.__rest)(e,["visible","teaParams"]),{handlePlayerClick:s}=function(e=!0,t){const i=(0,a.useRef)(!1),n=(0,a.useRef)(0),o=(0,a.useRef)(t),r=(0,a.useRef)("automatic");o.current=t,(0,a.useEffect)(()=>{o.current&&u.lu.handleLiveShow(Object.assign({action_type:"click"},o.current))},[]);const s=(0,a.useCallback)(()=>{const e=Date.now()-n.current;e>0&&n.current>0&&o.current&&(u.lu.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:e},o.current),{play_type:r.current})),n.current=Date.now())},[]);return(0,a.useEffect)(()=>{!i.current&&e&&(o.current&&(r.current=o.current.play_type),n.current=Date.now());const t=Date.now()-n.current;o.current&&i.current&&!e&&t>0&&n.current>0&&(u.lu.handleLiveWindowDuration(Object.assign(Object.assign({action_type:"click",duration:t},o.current),{play_type:r.current})),n.current=Date.now()),i.current=e},[e]),{handlePlayerClick:s}}(t,i),l=(0,c.C)({handleParentPlayError:r.onPlayError}),g=(0,a.useCallback)(()=>{s()},[s]);return(0,o.jsx)(p,{onClick:g,children:t?(0,o.jsx)(d,Object.assign({},l,r)):null})})},7190:(e,t,i)=>{"use strict";i.d(t,{Dp:()=>s,IW:()=>c,Q7:()=>r,Tz:()=>d,Uj:()=>u,ld:()=>l,vl:()=>p});var n=i(16410),o=i(93584),a=i(64541);const r=(0,n.default)(a.ZN,{target:"exw6gkr0"})(({theme:{colors:e},active:t,isRemoveButton:i})=>[{position:"relative",background:t?e.BGInput:e.BGView,":hover":{background:e.BGInput}},i?{marginTop:0,marginBottom:0}:{}],"label:DivRepostTagContainer;"),s=(0,n.default)("ul",{target:"exw6gkr1"})(({theme:e})=>(0,o.zy)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"TikTokFont"}),{borderRadius:"8px",listStyle:"none",margin:"0",padding:"0",whiteSpace:"nowrap",minWidth:"200px"},"label:UlPopupContainer;"),l=(0,n.default)("li",{target:"exw6gkr2"})(({theme:{colors:e}})=>({position:"relative",padding:"0",":not(:first-of-type)::before":{content:'""',position:"absolute",left:"16px",top:0,width:"calc(100% - 32px)",height:"1px",background:e.ConstLineInverse2,transform:"scaleY(0.5)"},":hover":{background:e.BGView},"& > a":{display:"flex",padding:"10px 16px",height:"100%",width:"100%",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",textDecoration:"none",alignItems:"center",gap:"4px","&:hover":{textDecoration:"none"}}}),"label:LiPopupItem;"),d=(0,n.default)("span",{target:"exw6gkr3"})(({theme:{direction:e}})=>Object.assign(Object.assign({},(0,o.mp)({direction:e,paddingStart:"4px"})),{fontSize:"14px",lineHeight:"22px",fontWeight:"400",flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",textDecoration:"none"}),"label:SpanPopupItemText;"),c=(0,n.default)("a",{target:"exw6gkr4"})(({theme:{direction:e}})=>[(0,o.mp)({direction:e,marginStart:0}),{display:"flex",alignItems:"center",direction:e,minWidth:0,textDecoration:"none",":hover":{textDecoration:"none"}}],"label:DivRepostLabelContainer;"),u=(0,n.default)("span",{target:"exw6gkr5"})(({theme:{direction:e,colors:t}})=>[(0,o.mp)({direction:e,marginStart:0}),{display:"inline-flex",direction:e,position:"relative",height:"100%;",padding:0,"& > *":{height:"calc(100% - 8px)",width:"auto",borderRadius:"50%",outline:`.4px solid ${t.BGView}`,outlineOffset:"-.4px",objectFit:"cover","&:not(:first-child)":Object.assign(Object.assign({},(0,o.mp)({direction:e,marginStart:"-5px"})),{mask:"ltr"===e?"radial-gradient(circle 7.5px at -1px 50%,transparent 99%,#fff 50%)":"radial-gradient(circle 7.5px at 14px 50%,transparent 99%,#fff 50%)","&:before":Object.assign(Object.assign({content:'""'},(0,o.mp)({direction:e,start:"-8.2px"})),{position:"absolute",background:t.LineSecondary,display:"inline-block",borderRadius:"50%",height:"15px",width:"15px",top:"-.5px"})})}}],"label:SpanAvatarsContainer;"),p=(0,n.default)("span",{target:"exw6gkr6"})(({theme:{direction:e}})=>[(0,o.mp)({direction:e,marginStart:"4px"}),{fontSize:"14px",lineHeight:"19.5px"}],"label:SpanRepostText;")},7838:(e,t,i)=>{"use strict";i.d(t,{OS:()=>_,h5:()=>p,j5:()=>m,Rv:()=>h,ZR:()=>f});var n=i(16410),o=i(93584);const a=i.p+"25b0d4f3e6779acb114f.png",r=i.p+"1db62e2b736e1cc835a3.png",s=i.p+"f1596f39e85631c052c4.png",l=i.p+"b5b0c8fab7d18dff2e2a.png",d=i.p+"2097820e1be2c7a06bf8.png",c=i.p+"a028a67e740da091b89b.png",u=i.p+"0433f99adc0a040142f6.png",p=(0,n.default)("div",{target:"e1obx3ji0"})(({region:e})=>({marginTop:"US"===e?"40px":"16px",display:"flex",flexDirection:"row",width:"288px",flexWrap:"wrap",justifyContent:"space-between"}),"label:DivDownloadContainer;"),g={amazon:{backgroundPosition:"0 0"},apple:{backgroundPosition:"0 -43px"},google:{backgroundPosition:"0 -86px"}},_=(0,n.default)("a",{target:"e1obx3ji1"})({":nth-of-type(-n+2)":{marginBottom:"8px"}},"label:AIconContainer;"),m=(0,n.default)("img",{target:"e1obx3ji2"})(({platform:e,lang:t})=>function(e,t){return"download"===e?{backgroundImage:"url('https://p16-ttug-sg.tiktokcdn.com/img/ttfe-malisg/tiktok_web/store-badge/download.png~296x0.image')"}:"microsoft"!==e?Object.assign(Object.assign({},g[e]),{backgroundImage:`url(https://p16-ttug-sg.tiktokcdn.com/img/ttfe-malisg/tiktok_web/store-badge/${t}.png~296x0.image)`}):void 0}(e,t),{width:"138px",height:"40px",backgroundSize:"138px",objectFit:"cover",borderRadius:"4px"},"label:ImgIcon;"),h=(0,n.default)("p",{target:"e1obx3ji3"})(({theme:e})=>(0,o.zy)({theme:e,typography:"P1",fontWeight:"semiBold"}),"label:PSubTitle;"),v={ast:a,de:r,en:s,fr:l,it:d,ja:c,pt:u},f=e=>v[e]},8076:(e,t,i)=>{"use strict";i.d(t,{O9:()=>a,hG:()=>r,yE:()=>s});var n=i(40099),o=i(16842);function a({elemRef:e,onHitBottom:t,bottomThreshold:i=10,throttle:a=100,isFirstRender:r}){const s=(0,o._g)(()=>{if(!e.current||r)return;const{offsetHeight:n,scrollTop:o,scrollHeight:a}=e.current;n+o+i>=a&&(null==t||t())},[i,e,t,r],a);(0,n.useEffect)(()=>{const{current:t}=e;return null==t||t.addEventListener("scroll",s),()=>{null==t||t.removeEventListener("scroll",s)}},[e,e.current,s])}function r({elemRef:e,boundingElemRef:t,onHitBottom:i,bottomThreshold:a=10,throttle:r=100}){const s=(0,o._g)(()=>{if(!e.current)return;const{bottom:n}=e.current.getBoundingClientRect(),o=(null==t?void 0:t.current)?t.current.getBoundingClientRect().bottom:window.innerHeight;n-a<=o&&(null==i||i())},[t,a,e,i],r);(0,n.useEffect)(()=>{var e;const i=null!==(e=null==t?void 0:t.current)&&void 0!==e?e:window;return i.addEventListener("scroll",s),()=>{i.removeEventListener("scroll",s)}},[t,s])}function s({elemRef:e,onHitTop:t,scrollTopRef:i,throttle:a=100,isFirstRender:r,onScrollDown:s}){const l=(0,o._g)(()=>{if(!e.current||r)return;const{scrollTop:n,scrollHeight:o}=e.current,a=n<=0;if(i){const r=n<=i.current;i.current=n,a&&r&&(null==t||t(),e.current.scrollTop=e.current.scrollHeight-o)}else a&&(null==t||t());n>0&&(null==s||s())},[e,t,r],a);(0,n.useEffect)(()=>{const{current:t}=e;return null==t||t.addEventListener("scroll",l),null==t||t.addEventListener("wheel",l),()=>{null==t||t.removeEventListener("scroll",l),null==t||t.removeEventListener("wheel",l)}},[e,e.current,l])}},8913:(e,t,i)=>{"use strict";i.d(t,{Q:()=>m});var n=i(72516),o=i(24643),a=i(5415),r=i(78751),s=i(26930),l=i(45027),d=i(80179),c=i(69857),u=i(90976),p=i(27799),g=i(94568),_=i(68252);const m=e=>{const{items:t,detail:i}=e,m=(0,p.s)(),{language:h,appType:v}=(0,c.L$)((0,u.W)(()=>["language","appType"],[])),f=(0,l.w)(g.e),y=(0,d.useSetAtom)(r.b);return(0,s.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e;const{statusCode:n,musicInfo:o}=i;if(o&&-1!==n){const o={language:h},r=Object.assign(Object.assign(Object.assign({},i),o),{statusCode:n,seoProps:{pageId:null===(e=i.musicInfo)||void 0===e?void 0:e.music.id,pageType:4},items:t,t:m}),s=yield(0,_.G)(r,a.X),{metaParams:l={},jsonldList:d=[]}=s;return y({metaParams:l,jsonldList:d}),f.setMusicSharingMetaEffect({seoProps:s,response:i,appType:v})}}),[v,h,i]),(0,o.jsx)(o.Fragment,{})}},9015:(e,t,i)=>{"use strict";i.d(t,{ST:()=>c,Sl:()=>p,VY:()=>l,_w:()=>a,bK:()=>d,hE:()=>s,lZ:()=>r,tq:()=>g});var n=i(24643),o=i(16410);const a=(0,o.default)("div",{target:"e18jr0m50"})([{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",padding:32}],"label:PanelContainer;"),r=(0,o.default)("img",{target:"e18jr0m51"})(({width:e,height:t})=>({width:e||"336px",height:t||"125px"}),"label:Banner;"),s=(0,o.default)("h1",{target:"e18jr0m52"})([{marginTop:24,marginBottom:16}],"label:Title;"),l=(0,o.default)("p",{target:"e18jr0m53"})([{marginTop:0,marginBottom:24}],"label:Description;"),d=(0,o.default)("div",{target:"e18jr0m54"})([{width:"100%",margin:"0 0px 24px"}],"label:DIVDailyPassContainer;"),c=(0,o.default)("div",{target:"e18jr0m55"})([{width:"100%",height:"45px",borderRadius:"4px"}],"label:DIVDailySTMPopupBtnContainer;"),u=(0,o.default)("div",{target:"e18jr0m56"})([{display:"flex",justifyContent:"space-between",textAlign:"left",marginBottom:16}],"label:IconDescriptionContainer;"),p=({icon:e,children:t})=>(0,n.jsxs)(u,{children:[e," ",(0,n.jsx)("p",{style:{marginTop:0,marginBottom:0,marginLeft:12},children:t})]}),g=(0,o.default)("img",{target:"e18jr0m57"})([{width:"343px",height:"147px"}],"label:DailyMinorBanner;")},9242:(e,t,i)=>{"use strict";i.d(t,{k:()=>Me});var n=i(72516),o=i(24643),a=i(67518),r=i(95074),s=i(73580),l=i(40099),d=i(24816),c=i(53900),u=i(64375),p=i(73635),g=i(75778),_=i(37783),m=i(16356),h=i(73976),v=i(61198),f=i(16842),y=i(27799),b=i(23037),x=i(70589),k=i(29547),w=i(52919),S=i(18650),C=i(20173),j=i(19429),T=i(16410),I=i(81825),P=i(29098),A=i(7751),M=i(7713),L=i(93584),D=i(95501),O=i(73107);const R=(0,T.default)("div",{target:"e140z3d00"})({position:"relative",width:400},"label:DivSendMessagePanelContainer;"),E=(0,T.default)("div",{target:"e140z3d01"})(({theme:{direction:e}})=>[{position:"absolute",top:36,cursor:"pointer"},(0,L.mp)({direction:e,end:32})],"label:DivCloseButtonWrapper;"),F=(0,T.default)("h2",{target:"e140z3d02"})(({theme:e,theme:{direction:t}})=>[(0,L.zy)({theme:e,fontFamily:"TikTokFont",typography:"P0",fontWeight:"bold"}),{padding:"32px 0 0"},(0,L.mp)({direction:t,paddingStart:32,paddingEnd:62})],"label:H2ModalTitle;"),B=(0,T.default)("div",{target:"e140z3d03"})(({theme:e})=>({display:"flex",alignItems:"center",width:336,height:36,margin:"24px 32px 0",borderRadius:"4px",backgroundColor:e.colors.BGPlaceholderDefault}),"label:DivSearchContainer;"),z=(0,T.default)(I.A,{target:"e140z3d04"})(({theme:{direction:e}})=>[(0,L.mp)({direction:e,marginStart:16,marginEnd:12})],"label:StyledMagnifyingGlass;"),U=(0,T.default)("input",{target:"e140z3d05"})(({theme:e,theme:{colors:t}})=>[(0,L.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2"}),{width:240,height:22,border:"none",outline:"none",background:"transparent",color:t.TextPrimary,caretColor:t.Primary,"::placeholder":{color:t.TextTertiary}}],"label:InputUser;"),N=(0,T.default)("div",{target:"e140z3d06"})(({theme:{direction:e}})=>[{width:16,height:16,cursor:"pointer"},(0,L.mp)({direction:e,marginStart:8})],"label:DivClearButton;"),W=(0,T.default)("div",{target:"e140z3d07"})({minHeight:200,marginTop:24},"label:DivUserListContainer;"),V=(0,T.default)("p",{target:"e140z3d08"})(({theme:e})=>[(0,L.zy)({theme:e,fontFamily:"TikTokFont",typography:"P1",color:"TextQuaternary"}),{marginTop:74,textAlign:"center"}],"label:PNoResult;"),H=(0,T.default)(D.R,{target:"e140z3d09"})({width:36,height:36,margin:"6px auto 12px"},"label:StyledLoading;"),q=(0,T.default)("p",{target:"e140z3d010"})(({theme:e,theme:{direction:t}})=>[(0,L.zy)({theme:e,fontFamily:"TikTokFont",typography:"P4",color:"TextTertiary"}),{marginBottom:4,fontSize:"13px"},(0,L.mp)({direction:t,marginStart:32})],"label:PUserTitle;"),$=(0,T.default)("div",{target:"e140z3d011"})(({long:e,isSearching:t})=>({position:"relative",boxSizing:"border-box",overflowY:"auto",width:"100%",minHeight:t?e?578:472:200,maxHeight:e?578:472,paddingBottom:e?210:102,"::-webkit-scrollbar":{display:"none"}}),"label:DivUserListInnerContainer;"),G=(0,T.default)("div",{target:"e140z3d012"})(({theme:e})=>({boxSizing:"border-box",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:"8px 32px",cursor:"pointer",":hover":{backgroundColor:e.colors.BGView}}),"label:DivUserItemContainer;"),K=(0,T.default)("div",{target:"e140z3d013"})({display:"flex",flex:1,alignItems:"center",height:48},"label:DivUserItem;"),Y=(0,T.default)("div",{target:"e140z3d014"})(({theme:{direction:e}})=>(0,L.mp)({direction:e,marginStart:12}),"label:DivRightPart;"),Z=(0,T.default)("div",{target:"e140z3d015"})([{display:"flex",alignItems:"center"}],"label:DivNicknameContainer;"),J=(0,T.default)("span",{target:"e140z3d016"})(({theme:e})=>[(0,L.zy)({theme:e,fontFamily:"TikTokFont",typography:"P1",fontWeight:"bold"}),{maxWidth:220},L.PR],"label:SpanNickname;"),X=(0,T.default)(P.A,{target:"e140z3d017"})(({theme:{direction:e}})=>[{flexShrink:0},(0,L.mp)({direction:e,marginStart:4})],"label:StyledVerifiedBadgeColor;"),Q=(0,T.default)("p",{target:"e140z3d018"})(({theme:e})=>[(0,L.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextTertiary"}),{maxWidth:240,marginTop:2},L.PR],"label:PUniqueId;"),ee=(0,T.default)("div",{target:"e140z3d019"})(({theme:{direction:e}})=>[{flexShrink:0,width:22,height:22},(0,L.mp)({direction:e,marginStart:12})],"label:DivCheckboxContainer;"),te=(0,T.default)("div",{target:"e140z3d020"})(({theme:{colors:e}})=>({position:"absolute",bottom:0,left:0,right:0,padding:"12px 32px 32px 32px",backgroundColor:e.BGPrimary,borderRadius:"0 0 8px 8px",":before":{position:"absolute",top:0,left:0,right:0,content:'""',transform:"scaleY(.5)",width:"100%",height:1,backgroundColor:e.LineReverse2}}),"label:DivSendContainer;"),ie=(0,T.default)(O.y,{target:"e140z3d021"})({width:336,height:46,marginTop:12},"label:StyledSendButton;"),ne=(0,T.default)("div",{target:"e140z3d022"})({display:"flex",marginTop:12},"label:DivMessageContainer;"),oe=(0,T.default)("textarea",{target:"e140z3d023"})(({theme:e,theme:{direction:t,colors:i}})=>[(0,L.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2"}),{display:"block",width:268,height:98,border:"none",resize:"none",outline:"none",wordBreak:"break-word",overflowWrap:"break-word",backgroundColor:i.BGPrimary,color:i.TextPrimary,caretColor:i.Primary,"::placeholder":{color:i.TextTertiary}},(0,L.mp)({direction:t,marginEnd:12})],"label:Textarea;"),ae=(0,T.default)("img",{target:"e140z3d024"})({width:56,height:74},"label:ImgCover;"),re=(0,T.default)("div",{target:"e140z3d025"})(({theme:e,theme:{direction:t}})=>[{display:"flex",alignItems:"center",width:336,padding:"12px 0 12px",margin:"16px 32px 0",borderRadius:"4px",backgroundColor:e.colors.BGView},(0,L.mp)({direction:t,paddingStart:16,paddingEnd:4})],"label:DivTipContainer;"),se=(0,T.default)(A.A,{target:"e140z3d026"})({width:24,height:24,flexShrink:0},"label:StyledPersonArrowLeftRight;"),le=(0,T.default)(M.A,{target:"e140z3d027"})({width:24,height:24,flexShrink:0},"label:StyledTwoPerson;"),de=(0,T.default)("div",{target:"e140z3d028"})(({theme:{colors:e}})=>({width:24,height:24,flexShrink:0,fontSize:"24px",color:e.TextSecondary}),"label:DivSubOnlyTagContainer;"),ce=(0,T.default)("p",{target:"e140z3d029"})(({theme:e,theme:{direction:t}})=>[(0,L.zy)({theme:e,fontFamily:"TikTokFont",typography:"P4",color:"TextSecondary"}),{fontSize:"13px"},(0,L.mp)({direction:t,marginStart:12})],"label:PTip;");var ue=i(37082),pe=i(32146),ge=i(69857);const _e=(0,l.forwardRef)(function({uniqueId:e,isSelected:t=!1,searchValue:i="",selectedCount:n,onUserSelected:a},r){const s=(0,m.nW)(t=>t.users[e],v.bN),d=(0,l.useRef)(null);(0,l.useImperativeHandle)(r,()=>({get offsetTop(){var e,t;return null!==(t=null===(e=d.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0}}),[]);const c=(0,l.useCallback)(()=>{n>=15&&!t||a(s,!t)},[t,s,n,a]),{avatarThumb:u,nickname:p="",verified:g}=(0,ge.L$)(s),_=p.toLocaleLowerCase().indexOf(i.toLocaleLowerCase()),h=-1===_?0:i.length;if(!e||!s)return null;const f=p.slice(0,_),y=p.slice(_,_+h),b=p.slice(_+h);return(0,o.jsxs)(G,{ref:d,onClick:c,children:[(0,o.jsxs)(K,{children:[(0,o.jsx)(ue.e,{size:48,src:u}),(0,o.jsxs)(Y,{children:[(0,o.jsxs)(Z,{children:[(0,o.jsx)(J,{children:(0,o.jsxs)("span",{children:[f,(0,o.jsx)("span",{style:{color:"#fe2c55"},children:y}),b]})}),g&&(0,o.jsx)(X,{width:14,height:14,style:{verticalAlign:"middle",marginLeft:4}})]}),(0,o.jsx)(Q,{children:e})]})]}),(0,o.jsx)(ee,{children:(0,o.jsx)(pe.S,{size:22,isCircle:!1,value:t})})]})});var me=i(57615),he=i(43725),ve=i(3580),fe=i(33739),ye=i(90976),be=i(13910),xe=i(50181),ke=i(18999),we=i(56164);const Se=(0,l.forwardRef)(function({uniqueId:e,isSelected:t=!1,searchValue:i="",selectedCount:n,onUserClick:a},r){const s=(0,m.nW)(t=>t.users[e],v.bN),d=(0,l.useRef)(null);(0,l.useImperativeHandle)(r,()=>({get offsetTop(){var e,t;return null!==(t=null===(e=d.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0}}),[]);const c=(0,l.useCallback)(()=>{n>=15&&!t||a(e)},[n,e,t,a]),{avatarThumb:u,nickname:p="",verified:g}=(0,ge.L$)(s);return e&&s?(0,o.jsxs)(we.VN,{ref:d,onClick:c,children:[(0,o.jsxs)(we.Q$,{$isSelected:t,children:[(0,o.jsx)(me.pfZ,{src:u,size:48,alt:e}),(0,o.jsxs)(me.rxD,{direction:"column",style:{overflow:"hidden"},children:[(0,o.jsxs)(me.rxD,{alignItems:"center",gap:".25rem",style:{overflow:"hidden"},children:[(0,o.jsx)(we.MW,{weight:"medium",children:Ce(p,i)}),g&&(0,o.jsx)(me.jgG,{size:".875rem"})]}),(0,o.jsx)(we.SS,{color:"UIText3",children:Ce(e,i)})]})]}),(0,o.jsx)(we.ph,{checked:t,label:""})]}):null});function Ce(e,t,i){const n=e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase()),a=-1===n?0:t.length,r=e.slice(0,n),s=e.slice(n,n+a),l=e.slice(n+a);return(0,o.jsxs)(o.Fragment,{children:[r,(0,o.jsx)("span",{style:null!=i?i:{color:me.Tj4.UIShapePrimary},children:s}),l]})}const je=(0,l.memo)(function({author:e,isFriendsOnly:t,isSubOnly:i,showIcon:n}){const a=(0,y.s)();if(!((0,m.nW)(t=>{var i;return null===(i=t.users[e])||void 0===i?void 0:i.privateAccount})||t||i))return null;let r=me.sCe,s="support_webapp_sharing_toast_2";t?(r=me.K64,s="support_webapp_sharing_toast_1"):i&&(r=me.PB_,s="subVideo_share_note");const l=`@${e}`;return(0,o.jsxs)(we.uU,{children:[n&&(0,o.jsx)(r,{autoMirror:!0,size:"1rem",color:"UIText1"}),(0,o.jsx)(he.F.P4,{children:Ce(a(s,{username:l}),l,{fontWeight:500})})]})});var Te;!function(e){e.RECENT="recent",e.FOLLOWING="following"}(Te||(Te={}));const Ie=(0,l.memo)(function({visible:e,videoId:t,onClose:i,onKeyDown:n,isFromShare:r=!1}){var s;const{zIndex:d}=(0,a.u)(),{user:u}=null!==(s=(0,ye.W)(()=>["user"],[]))&&void 0!==s?s:{},[p,{toggleUserSelection:g,clearUserSelection:_}]=(0,ve.Nj)(e=>e.selectedUsers,v.bN),m=(0,be.k)(t),{forFriend:x,author:k="",subVideoMeta:S}=null!=m?m:{},C=(0,h._q)(),j=(0,fe.Vv)(),[T,I]=(0,l.useState)(""),[P,A]=(0,l.useState)([]),[M,L]=(0,l.useState)([]),D=(0,l.useRef)({recent:!1,following:!1}),O=(0,l.useRef)({recent:{list:[],hasShown:[]},following:{list:[],hasShown:[]}}),R=(0,l.useCallback)((e,t)=>i=>{O.current[t].list[e]=i},[]),E=(0,b.M)(),F=(0,y.s)(),{hasMoreFollowing:B,isFollowingLoading:z,isRecentChatsLoading:U,loadMoreFollowing:N}=(0,xe.d)(),{recentUsers:W,followingUsers:V,initShareUsers:H}=(0,xe.I)(),q=p.size,$=W.length,G=V.length,K=q>0,Y=""!==T;(0,l.useEffect)(()=>{e&&H()},[e,H]),(0,l.useEffect)(()=>{e||(I(""),_(),C.setSendMessageStatus({isFailed:!1,isLoading:!1}))},[e,C,_]),(0,l.useEffect)(()=>{Promise.resolve().then(()=>{const e=O.current.recent,t=O.current.following;if($&&!D.current.recent&&(D.current.recent=!0,W.slice(0,5).forEach((t,i)=>{var n,o;(null!==(o=null===(n=e.list[i])||void 0===n?void 0:n.offsetTop)&&void 0!==o?o:1/0)<354&&(c.w.handleShareHeadShow({user_type:"recent",rank_index:i,is_self:t.uniqueId===(null==u?void 0:u.uniqueId)?1:0,to_user_id:t.uid}),e.hasShown[i]=!0)})),G&&!D.current.following){if(1===G&&B)return;D.current.following=!0,V.slice(0,5).forEach((e,i)=>{var n,o;(null!==(o=null===(n=t.list[i])||void 0===n?void 0:n.offsetTop)&&void 0!==o?o:1/0)<354&&(c.w.handleShareHeadShow({user_type:"following",rank_index:i,is_self:e.uniqueId===(null==u?void 0:u.uniqueId)?1:0,to_user_id:e.uid}),t.hasShown[i]=!0)})}}).catch(()=>{})},[null==u?void 0:u.uniqueId,G,$,W,B,V]),(0,l.useEffect)(()=>{E.addEventListener("keydown",e=>{null==n||n(e)})},[n,E]);const Z=(0,l.useCallback)(e=>{if(I(e),!e)return;const t=[],i=[],n=e.toLocaleLowerCase();W.forEach(e=>{(e.nickname.toLocaleLowerCase().indexOf(n)>-1||e.uniqueId.toLocaleLowerCase().indexOf(n)>-1)&&t.push(e.uniqueId)}),V.forEach(e=>{t.indexOf(e.uniqueId)<0&&(e.nickname.toLocaleLowerCase().indexOf(n)>-1||e.uniqueId.toLocaleLowerCase().indexOf(n)>-1)&&i.push(e.uniqueId)}),A(t),L(i)},[W,V]),J=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),X=(0,f._g)(e=>{if(Y)return;const t=e.currentTarget,{scrollHeight:i,scrollTop:n,clientHeight:o}=t;i-n===o&&N();const a=O.current.recent,r=O.current.following;a.list.forEach((e,t)=>{var i;if(!a.hasShown[t]&&(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<n+o){const e=W[t];c.w.handleShareHeadShow({user_type:"recent",rank_index:t,is_self:e.uniqueId===(null==u?void 0:u.uniqueId)?1:0,to_user_id:e.uid}),a.hasShown[t]=!0}}),r.list.forEach((e,t)=>{var i;if(!r.hasShown[t]&&(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<n+o){const e=V[t];c.w.handleShareHeadShow({user_type:"following",rank_index:t,is_self:e.uniqueId===(null==u?void 0:u.uniqueId)?1:0,to_user_id:e.uid}),r.hasShown[t]=!0}})},[Y,N,W,null==u?void 0:u.uniqueId,V],100),Q=(0,l.useCallback)((e,t,i)=>(0,o.jsx)(Se,{uniqueId:e,isSelected:p.has(e),searchValue:T,selectedCount:q,onUserClick:g,ref:R(t,i)},e),[p,T,q,g,R]);return(0,o.jsxs)(me.nOL,{open:e,onOpenChange:i,outsidePressDismiss:!1,width:"large",style:{zIndex:d.modal,width:"30rem",height:"32.375rem",display:"flex",flexDirection:"column"},children:[(0,o.jsx)(me.DBO,{title:F("support_webapp_sharing_option_button"),style:{height:"4.25rem"},leading:r?(0,o.jsx)(me.PH3,{icon:(0,o.jsx)(me.pdK,{autoMirror:!0}),onClick:j.openShare}):void 0}),(0,o.jsx)(w.t,{isMobile:!1,children:(0,o.jsxs)(we.YP,{onClick:J,children:[(0,o.jsx)(je,{author:k,isFriendsOnly:x,isSubOnly:Boolean(S),showIcon:!0}),(0,o.jsx)(we.bi,{children:(0,o.jsx)(we.rG,{value:T,onChange:Z,onFocus:c.w.handleSearchContact,leadingIcon:(0,o.jsx)(me.Kbf,{}),placeholder:F("support_webapp_sharing_searchbar_ghosttext"),clearable:Y,label:"",hideLabel:!0})}),(0,o.jsx)(we.gg,{onScroll:X,$isInputShowing:K,children:(()=>{if(Y){const e=P.length>0||M.length>0;return(0,o.jsxs)(me.rxD,{direction:"column",children:[P.map((e,t)=>Q(e,t,"recent")),M.map((e,t)=>Q(e,t,"following")),!e&&(0,o.jsx)(we.VK,{children:F("support_webapp_sharing_search_results")})]})}return(0,o.jsxs)(me.rxD,{direction:"column",children:[0!==$&&(0,o.jsx)(he.F.H4,{color:"UIText3",weight:"medium",style:{marginBottom:"1rem"},children:F("support_webapp_sharing_recent")}),W.map((e,t)=>Q(e.uniqueId,t,"recent")),U&&(0,o.jsx)(me.rxD,{justifyContent:"center",children:(0,o.jsx)(me.sgs,{size:"medium"})}),(0!==G||B)&&(0,o.jsx)(he.F.H4,{color:"UIText3",weight:"medium",style:{marginBlock:"1rem"},children:F("support_webapp_sharing_following")}),V.map((e,t)=>Q(e.uniqueId,t,"following")),z&&(0,o.jsx)(me.rxD,{justifyContent:"center",children:(0,o.jsx)(me.sgs,{size:"medium"})})]})})()}),K&&(0,o.jsx)(ke.x,{videoId:t,selectedUsers:p,onShareSuccess:i,isOverlay:!0})]})})]})});var Pe;!function(e){e.RECENT="recent",e.FOLLOWING="following"}(Pe||(Pe={}));const Ae=(0,l.memo)(function({visible:e,videoId:t,onClose:i,onKeyDown:x}){const T=(0,y.s)(),I=(0,r.P)(C.L,{dependencies:[],selector:e=>{var t;return null===(t=e.appContext)||void 0===t?void 0:t.user}}),P=(0,_.F3)(e=>e[t],v.bN),{video:A,forFriend:M,author:L="",authorId:D="",subVideoMeta:O}=(0,l.useMemo)(()=>null!=P?P:{},[P]),[G,K]=(0,m.JY)(e=>e.users[L],v.bN),{privateAccount:Y,nickname:Z}=(0,l.useMemo)(()=>null!=G?G:{},[G]),[{recentUserList:J,recentUserNameList:X,recentUidList:Q,followingUser:ee,isFollowingLoading:ue,isSendMessageLoading:pe},ge]=(0,h.D1)(e=>({recentUserList:e.recentUserList,recentUserNameList:e.recentUserNameList,recentUidList:e.recentUidList,followingUser:e.followingUser,isFollowingLoading:e.isFollowingLoading,isSendMessageLoading:e.isSendMessageLoading}),v.bN),me=(0,s.Nj)(d.A),he=(0,l.useRef)({recent:!1,following:!1}),ve=(0,l.useRef)({recent:{list:[],hasShown:[]},following:{list:[],hasShown:[]}}),fe=(0,l.useCallback)((e,t)=>i=>{ve.current[t].list[e]=i},[]),{isRTL:ye}=(0,S.m)(),{colors:be}=(0,a.u)(),[xe,ke]=(0,l.useState)(""),[we,Se]=(0,l.useState)(""),[Ce,je]=(0,l.useState)([]),[Te,Ie]=(0,l.useState)([]),[Pe,Ae]=(0,l.useState)([]),Me=Ce.length,Le=J.length,{list:De,nicknameList:Oe,uidList:Re,hasMore:Ee}=ee,Fe=De.length,Be=Me>0,ze=""!==xe,Ue=Y||M||Boolean(O);(0,l.useEffect)(()=>{e||(ke(""),Se(""),je([]),ge.setSendMessageStatus({isFailed:!1,isLoading:!1}))},[e,ge]),(0,l.useEffect)(()=>{if(!Fe&&Ee){if(I){const{uid:e,avatarUri:t,nickName:i}=I,o=(0,n.__rest)(I,["uid","avatarUri","nickName"]),a=Object.assign({id:e,nickname:i,verified:!1,relation:0,avatarThumb:t[0],avatarMedium:t[0],avatarLarger:t[0]},o);K.setUser(a),ge.updateFollowingUserList({list:[I.uniqueId],nicknameList:[i],uidList:[e],hasMore:!0,maxCursor:0,minCursor:0})}ge.getFollowingUserListWithCanShare({count:90})}},[]),(0,l.useEffect)(()=>{Promise.resolve().then(()=>{const e=ve.current.recent,t=ve.current.following;if(Le&&!he.current.recent&&(he.current.recent=!0,J.slice(0,5).forEach((t,i)=>{var n,o;(null!==(o=null===(n=e.list[i])||void 0===n?void 0:n.offsetTop)&&void 0!==o?o:1/0)<354&&(c.w.handleShareHeadShow({user_type:"recent",rank_index:i,is_self:t===(null==I?void 0:I.uniqueId)?1:0,to_user_id:Q[i]}),e.hasShown[i]=!0)})),Fe&&!he.current.following){if(1===Fe&&Ee)return;he.current.following=!0,De.slice(0,5).forEach((e,i)=>{var n,o;(null!==(o=null===(n=t.list[i])||void 0===n?void 0:n.offsetTop)&&void 0!==o?o:1/0)<354&&(c.w.handleShareHeadShow({user_type:"following",rank_index:i,is_self:e===(null==I?void 0:I.uniqueId)?1:0,to_user_id:Re[i]}),t.hasShown[i]=!0)})}}).catch(()=>{})},[null==I?void 0:I.uniqueId,De,Fe,J,Le,Q,Re,Ee]),(0,l.useEffect)(()=>{if(!xe)return;const e=[],t=[],i=xe.toLocaleLowerCase();X.forEach((t,n)=>{(t.toLocaleLowerCase().indexOf(i)>-1||J[n].toLocaleLowerCase().indexOf(i)>-1)&&e.push(J[n])}),Oe.forEach((n,o)=>{e.indexOf(De[o])<0&&(n.toLocaleLowerCase().indexOf(i)>-1||De[o].toLocaleLowerCase().indexOf(i)>-1)&&t.push(De[o])}),Ie(e),Ae(t)},[xe,X,J,De,Oe]);const Ne=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),We=(0,l.useCallback)(()=>{i()},[i]),Ve=(0,l.useCallback)((e,t)=>{if(t)e&&je([...Ce,e]);else{let t=-1;Ce.some((i,n)=>i.uniqueId===(null==e?void 0:e.uniqueId)&&(t=n,!0)),t>-1&&(Ce.splice(t,1),je([...Ce]))}},[Ce,me,null==A?void 0:A.id,D,P]),He=(0,l.useCallback)(e=>{const{value:t}=e.target;ke(t)},[]),qe=(0,l.useCallback)(()=>{c.w.handleSearchContact()},[]),$e=(0,l.useCallback)(()=>{ke("")},[]),Ge=(0,l.useCallback)(e=>{const{value:t}=e.target;Se(t)},[]),Ke=(0,j.v)({selectedUserList:Ce,messageText:we,videoId:t});(0,j.C)({selectedUserList:Ce,messageText:we,handleSuccess:()=>{i()},isRTL:ye});const Ye=(0,f._g)(e=>{if(ze)return;const t=e.target,{scrollHeight:i,scrollTop:n,clientHeight:o}=t;i-n===o&&!ue&&Ee&&ge.getFollowingUserListWithCanShare({count:30});const a=ve.current.recent,r=ve.current.following;a.list.forEach((e,t)=>{var i;a.hasShown[t]||(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<n+o&&(c.w.handleShareHeadShow({user_type:"recent",rank_index:t,is_self:J[t]===(null==I?void 0:I.uniqueId)?1:0,to_user_id:Q[t]}),a.hasShown[t]=!0)}),r.list.forEach((e,t)=>{var i;r.hasShown[t]||(null!==(i=null==e?void 0:e.offsetTop)&&void 0!==i?i:1/0)<n+o&&(c.w.handleShareHeadShow({user_type:"following",rank_index:t,is_self:De[t]===(null==I?void 0:I.uniqueId)?1:0,to_user_id:Re[t]}),r.hasShown[t]=!0)})},[ue,Ee,ge,J,null==I?void 0:I.uniqueId,De,ze,Q,Re],100),Ze=(0,l.useCallback)((e,t,i)=>{const n=Ce.some(t=>t.uniqueId===e);return(0,o.jsx)(_e,{uniqueId:e,isSelected:n,searchValue:xe,selectedCount:Me,onUserSelected:Ve,ref:fe(t,i)},t)},[xe,Me,Ce,fe,Ve]),Je=(0,b.M)();return(0,l.useEffect)(()=>{Je.addEventListener("keydown",e=>{null==x||x(e)})},[x,Je]),(0,o.jsx)(k.aF,{parentRef:Je,visible:e,maskCloseable:!1,children:(0,o.jsx)(R,{onClick:Ne,children:(0,o.jsxs)(w.t,{isMobile:!1,children:[(0,o.jsx)(E,{onClick:We,children:(0,o.jsx)(p.A,{width:24,height:24})}),(0,o.jsx)(F,{children:T("support_webapp_sharing_option_button")}),(()=>{if(!Ue)return null;let e=(0,o.jsx)(le,{fill:be.TextSecondary}),t="support_webapp_sharing_toast_2";return M?(e=(0,o.jsx)(se,{fill:be.TextSecondary}),t="support_webapp_sharing_toast_1"):O&&(e=(0,o.jsx)(de,{children:(0,o.jsx)(u.P,{})}),t="subVideo_share_note"),(0,o.jsxs)(re,{children:[e,(0,o.jsx)(ce,{children:T(t,{username:Z})})]})})(),(0,o.jsxs)(B,{children:[(0,o.jsx)(z,{width:24,height:24,fill:ze?be.TextPrimary:be.TextReverse4}),(0,o.jsx)(U,{value:xe,placeholder:T("support_webapp_sharing_searchbar_ghosttext"),onChange:He,onClick:qe}),ze&&(0,o.jsx)(N,{onClick:$e,children:(0,o.jsx)(g.A,{width:16,height:16,fill:be.TextReverse4})})]}),(0,o.jsx)(W,{children:(0,o.jsx)($,{long:Be,isSearching:ze,onScroll:Ye,children:(()=>{if(ze){const e=Te.length>0||Pe.length>0;return(0,o.jsxs)(o.Fragment,{children:[Te.map((e,t)=>Ze(e,t,"recent")),Pe.map((e,t)=>Ze(e,t,"following")),!e&&(0,o.jsx)(V,{children:T("support_webapp_sharing_search_results")})]})}return(0,o.jsxs)(o.Fragment,{children:[0!==Le&&(0,o.jsx)(q,{children:T("support_webapp_sharing_recent")}),J.map((e,t)=>Ze(e,t,"recent")),(0,o.jsx)(q,{style:{marginTop:Le?12:0},children:T("support_webapp_sharing_following")}),De.map((e,t)=>Ze(e,t,"following")),ue&&(0,o.jsx)(H,{})]})})()})}),(0,o.jsxs)(te,{children:[Be&&(0,o.jsxs)(ne,{children:[(0,o.jsx)(oe,{value:we,placeholder:T("support_webapp_sharing_write_a_message"),maxLength:6e3,onChange:Ge}),(0,o.jsx)(ae,{src:null==A?void 0:A.cover})]}),(0,o.jsxs)(ie,{buttonTheme:"primary",disabled:!Be,onClick:Ke,loading:pe,children:[T("support_webapp_sharing_send_button"),Me>1?`(${Me})`:""]})]})]})})})}),Me=(0,l.memo)(function(e){const{isInAppStyleShareExperiment:t}=(0,x.Pk)();return t?(0,o.jsx)(Ie,Object.assign({},e)):(0,o.jsx)(Ae,Object.assign({},e))})},9408:(e,t,i)=>{"use strict";i.d(t,{r:()=>T});var n=i(24643),o=i(67518),a=i(45027),r=i(40099),s=i(87529),l=i(27799),d=i(70589),c=i(69831),u=i(59835),p=i(16410),g=i(93584),_=i(72741),m=i(63595);const h=(0,p.default)("div",{target:"e1aa9wve0"})({paddingTop:"18px",height:"50px",display:"flex",flexDirection:"row",alignItems:"center"},"label:DivTabMenuContainer;"),v=(0,p.default)("div",{target:"e1aa9wve1"})(({isSelected:e=!1,onlyHasOneTab:t=!1,theme:i})=>({borderBottom:!t&&e?`2px solid ${i.colors.TextPrimary}`:"none",width:"50%",height:"100%"}),"label:DivTabItemContainer;"),f=(0,p.default)("div",{target:"e1aa9wve2"})(({onlyHasOneTab:e,isSelected:t=!1,theme:i})=>[(0,g.zy)({theme:i,fontWeight:t?"bold":"semiBold",typography:"P3",fontFamily:"TikTokFont",color:t?"TextPrimary":"TextTertiaryAlt"}),{overflow:"auto",lineHeight:"24px",cursor:"pointer"},!e&&{textAlign:"center"}],"label:DivTabItem;"),y=`-${m.Os}px`,b=(0,p.default)("div",{target:"e1aa9wve3"})(({shouldOptimizeCta:e,theme:{colors:t}})=>({borderTop:`1px solid ${t.LineSecondary}`,marginLeft:e?`-${_.Zh}px`:y,marginRight:e?`-${_.Zh}px`:y,marginBottom:"-1px"}),"label:DivBorder;"),x=(0,p.default)("div",{target:"e1aa9wve4"})(({theme:e})=>[{position:"sticky",top:"-28px",background:e.colors.BGPrimary,zIndex:1,marginBottom:`${m.p}px`}],"label:DivTabMenuWrapper;");var k=i(90976),w=i(34778),S=i(61198),C=i(16356),j=i(98461);const T=(0,r.memo)(function(e){var t,i;const p="rtl"===(0,o.u)().direction,g=(0,l.s)(),{descriptionPart:_,itemId:m,isInCommentList:y=!1,commentTopSearch:T,activeTab:I=0,isCommentDisabled:P,creatorTabDisabled:A,onTabChange:M}=e,{language:L,abTestVersion:D}=null!==(t=(0,k.W)(()=>["language","abTestVersion"],[]))&&void 0!==t?t:{},{allowRightPanelScroll:O,shouldShowCommentsCnt:R}=(0,d.kb)(),[E]=(0,a.S)(c.k,{selector:e=>e[m],dependencies:[m]}),F=(0,C.nW)(e=>{var t;return e.users[null!==(t=null==E?void 0:E.author)&&void 0!==t?t:""]},S.bN),B=(0,j.BX)(),z=(0,u.Eo)(),U=(0,w.JD)(e=>e.isCreatorBrowserMode),{shouldOptimizeCta:N}=(0,d.kb)(),W=(0,r.useCallback)(e=>t=>{var i,n;t.preventDefault(),I!==e&&M&&M(e),1!==e||U||(B.resetCreatorTabList(),B.getCreatorTabList({secUid:null!==(i=null==F?void 0:F.secUid)&&void 0!==i?i:"",key:"creator_tab",createTime:1e3*Number(null!==(n=null==E?void 0:E.createTime)&&void 0!==n?n:0),fetchType:0}),s.G.handleCreatorTabShow({enter_method:"click_creator_tab"}))},[I,M,U,B,L,D,null==E?void 0:E.createTime,null==F?void 0:F.secUid]);if(y&&1===I||!y&&0===I&&O)return null;const V=0===I,H=1===I,q=P||z?"":`(${null===(i=null==E?void 0:E.stats)||void 0===i?void 0:i.commentCount})`,$=(0,n.jsxs)(h,{isInCommentList:y,children:[(0,n.jsx)(v,{isSelected:V,onlyHasOneTab:A,children:(0,n.jsx)(f,{isSelected:V,onClick:W(0),onlyHasOneTab:A,children:p?`${q} ${g("fixed_comments")}`:`${g("fixed_comments")} ${q}`})}),!A&&(0,n.jsx)(()=>(0,n.jsx)(v,{isSelected:H,children:(0,n.jsx)(f,{isSelected:H,onClick:W(1),children:g("pc_web_browser_tabName_creatorVid")})}),{})]});return!O||H?(0,n.jsxs)(n.Fragment,{children:[$,R&&V&&(0,n.jsx)(b,{shouldOptimizeCta:N})]}):(0,n.jsxs)(x,{children:[_,$,V&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{shouldOptimizeCta:N}),T]})]})})},9581:(e,t,i)=>{"use strict";i.d(t,{K:()=>X});var n=i(24643),o=i(40099),a=i(70589),r=i(73580),s=i(39001),l=i(66493),d=i(56764),c=i(71225),u=i(98042),p=i(73041),g=i(19664),_=i(22889),m=i(10114),h=i(69857),v=i(77849),f=i(7125),y=i(55914),b=i(97177),x=i(71052),k=i(58946),w=i(64903),S=i(47910);const C=(0,o.memo)((0,o.forwardRef)(function({poster:e,videoCover:t,lazyLoading:i=!0,horizontal:a,playUrl:C,id:j,teaParams:T,index:I,mode:P,itemMute:A,desc:M,topSearchQueryAfterViewWord:L,onVideoPause:D,onVideoEnded:O,onVideoError:R,e2eTag:E,onTimeUpdate:F,subtitleStruct:B,disableDownload:z=!0,posterStyle:U,bitrateInfo:N,fetchPriority:W="auto",posterAlt:V},H){const{currentVideo:q,autoResolution:$}=(0,g.MY)(),{actualResolution:G}=(0,S.qW)(),K=(0,c.ol)(),Y=(0,u.eu)(),Z=(0,o.useRef)(null),J=(0,o.useRef)(null),X=(0,r.Nj)(s.Gs),Q=(0,r.Nj)(l.AU),[ee,te]=(0,o.useState)(!1),ie=(0,r.Nj)(_.V$),ne=(0,o.useMemo)(()=>(0,p.fU)()?null:new d.K("webapp-desktop",{playReport:X,experienceReport:Q}),[Q,X]),oe=(0,o.useCallback)(()=>{var e,t;null===(t=null===(e=Z.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)},[]),ae=(0,o.useCallback)(()=>{var e,t;null===(t=null===(e=Z.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)},[]),re=(0,o.useMemo)(()=>{if(!q)return!1;const{id:e,index:t,mode:i}=q;return e===j&&t===I&&i===P},[j,I,P,q]);(0,o.useEffect)(()=>{null==ne||ne.setPlayerType(2)},[ne]),(0,o.useImperativeHandle)(H,()=>({play:e=>{oe(),J.current=!0,e&&X.triggerResume({enter_method:"click_resume",playMode:P})},pause:()=>{ae(),J.current=!1,X.triggerPause({enter_method:"click_pause",playMode:P,currentBackendSourceEventTracking:T.currentBackendSourceEventTracking})},seek:e=>{var t;null===(t=Z.current)||void 0===t||t.seek(e)},seekTime:e=>{var t;null===(t=Z.current)||void 0===t||t.seekTime(e)},onSeeked:e=>{var t;null===(t=Z.current)||void 0===t||t.onSeeked(e)},onSeeking:e=>{var t;null===(t=Z.current)||void 0===t||t.onSeeking(e)},onTimeUpdate:e=>{var t;null===(t=Z.current)||void 0===t||t.onTimeUpdate(e)},getFullscreen:()=>{},exitFullscreen:()=>{},replay:()=>{oe(),J.current=!0},updatePlayer:e=>{},changeResolution:e=>{},getResolutionInfo:()=>{},get currentTime(){var e,t;return null!==(t=null===(e=Z.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=Z.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return re&&ee}}),[oe,ae,X,P,re,ee,T.currentBackendSourceEventTracking]),(0,o.useEffect)(()=>{re||te(!1)},[re]);const se=(0,m.jj)();(0,o.useEffect)(()=>{const e=null===J.current||J.current;se&&e?oe():(ae(),re&&!se&&X.triggerPause({enter_method:"switch_tab",playMode:P,currentBackendSourceEventTracking:T.currentBackendSourceEventTracking}))},[se,oe,ae,X,re,P,T.currentBackendSourceEventTracking]);const le=(0,o.useCallback)(()=>{var e;const t=(0,h.L$)(null===(e=Z.current)||void 0===e?void 0:e.getPlayerAttributes()),{bitrate:i,author_id:n,format:o,encodedType:a,videoQuality:r,encodeUserTag:s,codecType:l,definition:d,secret:c,forFriend:u}=T;return Object.assign({id:j,authorId:n,playMode:P,bitrate:i,format:o,encodedType:a,videoQuality:r,encodeUserTag:s,codecType:l,definition:d,secret:c,forFriend:u,play_url:C},null!=t?t:{})},[j,P,T,C]),de=(0,c.i3)(),ce=(0,o.useMemo)(()=>{const{group_id:e="",author_id:t="",is_scheduled:i,search_id:n,search_keyword:o,search_result_id:a,question_id:r,collection_id:s,collection_name:l,isPaidPartnership:d,poi_id:c,is_sub_only_video:u,isPinnedItem:p,isReposted:g,currentBackendSourceEventTracking:_}=T||{};return{itemId:e,authorId:t,isScheduled:Boolean(i),autoplayStatus:1,searchId:n,searchKeyword:o,searchResultId:a,questionId:r,playMode:P,isMute:de,isAutoScroll:Y,resolution:G,is_auto_resolution:$,collectionId:s,collectionName:l,isPaidPartnership:Boolean(d),poiId:c,isSubOnlyVideo:u,isCopyrightMuted:A,isPinnedItem:p,isReposted:g,currentBackendSourceEventTracking:_}},[P,de,Y,A,T,G,$]),ue=(0,o.useCallback)(()=>{var e;const{currentTime:t=0,duration:i=0}=(0,h.L$)(null===(e=Z.current)||void 0===e?void 0:e.getPlayerAttributes());return Object.assign(Object.assign({},ce),{currentTime:t,duration:i,index:I})},[I,ce]);(0,o.useEffect)(()=>{T&&ne&&(ne.videoPlayHandleParams=ue())},[ue,ne,T]);const{loading:pe,handleCanPlayWithLoading:ge,handleWaitingWithLoading:_e}=(0,m.iJ)({isCurrentVideo:re}),me=(0,o.useCallback)(()=>{var e;null==ne||ne.updateMetricsParams({playbackAttribute:null===(e=Z.current)||void 0===e?void 0:e.getPlayerAttributes(),videoQualityParams:le()}),ge(),te(!0),null==ne||ne.onCanPlay()},[le,ne,ge]),he=(0,o.useCallback)(()=>{var e,t;const{currentTime:i=0,duration:n=0}=(0,h.L$)(null===(e=Z.current)||void 0===e?void 0:e.getPlayerAttributes());null==ne||ne.updateMetricsParams({playbackAttribute:Object.assign({},null===(t=Z.current)||void 0===t?void 0:t.getPlayerAttributes()),videoQualityParams:le()}),null==ne||ne.onTimeUpdate(),null==F||F(i/n),k.e.handleFirstFrameVideo()},[le,ne,F]),ve=(0,m.tW)(),fe=(0,o.useCallback)(e=>{var t;null==R||R(e),ve(e),null==ne||ne.updateMetricsParams({playbackAttribute:null===(t=Z.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:le()}),null==ne||ne.onError()},[le,ne,R,ve]),ye=(0,o.useCallback)(()=>{var e;_e(),null==ne||ne.updateMetricsParams({playbackAttribute:null===(e=Z.current)||void 0===e?void 0:e.getPlayerAttributes(),videoQualityParams:le()}),null==ne||ne.onWaiting()},[le,ne,_e]),be=(0,o.useCallback)(e=>{var t;null==O||O(e),null==ne||ne.updateMetricsParams({playbackAttribute:null===(t=Z.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:le()}),null==ne||ne.onEnded()},[le,ne,O]),xe=(0,o.useCallback)(e=>{var t;null==ne||ne.updateMetricsParams({playbackAttribute:null===(t=Z.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:le()}),null==ne||ne.onUnmount(Object.assign({},e))},[le,ne]);(0,o.useEffect)(()=>{re||null==D||D({})},[re,D]);const ke=a||2===P||3===P||5===P||4===P,we=null!=V?V:L?`${L}. ${M}`:M,{armCoreContentEvent:Se}=(0,o.useContext)(y.e),Ce=(0,o.useCallback)(()=>{null==Se||Se(),ie.reportActualFMP(),k.e.handleActualFMP()},[Se,ie]);return(0,w.w)({isCurrentVideo:re,index:I,mode:P}),(0,n.jsxs)(x.Le,{horizontal:a,mode:P,children:[e?(0,n.jsx)(x.R,{horizontal:ke,mode:P,src:e,alt:we,loading:i?"lazy":"eager",style:U,onLoad:Ce,fetchPriority:W}):t?(0,n.jsx)(f.x,{video:t,objectFit:ke?"contain":"cover",style:U,alt:we,onLoad:Ce,fetchPriority:W}):null,re&&(0,n.jsxs)(x.Ec,{"data-e2e":E,children:[(0,n.jsx)(b.e,{ref:Z,horizontal:ke,muteSetting:A||v.T5[P].forceMute,defaultMute:v.T5[P].defaultMute,playProgress:null!=K?K:0,src:C,onUnmount:xe,onTimeUpdate:he,onError:fe,onCanPlay:me,onWaiting:ye,onEnded:be,disableDownload:z,bitrate:T.bitrate,metrics:ne,bitrateInfo:N}),pe&&(0,n.jsx)(x.K3,{}),3!==P&&5!==P||!B?null:(0,n.jsx)("track",{default:!0,kind:"subtitles",srcLang:B.language,src:B.url})]})]})}));var j=i(72516),T=i(45027),I=i(11917),P=i.n(I),A=i(57432),M=i.n(A),L=i(7508),D=i(1880),O=i(60433),R=i(89768),E=i(42780),F=i(67018),B=i(53397),z=i(9429),U=i(76890),N=i(82480),W=i(51426),V=i(20597),H=i(61322),q=i(90976),$=i(50654),G=i(69831),K=i(81229);let Y=null,Z=null;const J=(0,o.memo)((0,o.forwardRef)(function({poster:e,videoCover:t,lazyLoading:i=!0,horizontal:b,playUrl:C,id:I,teaParams:A,index:J,mode:X,itemMute:Q,desc:ee,topSearchQueryAfterViewWord:te,duration:ie,playbackRate:ne=1,onVideoPause:oe=M(),onVideoPlaying:ae=M(),onVideoPlay:re,onVideoEnded:se,onVideoError:le,onTimeUpdate:de,onLoadStart:ce,onLoadedData:ue,onVolumeChange:pe,onVideoUnmount:ge,onUserHandlePlayVideo:_e,onUserHandlePauseVideo:me,onVideoInit:he=M(),e2eTag:ve,subtitleStruct:fe,subtitleList:ye,curSubtitle:be,onSubtitleCallback:xe,onResolutionReady:ke,disableDownload:we=!0,volumeInfo:Se=M(),bitrateInfo:Ce,bitrate:je,posterStyle:Te,playModeForTea:Ie,autoPlay:Pe=!0,autoReplay:Ae=!0,size:Me,playerStyle:Le,fetchPriority:De="auto",renderState:Oe=E.R.ACTIVE,posterAlt:Re,videoInfo:Ee},Fe){var Be,ze,Ue,Ne,We;const Ve=(0,g.Ul)(),He=null!==(Be=(0,u.eu)())&&void 0!==Be&&Be,qe=(0,c.ol)(),$e=(0,g.hM)(),{actualResolution:Ge}=(0,S.qW)(),Ke=(0,g.fD)(),Ye=(0,r.Nj)(s.Gs),Ze=(0,r.Nj)(l.AU),Je=(0,o.useRef)(null),Xe=(0,o.useRef)(null),Qe=(0,u.J3)(),et=(0,c.S4)(),tt=(0,a.HL)(),[it,nt]=(0,o.useState)(!1),[ot,at]=(0,o.useState)(C),[rt,st]=(0,o.useState)(!1),lt=(0,o.useRef)(null),dt=(0,T.w)(G.k),ct=(0,r.Nj)(_.V$),{PlayAddrStruct:ut,videoID:pt}=(0,h.L$)(Ee),gt=(0,K.v)(ut),_t=null!=Ie?Ie:X;if(Y||(Y=(0,O.V)(),Y&&(F.M.getInstance().channelInfo={domain:Y.tea,channel:Y.teaChannel,type:null!==(ze=Y.teaChannelType)&&void 0!==ze?ze:"tcpy"})),!Z&&(Z=(0,R.x)(),Z)){const{user:e,wid:t,region:i,odinId:n}=Z;F.M.regionInfo={region:i,uid:(null==e?void 0:e.uid)||n||t,wid:t,isLogin:Boolean(e)}}const mt=(0,g.w)(J,X,I),ht=[E.R.ACTIVE,E.R.BACKUP,E.R.RETAIN].includes(Oe)&&(0===_t||2===_t);(0,o.useEffect)(()=>{var e;let t=Oe;Je.current&&t===E.R.BACKUP?t=E.R.RETAIN:Je.current||t!==E.R.RETAIN||(t=E.R.BACKUP),null===(e=lt.current)||void 0===e||e.setRenderState(t||"")},[Oe]),(0,o.useEffect)(()=>{if(Ve){const{index:e}=Ve;if(P()(e)&&(J-e<0||J-e>=3))return void(rt&&(st(!1),lt.current=null))}if(!rt){const e=new d.K("webapp-desktop",{playReport:Ye,experienceReport:Ze});st(!0),lt.current=e}},[rt,Ve,J,Ye,Ze]);const vt=(0,o.useCallback)(()=>{var e,t;try{null==_e||_e(),null===(t=null===(e=Je.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)}catch(e){}},[]),ft=(0,o.useCallback)(()=>{var e,t;null===(t=null===(e=Je.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e),null==me||me()},[]);(0,o.useEffect)(()=>{const{id:e,mode:t}=null!=Ve?Ve:{};e===I&&X===t||at(C)},[Ve,I,X,C]),(0,o.useEffect)(()=>{mt||nt(!1)},[mt]),(0,o.useImperativeHandle)(Fe,()=>({play:e=>{vt(),Xe.current=!0,e&&Ye.triggerResume({enter_method:"click_resume",playMode:X})},pause:()=>{ft(),Xe.current=!1,Ye.triggerPause({enter_method:"click_pause",playMode:_t,currentBackendSourceEventTracking:A.currentBackendSourceEventTracking})},seek:e=>{var t;null===(t=Je.current)||void 0===t||t.seek(e)},seekTime:e=>{var t;null===(t=Je.current)||void 0===t||t.seekTime(e)},onSeeked:e=>{var t;null===(t=Je.current)||void 0===t||t.onSeeked(e)},onSeeking:e=>{var t;null===(t=Je.current)||void 0===t||t.onSeeking(e)},onTimeUpdate:e=>{var t;null===(t=Je.current)||void 0===t||t.onTimeUpdate(e)},getFullscreen:e=>{var t;null===(t=Je.current)||void 0===t||t.getFullscreen(e)},exitFullscreen:e=>{var t;null===(t=Je.current)||void 0===t||t.exitFullscreen(e)},replay:()=>{var e;null===(e=Je.current)||void 0===e||e.replay()},updatePlayer:e=>{var t;null===(t=Je.current)||void 0===t||t.updatePlayer(e)},changeResolution:e=>{var t;null===(t=Je.current)||void 0===t||t.changeResolution(e)},getResolutionInfo:()=>{var e;return null===(e=Je.current)||void 0===e?void 0:e.getResolutionInfo()},get currentTime(){var e,t;return null!==(t=null===(e=Je.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=Je.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return mt&&it}}),[it,mt,ft,vt,Ye,_t,A.currentBackendSourceEventTracking]);const yt=(0,m.jj)();(0,o.useEffect)(()=>{var e;const t=null===Xe.current||Xe.current,{ended:i}=(0,h.L$)(null===(e=Je.current)||void 0===e?void 0:e.getPlayerAttributes());yt&&t&&Pe&&(!i||Ae)||7===X&&t?vt():(ft(),mt&&!yt&&Ye.triggerPause({enter_method:"switch_tab",playMode:_t,currentBackendSourceEventTracking:A.currentBackendSourceEventTracking}))},[Pe,yt,vt,ft,Ye,mt,_t,Ae,X,A.currentBackendSourceEventTracking]);const bt=(0,V.Zd)({id:I}),xt=(0,V.Hs)(I),kt=(0,V.yy)(I,J),wt=(0,$.WH)(I),St=(0,o.useMemo)(()=>{var e;const{videoQuality:t}=(0,h.L$)(null===(e=Je.current)||void 0===e?void 0:e.getPlayerAttributes()),{definition:i}=A;return(0,N.H4)(t,i)},[A]),Ct=(0,o.useCallback)(()=>{var e;const t=(0,h.L$)(null===(e=Je.current)||void 0===e?void 0:e.getPlayerAttributes()),{videoBitrate:i,videoQuality:n,codecType:o}=t,a=(0,j.__rest)(t,["videoBitrate","videoQuality","codecType"]),{bitrate:r,author_id:s,format:l,encodedType:d,videoQuality:c,encodeUserTag:u,secret:p,forFriend:g,definition:_,playlist_id:m,popup_type:v,size:f}=A;return Object.assign(Object.assign(Object.assign(Object.assign({id:I,authorId:s,playMode:_t,bitrate:null!=i?i:r,format:l,encodedType:d,videoQuality:c,encodeUserTag:u,codecType:o,definition:St,secret:p,forFriend:g,originalDefinition:_,playlist_id:m,popupType:v},null!=a?a:{}),xt),kt),{size:f})},[I,A,St,_t,xt,kt]),jt=(0,c.i3)(),Tt=(0,o.useMemo)(()=>{const{group_id:e,author_id:t,is_scheduled:i,search_id:n,search_keyword:o,search_result_id:a,question_id:r,collection_id:s,collection_name:l,isPaidPartnership:d,poi_id:c,playlist_id:u,popup_type:p,enter_tab:g,diversify_id:_,enter_method:m,is_sub_only_video:h,tab_name:v,isPinnedItem:f,isReposted:y,is_just_watched:b,index_from_just_watched:x,currentBackendSourceEventTracking:k,inspiration_session_id:w,inspiration_result_id:S,inspiration_keyword:C,inspiration_type:j,rank:T,is_fullscreen:I,token_type:P}=A;return Object.assign(Object.assign(Object.assign({itemId:e,authorId:t,isScheduled:Boolean(i),autoplayStatus:1,searchId:n,searchKeyword:o,searchResultId:a,questionId:r,playMode:_t,isMute:jt,collectionId:s,collectionName:l,isPaidPartnership:Boolean(d),poiId:c,playlistId:u,popupType:p,enterTab:g,diversifyId:_,enterMethod:m,isSubOnlyVideo:h,isCopyrightMuted:Q,isPinnedItem:f,isReposted:y,tab_name:v,isAutoScroll:He,resolution:Ge,is_auto_resolution:Ke,is_just_watched:b,index_from_just_watched:x,currentBackendSourceEventTracking:k,inspiration_session_id:w,inspiration_result_id:S,inspiration_keyword:C,inspiration_type:j,rank:T,is_fullscreen:I,token_type:P},xt),kt),wt)},[jt,Q,A,He,Ge,Ke,_t,xt,kt,wt]),It=(0,o.useCallback)(()=>{var e;const{currentTime:t=0,duration:i=0}=(0,h.L$)(null===(e=Je.current)||void 0===e?void 0:e.getPlayerAttributes());return Object.assign(Object.assign({},Tt),{currentTime:t,duration:i,index:J})},[J,Tt]);(0,o.useEffect)(()=>{A&&rt&&lt.current&&(lt.current.videoPlayHandleParams=It())},[It,A,rt]);const Pt=(0,o.useMemo)(()=>(0,p.fU)()?"":(0,W.N2)(window.location.pathname),[]),{loading:At,handleCanPlayWithLoading:Mt,handlePauseWithLoading:Lt,handlePlayingWithLoading:Dt,handleWaitingWithLoading:Ot}=(0,m.iJ)({isCurrentVideo:mt}),Rt=(0,o.useCallback)(()=>{var e,t,i;null===(e=lt.current)||void 0===e||e.updateMetricsParams({playbackAttribute:null===(t=Je.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:Ct()}),null===(i=lt.current)||void 0===i||i.onLoadStart(),null==ce||ce()},[Ct]),Et=(0,o.useCallback)(()=>{var e,t,i;null===(e=lt.current)||void 0===e||e.updateMetricsParams({playbackAttribute:null===(t=Je.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:Ct()}),null===(i=lt.current)||void 0===i||i.onLoadedData(),null==ue||ue()},[Ct]),Ft=(0,o.useCallback)(()=>{var e,t,i;null===(e=lt.current)||void 0===e||e.updateMetricsParams({playbackAttribute:null===(t=Je.current)||void 0===t?void 0:t.getPlayerAttributes(),videoQualityParams:Ct()}),Mt(),nt(!0),null==he||he(!0),null===(i=lt.current)||void 0===i||i.onCanPlay()},[Ct,Mt,he]),Bt=(0,o.useCallback)(e=>{var t,i,n;null===(t=lt.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=Je.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Ct()}),null===(n=lt.current)||void 0===n||n.onPlay(),null==re||re(e),dt.addMlModelTrainData({id:I,action:"play",isPreview:1===X||6===X}),et.setCanAutoPlay(!0)},[Ct,re,I,dt,X]),zt=(0,o.useCallback)(()=>{var e,t,i,n;const{currentTime:o=0,duration:a=0,playerType:r}=(0,h.L$)(null===(e=Je.current)||void 0===e?void 0:e.getPlayerAttributes()),s=(0,B.ZQ)(),{byteLength:l,duration:d}=s.getPreloadCacheInfo(I);null===(t=lt.current)||void 0===t||t.updateMetricsParams({playbackAttribute:Object.assign(Object.assign(Object.assign({},bt),null===(i=Je.current)||void 0===i?void 0:i.getPlayerAttributes()),{preload_size:l,preload_time:d,player_type:r,bitrateInfo:Ce}),videoQualityParams:Ct()}),null===(n=lt.current)||void 0===n||n.onTimeUpdate(),null==de||de(o/a)},[Ct,de,I,Ce,bt]),Ut=(0,o.useCallback)(()=>{k.e.handleFirstFrameVideo()},[]),Nt=(0,m.TL)(),Wt=(0,o.useCallback)(e=>{const{httpCode:t=-1,errorCode:i=-1,errorMessage:n="",url:o="",response:a="",mode:r="",pathId:s=""}=e;ct.emitEvent("video_mse_error",{},{httpCode:String(t),errorCode:String(i),errorMessage:n,url:o,response:a,mode:r,pathId:s})},[ct]),Vt=(0,o.useCallback)(e=>{var t,i,n,o;Qe.setPlayerError(),null==le||le(e);const a=Ct(),r=null===(t=Je.current)||void 0===t?void 0:t.getPlayerAttributes();Nt(Object.assign(Object.assign({},r),a)),null===(i=lt.current)||void 0===i||i.updateMetricsParams({playbackAttribute:null===(n=Je.current)||void 0===n?void 0:n.getPlayerAttributes(),videoQualityParams:Ct()}),null===(o=lt.current)||void 0===o||o.onError()},[Ct,le,Nt]),Ht=(0,o.useCallback)(e=>{var t,i,n;oe(e),Lt(),null===(t=lt.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=Je.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Ct()}),null===(n=lt.current)||void 0===n||n.onPause(),dt.addMlModelTrainData({id:I,action:"pause"})},[Ct,oe,Lt,I,dt]),qt=(0,o.useCallback)(e=>{var t,i,n;ae(e),Dt(),null===(t=lt.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=Je.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Ct()}),null===(n=lt.current)||void 0===n||n.onPlaying()},[Ct,ae,Dt]),$t=(0,o.useCallback)(()=>{var e,t,i,n,o,a;Ot();const r=null===(e=Je.current)||void 0===e?void 0:e.getPlayerAttributes();if(r){null===(t=lt.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=Je.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Ct()});const{buffered:e,currentTime:s=0,duration:l=0}=r,d=(null!==(n=null==e?void 0:e.length)&&void 0!==n?n:0)>0&&null!==(o=null==e?void 0:e.start(0))&&void 0!==o?o:0;if(Math.abs(d-s)<.5)return;if(Math.abs(l-s)<.5)return;null===(a=lt.current)||void 0===a||a.onWaiting(),dt.addMlModelTrainData({id:I,action:"wait"})}},[Ct,Ot,I,dt]),{handleVvCountOnEnd:Gt,handleBreakCount:Kt}=(0,K.K)(X),Yt=(0,o.useCallback)(()=>{Kt()},[]),Zt=(0,o.useCallback)(e=>{null==pe||pe(e)},[]),Jt=(0,o.useCallback)(e=>{var t,i,n;null===(t=lt.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=Je.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Ct()}),null===(n=lt.current)||void 0===n||n.onEnded(),null==se||se(e),Gt(),dt.addMlModelTrainData({id:I,action:"finish"})},[Ct,se,I,dt]),Xt=(0,o.useCallback)(e=>{var t,i,n,o;const a=(0,B.ZQ)(),{byteLength:r,duration:s}=a.getPreloadCacheInfo(I);null===(t=lt.current)||void 0===t||t.updateMetricsParams({playbackAttribute:null===(i=Je.current)||void 0===i?void 0:i.getPlayerAttributes(),videoQualityParams:Ct()});const l=null===(n=Je.current)||void 0===n?void 0:n.getPlaybackQuality(),d=l?l.droppedVideoFrames/l.totalVideoFrames*100:0;null===(o=lt.current)||void 0===o||o.onUnmount(Object.assign(Object.assign({},e),{preload_size:r,preload_time:s,droppedRate:d})),dt.addMlModelTrainData({id:I,action:"unmount"}),null==ge||ge()},[Ct,I,dt]),Qt=(0,o.useCallback)(e=>{e.preventDefault},[]);(0,o.useEffect)(()=>{mt||null==oe||oe({})},[mt,oe]),(0,o.useEffect)(()=>{mt&&(0,L.uQ)(D.Y.PlayerMounted)},[mt]);const ei=(0,o.useCallback)(()=>{null==he||he()},[he]),ti=b||2===X||3===X||5===X||4===X,ii=(0,o.useMemo)(()=>(0,z.J)(A),[A]),{isTTP:ni}=null!==(Ue=(0,H.U)(()=>["isTTP"],[]))&&void 0!==Ue?Ue:{},{region:oi}=null!==(Ne=(0,q.W)(()=>["region"],[]))&&void 0!==Ne?Ne:{},{abTestVersion:ai}=null!==(We=(0,q.W)(()=>["abTestVersion"],[]))&&void 0!==We?We:{},ri=(0,a.pd)("desktop"),si=(0,a.ZC)(),li=(0,a.iM)("desktop"),di=(0,a.Yu)(),ci=F.M.getInstance();ci.isTTP=ni,ai&&(ci.abTestVersion=ai.versionName,F.M.setABTest(di)),ri&&(ci.hevcAbVersion=ri,F.M.setHevcTestData(li));const ui=(0,r.Nj)(B.JX),pi=ui.getPreloadUrls(),gi=(0,m.CT)(pi),{playerInitHost:_i}=(0,a.NY)(),{videoOrder:mi}=(0,a.Xl)(),hi=null!=Re?Re:te?`${te}. ${ee}`:ee,{armCoreContentEvent:vi}=(0,o.useContext)(y.e),fi=(0,o.useCallback)(()=>{null==vi||vi(),ct.reportActualFMP(),k.e.handleActualFMP()},[vi,ct]);(0,w.w)({isCurrentVideo:mt,index:J,mode:X});const yi=(0,o.useCallback)(e=>{const{errorCode:t,errorMessage:i,logid:n}=e;ct.emitEvent("video_play_end",{count:1},{is_success:`${0===t}`,error_code:String(t),error_msg:i,logid:n})},[ct]);return(0,n.jsxs)(x.Le,{horizontal:b,mode:X,style:Le,children:[e?(0,n.jsx)(x.R,{horizontal:ti,mode:X,src:e,alt:hi,loading:i?"lazy":"eager",style:Te,onLoad:fi,fetchPriority:De}):t?(0,n.jsx)(f.x,{video:t,objectFit:ti?"contain":"cover",style:Te,alt:hi,onLoad:fi,fetchPriority:De}):null,(mt||ht)&&(0,n.jsxs)(x.Ec,{horizontal:ti,"data-e2e":ve,children:[(0,n.jsx)(U.I,{ref:Je,id:I,vid:pt,url:ot,urlList:gt,playbackRate:ne,mode:X,muteSetting:Q||v.T5[X].forceMute,defaultMute:v.T5[X].defaultMute,playProgress:null!=qe?qe:0,duration:ie,onUnmount:Xt,onLoadStart:Rt,onLoadedData:Et,onTimeUpdate:zt,onError:Vt,onCanPlay:Ft,onPause:Ht,onPlay:Bt,onPlaying:qt,onWaiting:$t,onEnded:Jt,onBreak:Yt,onVideoChange:ei,onResolutionReady:ke,userResolution:$e,onContextMenu:Qt,onVideoVolumeChange:Zt,onVideoPlayEnd:yi,subtitleStruct:fe,subtitleList:ye,curSubtitle:be,onSubtitleCallback:xe,disableDownload:we,volumeInfo:Se,bitrateInfo:Ce,defaultDefinition:ii,preloader:ui,preloadUrlsList:gi,playerInitHost:_i,defaultBitrate:je,videoOrder:mi,teaParams:A,autoPlay:Pe,autoReplay:Ae,size:Me,pathId:Pt,metrics:lt.current,playbackAbTestInfo:Object.assign(Object.assign({},di),si),handleMseError:Wt,isTTP:!!ni&&"US"===oi,vIndex:J,renderState:Oe,onAutoplayPrevented:()=>{tt&&et.setCanAutoPlay(!1)},onFirstFrame:Ut}),At&&(0,n.jsx)(x.K3,{})]})]})})),X=(0,o.memo)((0,o.forwardRef)(function(e,t){const i=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,()=>({play:e=>{var t,n;(null===(t=i.current)||void 0===t?void 0:t.play)&&(null===(n=i.current)||void 0===n||n.play(e))},pause:()=>{var e,t;(null===(e=i.current)||void 0===e?void 0:e.pause)&&(null===(t=i.current)||void 0===t||t.pause())},seek:e=>{var t,n;(null===(t=i.current)||void 0===t?void 0:t.seek)&&(null===(n=i.current)||void 0===n||n.seek(e))},seekTime:e=>{var t,n;(null===(t=i.current)||void 0===t?void 0:t.seekTime)&&(null===(n=i.current)||void 0===n||n.seekTime(e))},onSeeked:e=>{var t,n;(null===(t=i.current)||void 0===t?void 0:t.onSeeked)&&(null===(n=i.current)||void 0===n||n.onSeeked(e))},onSeeking:e=>{var t,n;(null===(t=i.current)||void 0===t?void 0:t.onSeeking)&&(null===(n=i.current)||void 0===n||n.onSeeking(e))},onTimeUpdate:e=>{var t,n;(null===(t=i.current)||void 0===t?void 0:t.onTimeUpdate)&&(null===(n=i.current)||void 0===n||n.onTimeUpdate(e))},getFullscreen:e=>{var t;null===(t=i.current)||void 0===t||t.getFullscreen(e)},exitFullscreen:e=>{var t;null===(t=i.current)||void 0===t||t.exitFullscreen(e)},replay:()=>{var e,t;(null===(e=i.current)||void 0===e?void 0:e.replay)&&(null===(t=i.current)||void 0===t||t.replay())},updatePlayer:e=>{var t,n;(null===(t=i.current)||void 0===t?void 0:t.updatePlayer)&&(null===(n=i.current)||void 0===n||n.updatePlayer(e))},changeResolution:e=>{var t,n;(null===(t=i.current)||void 0===t?void 0:t.changeResolution)&&(null===(n=i.current)||void 0===n||n.changeResolution(e))},getResolutionInfo:()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.getResolutionInfo()},get currentTime(){var e,t;return null!==(t=null===(e=i.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=i.current)||void 0===e?void 0:e.duration)&&void 0!==t?t:0},get currentCanPlay(){var e,t;return null!==(t=null===(e=i.current)||void 0===e?void 0:e.currentCanPlay)&&void 0!==t&&t}}));const{isUseNativePlayer:r,adaptBitrateVid:s}=(0,a.Sc)();return r?(0,n.jsx)(C,Object.assign({},e,{ref:i})):(0,n.jsx)(J,Object.assign({},e,{adaptBitrateVid:s,ref:i}))}))},9656:(e,t,i)=>{"use strict";i.d(t,{J:()=>d});var n=i(72516),o=i(71111),a=i(35762),r=i(6418),s=i(74908);const l=(0,o.atom)({linkedUsers:{},linkedMicUsers:null}),d=(0,o.atom)(e=>e(l),(e,t,i)=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e,n,o;try{const d=yield(o=i,a.h.get("/webcast/linkmic_multi_guest/webapp/audience_room_enter_backup/",{query:Object.assign({live_id:r.M2,app_id:r.xE},o),baseUrlType:4}));if(!(null==d?void 0:d.data))throw Error("no data");{const i=null!==(n=null===(e=d.data.multi_guest_linkmic_info)||void 0===e?void 0:e.linked_users)&&void 0!==n?n:[],{linkedMicUsers:o,linkedMicUserMap:a}=(0,s.Mu)(i);t(l,{linkedUsers:a,linkedMicUsers:o})}}catch(e){t(l,{linkedUsers:{},linkedMicUsers:null})}}))},10114:(e,t,i)=>{"use strict";i.d(t,{CT:()=>T,TL:()=>j,Ux:()=>w,ah:()=>x,eM:()=>I,iJ:()=>y,jj:()=>b,rq:()=>k,tW:()=>C});var n=i(73580),o=i(95074),a=i(40099),r=i(43664),s=i(9429),l=i(20434),d=i(27799),c=i(69831),u=i(70589),p=i(77849),g=i(22889),_=i(35938),m=i(48156),h=i(58116),v=i(71225),f=i(98042);function y({loadingThreshold:e=1e3,isCurrentVideo:t}){const[i,n]=(0,a.useState)(!1),o=(0,a.useRef)(0),r=(0,a.useCallback)(()=>{o.current&&window.clearTimeout(o.current),n(!1)},[]),s=(0,a.useCallback)(()=>{e?(o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{n(!0)},e)):n(!0)},[e]);return(0,a.useEffect)(()=>(t||(window.clearTimeout(o.current),n(!1)),()=>window.clearTimeout(o.current)),[t]),{loading:i,handleCanPlayWithLoading:r,handlePauseWithLoading:r,handlePlayingWithLoading:r,handleErrorWithLoading:r,handleWaitingWithLoading:s}}function b(){const[e,t]=(0,a.useState)(!0),i=(0,a.useCallback)(()=>{t(!1)},[]),n=(0,a.useCallback)(()=>{t(!0)},[]);return(0,a.useEffect)(()=>{const e=(0,l.Gz)(i,n);return()=>{null==e||e()}},[n,i]),e}function x({playMode:e,itemMute:t=!1}){const i=(0,d.s)(),{mute:n,volume:o}=(0,h.yw)(),s=t||n,l=(0,v.S4)(),c=(0,u.W4)(),p=(0,a.useCallback)((n,a="click",s,d)=>{if(t||d)return m.F.destroy(),m.F.open({content:i("music_detail_unavailable_1"),duration:3,widthType:"half"}),!1;if(r.p.handleSwitchSound(Object.assign(Object.assign({},s),{muted:n,playMode:e,enter_method:a})),r.p.handleVolumeChange({volume_to:o,click_mute:!0}),_.lA.setItem("muted",n),l.setMute(n),!n&&0===_.lA.getItem("volume")){let e=.6;"v2"===c?e=.7:"v3"===c?e=.75:"v4"===c?e=.5:"v5"===c&&(e=.4),_.lA.setItem("volume",e),l.setVolume(e)}return!0},[l,e,c,o,i,t]);return{mute:s,volume:o,setMute:p}}function k(){const{mute:e,volume:t}=(0,h.yw)(),i=(0,v.S4)(),n=(0,a.useCallback)((e,t)=>{_.lA.setItem("volume",e),i.setVolume(e),0===e?(_.lA.setItem("muted",!0),i.setMute(!0)):t&&(_.lA.setItem("muted",!1),i.setMute(!1))},[i]);return{mute:e,volume:t,setVolume:n}}function w(e){var t,i;const{setMute:n,setVolume:o}=(0,v.S4)(),r=(0,u.W4)();let s=.6;"v2"===r?s=.7:"v3"===r?s=.75:"v4"===r?s=.5:"v5"===r&&(s=.4);const l=null!==(t=_.lA.getItem("muted"))&&void 0!==t?t:p.T5[e].defaultMute;s=null!==(i=_.lA.getItem("volume"))&&void 0!==i?i:s,(0,a.useEffect)(()=>{n(l),o(s)},[])}const S="video_playback_error";function C(){const e=(0,n.Nj)(g.V$);return(0,a.useCallback)(t=>{var i,n,o;const a=null!==(n=null===(i=null==t?void 0:t.nativeEvent)||void 0===i?void 0:i.target)&&void 0!==n?n:null===(o=null==t?void 0:t.nativeEvent)||void 0===o?void 0:o.srcElement;if(a){const{error:{code:t=-1,message:i="Empty message"}={},networkState:n,readyState:o}=a;e.emitEvent(S,{code:t},{errorMessage:i,errorCode:t,readyState:o,networkState:n,isXgPlayer:"0"})}},[e])}function j(){const e=(0,n.Nj)(g.V$);return(0,a.useCallback)(t=>{var i,n;if(t)try{const{error:o,readyState:a,networkState:r,codecType:l="h264"}=t,{code:d=-1,message:c="Empty message"}=null!=o?o:{},u=(0,s.mY)();e.emitEvent(S,{code:d},{errorMessage:c,errorCode:String(d),readyState:String(a),networkState:String(r),hevcRobustness:u.supportRobustness||"-100",hevcBase:u.isSupportBase?"1":"-100",is_bytevc1:null!==(i=String(l.indexOf("h265")>-1?1:0))&&void 0!==i?i:"-100",cpu_core:null!==(n=String(null===navigator||void 0===navigator?void 0:navigator.hardwareConcurrency))&&void 0!==n?n:"0"})}catch(e){}},[e])}function T(e){const t=(0,o.P)(c.k);return(0,a.useMemo)(()=>e.map(e=>{var i,n,o,a,r,l,d,c;const u=null!==(i=e.id)&&void 0!==i?i:"",p=t[u],g=null!==(o=null===(n=null==p?void 0:p.video)||void 0===n?void 0:n.bitrateInfo)&&void 0!==o?o:[];return g.length>0?g.map(t=>{var i,n,o,a;return{id:null==e?void 0:e.id,url:null!==(n=null===(i=t.PlayAddr)||void 0===i?void 0:i.UrlList)&&void 0!==n?n:null===(o=null==p?void 0:p.video)||void 0===o?void 0:o.playAddr,definition:t.GearName,bitrate:t.Bitrate||0,duration:null===(a=null==p?void 0:p.video)||void 0===a?void 0:a.duration,codecType:t.CodecType,qualityType:t.QualityType}}):[{id:null==e?void 0:e.id,url:null===(a=null==p?void 0:p.video)||void 0===a?void 0:a.playAddr,definition:(0,s.J)(null==p?void 0:p.video),bitrate:(null===(r=null==p?void 0:p.video)||void 0===r?void 0:r.bitrate)||0,duration:null===(l=null==p?void 0:p.video)||void 0===l?void 0:l.duration,codecType:(null===(d=null==p?void 0:p.video)||void 0===d?void 0:d.codecType)||"h264",qualityType:(null===(c=null==p?void 0:p.video)||void 0===c?void 0:c.qualityType)||"20"}]}),[t,e])}const I=()=>{const e=(0,f.J3)(),t=(0,u.HL)();return(0,a.useCallback)(i=>{var n,o;const a=null!==(o=null===(n=e.getStaticPlayerUIState())||void 0===n?void 0:n.showUnmuteTooltip)&&void 0!==o&&o;if(!i||i<3||a||!t)return;const r=_.lA.getItem("unmuteTooltipTimestamp");r&&Date.now()-r<6048e5||(e.updateShowUnmuteTooltip(!0),setTimeout(()=>{e.updateShowUnmuteTooltip(!1),_.lA.setItem("unmuteTooltipTimestamp",Date.now())},5e3))},[])}},10206:(e,t,i)=>{"use strict";i.d(t,{H:()=>x});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(8536),l=i(65070),d=i(23999),c=i(62564),u=i(20259),p=i(53708),g=i(26324),_=i(7672),m=i(22889);let h=class{constructor(e){this.service=e,this.defaultMetrics={count:1},this.handleSyncKrPolicyApprove=e=>{this.service.emitEvent("SyncKrPolicyApprove",this.defaultMetrics,e)}}};h=(0,n.__decorate)([(0,_._)(),(0,n.__metadata)("design:paramtypes",[m.V$])],h);var v=i(98923),f=i(54133),y=i(44094);let b=class{constructor(e){this.fetch=e}getUniversalPopConfig(e){return this.fetch.get("/api/policy/notice/",{query:e})}setUniversalPopOperation(e){return this.fetch.post("https://www.tiktok.com/api/policy/notice/approve/",{body:(0,f.stringify)(e)})}getPolicyContent(e){return this.fetch.get("https://www.tiktok.com/web/api/v2/project/articleContent/",{query:e})}};b=(0,n.__decorate)([(0,_._)(),(0,n.__metadata)("design:paramtypes",[y.p])],b);let x=class extends o.E{constructor(e,t,i){super(),this.pnsSlardar=e,this.pnsReport=t,this.service=i,this.defaultState={krPolicySelection:[],termsDomContent:"",privacyDomContent:""}}setKrPolicySelection(e,t){e.krPolicySelection=t}setTermsDomContent(e,t){e.termsDomContent=t}setPrivacyDomContent(e,t){e.privacyDomContent=t}requestPolicyContent(e){return e.pipe((0,s.Z)(({articleKeys:e,lang:t})=>(0,l.p)(e.map(e=>this.service.getPolicyContent({lang:t,project_key:"legal",article_key:e}))))).pipe((0,s.Z)(e=>(0,d.of)(this.getActions().setTermsDomContent(e[0].body.article_content),this.getActions().setPrivacyDomContent(e[1].body.article_content))))}syncKrPolicyApprove(e){const{krPolicySelection:t}=this.state;if("KR"!==e||!t.length)return(0,d.of)(null);const i=-1!==t.indexOf("push-policy");return this.pnsReport.handlePolicyConfirmOnFYP({trending:i?"on":"off"}),this.service.setUniversalPopOperation({business:"kr_consent_market_message",policy_version:"v20200629",style:"bottom",operation:-1!==t.indexOf("push-policy")?"2":"1",aid:1988}).pipe((0,c.T)(({status_code:e})=>{if(this.pnsSlardar.handleSyncKrPolicyApprove({error_code:`${e}`}),0!==e)throw new Error(`sync kr policy error, error_code: ${e}`);return(0,d.of)(null)}),(0,u.W)(e=>(console.error(e),(0,d.of)({status_code:-1}))),(0,p.L)(1))}};(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",g.c)],x.prototype,"dispose$",void 0),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],x.prototype,"setKrPolicySelection",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],x.prototype,"setTermsDomContent",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],x.prototype,"setPrivacyDomContent",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[g.c]),(0,n.__metadata)("design:returntype",void 0)],x.prototype,"requestPolicyContent",null),x=(0,n.__decorate)([(0,r.nV)("PolicyModule"),(0,n.__metadata)("design:paramtypes",[h,v.W,b])],x)},10509:(e,t,i)=>{"use strict";i.d(t,{f:()=>C});var n=i(24643),o=i(67518),a=i(98124),r=i(27799),s=i(74667),l=i(73107),d=i(16410),c=i(71615),u=i(93584),p=i(40099),g=i(76926);const _={id:"camera-cf8abbd6",use:"camera-cf8abbd6-usage",viewBox:"0 0 70 56",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 56" id="camera-cf8abbd6"><path fill="#161823" d="M7.599 55.123h42.608c4.174 0 7.57-3.397 7.575-7.57V37.144l9.66 8.671a1.51 1.51 0 0 0 1.63.257c.546-.242.9-.787.9-1.383V10.663a1.517 1.517 0 0 0-2.53-1.126l-9.66 8.671V7.801c0-4.174-3.396-7.57-7.57-7.57H7.599C3.425.23.029 3.626.029 7.8v39.751c0 4.174 3.396 7.57 7.57 7.57zM3.057 7.8a4.55 4.55 0 0 1 4.542-4.543h42.613A4.55 4.55 0 0 1 54.754 7.8v13.803a1.517 1.517 0 0 0 2.529 1.126l9.66-8.671v27.24l-9.66-8.672a1.517 1.517 0 0 0-2.529 1.126v13.799a4.55 4.55 0 0 1-4.542 4.542H7.599a4.55 4.55 0 0 1-4.542-4.542zm37.387 31.568a1.51 1.51 0 0 1-1.15-.532 13.22 13.22 0 0 0-9.955-4.666l-.116.005a13.2 13.2 0 0 0-10.082 4.666 1.52 1.52 0 0 1-1.15.527 1.505 1.505 0 0 1-1.145-2.481 16.21 16.21 0 0 1 12.236-5.726q.065-.005.13-.005a16.23 16.23 0 0 1 12.378 5.726 1.51 1.51 0 0 1-1.146 2.486M18.182 26.34a1.505 1.505 0 0 1-1.507-1.506v-4.581c0-.834.673-1.507 1.507-1.507s1.507.673 1.507 1.506v4.581c0 .834-.674 1.508-1.507 1.508zm20.564-1.506c0 .833.673 1.507 1.507 1.507s1.507-.674 1.507-1.508v-4.58c0-.834-.673-1.507-1.507-1.507s-1.507.673-1.507 1.506v4.581z" /></symbol>'};function m(e){const t=(0,p.useContext)(g.X);return(0,p.useLayoutEffect)(()=>(t.add(_),()=>{t.remove("camera-cf8abbd6")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#camera-cf8abbd6"},void 0)}),void 0)}const h=(0,d.default)("div",{target:"e1o3wfnp0"})(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.colors.BGPrimary,borderRadius:8,height:"100%"}),"label:DivExceptionWrapper;"),v=(0,d.default)("div",{target:"e1o3wfnp1"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:480},"label:DivExceptionContent;"),f=(0,d.default)("div",{target:"e1o3wfnp2"})({marginBottom:25,width:70,height:55},"label:DivIconWrapper;"),y=(0,d.default)("h3",{target:"e1o3wfnp3"})(({theme:e})=>[(0,u.zy)({theme:e,typography:"P3",color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:24,lineHeight:"32px",textAlign:"center",paddingBottom:8,margin:0}],"label:H3Title;"),b=(0,d.default)("h5",{target:"e1o3wfnp4"})(({theme:e})=>[(0,u.zy)({theme:e,color:"TextPrimary",fontWeight:"normal"}),{fontSize:16,lineHeight:"22px",textAlign:"center",paddingBottom:24,margin:0}],"label:H5SubTitle;"),x=(0,d.default)(c.A,{target:"e1o3wfnp5"})(({theme:e})=>({width:69,height:69,">path":{fill:e.colors.TextPrimary}}),"label:StyledErrorRobotLarge;"),k=(0,d.default)(m,{target:"e1o3wfnp6"})(({theme:e})=>({width:69,height:69,fillOpacity:.34,">path":{fill:e.colors.TextPrimary}}),"label:StyledCameraSVG;"),w=(0,d.default)("div",{target:"e1o3wfnp7"})(({theme:e})=>({width:69,height:69,fillOpacity:.34,color:e.colors.TextPrimary}),"label:DivVideoSVG;"),S=e=>{const{title:t,className:i,subTitle:o,onClick:a,buttonText:r,status:d="camera",style:c}=e;return(0,n.jsx)(h,{className:i,style:c,children:(0,n.jsxs)(v,{children:[(0,n.jsxs)(f,{children:["tv"===d&&(0,n.jsx)(x,{}),"camera"===d&&(0,n.jsx)(k,{}),"video"===d&&(0,n.jsx)(w,{children:(0,n.jsx)(s.x,{size:80})})]}),(0,n.jsx)(y,{children:t}),(0,n.jsx)(b,{children:o}),(0,n.jsx)(l.y,{size:"largeNew",onClick:a,children:r})]})})},C=({content:e,onRetryClick:t})=>{const i=(0,r.s)(),s=(0,a.O4)({isDark:!0});return(0,n.jsx)(o.a,{theme:s,children:(0,n.jsx)(S,{style:{zIndex:2,position:"absolute",top:0,width:"100%"},status:"tv",title:i("live_error_network_title"),subTitle:null!=e?e:i("live_error_network_body"),buttonText:i("live_error_network_button"),onClick:t})})}},10535:(e,t,i)=>{"use strict";i.d(t,{b:()=>s});var n=i(40099),o=i(58116),a=i(71225),r=i(35938);function s(){const{mute:e,volume:t}=(0,o.yw)(),i=(0,a.S4)(),s=(0,n.useCallback)(e=>{r.lA.setItem("volume",e),i.setVolume(e)},[i]),l=(0,n.useCallback)(e=>{r.lA.setItem("muted",e),i.setMute(e)},[i]);return(0,n.useMemo)(()=>({volume:t,mute:e,onGlobalVolumeChange:s,onGlobalMuteChange:l}),[l,s,e,t])}},10645:(e,t,i)=>{"use strict";i.d(t,{AR:()=>_,C6:()=>u,RA:()=>c,aX:()=>l,h0:()=>r,iZ:()=>d,nm:()=>s,rI:()=>p,rs:()=>g});var n=i(16410),o=i(93584),a=i(73107);const r=(0,n.default)("div",{target:"ea28s0v0"})({width:"280px",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"12px",paddingTop:"24px",overflow:"hidden"},"label:DivLogoutLinkPhoneContainer;"),s=(0,n.default)("div",{target:"ea28s0v1"})(({theme:e})=>[(0,o.zy)({theme:e,typography:"P0",fontWeight:"bold",fontFamily:"TikTokFont",fontSize:"20px"}),{padding:"8px 20px",lineHeight:"25px",width:"100%",textAlign:"center",color:e.colors.TextPrimary}],"label:DivLogoutLinkPhoneTitleContainer;"),l=(0,n.default)("div",{target:"ea28s0v2"})(({theme:e})=>[(0,o.zy)({theme:e,fontWeight:"normal",fontFamily:"TikTokFont",fontSize:"15px"}),{padding:"12px 24px",lineHeight:"19.5px",width:"100%",textAlign:"center",color:e.colors.TextPrimary,wordWrap:"break-word"}],"label:DivLogoutLinkPhoneDescContainer;"),d=(0,n.default)(a.y,{target:"ea28s0v3"})(({theme:{direction:e,colors:t}})=>[(0,o.mp)({direction:e,end:"0"}),{width:"100%",height:"48px",padding:"0 10px",borderRadius:"0",display:"flex",flexDirection:"column",border:"none",borderTop:`1px solid ${t.LineSecondary}`,textColor:"red"}],"label:StyledLinkPhonePopupLogoutButton;"),c=(0,n.default)("div",{target:"ea28s0v4"})(({theme:e})=>[{width:"400px",padding:"32px",display:"flex",boxSizing:"border-box",flexDirection:"column",alignItems:"center",backgroundColor:e.colors.BGSecondary,borderRadius:"8px",border:`1px solid ${e.colors.LineSecondary3}`,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.06)"}],"label:DivLogoutConfirmContainer;"),u=(0,n.default)("div",{target:"ea28s0v5"})(({theme:e})=>[(0,o.zy)({theme:e,typography:"P0",fontWeight:"bold",fontFamily:"TikTokFont"}),{padding:"0px 32px",width:"100%",textAlign:"center",color:e.colors.TextPrimary}],"label:DivLogoutConfirmTitle;"),p=(0,n.default)("div",{target:"ea28s0v6"})(({theme:e})=>[(0,o.zy)({theme:e,fontWeight:"normal",fontFamily:"TikTokFont"}),{fontSize:"15px",lineHeight:"19.5px",paddingTop:"12px",width:"100%",textAlign:"center",color:e.colors.TextPrimary,wordBreak:"break-word"}],"label:DivLogoutConfirmDesc;"),g=(0,n.default)("div",{target:"ea28s0v7"})([{display:"flex",width:"336px",justifyContent:"space-between",marginTop:"16px"}],"label:DivButtonWrapper;"),_=(0,n.default)(a.y,{target:"ea28s0v8"})(({theme:{direction:e}})=>[(0,o.mp)({direction:e,end:"0"}),{width:"164px",height:"48px",padding:"0 10px"}],"label:StyledLogoutButton;")},10651:(e,t,i)=>{"use strict";i.d(t,{W:()=>l});var n=i(70589),o=i(96605),a=i(82215),r=i(59846),s=i(40099);const l=e=>{const{setShowModal:t,setModalType:i}=(0,r.OW)(),l=(0,n.ZO)()&&(null==e?void 0:e.suggestAccountBind),d=(0,s.useCallback)(()=>{i(1),t(!0),o._.handleLinkPhoneOrEmailPopupShow({enterMethod:"logout"})},[i,t]),c=(0,s.useCallback)(()=>{t(!0),a.z.logoutNotify()},[t]);return{handleClickLogout:(0,s.useCallback)(()=>l?d:c,[c,d,l])}}},10757:(e,t,i)=>{"use strict";i.d(t,{s:()=>a});var n=i(2232),o=i(89768);const a=()=>{var e,t;const{user:i}=(0,o.x)();return{showAds:"v2"===(null!==(e=(0,n.d)("enable_ads"))&&void 0!==e?e:"v1")&&!!i,showAboutThisAd:"v2"===(null!==(t=(0,n.d)("enable_about_this_ad"))&&void 0!==t?t:"v1")}}},10824:(e,t,i)=>{"use strict";i.d(t,{Y:()=>_e});var n=i(24643),o=i(40099),a=i(20173),r=i(99411),s=i(16410);const l=(0,s.default)("div",{target:"eteofs60"})(({theme:e})=>({minHeight:"563px",width:"700px",background:e.colors.BGBase}),"label:DivReportInboxModalContainer;"),d=(0,s.default)("div",{target:"eteofs61"})(({theme:e})=>({height:"48px",display:"flex",color:e.colors.TextPrimary,fontSize:"24px",lineHeight:"36px",padding:"0px 24px 0px 24px",marginTop:"24px",fontWeight:"700"}),"label:DivReportInboxModalHeader;"),c=(0,s.default)("div",{target:"eteofs62"})({marginInlineStart:"auto",display:"flex",gap:"8px"},"label:DivIconContainer;"),u=(0,s.default)("div",{target:"eteofs63"})({cursor:"pointer"},"label:DivIconWrapper;"),p=(0,s.default)("div",{target:"eteofs64"})({paddingTop:"24px",paddingBottom:"32px",paddingLeft:"36px",paddingRight:"36px",height:"400px",overflowY:"auto"},"label:DivReportInboxModalContentsContainer;"),g=(0,s.default)("div",{target:"eteofs65"})({marginTop:"18px"},"label:DivContentWrapper;"),_=(0,s.default)("div",{target:"eteofs66"})(({theme:e})=>({position:"absolute",bottom:"0",left:"0",height:"84px",width:"100%",borderTop:`0.5px solid ${e.colors.LinePrimary2}`,backgroundColor:e.colors.BGBase}),"label:DivFooter;"),m=(0,s.default)("div",{target:"eteofs67"})({width:"800px"},"label:ViolationAppealWrapper;");var h=i(54622);const v=(0,s.default)("div",{target:"e1wkzdk0"})(({})=>({display:"flex",flexDirection:"row",borderRadius:"4px",alignItems:"center"}),"label:DivPCCard;"),f=(0,s.default)("div",{target:"e1wkzdk1"})(({theme:e})=>({fontSize:"17px",fontWeight:"600",lineHeight:"20px",color:e.colors.TextPrimary}),"label:DivTitle;"),y=(0,s.default)("div",{target:"e1wkzdk2"})(({theme:e})=>({fontSize:"15px",fontWeight:"400",lineHeight:"18px",color:e.colors.TextPrimary}),"label:DivDescription;"),b=(0,s.default)("div",{target:"e1wkzdk3"})(({theme:e})=>({fontSize:"15px",fontWeight:"400",lineHeight:"18px",color:e.colors.TextTertiary}),"label:DivCaption;"),x=(0,s.default)("div",{target:"e1wkzdk4"})({display:"flex",flexDirection:"column"},"label:DivTextContainer;"),k=(0,s.default)("img",{target:"e1wkzdk5"})({marginInlineStart:"auto",width:"50px",height:"68px",borderRadius:"2px"},"label:ImgThumbnail;"),w=({title:e,description:t,caption:i,thumbnailUrl:a=""})=>{const[r,s]=(0,o.useState)(!1),l=(0,o.useCallback)(()=>{s(!0)},[]);return(0,n.jsxs)(v,{children:[(0,n.jsxs)(x,{children:[(0,n.jsx)(f,{children:e}),(0,n.jsx)(y,{children:t}),(0,n.jsx)(b,{children:i})]}),""!==a&&!r&&(0,n.jsx)(k,{src:a,onError:l})]})},S=(0,s.default)("div",{target:"e1g6629w0"})(({})=>({display:"flex",flexDirection:"column",borderRadius:"4px"}),"label:DivContainer;"),C=(0,s.default)("div",{target:"e1g6629w1"})({display:"flex",flexDirection:"row",gap:"8px",alignItems:"stretch",marginBottom:"-10px"},"label:DivContentContainer;"),j=(0,s.default)("div",{target:"e1g6629w2"})({display:"flex",flexDirection:"column",alignItems:"center"},"label:DivStepperContainer;"),T=(0,s.default)("div",{target:"e1g6629w3"})({height:"11px"},"label:DivStepperCircleWrapper;"),I=(0,s.default)("div",{target:"e1g6629w4"})({width:"0.5px",background:"rgb(189 189 189)",flex:1},"label:DivStepperLine;"),P=(0,s.default)("div",{target:"e1g6629w5"})({display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"4px",paddingBottom:"42px"},"label:DivTextContainer;"),A=(0,s.default)("div",{target:"e1g6629w6"})(({theme:e})=>({fontSize:"17px",fontWeight:"600",lineHeight:"20px",color:e.colors.TextPrimary}),"label:DivTitle;"),M=(0,s.default)("div",{target:"e1g6629w8"})(({theme:e})=>({fontSize:"15px",fontWeight:"400",lineHeight:"18px",color:e.colors.TextTertiary}),"label:DivCaption;");var L=i(76926);const D={id:"circle-f53cb0df",use:"circle-f53cb0df-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="circle-f53cb0df"><circle cx="7.999" cy="8" r="4" fill="#BDBDBD" /></symbol>'};function O(e){const t=(0,o.useContext)(L.X);return(0,o.useLayoutEffect)(()=>(t.add(D),()=>{t.remove("circle-f53cb0df")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#circle-f53cb0df"},void 0)}),void 0)}var R=i(3912),E=i(27799),F=i(50708),B=i.n(F);const z=({data:e})=>{const t=(0,E.s)(),i=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.id)===R.Y.DSA_LEARN_MORE_ID&&window.open("https://www.tiktok.com/legal/page/global/reporting-illegal-content/en")},a=(0,o.useCallback)(()=>e.map(({time:o,title:a,desc:r},s)=>{return(0,n.jsxs)(C,{children:[(0,n.jsxs)(j,{children:[(0,n.jsx)(T,{children:(0,n.jsx)(O,{})}),!(s===e.length-1)&&(0,n.jsx)(I,{})]}),(0,n.jsxs)(P,{children:[(0,n.jsx)(M,{children:o}),(0,n.jsx)(A,{children:a}),(l=r,l=l.replace(/{{(.*?)}}/g,e=>(R.Y.DSA_LEARN_MORE,`<b id='${R.Y.DSA_LEARN_MORE_ID}' style="cursor: pointer">${t("dsa_illegal_placeholder_learnmore")}</b>`)),(0,n.jsx)(y,{dangerouslySetInnerHTML:{__html:B().sanitize(l)},onClick:i}))]})]},s);var l}),[e]);return 0===e.length?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(S,{children:a()})};var U=i(67216),N=i(72516),W=i(71450),V=i(4126),H=i(13356),q=i(340),$=i(55867),G=i(28439),K=i(50726),Y=i(26324),Z=i(35572),J=i(62564),X=i(74690),Q=i(80339),ee=i(6418),te=i(48156);let ie=class extends W.E{constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={visible:!1,reportId:"",reportType:"",code:"",reportDetail:{isLoading:!1,data:null}}}setVisible(e,t){e.visible=t}setReportDetail(e,t){e.reportDetail.data=t}setReportDetailLoading(e,t){e.reportDetail.isLoading=t}getReportDetail(e){return e.pipe((0,Z.p)(({reportId:e,reportType:t,code:i})=>this.service.getReportDetail({report_id:e,report_type:t,verification_code:i}).pipe((0,J.T)(({body:{detail:e,status_code:t}})=>e&&0===t?this.getActions().setReportDetail(e):this.noop()),(0,X.Z)(this.getActions().setReportDetailLoading(!0)),(0,Q.q)(this.getActions().setReportDetailLoading(!1)),(0,$.n)({callback:this.commonToastError}))))}commonToastError(){te.F.destroy(),te.F.open({content:this.t(ee.z$),duration:3,widthType:"half"})}};(0,N.__decorate)([(0,V.h5)(),(0,N.__metadata)("design:type",Function),(0,N.__metadata)("design:paramtypes",[Object,Boolean]),(0,N.__metadata)("design:returntype",void 0)],ie.prototype,"setVisible",null),(0,N.__decorate)([(0,V.h5)(),(0,N.__metadata)("design:type",Function),(0,N.__metadata)("design:paramtypes",[Object,Object]),(0,N.__metadata)("design:returntype",void 0)],ie.prototype,"setReportDetail",null),(0,N.__decorate)([(0,V.h5)(),(0,N.__metadata)("design:type",Function),(0,N.__metadata)("design:paramtypes",[Object,Boolean]),(0,N.__metadata)("design:returntype",void 0)],ie.prototype,"setReportDetailLoading",null),(0,N.__decorate)([(0,V.Mj)(),(0,N.__metadata)("design:type",Function),(0,N.__metadata)("design:paramtypes",[Y.c]),(0,N.__metadata)("design:returntype",void 0)],ie.prototype,"getReportDetail",null),ie=(0,N.__decorate)([(0,H.nV)("ReportInboxModal"),(0,N.__param)(1,(0,q.y)(G.hp)),(0,N.__metadata)("design:paramtypes",[K.o,Function])],ie);var ne,oe,ae=i(45027),re=i(95074),se=i(72355),le=i(55765),de=i(78454),ce=i(67114),ue=i(37859);!function(e){e[e.IN_REVIEW=1]="IN_REVIEW",e[e.NO_VIOLATION=2]="NO_VIOLATION",e[e.VIOLATION=3]="VIOLATION",e[e.DELETE=4]="DELETE",e[e.NR_OR_NFF=5]="NR_OR_NFF",e[e.MORE_INFO=6]="MORE_INFO",e[e.PENDING_SPECIALIST=7]="PENDING_SPECIALIST"}(ne||(ne={})),function(e){e[e.VIOLATION_APPEAL=0]="VIOLATION_APPEAL",e[e.REPORT_DETAIL=1]="REPORT_DETAIL",e[e.REPORT=2]="REPORT"}(oe||(oe={}));var pe=i(17947),ge=i(97854);const _e=(0,o.memo)(function(){var e,t,i,s,v,f,y,b,x,k,S,C,j,T,I,P,A,M,L;const[D,O]=(0,o.useState)(oe.REPORT_DETAIL),R=function(){const{search:e}=(0,se.zy)();return(0,o.useMemo)(()=>new URLSearchParams(e),[e])}(),F=(0,E.s)(),B=(0,ae.w)(ie),N=(0,re.P)(ie,{selector:e=>{const{visible:t,reportDetail:i}=e;return{visible:t,reportDetail:i}},dependencies:[]}),W=(0,re.P)(a.L,{selector:e=>e.lang,dependencies:[]}),V=(0,re.P)(le.hf,{selector:e=>{const{showing:t}=e;return{showing:t}},dependencies:[]}),H=(0,o.useMemo)(()=>R.has("report_id")&&R.has("code")&&R.has("report_type"),[R]),q=(0,o.useMemo)(()=>N.visible&&null!==N.reportDetail.data,[N.visible,N.reportDetail]),[$,G]=(0,o.useState)({code:"",reportId:"",reportType:""}),K=(0,ge.U)(null!==(t=null===(e=N.reportDetail.data)||void 0===e?void 0:e.ComplianceScene)&&void 0!==t?t:""),[Y,Z]=(0,o.useState)(Object.assign(Object.assign({lang:W,report_type:null!==(s=null===(i=N.reportDetail.data)||void 0===i?void 0:i.object_type_name)&&void 0!==s?s:"video",object_id:null!==(f=null===(v=N.reportDetail.data)||void 0===v?void 0:v.object_id)&&void 0!==f?f:"",owner_id:null!==(b=null===(y=N.reportDetail.data)||void 0===y?void 0:y.object_owner_id)&&void 0!==b?b:""},K),{report_record:null===(x=N.reportDetail.data)||void 0===x?void 0:x.report_record,report_id:$.reportId}));(0,o.useEffect)(()=>{var e,t,i;if(H){const n=null!==(e=R.get("report_type"))&&void 0!==e?e:"",o=null!==(t=R.get("report_id"))&&void 0!==t?t:"",a=null!==(i=R.get("code"))&&void 0!==i?i:"";G({code:a,reportId:o,reportType:n}),B.getReportDetail({reportId:o,reportType:parseInt(n),code:a})}},[H]),(0,o.useEffect)(()=>{if(N.reportDetail.data&&!N.reportDetail.isLoading){if(5===N.reportDetail.data.stage)return void(window.location.href="https://www.tiktok.com/legal/report/report-expired");if(6===N.reportDetail.data.stage)return void(window.location.href="https://www.tiktok.com/404");B.setVisible(!0)}},[N.reportDetail,B]);const J=(0,o.useCallback)(()=>{B.setVisible(!1)},[]),X=(0,o.useCallback)(()=>{var e,t;switch(null===(t=null===(e=N.reportDetail.data)||void 0===e?void 0:e.summary_text_infos)||void 0===t?void 0:t.status){case 1:return`${F("report_inbox_status")}: ${F("report_inbox_inreview")}`;case 3:return`${F("report_inbox_status")}: ${F("report_inbox_violation")}`;case 2:return`${F("report_inbox_status")}: ${F("report_inbox_noviolation")}`;case 4:return`${F("report_inbox_status")}: ${F("showVidStatus_reportInbox_vidStatusDeleted_label")}`;case 5:return`${F("report_inbox_status")}: ${F("showVidStatus_reportInbox_vidStatusIneligible_label")}`;case 6:return`${F("report_inbox_status")}: ${F("oSA_reportSummary_statusMoreInfo_title")}`;case 7:return`${F("report_inbox_status")}: ${F("rIC_reportSummary_statusReviewing_desc")}`;default:return""}},[N.reportDetail.data]),Q=(0,o.useCallback)(()=>{var e,t;return null===(t=null===(e=N.reportDetail.data)||void 0===e?void 0:e.text_infos)||void 0===t?void 0:t.map(e=>({time:(0,de.z)(e.time),desc:e.content,title:e.title}))},[N.reportDetail.data]),ee=(0,o.useMemo)(()=>{var e,t;for(const i of null!==(t=null===(e=N.reportDetail.data)||void 0===e?void 0:e.see_option_infos)&&void 0!==t?t:[]){if(i.code===ce.B8.RESUBMIT_REPORT)return ce.B8.RESUBMIT_REPORT;if(i.code===ce.B8.REQUEST_ANOTHER_REVIEW)return ce.B8.REQUEST_ANOTHER_REVIEW}return""},[N.reportDetail.data]),te=(0,o.useCallback)(()=>{var e,t,i,n,o,a,r;ee===ce.B8.RESUBMIT_REPORT?(Z(Object.assign(Object.assign({lang:W,report_type:null!==(t=null===(e=N.reportDetail.data)||void 0===e?void 0:e.object_type_name)&&void 0!==t?t:"",object_id:null!==(n=null===(i=N.reportDetail.data)||void 0===i?void 0:i.object_id)&&void 0!==n?n:"",owner_id:null!==(a=null===(o=N.reportDetail.data)||void 0===o?void 0:o.object_owner_id)&&void 0!==a?a:""},K),{report_record:null===(r=N.reportDetail.data)||void 0===r?void 0:r.report_record,report_id:$.reportId,logged_out_code:$.code})),O(oe.REPORT)):ee===ce.B8.REQUEST_ANOTHER_REVIEW&&O(oe.VIOLATION_APPEAL)},[N.reportDetail.data,$]);return(0,n.jsxs)(r.i,{compact:!0,isOpen:q&&!V.showing,closeOnEsc:!0,children:[D===oe.REPORT&&(0,n.jsx)(pe.gQ,{reportTarget:Y,onClose:J,onBack:()=>O(oe.REPORT_DETAIL)}),D===oe.REPORT_DETAIL&&(0,n.jsxs)(l,{children:[(0,n.jsxs)(d,{children:[F("dsa_report_pg_header"),(0,n.jsx)(c,{children:(0,n.jsx)(u,{onClick:J,children:(0,n.jsx)(h.A,{width:24,height:24})})})]}),(0,n.jsxs)(p,{children:[(0,n.jsx)(w,{title:null!==(C=null===(S=null===(k=N.reportDetail.data)||void 0===k?void 0:k.summary_text_infos)||void 0===S?void 0:S.title)&&void 0!==C?C:"",description:null!==(I=null===(T=null===(j=N.reportDetail.data)||void 0===j?void 0:j.summary_text_infos)||void 0===T?void 0:T.content)&&void 0!==I?I:"",caption:null!==(P=X())&&void 0!==P?P:"",thumbnailUrl:null===(M=null===(A=N.reportDetail.data)||void 0===A?void 0:A.summary_text_infos)||void 0===M?void 0:M.cover_url}),(0,n.jsx)(g,{children:(0,n.jsx)(z,{data:null!==(L=Q())&&void 0!==L?L:[]})})]}),(0,n.jsx)(_,{children:""!==ee&&(0,n.jsx)(U.jl,{onClick:te,disabled:!1,children:ee===ce.B8.RESUBMIT_REPORT?F("dsa_illegal_report_inbox_resubmit"):ee===ce.B8.REQUEST_ANOTHER_REVIEW?F("tiktok_series_appeal_request_review_series_details_title"):""})})]}),D===oe.VIOLATION_APPEAL&&(0,n.jsx)(m,{children:(0,n.jsx)(ue.A,{verificationCode:$.code,reportId:$.reportId,onBack:()=>{O(oe.REPORT_DETAIL)},onClose:()=>{O(oe.REPORT_DETAIL),J()}})})]})})},11365:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var n=i(40099),o=i(70589);function a(e=0){const t=(0,n.useRef)(0),[i,a]=(0,n.useState)(!1),[r,s]=(0,n.useState)(!1),{shouldOptimizeCta:l}=(0,o.kb)(),d=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useCallback)(()=>{a(!0),window.clearTimeout(t.current)},[]),p=(0,n.useCallback)(()=>{window.clearTimeout(t.current),r||(t.current=window.setTimeout(()=>{a(!1)},e))},[e,r]),g=(0,n.useCallback)(e=>{s(e)},[]),_=(0,n.useCallback)(()=>{r||window.setTimeout(()=>{var e,t,n;i&&(l?(null===(e=d.current)||void 0===e?void 0:e.hasFocusForChildren())||p():(null===(n=Array.from(null===(t=c.current)||void 0===t?void 0:t.querySelectorAll("*")))||void 0===n?void 0:n.includes(document.activeElement))||p())},e)},[r,e,i,l,p]);return{active:i,timeoutRef:t,setActive:a,handleMouseEnter:u,handleMouseLeave:p,handleOtherModalOpen:g,actionItemRef:d,buttonShareRef:c,handleButtonShareOnBlur:_}}},11534:(e,t,i)=>{"use strict";i.d(t,{Em:()=>s,WA:()=>r,f8:()=>o,mo:()=>a});var n=i(159);const o=()=>(0,n.o$)(e=>e.needClearInput),a=()=>(0,n.o$)(e=>e.replyCid),r=()=>(0,n.o$)(e=>e.isInputFocus),s=e=>{const{isCommentInputEmpty:t,isReplyInputEmpty:i}=(0,n.o$)(({isInputEmpty:e,isReplyInputEmpty:t})=>({isCommentInputEmpty:e,isReplyInputEmpty:t}));return(e||t)&&i}},11713:(e,t,i)=>{"use strict";i.d(t,{n:()=>N});var n=i(72516),o=i(24643),a=i(67518),r=i(40099),s=i(70576),l=i(28333),d=i(27799),c=i(20434),u=i(70589),p=i(20597),g=i(64207),_=i(82480),m=i(98042),h=i(82376),v=i(79749),f=i(18650),y=i(34038),b=i(85633),x=i(29271),k=i(50654);const w={transform:"translateY(-13px)"},S=(0,r.memo)(function({active:e,margin:t=0,e2eTag:i,onNextVideo:n,onPrevVideo:s,onToggleMute:l,onTogglePlay:c,onExpand:u,onForward:p,onDismissPanel:g,itemId:_,authorId:m="",playModeForTea:S,handleShowTranscript:C,handleNotInterested:j}){const T=(0,d.s)(),{colors:I}=(0,a.u)(),{isRTL:P}=(0,f.m)(),A=P?"topLeft":"topRight",{isEntranceInMoreMenu:M}=(0,k.vN)(),{status:L,handleResetStatus:D,style:O,items:R}=(0,b.Uf)({onToggleMute:l,onTogglePlay:c,onNextVideo:n,onPrevVideo:s,onExpand:u,onForward:p,itemId:_,playModeForTea:S,handleShowTranscript:C,handleNotInterested:j}),E=(0,r.useCallback)((e,t)=>i=>{null==e||e(i),t&&(null==g||g())},[g]);return(0,r.useEffect)(()=>{e||setTimeout(()=>{D()},300)},[e,D]),(0,r.useEffect)(()=>{e&&(j&&h.V.handleDislikeShow({group_id:_,author_id:m,play_mode:S}),M&&v.lN.handleCaptionButtonShow({group_id:_,author_id:m,play_mode:S}))},[_,m,S,e,M,j]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(y.z,{style:w,backgroundColor:I.BGCreation2,placement:A,active:e,margin:t,hideArrow:!0,children:(0,o.jsx)(x.Dp,{"data-e2e":i,children:R.map(({icon:e,key:t,dismissPanel:i=!0,onClick:n,extra:a})=>(0,o.jsxs)(x.QB,{style:O,onClick:E(n,i),children:["original"===L&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.es,{children:e}),(0,o.jsx)(x.R8,{children:T(t)}),a]}),"keyboard"===L&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x.R8,{style:{margin:"0"},children:T(t)}),(0,o.jsx)(x.es,{children:e})]})]},t))})})})});var C=i(68676),j=i(93363),T=i(59638);const I=["0.75","1.0","1.25","1.5","2.0"],P={transform:"translate(50%, -14px)"},A=(0,r.memo)(function({active:e,playbackRate:t,onChangePlaybackRate:i,onDismissPanel:n}){const{colors:s}=(0,a.u)(),l=(0,r.useCallback)((e,t)=>i=>{null==e||e(i),t&&(null==n||n())},[n]);return(0,o.jsx)(y.z,{style:P,margin:"50%",backgroundColor:s.BGCreation2,placement:"topRight",active:e,hideArrow:!0,children:(0,o.jsx)(T.sS,{children:I.map(e=>(0,o.jsxs)(T.qi,{onClick:l(i(Number(e)),!0),children:[t===Number(e)&&(0,o.jsx)(T.Bf,{})," ",e,"x"]},e))})})});var M=i(50700),L=i(98447),D=i(57190),O=i(81817),R=i(92670),E=i(44228),F=i(98899),B=i(37783),z=i(61198),U=i(2049);const N=(0,r.memo)(function(e){const{isActive:t=!1,videoId:i,authorId:h,pause:v=!1,currentIndex:f,seek:y,onForward:b,videoChangeMethodRef:x,fullscreen:w,playbackRate:I,playMode:P,playModeForTea:N,customStyle:W={},ended:V=!1,itemMute:H=!1,onExpand:q,onChangePlaybackRate:$,onExitExpand:G,onTogglePlay:K,onToggleMute:Y,videoRef:Z,videoPlayerContainerRef:J,onReplay:X,onNextVideo:Q,onPrevVideo:ee,progressReportCallback:te,progressPreviewReportCallback:ie,handleShowTranscript:ne,handleNotInterested:oe}=e,{direction:ae,isDark:re}=(0,a.u)(),{hasAutoScrollButton:se}=(0,u.iz)(),{enableMiniPlayer:le}=(0,L.D)(),{enableNewPopover:de,showPopoverRightTopCorner:ce,moveFullScreenToMoreMenu:ue}=(0,u.JX)(),{enabledClosedCaption:pe,isEntranceInMoreMenu:ge}=(0,k.vN)(),{isBrowserDetailClearMode:_e}=(0,u.yV)(),{dimmer:me}=(0,j.XY)(),[{isDocumentPipSupporting:he},ve]=(0,D.Sp)(),fe=(0,m.J3)(),ye=(0,m.Sx)(),{showToast:be,dismissToast:xe}=(0,E.n)("top"),ke=(0,B.F3)(e=>e[i],z.bN),we=(0,d.s)(),Se=(0,p.Q4)(ke),Ce=(0,r.useRef)(null),je=(0,r.useRef)(null),Te=(0,r.useRef)(null),Ie=(0,r.useRef)(null),[Pe,Ae]=(0,r.useState)(!1),[Me,Le]=(0,r.useState)(!1),[De,Oe]=(0,r.useState)(!1),Re=(0,r.useRef)(null),Ee=(0,r.useRef)([]),{bindDrag:Fe,seek:Be,duration:ze,videoPercent:Ue,currentTime:Ne,setVideoInfo:We}=(0,g.u)({direction:ae,progressRef:je,circleRef:Te,barRef:Ie,videoId:i,initialPercent:0,draggingStateCb:Ae,draggingPercentCb:y,progressReportCallback:te}),{playIcon:Ve,muteIcon:He,fullscreenIcon:qe,settingIcon:$e}=(0,j.lO)({pause:v,fullscreen:w,playMode:P,ended:V,itemMute:H}),{active:Ge,handleDismissPanel:Ke,handleMouseMouseEnter:Ye,handleMouseLeave:Ze}=(0,j.rY)(),{active:Je,handleDismissPanel:Xe,handleMouseMouseEnter:Qe,handleMouseLeave:et}=(0,j.rY)(),{fullScreenText:tt,speedText:it,tooltipStyle:nt,volumeStyle:ot}=(0,j.vV)({playbackRate:I}),at=(0,O.v)({item:ke,play_mode:"video_detail"}),rt="ltr"===ae?{left:`calc(${100*Ue}%)`}:{right:`calc(${100*Ue}%)`},st=me&&!Ge&&!Je&&!Me,lt=pe&&!ge&&!(null==ke?void 0:ke.scheduleTime);(0,r.useEffect)(()=>{se||fe.setAutoScroll(!1)},[]),(0,r.useEffect)(()=>{t||!Ne&&!Ue||We({itemId:i,videoPercent:0})},[t]),(0,r.useEffect)(()=>{t&&ie()},[ie,t]);const dt=(0,r.useCallback)(()=>{x.current="click",Q()},[Q,x]),ct=(0,r.useCallback)(()=>{x.current="click",ee()},[ee,x]),ut=(0,r.useCallback)(()=>{Le(!0)},[]),pt=(0,r.useCallback)(()=>{Le(!1)},[]),gt=(0,r.useCallback)(e=>{if(Se){const e=be(we("web_player_TTshopVid_toast"),{durationMs:1e4});return void Ee.current.push(e)}V?(null==X||X(),s.a.handleReplay({group_id:i})):K({click_section:"play_button",enter_method:"click"})(e)},[V,X,Se,K,i]);(0,r.useEffect)(()=>()=>{Ee.current.forEach(e=>{xe(e)})},[i]);const _t=(0,r.useCallback)(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){var e,t;const i=null!==(t=null===(e=Z.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0;yield ve.openMiniPlayer({index:f,itemListKey:"video",playProgress:i,playMode:3})}),[ve,Z,f]);return(0,o.jsxs)(T.R5,{style:W,onClick:c.dG,dimmer:st,ref:Re,onMouseDown:c.dG,isClearModeAB:_e,children:[(0,o.jsxs)(T.gt,{ref:Ce,children:[(0,o.jsx)(T.AK,{ref:je,onClick:Be,onMouseDown:Fe}),(0,o.jsx)(T.n9,{ref:Te,style:rt,onMouseDown:Fe}),(0,o.jsx)(T.Vi,{ref:Ie,style:{transform:`scaleX(${Ue})`},onClick:Be,onMouseDown:Fe})]}),(0,o.jsxs)(T.i6,{alignWithAction:de,children:[(0,o.jsxs)(T.qj,{children:[(0,o.jsx)(T.Sh,{onClick:gt,children:Ve}),(0,o.jsx)(T.l5,{children:"ltr"===ae?`${(0,_.Az)(Ne)} / ${(0,_.Az)(ze)}`:`${(0,_.Az)(ze)} / ${(0,_.Az)(Ne)}`})]}),(0,o.jsxs)(T.n0,{children:[lt&&(0,o.jsx)(T.es,{children:(0,o.jsx)(U.k,{playMode:"video_detail",tooltipOffset:-42,iconSize:24,item:ke})}),he&&le&&!de&&(0,o.jsx)(T.es,{children:(0,o.jsx)(R.W,{videoId:i,itemListKey:"video",playMode:3,playModeForTea:"video_detail",index:f})}),se&&!de&&(0,o.jsx)(T.es,{children:(0,o.jsx)(M.Z,{tooltipOffset:-42,videoId:i,playMode:"video_detail",isVideoEnded:V,handleNextVideo:dt})}),!de&&(0,o.jsxs)(T.az,{onMouseEnter:Qe,onMouseLeave:et,children:[it,(0,o.jsx)(A,{active:Je,playbackRate:I,onChangePlaybackRate:$,onDismissPanel:Xe})]}),(0,o.jsx)(T.es,{children:(0,o.jsxs)(T.oK,{onMouseEnter:ut,onMouseLeave:pt,onMouseDown:c.dG,children:[!H&&(De||Me&&!Pe)?(0,o.jsx)(C.G,{isStyleV2:!0,style:ot,setVolumeDragging:Oe}):null,(0,o.jsx)(l.m,{overlay:(0,o.jsx)(T.Jq,{children:we("mute_autoplay_unmute_btn")}),overlayStyle:{borderRadius:"8px",boxShadow:"3px 6px 14px rgba(0, 0, 0, 0.17)"},placement:"top",visible:ye,tooltipTheme:re?"black":"white",children:(0,o.jsx)(T.es,{style:{marginInlineStart:"unset"},onClick:Y({click_section:"volume",enter_method:"click"}),children:He})})]})}),!ue&&(0,o.jsx)(l.m,{fullscreenAdjust:!0,overlay:tt,overlayInnerStyle:nt,arrow:!1,align:{offset:[0,-26]},children:(0,o.jsx)(T.es,{onClick:w?G:null==q?void 0:q({enter_method:"click",click_section:"fullscreen",change_params:"enter"}),children:qe})}),!de&&(0,o.jsxs)(T.es,{onMouseEnter:Ye,onMouseLeave:Ze,children:[$e,(0,o.jsx)(S,{itemId:i,authorId:h,active:Ge,playModeForTea:N,onDismissPanel:Ke,onToggleMute:Y({click_section:"pc_web_keyboard_btn",enter_method:"click"}),onTogglePlay:K({click_section:"pc_web_keyboard_btn",enter_method:"click"}),onNextVideo:dt,onPrevVideo:ct,onForward:b,onExpand:null==q?void 0:q({enter_method:"click",click_section:"pc_web_keyboard_btn",change_params:"fullscreen"}),handleShowTranscript:ne,handleNotInterested:oe})]}),de&&!ce&&(0,o.jsx)(F.n,{trigger:(0,o.jsx)(T.es,{children:$e}),root:J,placement:"top",reportMenuItemProps:{handleReport:at},speedControlMenuProps:{playbackRate:I,onChangePlaybackRate:$},fullScreenMenuItemProps:ue?{onFullScreenEnter:null==q?void 0:q({enter_method:"click",click_section:"pc_web_keyboard_btn",change_params:"fullscreen"}),onFullScreenExit:G,fullscreen:w}:void 0,miniPlayerMenuItemProps:{onMiniPlayerClick:_t},transcriptMenuItemProps:(null==ke?void 0:ke.hasTranscript)&&ne&&!pe?{onTranscriptClick:ne}:void 0,itemId:i,authorId:null!=h?h:"",playMode:3,showAutoScroll:!0,showCaption:ge&&!(null==ke?void 0:ke.scheduleTime)})]})]})]})})},12112:(e,t,i)=>{"use strict";i.d(t,{n:()=>o,z:()=>a});var n=i(37818);const o={[n.OZ.searchHome]:"general",[n.OZ.searchUser]:"user",[n.OZ.searchVideo]:"video",[n.OZ.searchLive]:"live"},a={[n.OZ.searchHome]:"general_search",[n.OZ.searchUser]:"search_user",[n.OZ.searchVideo]:"search_video",[n.OZ.searchLive]:"search_live"}},12189:(e,t,i)=>{"use strict";i.d(t,{A5:()=>s,CC:()=>c,W3:()=>a,aQ:()=>r,iA:()=>d,jY:()=>l});const n={webapp:{10231:"home_error_video_geofencing",10219:"music_detail_unavailable_2",10101:"Sorry about that! Please try again later.",10236:"qapage_webapp_error_subtitle",10233:"playlist_invalid_error_code",10234:"playlist_invalid_error_code",10239:"photo_post_unavailable_dec",202001:"disable_reuse_soundtrack_unavailable_page_body",205001:"poisharing_edgecase_one",205002:"poisharing_edgecase_one",205003:"poistore_detail_text",203005:"",209001:"acct_geo_block_restriction_error_desc",209002:"accountAudienceControls_profile_loggedOut_desc",209003:"accountAudienceControls_profile_loggedInAgeUnknown_desc",209004:"accountAudienceControls_profile_loggedInU18_desc",209006:"accountAudienceControls_profile_loggedInFPOn_desc",209005:"accountAudienceControls_profile_loggedInRM_desc"},sharing:{10231:"home_error_video_geofencing",10219:"music_detail_unavailable_2",10101:"Sorry about that! Please try again later.",10236:"qa_reflow_page_empty_subtitle",10233:"playlist_invalid_error_code",10234:"playlist_invalid_error_code",10239:"photo_post_unavailable_dec",203005:""}},o={webapp:{202001:"ext_share_story_viewmore_btn",205001:"poisharing_cta_return",205002:"poisharing_cta_return",205003:"poisharing_cta_return",203005:"log_in"}},a=(e,t="webapp")=>{var i;return null!==(i=n[t][e])&&void 0!==i?i:"Looking for videos? Try browsing our trending creators, hashtags, and sounds."},r=(e,t="webapp")=>{let i="Page not available";switch(Number(e)){case 10202:case 10221:case 10223:case 10225:i="Couldn't find this account";break;case 10222:i="This account is private";break;case 10203:i="Couldn't find this sound";break;case 10219:i="music_detail_unavailable_1";break;case 10218:i="This sound isn't available";break;case 202001:i="disable_reuse_soundtrack_unavailable_mobile_body";break;case 10216:case 10204:case 10215:case 10217:case 10220:case 10240:case 10241:case 10242:i="embed_err_unavailable";break;case 10239:i="photo_post_unavailable_title";break;case 10205:case 10211:case 10212:case 10209:i="Couldn't find this hashtag";break;case 10208:i="Couldn't find this effect";break;case 10210:i="Couldn't find this live";break;case 10231:i="desktop_error_video_geofencing";break;case 10236:i="webapp"===t?"qapage_webapp_error_title":"qa_page_reflow_page_blank_title";break;case 10101:i="Something went wrong";break;case 205001:case 205002:i="poisuggest_placeuna_title_1";break;case 205003:i="err_feature_unavailable";break;case 10244:case 206004:case 10243:i="playlist_unavailable";break;case 203005:i="subVideo_unavailableScreen_title";break;case 209001:i="acct_geo_block_restriction_error_title";break;case 209002:i="accountAudienceControls_profileUnavailable_loggedOut_title";break;case 209003:case 209004:case 209006:i="accountAudienceControls_profileUnavailable_title";break;case 209005:i="accountAudienceControls_profileUnavailableRM_title";break;case 10246:i="dWebStories_DM_unavail_body"}return i},s={209002:"Logged out",209003:"Logged in, Age unknown",209004:"Logged in, U18",209006:"Logged in, RM, FP on",209005:"Logged in, RM, FP off"},l=e=>{let t="";return 10216===Number(e)&&(t="video-private-setting"),{title:t,desc:""}},d=(e,t="webapp")=>o[t][e],c=e=>[209001,209002,209003,209004,209005,209006].includes(e)},12471:(e,t,i)=>{"use strict";i.d(t,{BL:()=>r,CW:()=>d,FS:()=>a,Y:()=>l,fb:()=>o,pI:()=>s});var n=i(19664);const o=(e,t,i)=>(0,n.MY)(n=>{var o;return(null===(o=n.currentVideo)||void 0===o?void 0:o.mode)===e&&n.currentVideo.id===t&&n.currentVideo.index===i}),a=e=>{const t=(0,n.nU)(e),i=(0,n.RT)();return t&&0===i},r=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,n.LM)().getStaticPlayerState())||void 0===e?void 0:e.currentVideo)||void 0===t?void 0:t.index)&&void 0!==i?i:0},s=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,n.LM)().getStaticPlayerState())||void 0===e?void 0:e.prevVideo)||void 0===t?void 0:t.index)&&void 0!==i?i:0},l=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,n.LM)().getStaticPlayerState())||void 0===e?void 0:e.currentVideo)||void 0===t?void 0:t.id)&&void 0!==i?i:"0"},d=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,n.LM)().getStaticPlayerState())||void 0===e?void 0:e.prevVideo)||void 0===t?void 0:t.id)&&void 0!==i?i:"0"}},12951:(e,t,i)=>{"use strict";i.d(t,{Fc:()=>v,H1:()=>m,iA:()=>f});var n=i(95074),o=i(40099),a=i(72355),r=i(27799),s=i(25961),l=i(19664),d=i(2232),c=i(90976),u=i(47342),p=i(24469),g=i(69831),_=i(40337);function m(e){var t;const i=(0,r.s)(),g=(0,o.useMemo)(()=>i(e?"search_videosearchbar_recommended_generic_1":"please_input_search_keyword"),[i,e]),_=(0,l.Ul)(),{id:m}=null!=_?_:{},{abTestVersion:h}=null!==(t=(0,c.W)(()=>["abTestVersion"],[]))&&void 0!==t?t:{},v="v2"===(0,d.qt)(h,"search_entry_search_bar"),{wordList:y,logId:b}=f(null!=m?m:"","feed_bar"),{newGuessSearchWord:x}=(0,n.P)(p._),{inputFocus:k}=(0,n.P)(u.C),{shouldRemainOpen:w}=(0,n.P)(p._),{pathname:S}=(0,a.zy)();return(0,o.useMemo)(()=>{var t;const{word:i,word_id:n}=null!==(t=y[0])&&void 0!==t?t:{},{word:o="",group_id:a=""}=null!=x?x:{},r={placeholder:g,hasVideoSugWord:!1},l=(0,s.sn)(S);return v?i&&(e||["fyp","following","video"].includes(l))?{placeholder:i,word_id:n,hasVideoSugWord:!0,logId:b,videoId:m}:(k||w)&&o&&!e?{placeholder:o,word_id:a,hasVideoSugWord:!0,logId:b,videoId:m}:r:r},[y,x,g,S,v,e,k,w,b,m])}const h=(e,t)=>t&&0!==t.length?e.filter(({word_id:e})=>!t.includes(e)):e,v=(e,t)=>{var i;return null!==(i=null==t?void 0:t.includes(e))&&void 0!==i&&i};function f(e,t){var i;const{user:a}=null!==(i=(0,c.W)(()=>["user"],[]))&&void 0!==i?i:{},{wordIdList:r,videoIdList:s}=(0,n.P)(_.Zr,{selector:e=>{var t,i;return null!==(i=e.blockListMap[null!==(t=null==a?void 0:a.uid)&&void 0!==t?t:_.yJ])&&void 0!==i?i:{}},dependencies:[a]}),l=(0,n.P)(g.k,{selector:t=>t[null!=e?e:""],dependencies:[e]});return(0,o.useMemo)(()=>{var e,i,n,o;if(!l||a&&!a.hasSearchPermission||v(null==l?void 0:l.id,s))return{wordList:[],hintText:""};const d=(null!==(i=null===(e=l.videoSuggestWordsList)||void 0===e?void 0:e.video_suggest_words_struct)&&void 0!==i?i:[]).find(e=>e.scene===t),c=null!==(n=null==d?void 0:d.words)&&void 0!==n?n:[];return{wordList:h(c,r),hintText:null!==(o=null==d?void 0:d.hint_text)&&void 0!==o?o:"",logId:l.logId}},[s,r,t,a,l])}},13056:(e,t,i)=>{"use strict";i.d(t,{p:()=>P});var n=i(24643),o=i(60821),a=i(73580),r=i(15923),s=i(66712),l=i(40099),d=i(18650),c=i(27799),u=i(16410);const p=(0,u.default)("div",{target:"e12nk21n0"})({backgroundColor:"rgba(22, 24, 35, .03)",marginTop:"16px",padding:"24px"},"label:DivScreenTimeChartContainer;"),g=(0,u.default)("div",{target:"e12nk21n1"})(({theme:{isDark:e}})=>({marginTop:"11px",paddingTop:"12px",backgroundColor:e?"FFF":"white"}),"label:DivScreenTimeTabAndContent;"),_=(0,u.default)("div",{target:"e12nk21n2"})({height:"294px",width:"100%",display:"flex",justifyContent:"space-between"},"label:DivScreenTimeChartContent;"),m=(0,u.default)("div",{target:"e12nk21n3"})({padding:"34px 0 0 10px",width:"40%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},"label:DivScreenTimeInfoContent;"),h=(0,u.default)("div",{target:"e12nk21n4"})({width:"100%",height:"100%"},"label:DivScreenTimeInfoContentItem;"),v=(0,u.default)("div",{target:"e12nk21n5"})(({width:e})=>({margin:"5px 0",width:e,height:"6px",background:"#20D5EC",transition:"width 1s linear"}),"label:DivDayTime;"),f=(0,u.default)("div",{target:"e12nk21n6"})(({width:e})=>({margin:"5px 0",width:e,height:"6px",background:"#10A2C5",transition:"width 1s linear"}),"label:DivNightTime;"),y=(0,u.default)("div",{target:"e12nk21n7"})(()=>({display:"flex",alignItems:"center",width:"135px",fontWeight:600,fontSize:"14px",lineHeight:"17px"}),"label:DivDayTimeTitle;"),b=(0,u.default)("div",{target:"e12nk21n8"})(()=>({fontWeight:400,fontSize:"13px",lineHeight:"17px"}),"label:DivDayTimeData;"),x=(0,u.default)("span",{target:"e12nk21n9"})(()=>({marginRight:"5px"}),"label:SpanSTMDataTitle;"),k=(0,u.default)("span",{target:"e12nk21n10"})(()=>({marginRight:"5px",fontWeight:400,fontSize:"13px",lineHeight:"17px"}),"label:SpanTotalTime;");var w=i(67476),S=i(44977),C=i(18499);const j=864e5,T="screentimedash_digitalwellbeing_summary_timespent_graph_yaxis_hours_1",I="screentimedash_digitalwellbeing_summary_timespent_graph_yaxis_minutes_1",P=e=>{const{displayChart:t,kidsMode:i,enableKidsMetrics:u}=e,[P,A]=(0,l.useState)("timeUsage"),[M,L]=(0,l.useState)(""),[D,O]=(0,l.useState)(""),[R,E]=(0,l.useState)(""),[F,B]=(0,l.useState)(0),[z,U]=(0,l.useState)(0),[N,W]=(0,l.useState)(0),[V,H]=(0,l.useState)(0),[q,$]=(0,l.useState)([]),[G,K]=(0,l.useState)(null),[Y,Z]=(0,l.useState)("4"),[J,X]=(0,l.useState)(),[Q,ee]=(0,l.useState)([]),[te,ie]=(0,l.useState)([]),[ne,oe]=(0,l.useState)([]),ae=(0,l.useRef)(null),re=(0,l.useRef)(null),se=(0,a.Nj)(r.i),{isRTL:le}=(0,d.m)(),de=(0,c.s)(),ce=[de("screentimedash_digitalwellbeing_summary_day_label_sun",{},"Sun").replace("&rlm;",""),de("screentimedash_digitalwellbeing_summary_day_label_mon",{},"Mon").replace("&rlm;",""),de("screentimedash_digitalwellbeing_summary_day_label_tue",{},"Tue").replace("&rlm;",""),de("screentimedash_digitalwellbeing_summary_day_label_wed",{},"Wed").replace("&rlm;",""),de("screentimedash_digitalwellbeing_summary_day_label_thu",{},"Thu").replace("&rlm;",""),de("screentimedash_digitalwellbeing_summary_day_label_fri",{},"Fri").replace("&rlm;",""),de("screentimedash_digitalwellbeing_summary_day_label_sat",{},"Sat").replace("&rlm;","")],ue=[de("screentimedash_digitalwellbeing_summary_month_label_jan",{},"Jan"),de("screentimedash_digitalwellbeing_summary_month_label_feb",{},"Feb"),de("screentimedash_digitalwellbeing_summary_month_label_mar",{},"Mar"),de("screentimedash_digitalwellbeing_summary_month_label_apr",{},"Apr"),de("screentimedash_digitalwellbeing_summary_month_label_may",{},"May"),de("screentimedash_digitalwellbeing_summary_month_label_jun",{},"Jun"),de("screentimedash_digitalwellbeing_summary_month_label_jul",{},"Jul"),de("screentimedash_digitalwellbeing_summary_month_label_aug",{},"Aug"),de("screentimedash_digitalwellbeing_summary_month_label_sep",{},"Sep"),de("screentimedash_digitalwellbeing_summary_month_label_oct",{},"Oct"),de("screentimedash_digitalwellbeing_summary_month_label_nov",{},"Nov"),de("screentimedash_digitalwellbeing_summary_month_label_dec",{},"Dec")],pe=e=>{const t=Math.floor(e/3600),i=Math.round(e%3600/60),n=de(T,{hours:String(t)},"{hours}h"),o=de(I,{minutes:String(i)},"{minutes}m");return 0===t?`${o}`:`${n} ${o}`},ge=(0,l.useCallback)(e=>{const t=[];for(let i=0;i<4;i++){const[n,o,a]=e[i+6*i].label.split("/"),[r,s,l]=e[i+6*(i+1)].label.split("/");t[i]={label:`${ue[o]} ${a}, ${n}-${ue[s]} ${l}, ${r}`,value:String(i+1)}}return t},[]);(0,l.useEffect)(()=>{(()=>{const e=new Date,t=28-(7-(e.getDay()||7)),n=(0,s.zk)(e);i?se.getSTMDashboardKidsMode({date:n,count:t}).subscribe(e=>{K(e)}):se.getSTMDashboard({date:n,count:t}).subscribe(e=>{K(e)})})()},[]),(0,l.useEffect)(()=>{G&&(e=>{const t=new Date,{timeUsageChartData:i,appOpenTimeChartData:n,days:o}=((e,t)=>{const{time_usage:i=[],app_open_times:n=[]}=t,o=i.length,a=n.length,r=[],s=[],l=[];for(let t=28;t>0;t--)if(t>o){const i=new Date(e.getTime()+(t-o)*j),n=i.getDay(),a=i.getDate(),s=i.getMonth(),d=i.getFullYear();r.unshift({date:`${n} ${a}`,dayUsage:0,nightUsage:0,totalUsage:0,isMin:!0}),l.unshift({label:`${d}/${s}/${a}`,value:t})}else{const n=i[t-1],a=new Date(e.getTime()-(o-t)*j),s=a.getDay(),d=a.getDate(),c=a.getFullYear(),u=a.getMonth();r.unshift({date:`${s} ${d}`,dayUsage:n.day_usage,nightUsage:n.night_usage,totalUsage:n.day_usage+n.night_usage,isMin:(n.day_usage+n.night_usage)/3600<.5}),l.unshift({label:`${c}/${u}/${d}`,value:t})}for(let t=28;t>0;t--)if(t>a){const i=new Date(e.getTime()+(t-a)*j),n=i.getDay(),o=i.getDate();s.unshift({date:`${n} ${o}`,nightOpenTimes:0,dayOpenTimes:0})}else{const i=n[t-1],o=new Date(e.getTime()-(a-t)*j),r=o.getDay(),l=o.getDate();s.unshift({date:`${r} ${l}`,nightOpenTimes:i.night_open_times,dayOpenTimes:i.day_open_times})}return{timeUsageChartData:r,appOpenTimeChartData:s,maxTimeUsage:0,days:l}})(t,e),a=ge(o);ee(i),ie(n),$(a),Z(a[a.length-1].value.toString())})(G)},[G]),(0,l.useEffect)(()=>{if(Q&&te){const e=((e=4,t="timeUsage")=>{const i=e-1+6*(e-1),n=e+6*e;return"timeUsage"===t?Q.slice(i,n):te.slice(i,n)})(Number(Y),P),t=((e,t)=>{let i="minutes";return"timeUsage"===e&&(i=t.find(e=>!e.isMin)?"hours":"minutes"),{data:t,colors:["#20D5EC","#10A2C5"],legend:{show:!1},interactions:["point-highlight-by-axis"],commonOption:{bar:{groupPadding:"20%"}},tooltip:{rtl:le,backgroundColor:"#6B7075",showContent:!0,crosshairs:{type:"shadow"},borderRadius:6,padding:8,textStyle:{color:"#FFFFFF",fontSize:14,lineHeight:20,fontFamily:"TikTokFont"},customRenderer:e=>new e.ReactTooltipRenderer(C),formatter:e=>{if("timeUsage"===P){let t=Math.floor(e.points[0].value/3600),o=Math.round(e.points[0].value%3600/60),a=Math.floor(e.points[1].value/3600),r=Math.round(e.points[1].value%3600/60);return"minutes"===i&&(t=0,a=0),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{style:{padding:"6px"},children:`${de("screentimedash_digitalwellbeing_summary_timespent_day",{},"Day:")} \n                  ${t>0?de("screentimedash_digitalwellbeing_summary_timespent_hours_1",{hours:t},"{hours}h"):""} ${de("screentimedash_digitalwellbeing_summary_timespent_minutes_1",{minutes:o},"{minutes}m")}`}),(0,n.jsx)("div",{style:{padding:"6px"},children:`${de("screentimedash_digitalwellbeing_summary_timespent_night",{},"Night:")} \n                  ${a>0?de("screentimedash_digitalwellbeing_summary_timespent_hours_1",{hours:a},"{hours}h"):""} ${de("screentimedash_digitalwellbeing_summary_timespent_minutes_1",{minutes:r},"{minutes}m")}`})]})}return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{style:{padding:"6px"},children:de("screentimedash_digitalwellbeing_summary_appopened_day_1",{num:e.points[0].value})}),(0,n.jsx)("div",{style:{padding:"6px"},children:de("screentimedash_digitalwellbeing_summary_appopened_night_1",{num:e.points[1].value})})]})},position:e=>{let t=e.mouse.x,i=e.mouse.x;return e.points.length>0&&(t=e.points[0].plotY-e.tooltipHeight-6,i=e.points[0].plotX-e.tooltipWidth/2),{x:i,y:t}}},xAxis:{type:"category",tickLine:{show:!1},interval:1,inverse:le,axisLabel:{rich:!0,fontSize:10,formatter:e=>{const[t,i]=e.split(" ");return`\n              <vbox align='center' padding='-5'>\n              <hbox>${ce[t]}</hbox> <hbox align='center'>${i}<hbox>\n              </vbox>\n            `}}},yAxis:{type:"value",opposite:le,tickCount:6,minInterval:"timeUsage"===e?0:1,softMax:"timeUsage"===e?0:5,axisLabel:{rich:!0,fontSize:10,formatter:t=>{if("timeUsage"===e){let e=t;return"minutes"===i?(e=(t/60).toFixed(1),`<vbox>${de(I,{[i]:String(e)},"{minutes}m")}\n                </vbox>`):(e=(t/3600).toFixed(1),`<vbox>${de(T,{[i]:String(e)},"{hours}h")}\n                </vbox>`)}return`\n              <vbox align='center' padding='-5'>\n              <hbox>${t}</hbox>\n              </vbox>\n            `}}},series:[{type:"bar",name:"Day",encode:{x:"date",y:"timeUsage"===e?"dayUsage":"dayOpenTimes"},stack:"stack1",barWidth:"80%",grouping:!1},{type:"bar",name:"night",encode:{x:"date",y:"timeUsage"===e?"nightUsage":"nightOpenTimes"},stack:"stack1",grouping:!1}]}})(P,e);X(t),oe(e)}},[Q,te,P,Y]),(0,l.useEffect)(()=>{let e=0,t=0,i=0;"timeUsage"===P?(ne.forEach(n=>{e+=n.dayUsage,t+=n.nightUsage,i=i+n.dayUsage+n.nightUsage}),W(0===i?0:Math.round(e/i*125)),H(0===i?0:Math.round(t/i*125)),L(pe(e)),O(pe(t)),E(pe(i))):(ne.forEach(n=>{e+=n.dayOpenTimes,t+=n.nightOpenTimes,i=i+n.dayOpenTimes+n.nightOpenTimes}),W(0===i?0:125*Math.round(e/i)),H(0===i?0:Math.round(t/i*125)),B(e),U(t))},[ne]),(0,l.useEffect)(()=>{t||(ae.current=null),t&&J&&(e=>{if(!ae.current){const e=document.getElementById("screen-time-line-chart"),t=new o.t1(e);ae.current=t}ae.current.setOption(e)})(J)},[t,J]);const[_e,me]=(()=>{const e=(0,l.useRef)({startTime:void 0});return[()=>{e.current.startTime=Date.now()},()=>{const t=e.current.startTime;if(void 0===t)return;const n=Date.now();var o;o=n-t,i&&!u||se.uploadMetric("exit_wellbeing",{session_time:o,users_type:i?"kid":"regular_users",entry_point:"setting"}),e.current.startTime=void 0}]})();return(0,l.useEffect)(()=>{t?(_e(),i&&!u||se.uploadMetric("enter_wellbeing",{users_type:i?"kid":"regular_users",entry_point:"setting"})):me()},[t]),(0,l.useEffect)(()=>()=>{me()},[]),t?(0,n.jsxs)(p,{children:[(0,n.jsx)("div",{style:{width:"300px"},children:(0,n.jsx)(w.dB,{label:de("screentimedash_digitalwellbeing_summary_appopened_actionsheet_chooseweek_title",{},"Select week"),placeholder:de("screentimedash_digitalwellbeing_summary_appopened_actionsheet_chooseweek_title",{},"Select week"),options:q,value:Y,onChange:e=>{Z(e)},block:!0})}),(0,n.jsxs)(g,{children:[(0,n.jsx)(w.eh,{activeTab:P,tabs:[{id:"timeUsage",title:de("screentimedash_digitalwellbeing_summary_timespent_tab",{},"Time spent"),content:(0,n.jsx)("div",{style:{margin:"20px 20px 20px 0"}})},{id:"openTimes",title:de("screentimedash_digitalwellbeing_summary_appopened_tab",{},"TikTok opened"),content:(0,n.jsx)("div",{style:{margin:"20px 20px 20px 0"}})}],onChange:e=>{if(A(e),"timeUsage"===e||"openTimes"===e){if(i&&!u)return;const t="openTimes"===e?"app_opened_check":"time_spent_check",n=i?"kids":"regular_users";se.uploadMetric(t,{users_type:n})}}}),(0,n.jsxs)(_,{children:[(0,n.jsx)("div",{id:"screen-time-line-chart",style:{width:"60%"},ref:re}),(0,n.jsxs)(m,{children:[(0,n.jsxs)(h,{children:[(0,n.jsxs)(y,{children:[(0,n.jsx)(x,{children:de("screentimedash_digitalwellbeing_summary_timespent_header_daytime",{},"Day time")}),(0,n.jsx)(w.N0,{background:"ToastDefault",content:de("screentimedash_digitalwellbeing_summary_daytime_tip_desc",{},"Day time is between 6 AM–10 PM."),children:(0,n.jsx)(S.A,{})})]}),N?(0,n.jsx)(v,{width:N+"px"}):null,(0,n.jsx)(b,{children:"timeUsage"===P?M:F})]}),(0,n.jsxs)(h,{children:[(0,n.jsxs)(y,{children:[(0,n.jsx)(x,{children:de("screentimedash_digitalwellbeing_summary_nighttime_tip_title",{},"Night time")}),(0,n.jsx)(w.N0,{background:"ToastDefault",content:de("screentimedash_digitalwellbeing_summary_nighttime_tip_desc",{},"Night time is between 10 PM–6 AM."),children:(0,n.jsx)(S.A,{})})]}),V?(0,n.jsx)(f,{width:V+"px"}):null,(0,n.jsx)(b,{children:"timeUsage"===P?D:z})]}),(0,n.jsx)(h,{children:(0,n.jsxs)(y,{children:[(0,n.jsx)(x,{children:de("screentimedash_digitalwellbeing_summary_appopened_header_total",{},"Total")}),(0,n.jsx)(k,{children:"timeUsage"===P?R:F+z})]})})]})]})]})]}):(0,n.jsx)("div",{id:"screen-time-line-chart",style:{width:"60%"},ref:re})};P.defaultProps={kidsMode:!1,enableKidsMetrics:!0}},13322:(e,t,i)=>{"use strict";var n;i.d(t,{D:()=>n}),function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.F=70]="F",e[e.Two=50]="Two",e[e.L=76]="L",e[e.M=77]="M",e[e.Clear=144]="Clear",e[e.T=84]="T",e[e.R=82]="R",e[e.C=67]="C"}(n||(n={}))},13353:(e,t,i)=>{"use strict";i.d(t,{k:()=>o});var n=i(40099);const o=()=>{const[e,t]=(0,n.useState)(0);return{handleLoadedData:(0,n.useCallback)((e,i)=>{t(e>0&&i>0?e/i:0)},[]),videoRatio:e}}},13590:(e,t,i)=>{"use strict";i.d(t,{C:()=>Z});var n=i(24643),o=i(40099),a=i(80179),r=i(61198),s=i(59835),l=i(70589),d=i(29593),c=i(35898),u=i(75976),p=i(99625),g=i(3045),_=i(35757),m=i(94725),h=i(59083),v=i(42262),f=i(26401),y=i(93731);const b=(0,o.forwardRef)((e,t)=>{const{playing:i=!1,onClickPlay:a,onClickPause:r,onClickRetry:s,onControlsClick:l,defaultVolume:d,defaultMuted:c,onVolumeChange:u,onMutedChange:p,isBrowserMode:b=!1,showVolumeIcon:x=!1,showPlayControls:k=!1,showClickTips:w=!1,showPlayIcon:S=!1,showReplayIcon:C=!1}=e,j=(0,o.useRef)(null),{xgplayer:T,playerIsPlaying:I,loading:P,mutedPlay:A,handlePlayerDestroy:M}=(0,v.F)(Object.assign(Object.assign({},e),{playerContainerRef:j,loop:!0})),{PlayIcon:L,playIconProps:D}=(0,g.j)({defaultPlaying:i&&I,onPlay:a,onPause:r}),O=(0,o.useCallback)(()=>{var e;null===(e=T.current)||void 0===e||e.retry(),null==s||s()},[T,s]);return(0,o.useImperativeHandle)(t,()=>({destroy:()=>{M()},retry:()=>{O()}})),(0,n.jsxs)(y.qq,{ref:j,children:[(0,n.jsx)(_.m,{loading:P}),e.children,(0,n.jsxs)(y.jw,{isBrowserMode:b,visible:k,onClick:l,children:[(0,n.jsx)(m.e,{style:{position:"relative",display:w?"flex":"none"}}),(0,n.jsxs)(y.hV,{children:[S&&(0,n.jsx)(L,Object.assign({},D,{isBrowserMode:b,hideTips:!0})),C&&(0,n.jsx)(h.r,{onReplay:O,isBrowserMode:b,hideTips:!0})]}),(0,n.jsx)(y.Nu,{})]}),(0,n.jsx)(f.b,{hideTips:!0,xgplayer:T,visible:x,defaultVolume:d,defaultMuted:c,mutedPlay:A,onVolumeChange:u,onMutedChange:p,isBrowserMode:b})]})});var x=i(43629);const k=(0,o.forwardRef)((e,t)=>{const{playing:i=!1,onClickPlay:a,onClickPause:r,onClickRetry:s,onControlsClick:l,defaultVolume:d,defaultMuted:c,onVolumeChange:u,onMutedChange:p,isBrowserMode:v=!1,showVolumeIcon:b=!1,showPlayControls:k=!1,showClickTips:w=!1,showPlayIcon:S=!1,showReplayIcon:C=!1}=e,j=(0,o.useRef)(null),{xgplayer:T,playerIsPlaying:I,loading:P,mutedPlay:A,handlePlayerDestroy:M}=(0,x.F)(Object.assign(Object.assign({},e),{playerContainerRef:j})),{PlayIcon:L,playIconProps:D}=(0,g.j)({defaultPlaying:i&&I,onPlay:a,onPause:r}),O=(0,o.useCallback)(()=>{var e;null===(e=T.current)||void 0===e||e.retry(),null==s||s()},[T,s]);return(0,o.useImperativeHandle)(t,()=>({destroy:()=>{M()},retry:()=>{O()}})),(0,n.jsxs)(y.qq,{ref:j,children:[(0,n.jsx)(_.m,{loading:P}),e.children,(0,n.jsxs)(y.jw,{isBrowserMode:v,visible:k,onClick:l,children:[(0,n.jsx)(m.e,{style:{position:"relative",display:w?"flex":"none"}}),(0,n.jsxs)(y.hV,{children:[S&&(0,n.jsx)(L,Object.assign({},D,{isBrowserMode:v,hideTips:!0})),C&&(0,n.jsx)(h.r,{onReplay:O,isBrowserMode:v,hideTips:!0})]}),(0,n.jsx)(y.Nu,{})]}),(0,n.jsx)(f.b,{hideTips:!0,xgplayer:T,visible:b,defaultVolume:d,defaultMuted:c,mutedPlay:A,onVolumeChange:u,onMutedChange:p,isBrowserMode:v})]})});var w=i(10509),S=i(45308),C=i(82175),j=i(73506),T=i(57944),I=i(43301),P=i(47572),A=i(43738),M=i(87844),L=i(16410),D=i(93584);const O=(0,L.default)("div",{target:"e92gy9y0"})(({isBrowserMode:e,theme:t})=>Object.assign(Object.assign({position:"absolute",top:e?"31px":"16px"},"rtl"===t.direction?{right:e?"146px":"16px"}:{left:e?"146px":"16px"}),{zIndex:60}),"label:DivLiveTag;"),R=9/16,E=(0,L.default)("div",{target:"e92gy9y1"})({position:"relative",boxSizing:"border-box",backgroundSize:"cover",cursor:"pointer",borderRadius:"8px",zIndex:1,width:0,overflow:"hidden"},({theme:{direction:e}})=>[(0,D.mp)({direction:e,marginEnd:"20px"})],({isBrowserMode:e,horizontal:t,useCenterAligned:i,useEnlargedVideoPlayer:n,isLiveHighlight:o,highlightVideoRatio:a})=>{if(e)return[Object.assign({width:"100%",height:"100%"},o&&{display:"flex",justifyContent:"center"})];{const e=i?"22px auto":"";if(o){const i=a?a>1:t,o=a||R;return n?[{marginTop:"22px",margin:e,display:"flex",justifyContent:"center",width:i?"100%":"fit-content",height:i?"fit-content":t?"calc(100vh - 200px)":"100%",aspectRatio:`${o}`},(0,D.jJ)({max:479,style:{width:i?264:"calc(100vw - 32px - 60px)",height:i?148.5:"calc((100vw - 32px - 60px) / (9 / 16))"}})]:[{marginTop:"22px",margin:e,display:"flex",justifyContent:"center",width:i?520:337.5,height:"fit-content",aspectRatio:`${o}`},(0,D.jJ)({max:479,style:{width:i?264:"calc(100vw - 32px - 60px)",height:i?148.5:"calc((100vw - 32px - 60px) / (9 / 16))"}})]}return n?[{marginTop:"22px",margin:e,width:t?"100%":"fit-content",height:t?"fit-content":"100%",aspectRatio:t?""+1/R:"0.5625"},(0,D.jJ)({max:479,style:{width:t?264:"calc(100vw - 32px - 60px)",height:t?148.5:"calc((100vw - 32px - 60px) / (9 / 16))"}})]:[{marginTop:"22px",margin:e,width:t?520:337.5,height:t?292.5:600},(0,D.jJ)({max:1919,style:{width:t?520:"calc((450px + (100vw - 768px) / 1152 * 100) * (9 / 16))",height:t?292.5:"calc(450px + (100vw - 768px) / 1152 * 100)"}},{max:767,style:{width:t?380:"calc((380px + (100vw - 480px) / 288 * 20) * (9 / 16))",height:t?213.75:"calc(380px + (100vw - 480px) / 288 * 20)"}},{max:479,style:{width:t?264:"calc(100vw - 32px - 60px)",height:t?148.5:"calc((100vw - 32px - 60px) / (9 / 16))"}})]}},"label:DivRecommendLivePlayer;"),F=(0,L.default)("div",{target:"e92gy9y2"})({width:"100%",height:"100%",zIndex:50,position:"absolute",left:0,top:0},"label:DivPlayerStatus;"),B=(0,L.default)("div",{target:"e92gy9y3"})({width:"100%",height:"100%",zIndex:3,position:"absolute",pointerEvents:"none",top:0,left:0},"label:DivLivePlayerMultiGuestPanelWrapper;");var z=i(74967),U=i(73137),N=i(9656),W=i(862),V=i(51727),H=i(82862),q=i(43050),$=i(13353),G=i(25372),K=i(16788),Y=i(47307);const Z=(0,o.memo)(({requestId:e,liveInfo:t,isBrowserMode:i,active:g,autoplay:_=!1,loggerConfig:m,onPlayError:h,onLiveEndTimeoutStart:v,onLiveEndTimeoutEnd:f,volumeProps:y,pageType:x})=>{var L;const D=(0,o.useRef)(null),R=(0,z.C)({handleParentPlayError:h}),Z=(0,o.useRef)(),J=(0,o.useMemo)(()=>(null==t?void 0:t.coverUrl)?[t.coverUrl]:[],[null==t?void 0:t.coverUrl]),{needViewer:X,viewers:Q}=(0,o.useMemo)(()=>{var e,i,n,o;return{needViewer:Boolean(null!==(i=null===(e=null==t?void 0:t.liveRoomStats)||void 0===e?void 0:e.userCount)&&void 0!==i?i:0),viewers:(0,d.GQ)(null!==(o=null===(n=null==t?void 0:t.liveRoomStats)||void 0===n?void 0:n.userCount)&&void 0!==o?o:0)}},[null===(L=null==t?void 0:t.liveRoomStats)||void 0===L?void 0:L.userCount]),ee=(0,o.useMemo)(()=>null==t?void 0:t.roomID,[null==t?void 0:t.roomID]),te=(0,o.useMemo)(()=>(0,U.iU)(null==t?void 0:t.landscape),[null==t?void 0:t.landscape]),{streamItemUrl:ie,isLiveHighlight:ne}=(0,o.useMemo)(()=>{var e;if((0,U.Zh)(null==t?void 0:t.streamData))return{streamItemUrl:null==t?void 0:t.streamData,isLiveHighlight:!0};{const i=(null==t?void 0:t.streamData)?c.WL.getAvailableStream({stream_data:t.streamData},{targetQuality:"sd",direction:"up"}):null;return{streamItemUrl:null===(e=null==i?void 0:i.url)||void 0===e?void 0:e.mainFLV,isLiveHighlight:!1}}},[null==t?void 0:t.streamData]),oe=(0,o.useMemo)(()=>{if(null==t?void 0:t.streamData)return c.WL.getStreamSecretKey({stream_data:t.streamData})},[null==t?void 0:t.streamData]),{visible:ae,handleVoiceChatPanelSeiParsed:re,voiceChannelControllerProps:se}=(0,j.q)({infoEnable:!1,playerContainerRef:D,roomInfo:{anchorId:null==t?void 0:t.ownerInfo.id,roomId:ee,liveRoomMode:null==t?void 0:t.mode}}),[le]=(0,a.useAtom)(N.J),{handleMultiGuestPanelShow:de}=(0,W.P)({roomId:ee,active:Boolean(g)}),{handleMultiGuestSeiParsedCallback:ce,multiGuestMaskPanelProps:ue,multiGuestPanelVisible:pe}=(0,V.$)({handleMultiGuestShow:de,linkedUsers:le.linkedUsers}),{handleMultiGuestSeiParsed:ge}=(0,H.n)({handleMultiGuestSeiParsedCallback:ce,url:ie,playMode:"fyp_preview"}),_e=(0,o.useCallback)((e,t,i)=>{e&&t&&i&&ge(e,t,i),e&&re(e)},[ge,re]),{isFatal:me,isEnd:he,isPaused:ve,handlePlayError:fe,handleStreamEnd:ye,handleRetry:be,handleStreamResume:xe}=(0,I.Z)({active:g,handleParentPlayError:h,roomId:ee,roomStatus:null==t?void 0:t.status,playerRef:Z}),{handleCancelPlay:ke,isShowGuideBg:we}=(0,K.e)({isFatal:me,isEnd:he}),{handleOpenLive:Se,handleEnterUserPage:Ce}=(0,M.z)({requestId:e,liveInfo:t,pageType:x,isLiveHighlight:ne,isGuestConnection:pe,isShowGuideBg:we}),{handleLeaveReport:je,handlePlayingReport:Te,handlePauseReport:Ie,handlePlayReport:Pe,handleLiveEntranceClickReport:Ae,handleLiveCancelClickReport:Me,handleLiveGuideShowReport:Le}=(0,P.$)({active:g,isBrowserMode:i,requestId:e,liveInfo:t,pageType:x,isLiveHighlight:ne,isLivePaused:ve,isGuestConnection:pe,isShowGuideBg:we}),De=(0,o.useCallback)(()=>{ke(),Me()},[ke,Me]),Oe=(0,o.useCallback)(()=>{Se(),Ae()},[Se]),{playing:Re,defaultVolume:Ee,defaultMuted:Fe,showPlayControls:Be,showVolumeIcon:ze,handleMouseEnter:Ue,handleMouseLeave:Ne,handlePlay:We,handlePause:Ve,handleClickPlay:He,handleClickPause:qe,handleClickRetry:$e,handleVolumeChange:Ge,handleMutedChange:Ke,handlePlaying:Ye}=(0,A.$)({handlePlayReport:Pe,handlePauseReport:Ie,handlePlayingReport:Te,handleLeaveReport:je,handleStreamResume:xe,volumeProps:y,isFatal:me,isEnd:he,isBrowserMode:i,active:g}),{useCenterAligned:Ze,useEnlargedVideoPlayer:Je,useWiderContainerSize:Xe}=(0,l.q6)(),{handleLoadedData:Qe,videoRatio:et}=(0,$.k)(),tt=(0,s.Eo)(),[it,{openContextMenu:nt}]=(0,G.xx)(e=>e.contextMenuOpen,r.bN),{hasNonPersonalizedMenu:ot}=(0,l.cE)(),at=(0,o.useCallback)(e=>{e.preventDefault();const t=[];ot&&t.push("manage-feed"),nt({location:{x:e.clientX,y:e.clientY},menuOptions:t,mediaType:"video"})},[nt,ot]);return(0,n.jsxs)(E,{isBrowserMode:i,horizontal:te,onMouseEnter:Ue,onMouseLeave:Ne,ref:D,useCenterAligned:Ze,useEnlargedVideoPlayer:Je,useWiderContainerSize:Xe,isLiveHighlight:ne,highlightVideoRatio:et,onContextMenu:at,children:[J.length&&(0,n.jsx)(u.p,{urls:J}),(0,n.jsx)(O,{isBrowserMode:i,children:(0,n.jsx)(p.D,{needViewer:!tt&&X,viewerCount:Q})}),we&&(0,n.jsx)(Y.y,{handleCancelPlay:De,handleOpenLiveClick:Oe,handleLiveGuideShowReport:Le}),!me&&!he&&(ne?(0,n.jsx)(b,{isBrowserMode:i,ref:Z,loggerConfig:m,defaultVolume:Ee,defaultMuted:Fe,showPlayControls:Be,showVolumeIcon:ze,showClickTips:!0,showPlayIcon:!0,showReplayIcon:!0,playing:Re,autoMutedPlay:!0,autoplay:_,url:ie,drmSecretKey:oe,onControlsClick:Oe,onPlayError:fe,onVolumeChange:Ge,onMutedChange:Ke,onClickPlay:He,onClickPause:qe,onPlay:We,onPause:Ve,onPlaying:Ye,onClickRetry:$e,onLoadedData:Qe}):(0,n.jsxs)(k,Object.assign({isBrowserMode:i,ref:Z,loggerConfig:m,defaultVolume:Ee,defaultMuted:Fe,showPlayControls:Be,showVolumeIcon:ze,showClickTips:!0,showPlayIcon:!0,showReplayIcon:!0,playing:Re,autoMutedPlay:!0,autoplay:_,url:ie,drmSecretKey:oe,onControlsClick:Oe,onPlayError:fe,onStreamEnd:ye,onVolumeChange:Ge,onMutedChange:Ke,onClickPlay:He,onClickPause:qe,onPlay:We,onPause:Ve,onSeiParsed:_e,onPlaying:Ye,onClickRetry:$e},R,{children:[ae&&(0,n.jsx)(T.$,Object.assign({},se)),pe&&(0,n.jsx)(B,{children:(0,n.jsx)(q.y,Object.assign({},ue,{canShowUserInfo:!1}))})]}))),me&&(0,n.jsx)(F,{children:(0,n.jsx)(w.f,{onRetryClick:be})}),he&&(0,n.jsx)(F,{children:(0,n.jsx)(S.Y,{isBrowserMode:i,onTimeoutStart:v,onTimeoutEnd:f,avatarList:J,onEnterUserPage:Ce})}),ve&&!pe&&(0,n.jsx)(C.$,{onClick:Oe})]})})},13720:(e,t,i)=>{"use strict";i.d(t,{C:()=>a});var n=i(40099),o=i(57383);const a=()=>{const e=(0,n.useRef)(null),[t,i]=(0,n.useState)(!1),a=(0,o.Ig)();return{showing:t&&!a,handleItemEnter:(0,n.useCallback)(()=>{e.current=setTimeout(()=>{e.current&&i(!0)},1e3)},[]),handleItemLeave:(0,n.useCallback)(()=>{e.current&&(clearTimeout(e.current),e.current=null),e.current=setTimeout(()=>{e.current&&i(!1)},1e3)},[]),handleCardEnter:(0,n.useCallback)(()=>{e.current&&(clearTimeout(e.current),e.current=null),i(!0)},[]),handleCardLeave:(0,n.useCallback)(()=>{e.current=setTimeout(()=>{i(!1)},500)},[])}}},13835:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var n=i(72516),o=i(24643),a=i(69520),r=i(78751),s=i(26930),l=i(45027),d=i(80179),c=i(69857),u=i(90976),p=i(27799),g=i(94568),_=i(68252);const m=e=>{const{items:t,detail:i,relatedChallengeList:m}=e,h=(0,p.s)(),{language:v,appType:f}=(0,c.L$)((0,u.W)(()=>["language","appType"],[])),y=(0,l.w)(g.e),b=(0,d.useSetAtom)(r.b);return(0,s.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e;const{statusCode:n}=i,o={language:v};if(-1!==n){const r=Object.assign(Object.assign(Object.assign({},i),o),{statusCode:n,seoProps:{pageId:null===(e=i.challengeInfo)||void 0===e?void 0:e.challenge.id,pageType:3},t:h,items:t,relatedChallengeList:m}),s=yield(0,_.G)(r,a.I),{metaParams:l={},jsonldList:d=[]}=s;return b({metaParams:l,jsonldList:d}),y.setChallengeSharingMetaEffect({seoProps:s,response:i,appType:f})}}),[f,v,i]),(0,o.jsx)(o.Fragment,{})}},13869:(e,t,i)=>{"use strict";i.d(t,{Y:()=>b});var n=i(24643),o=i(40099),a=i(57688),r=i(2232),s=i(90976),l=i(16410);const d=(0,l.default)("div",{target:"eiz8q0n0"})({fontSize:"14px",fontWeight:"bold",textDecoration:"underline",cursor:"pointer"},"label:DivButton;"),c=(0,l.default)("div",{target:"eiz8q0n1"})({fontSize:"14px",fontWeight:"bold",color:"red",cursor:"pointer",marginLeft:"10px"},"label:DivCloseButton;"),u=(0,l.default)("span",{target:"eiz8q0n2"})({color:"red"},"label:SpanOverride;"),p=(0,l.default)("div",{target:"eiz8q0n3"})({display:"flex"},"label:DivABTestItem;"),g=(0,l.default)("div",{target:"eiz8q0n4"})({maxHeight:"calc(100vh - 320px)",overflow:"auto",marginBottom:"13px",marginLeft:"6px"},"label:DivABTestSection;"),_=(0,l.default)("div",{target:"eiz8q0n5"})({maxHeight:"130px",overflow:"auto",marginBottom:"15px",marginLeft:"6px"},"label:DivFeatureGate;"),m=(0,l.default)("div",{target:"eiz8q0n6"})({fontSize:"14px",fontWeight:"bold",marginLeft:"6px"},"label:DivTitle;"),h=(0,l.default)("div",{target:"eiz8q0n7"})(({isMobile:e})=>({position:"fixed",left:"20px",bottom:e?"60px":"20px",zIndex:1e3,background:"#bae0ff",opacity:"0.8",color:"black",fontSize:"14px",padding:"5px 10px",borderRadius:"3px",marginLeft:"4rem"}),"label:DivWrapper;"),v=(0,l.default)("div",{target:"eiz8q0n8"})({display:"flex"},"label:ButtonWrapper;"),f=(0,o.memo)(function({name:e}){var t;const{abTestVersion:i}=null!==(t=(0,s.W)(()=>["abTestVersion"],[]))&&void 0!==t?t:{},o=(0,r.qt)(i,e),a=(0,r.V7)(i,e);return(0,n.jsx)(u,{children:a!==o&&`, OverRide Value:${o}`})}),y=(0,o.memo)(function({name:e}){const t=(0,r.TQ)(e);return(0,n.jsx)("div",{children:`${e}: ${t?"On":"Off"}`})}),b=(0,o.memo)(function({isMobile:e}){var t;const[i,l]=(0,o.useState)(!0),[u,b]=(0,o.useState)(!1),{isDebugPanelEnable:x}=(0,r._F)(),{abTestVersion:k}=null!==(t=(0,s.W)(()=>["abTestVersion"],[]))&&void 0!==t?t:{},w=(0,o.useCallback)(()=>{b(!u)},[u]);return x&&i?(0,n.jsxs)(h,{isMobile:e,children:[u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m,{children:"AB Test"}),(0,n.jsx)(g,{children:k&&Object.keys(k.parameters).map((e,t)=>{const i=k.parameters[e],o=[];return Object.keys(i).forEach(e=>{o.push(`${e}: ${i[e]}`)}),(0,n.jsxs)(p,{children:[(0,n.jsx)("div",{children:`${e}: ${o.join(", ")}`}),(0,n.jsx)(f,{name:e})]},t)})}),(0,n.jsx)(m,{children:"Feature Gates"}),(0,n.jsx)(_,{children:a.$v.map((e,t)=>(0,n.jsx)(y,{name:e},t))})]}),(0,n.jsxs)(v,{children:[(0,n.jsx)(d,{type:"button",onClick:w,children:u?"Hide Debug":"Show Debug"}),(0,n.jsx)(c,{type:"button",onClick:()=>{l(!1)},children:"x"})]})]}):null})},13910:(e,t,i)=>{"use strict";i.d(t,{$:()=>r,k:()=>a});var n=i(37783),o=i(61198);function a(e){return(0,n.F3)(t=>t[e],o.bN)}function r(e,t){return(0,n.F3)(i=>t(i[e]),o.bN)}},13935:(e,t,i)=>{"use strict";i.d(t,{SV:()=>l});var n=i(97517),o=i.n(n),a=i(52986),r=i.n(a);o().extend(r());const s={az:"az",ar:"ar",ca:"ca",da:"da",et:"et","en-GB":"en-gb","es-419":"es","fr-CA":"fr-ca",ga:"ga",hr:"hr",is:"is",sw:"sw",lv:"lv",lt:"lt",nb:"nb",uz:"uz",pt:"pt",sq:"sq",sk:"sk",sl:"sl",bg:"bg",kk:"kk","bn-IN":"bn","ceb-PH":"en","cs-CZ":"cs","de-DE":"de","el-GR":"el",en:"en",es:"es","fi-FI":"fi","fil-PH":"en",fr:"fr","he-IL":"he","hi-IN":"hi","hu-HU":"hu","id-ID":"id","it-IT":"it","ja-JP":"ja","jv-ID":"jv","km-KH":"km","ko-KR":"ko","ms-MY":"ms","my-MM":"my","nl-NL":"nl","pl-PL":"pl","pt-BR":"pt-br","ro-RO":"ro","ru-RU":"ru","sv-SE":"sv","th-TH":"th","tr-TR":"tr","uk-UA":"uk",ur:"ur","vi-VN":"vi","zh-Hans":"zh","zh-Hant-TW":"zh-tw"};function l(e,t,i="MM-DD-YYYY HH:mm"){var n,a;const r=null!==(a=null!==(n=s[t])&&void 0!==n?n:t.split("-")[0])&&void 0!==a?a:"en";return o().unix(e).locale(r).format(i)}},14624:(e,t,i)=>{"use strict";i.d(t,{n:()=>m,t:()=>f});var n=i(24643),o=i(40099),a=i(16410),r=i(93584);const s=(0,a.default)("div",{target:"ec8xtnl0"})(({isMobile:e})=>({display:e?"block":"flex",justifyContent:"space-between",flexWrap:"wrap"}),"label:DivIngredientsContainer;"),l=(0,a.default)("div",{target:"ec8xtnl1"})(({isMobile:e})=>({width:e?"100%":"46%",display:"flex",justifyContent:"space-between",alignItems:"center","&:not(:last-of-type)":{marginBottom:"20px"}}),"label:DivIngredientsItem;"),d=(0,a.default)("span",{target:"ec8xtnl2"})(({theme:{direction:e}})=>[(0,r.mp)({direction:e,textAlign:"start"}),{flex:1}],"label:SpanIngredientsStart;"),c=(0,a.default)("span",{target:"ec8xtnl3"})(({theme:{direction:e}})=>[(0,r.mp)({direction:e,textAlign:"end"}),{flex:1}],"label:SpanIngredientsEnd;"),u=(0,a.default)("div",{target:"ec8xtnl4"})(({theme:{colors:e},isMobile:t})=>({fontSize:"16px",lineHeight:t?"20px":"24px",letterSpacing:"0.19%",color:e.TextSecondary,display:"flex",marginBottom:"14px",alignItems:t?"normal":"center"}),"label:DivStepItem;"),p=(0,a.default)("div",{target:"ec8xtnl5"})(({theme:{colors:e,direction:t}})=>[(0,r.mp)({direction:t,marginEnd:"8px"}),{backgroundColor:e.BGInput,padding:"4px 8px",fontWeight:500,width:"52px",height:"24px",fontSize:"12px",borderRadius:"4px",textAlign:"center",display:"flex",alignItems:"center"}],"label:DivStepLabel;"),g=(0,a.default)("ul",{target:"ec8xtnl6"})(({theme:{colors:e}})=>[{marginBlockStart:0,paddingInlineStart:"24px",marginBlockEnd:"0px",color:e.TextSecondary}],"label:UlHintList;"),_=(0,a.default)("li",{target:"ec8xtnl7"})(({isMobile:e})=>({fontSize:"16px","&:not(:last-child)":{marginBottom:e?"16px":"12px"}}),"label:LiHintList;");var m,h=i(69857),v=i(61322);!function(e){e.AboutDish="about",e.Ingredients="ingredients",e.StepByStep="step",e.UsefulHints="hints"}(m||(m={}));const f=(0,o.memo)(({type:e,content:t})=>{const{isMobile:i}=(0,h.L$)((0,v.U)(()=>["isMobile"],[]));if(e===m.Ingredients){const e=t;return(0,n.jsx)(s,{isMobile:i,children:e.map(e=>(0,n.jsxs)(l,{isMobile:i,children:[(0,n.jsx)(d,{children:e.ingredient}),(0,n.jsx)(c,{children:`${e.quantity} ${e.unit}`})]},e.ingredient))})}if(e===m.StepByStep){const e=t;return(0,n.jsx)(n.Fragment,{children:e.map((e,t)=>(0,n.jsxs)(u,{isMobile:!0,children:[(0,n.jsxs)(p,{children:["Step",t+1]}),e]},t))})}if(e===m.UsefulHints){const e=t;return(0,n.jsx)(g,{children:e.map((e,t)=>(0,n.jsx)(_,{isMobile:i,children:e},t))})}return(0,n.jsx)(n.Fragment,{children:t})})},14863:(e,t,i)=>{"use strict";i.d(t,{d:()=>y});var n=i(24643),o=i(40099),a=i(41077),r=i.n(a),s=i(61322),l=i(16410);const d=(0,l.default)("div",{target:"eo64b3b0"})({height:"100%",width:"100%",overflow:"hidden"},"label:DivImageContainer;"),c=(0,l.default)("img",{target:"eo64b3b1"})({height:"100%",width:"100%",objectFit:"cover"},"label:Img;");function u(e,t){return e>=5e6?t?.1:.2:e>=1e6?t?.3:.5:e>=5e5?t?.4:.6:t?.6:.8}const p=e=>{var t;const{file:i,errorRender:a,onError:l,onClick:p,onLoad:g}=e,{isMobile:_}=null!==(t=(0,s.U)(()=>["isMobile"],[]))&&void 0!==t?t:{},[m,h]=(0,o.useState)(""),[v,f]=(0,o.useState)(!1),y=(0,o.useMemo)(()=>"string"==typeof i,[i]),b=(0,o.useCallback)(e=>{if(y)return;const t=i,n=e.target.naturalWidth,o=e.target.naturalHeight;new(r())(t,{quality:u(t.size,Boolean(_)),convertSize:1e6,success:e=>{e.width=n,e.height=o,null==g||g(t,{width:n,height:o})}})},[i,_,y,g]),x=(0,o.useCallback)(()=>{!v&&p()},[v,p]);return(0,o.useEffect)(()=>{if(y)return;const e=i,t=new FileReader;t.onload=e=>{h(e.target.result)},t.onerror=()=>{f(!0)},t.readAsDataURL(e)},[i,y]),(0,o.useEffect)(()=>{v&&l&&l()},[v,l]),y||m?(0,n.jsx)(d,{children:v&&a||(0,n.jsx)(c,{src:y?i:m,onLoad:b,onClick:x})}):null};var g=i(76926);const _={id:"close-0e4ed0d4",use:"close-0e4ed0d4-usage",viewBox:"0 0 7 7",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 7" id="close-0e4ed0d4"><path fill-rule="evenodd" d="M5.803 6.157a.5.5 0 0 1-.707 0l-4.95-4.95a.5.5 0 0 1 0-.707L.5.146a.5.5 0 0 1 .707 0l4.95 4.95a.5.5 0 0 1 0 .707z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M.5 6.157a.5.5 0 0 0 .707 0l4.95-4.95a.5.5 0 0 0 0-.707L5.803.146a.5.5 0 0 0-.707 0l-4.95 4.95a.5.5 0 0 0 0 .707z" clip-rule="evenodd" /></symbol>'};function m(e){const t=(0,o.useContext)(g.X);return(0,o.useLayoutEffect)(()=>(t.add(_),()=>{t.remove("close-0e4ed0d4")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#close-0e4ed0d4"},void 0)}),void 0)}const h=(0,l.default)("div",{target:"e1ff4z7e0"})({position:"relative"},"label:DivFilePreview;"),v=(0,l.default)("div",{target:"e1ff4z7e1"})({position:"absolute",top:0,padding:"5px",height:"16px",width:"16px"},({theme:e})=>({backgroundColor:e.colors.TextSecondary,["rtl"===e.direction?"left":"right"]:0,["rtl"===e.direction?"borderBottomRightRadius":"borderBottomLeftRadius"]:"2px"}),"label:DivCloseContainer;"),f=(0,l.default)(m,{target:"e1ff4z7e2"})({display:"block",position:"relative",height:"7px",width:"7px"},({theme:e})=>({fill:e.colors.BGPrimary}),"label:StyledCloseIcon;"),y=e=>{const{file:t,onRemove:i,onPreview:a,errorRender:r,onError:s,onLoad:l,className:d}=e,c=(0,o.useCallback)(()=>{null==a||a()},[a]);return(0,n.jsxs)(h,{className:d,children:[(0,n.jsx)(p,{file:t,onClick:c,errorRender:r,onError:s,onLoad:l}),i&&(0,n.jsx)(v,{className:"close",onClick:i,children:(0,n.jsx)(f,{})})]})}},15403:(e,t,i)=>{"use strict";i.d(t,{KE:()=>b});var n=i(24643),o=i(67518),a=i(40099),r=i(7607),s=i(27799),l=i(11365),d=i(34038),c=i(63177),u=i(16410),p=i(60751),g=i(93584);const _=(0,u.default)("div",{target:"e161jvwg0"})({position:"relative",flex:"0 0 24px",width:"24px",height:"24px"},"label:DivActionContainer;"),m=(0,u.default)(p.A,{target:"e161jvwg1"})({width:24,height:24,cursor:"pointer"},"label:StyledEllipsisHorizontal;"),h=(0,u.default)("ul",{target:"e161jvwg2"})(({theme:e})=>(0,g.zy)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"TikTokFont"}),{listStyle:"none",margin:"0",padding:"8px 16px",whiteSpace:"nowrap",minWidth:"200px"},"label:UlPopupContainer;"),v=(0,u.default)("li",{target:"e161jvwg3"})(({theme:{colors:e}})=>({position:"relative",padding:"13px",":last-of-type::before":{content:'""',position:"absolute",left:0,top:0,width:"100%",height:"1px",background:e.LineSecondary,transform:"scaleY(0.5)"}}),"label:LiPopupItem;"),f=(0,u.default)("button",{target:"e161jvwg4"})(g.WA,({theme:{colors:e}})=>({cursor:"pointer",color:e.TextPrimary,":hover":{color:e.Primary}}),"label:ButtonAction;");var y=i(50622);const b=function({videoId:e}){const{direction:t}=(0,o.u)(),i="ltr"===t?"bottomRight":"bottomLeft",u=(0,s.s)(),{active:p,handleMouseEnter:g,handleMouseLeave:b}=(0,l.K)(),[x,k]=(0,a.useState)(!1),w=(0,a.useCallback)(()=>{k(!0)},[]),S=(0,a.useCallback)(()=>{k(!1)},[]),[C,j]=(0,a.useState)(!1),T=(0,a.useCallback)(()=>{j(!0),r.y.handleClickDeleteVideo({group_id:e})},[e]),I=(0,a.useCallback)(()=>{j(!1)},[]),{colors:P}=(0,o.u)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(_,{"data-e2e":"video-setting",onMouseEnter:g,onMouseLeave:b,children:[(0,n.jsx)(m,{}),(0,n.jsx)(d.z,{backgroundColor:P.BGSecondary,placement:i,active:p,margin:-11,arrowMargin:10,children:(0,n.jsxs)(h,{children:[(0,n.jsx)(v,{"data-e2e":"video-privacy-settings",children:(0,n.jsx)(f,{onClick:w,type:"button",children:u("privacy_set")})}),(0,n.jsx)(v,{"data-e2e":"video-delete",children:(0,n.jsx)(f,{onClick:T,type:"button",children:u("delete")})})]})})]}),(0,n.jsx)(c.p,{videoId:e,visible:x,onClose:S}),(0,n.jsx)(y.G,{visible:C,onClose:I,videoId:e})]})}},15914:(e,t,i)=>{"use strict";i.d(t,{H:()=>P,I:()=>I});var n=i(24643),o=i(40099),a=i(67476),r=i(16410),s=i(7125),l=i(93584),d=i(76926);const c={id:"desktop-055ad845",use:"desktop-055ad845-usage",viewBox:"0 0 180 104",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 180 104" id="desktop-055ad845"><path d="M109.636 39.682c-6.1 0-11.045-4.945-11.045-11.046h-7.364v30.069a6.75 6.75 0 1 1-5.158-6.563q.125.03.25.066V44.71a14 14 0 0 0-1.842-.12c-7.794 0-14.113 6.32-14.113 14.115 0 7.794 6.319 14.113 14.113 14.113 7.795 0 14.114-6.319 14.114-14.113v-15.34a18.33 18.33 0 0 0 11.045 3.68z" /><path fill-rule="evenodd" d="M24.546 0a8.18 8.18 0 0 0-8.182 8.182v88.364H.818a.82.82 0 0 0-.818.818v2.06c0 .25.113.483.324.615 1.178.734 5.711 3.052 16.04 3.052h148.091c11.152 0 14.585-2.376 15.357-3.079a.62.62 0 0 0 .188-.466v-2.182a.82.82 0 0 0-.818-.819h-15.546V8.183A8.18 8.18 0 0 0 155.455 0zm133.363 4.91H22.091a4.09 4.09 0 0 0-1.637 3.272V94.09h139.091V8.18a4.08 4.08 0 0 0-1.636-3.272" clip-rule="evenodd" /></symbol>'};function u(e){const t=(0,o.useContext)(d.X);return(0,o.useLayoutEffect)(()=>(t.add(c),()=>{t.remove("desktop-055ad845")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#desktop-055ad845"},void 0)}),void 0)}const p=(0,r.default)("div",{target:"e1fz9kua0"})(({playMode:e=0,radius:t=0,theme:{colors:i}})=>({flex:"1 0 600px",maxWidth:"100%",background:i.ConstBGInverse,position:0===e?"static":"relative",overflow:"hidden",padding:"0 80px",height:3===e?"606px":"100%",borderTopLeftRadius:`${t}px`,borderTopRightRadius:`${t}px`,borderBottomLeftRadius:3===e?"0px":`${t}px`,borderBottomRightRadius:3===e?"0px":`${t}px`}),"label:DivPlayerErrorPlaceHolder;"),g=(0,r.default)("div",{target:"e1fz9kua1"})({position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(18, 18, 18, 1)",borderRadius:"8px",overflow:"hidden"},"label:DivPlayerPlaceHolder;"),_=(0,r.default)("div",{target:"e1fz9kua2"})({display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",alignItems:"center",width:"80%"},"label:DivContentContainer;"),m=(0,r.default)("p",{target:"e1fz9kua3"})(({theme:e})=>[(0,l.zy)({theme:e,typography:"P2",fontWeight:"normal"}),(0,l.mp)({direction:e.direction,end:"16px"}),{color:"rgba(255, 255, 255, .8)",marginBottom:"18px",zIndex:1,textAlign:"center"}],"label:StyledErrorText;"),h=(0,r.default)("p",{target:"e1fz9kua4"})(({theme:e})=>[(0,l.zy)({theme:e,typography:"H5",fontWeight:"bold"}),(0,l.mp)({direction:e.direction,end:"24px"}),{color:"rgba(255, 255, 255, 1)",zIndex:1,textAlign:"center",fontSize:"24px",marginBottom:"12px"}],"label:StyledErrorTitle;"),v=(0,r.default)(a.QK,{target:"e1fz9kua5"})(({theme:e})=>[(0,l.mp)({direction:e.direction}),{fontSize:"15px",fontWeight:"600",lineHeight:"19.5px",paddingInline:"12px",minWidth:"56px",zIndex:1,color:"white",":hover":{color:"white"}}],"label:ButtonLearnMore;"),f=(0,r.default)(s.x,{target:"e1fz9kua6"})({position:"absolute",filter:"blur(5px)",opacity:"0.3"},"label:StyledVideoBlurBackground;"),y=(0,r.default)(u,{target:"e1fz9kua7"})({display:"block",margin:"auto",height:"100px",width:"126px",zIndex:1,fill:"white"},"label:StyledImageIcon;"),b=(0,r.default)("div",{target:"e1fz9kua8"})(({theme:e})=>({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"72px",height:"72px",background:e.colors.ConstBGInverse2,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"white",cursor:"pointer",pointerEvents:"none",zIndex:1}),"label:ForcePausedIconContainer;");var x=i(66493),k=i(63131),w=i(92467),S=i(22961),C=i(27799),j=i(70589),T=i(71225);const I=(0,o.memo)(function(e){var t;const{item:i,playMode:a,children:r,radius:s=0}=e,{originCover:l=""}=null!==(t=null==i?void 0:i.video)&&void 0!==t?t:{},d=(0,o.useMemo)(()=>({cover:l,quality:"720"}),[l]),c=(0,C.s)(),{shouldShowPlayerUnsupported:u,shouldShowLearnMore:b}=(0,S.w)();return(0,o.useEffect)(()=>{(0,x.Ii)({play_mode:k.Jr[a],error_type:Number(u)})},[]),(0,n.jsx)(p,{playMode:a,radius:s,children:(0,n.jsxs)(g,{children:[r,(0,n.jsx)(f,{video:d,objectFit:"contain"}),(0,n.jsx)(_,{children:u?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{}),(0,n.jsx)(h,{children:c("Webapp_unsupport_browser_info_title")}),(0,n.jsx)(m,{children:c("Webapp_unsupport_browser_info_content")})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m,{children:c("Webapp_player_error_info")}),b&&(0,n.jsx)(v,{label:c("Webapp_player_error_CTA"),type:"H7",onClick:()=>{(0,x.Mq)({play_mode:k.Jr[a]}),window.open("https://www.tiktok.com/feedback?id=7078299665837332998","_blank")}})]})})]})})}),P=(0,o.memo)(function(){const e=(0,j.HL)(),t=(0,T.Jz)(e=>e.canAutoPlay);return!e||t?null:(0,n.jsx)(b,{children:(0,n.jsx)(w.A,{style:{verticalAlign:"middle"},width:48,height:48})})})},15921:(e,t,i)=>{"use strict";i.d(t,{h:()=>n,q:()=>o});const n=e=>[...e].map(e=>`${e.codePointAt(0)}`),o=e=>"us"===(null==e?void 0:e.toLowerCase())},15923:(e,t,i)=>{"use strict";i.d(t,{i:()=>d});var n=i(72516),o=i(7672),a=i(17384),r=i(44094),s=i(96406);function l(e){return 0===e.length?"":function(e){let t="";for(let i=0;i<e.length;i++)t+=(5^e.charCodeAt(i)).toString(16);return t}(parseInt(e)*parseInt(e)+"dmt")}let d=class{constructor(e){this.fetch=e,this.uploadScreenTime=this.uploadScreenTime.bind(this),this.uploadScreenTimeKidsMode=this.uploadScreenTimeKidsMode.bind(this),this.uploadAppOpentimes=this.uploadAppOpentimes.bind(this),this.uploadAppOpentimesKidsMode=this.uploadAppOpentimesKidsMode.bind(this),this.getSTMDashboard=this.getSTMDashboard.bind(this),this.getSTMDashboardKidsMode=this.getSTMDashboardKidsMode.bind(this)}uploadMetric(e,t){s.f.event(e,t)}uploadScreenTime(e){return this.fetch.post("/tiktok/v1/screen_time/upload/",{body:JSON.stringify(e),headers:{"content-type":"application/json"},baseUrlType:2})}uploadScreenTimeKidsMode(e){return this.fetch.post("/tiktok/v1/kids/screen_time/upload/",{body:JSON.stringify(e),headers:{"content-type":"application/json"},baseUrlType:2})}uploadAppOpentimes(e){return this.fetch.post("/tiktok/v1/app_open_times/upload/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},baseUrlType:2})}uploadAppOpentimesKidsMode(e){return this.fetch.post("/tiktok/v1/kids/app_open_times/upload/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},baseUrlType:2})}getSTMDashboard(e){return this.fetch.get("/tiktok/v1/screen_time/list/",{query:e,baseUrlType:2})}getSTMDashboardKidsMode(e){return this.fetch.get("/tiktok/v1/kids/screen_time/list/",{query:e,baseUrlType:2})}getSTMManagement(e){return this.fetch.get("/tiktok/v1/compliance/guadig/settings/",{query:e,baseUrlType:2})}setDailySTM(e){return this.fetch.post("/tiktok/v1/screen_time/settings/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"},baseUrlType:2})}checkDailySTMPopupShow(e){return this.fetch.post("/tiktok/v1/screen_time/popup/show/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},baseUrlType:2})}uploadDailySTMPopupSuccess(e){return this.fetch.post("/tiktok/v1/screen_time/popup/complete/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},baseUrlType:2})}uploadDailySTMTeenPinSuccess(e){const t=new URLSearchParams;return t.append("pass_code",e),this.fetch.post("/aweme/v2/guardian/platform/verify/password/",{body:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},baseUrlType:2})}setSleepReminder(e){return this.fetch.post("/tiktok/v1/night_screen_time/settings/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"},baseUrlType:2})}uploadSleepReminderAction(e){return this.fetch.post("/tiktok/v1/night_screen_time/popup/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},baseUrlType:2})}checkSleepReminderShow(e){return this.fetch.post("/tiktok/v1/night_screen_time/reminder/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},baseUrlType:2})}setMinorSetting(e){const t=new URLSearchParams;return t.append("settings",JSON.stringify(e.settings)),this.fetch.post("/aweme/v1/minor/user/set/settings/",{body:t,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",[a.nk]:this.fetch.csrfToken},baseUrlType:2})}getParentInfo(e){return this.fetch.get("/aweme/v1/guardian/platform/parent/info/",{query:e,baseUrlType:2})}getIsPinSet(){const e=JSON.stringify([{event_type:2,event_value:"",password:""}]);return this.fetch.post("/tiktok/v1/kids/user/set/settings/",{headers:{"Content-Type":"application/json; charset=UTF-8"},query:{settings:e},baseUrlType:2})}setPin(e){const t=JSON.stringify([{event_type:1,event_value:"1",password:l(e.password)}]);return this.fetch.post("/tiktok/v1/kids/user/set/settings/",{headers:{"Content-Type":"application/json; charset=UTF-8"},query:{settings:t},baseUrlType:2})}checkPin(e){return this.fetch.post("/tiktok/v1/kids/user/check/password/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json; charset=UTF-8"},query:{password:l(e.password)},baseUrlType:2})}};d=(0,n.__decorate)([(0,o._)(),(0,n.__metadata)("design:paramtypes",[r.p])],d)},16233:(e,t,i)=>{"use strict";i.d(t,{j:()=>h});var n=i(24643),o=i(40099),a=i(24920),r=i(20434),s=i(16410),l=i(93584);const d=(0,s.default)("div",{target:"edkezb90"})(({theme:{colors:e}})=>({width:"100%",height:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:e.BGPrimary}),"label:DivEmojiSuggestionContainer;"),c=(0,s.default)("ul",{target:"edkezb91"})(({theme:{colors:e}})=>({listStyleType:"none",margin:0,padding:0,order:1,flex:"0 0 38px",borderTop:`1px solid ${e.LineSecondary}`,display:"flex",flexDirection:"row"}),"label:UlNavContainer;"),u=(0,s.default)("div",{target:"edkezb92"})(({theme:{colors:e}})=>({order:2,flex:"1 1 100%",overflowY:"scroll",scrollbarWidth:"none","::-webkit-scrollbar":{width:4},"::-webkit-scrollbar-track":{marginTop:8},"::-webkit-scrollbar-thumb":{borderRadius:2,backgroundColor:e.LineSecondary},":hover::-webkit-scrollbar-thumb":{backgroundColor:e.TextQuaternary}}),"label:DivPanelContainer;"),p=(0,s.default)("ul",{target:"edkezb93"})({listStyleType:"none",margin:0,padding:0,width:"100%",height:"100%",display:"flex",flexWrap:"wrap",userSelect:"none","&:focus-visible":{outlineStyle:"auto"}},"label:UlPanelList;"),g=(0,s.default)("li",{target:"edkezb94"})(({theme:e,theme:{colors:t,isDark:i},isActive:n})=>[(0,l.zy)({theme:e,color:"ConstBGInverse",typography:"H4"}),{listStyleType:"none",flex:"0 0 auto",width:40,height:40,lineHeight:"46px",margin:"5px 6px",cursor:"pointer",textAlign:"center",backgroundColor:n?i?t.BGTertiary2:t.BGInput:t.BGPrimary,borderRadius:8,userSelect:"none",":hover":{backgroundColor:t.BGInput}}],"label:LiItem;"),_=(0,o.memo)(function({emojis:e,onSelect:t}){const i=(0,o.useRef)(-1),a=(0,o.useCallback)(e=>{const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i.current=e?Number(e):-1}},[]),s=(0,o.useCallback)(n=>{(0,r.Gu)(n);const o=i.current;-1!==o&&t(e[o].emoji)},[e,t]),l=(0,o.useCallback)(i=>n=>{13!==n.keyCode&&32!==n.keyCode||((0,r.Gu)(n),t(e[i].emoji))},[e,t]);return(0,n.jsx)(p,{id:"emoji-panel-container",onMouseOver:a,onClick:s,role:"tabpanel",tabIndex:0,children:e.map((e,t)=>(0,n.jsx)(g,{"data-index":t,isActive:!1,tabIndex:0,role:"button","aria-label":e.alias,onKeyDown:l(t),children:e.emoji},e.alias))})}),m=[{name:"basic",data:a.A,iconIndex:11}],h=(0,o.memo)(function(e){const[t,i]=(0,o.useState)(0),a=(0,o.useCallback)(e=>{(0,r.Gu)(e);const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i(e?Number(e):0)}},[]);return(0,n.jsxs)(d,{id:"emoji-suggestion-container",children:[(0,n.jsx)(c,{onClick:a,role:"tablist",children:m.map(({name:e,data:i,iconIndex:o},a)=>(0,n.jsx)(g,{"data-index":a,isActive:a===t,role:"tab",tabIndex:0,"aria-selected":a===t,"aria-controls":"emoji-panel-container",children:i[o].emoji},e))}),(0,n.jsx)(u,{children:(0,n.jsx)(_,{emojis:m[t].data,onSelect:e.onSelect},m[t].name)})]})})},16618:(e,t,i)=>{"use strict";i.d(t,{fu:()=>v});var n=i(72516),o=i(4126),a=i(13356),r=i(46657),s=i(68628),l=i(23999),d=i(26324),c=i(24451),u=i(35572),p=i(8536),g=i(80339),_=i(86599),m=i(26225),h=i(5317);let v=class extends h.E{constructor(){super(...arguments),this.defaultState={isSearchPersonalized:!0,isFeedPersonalized:!0,isSearchConfigInitialized:!1,isFeedConfigInitialized:!1,isManageModalOpen:!1,isExplanationModalOpen:!1,isShowingToast:!1}}setIsShowingToast(e,t){(0,_.nH)().setIsShowingToast(t)}setIsManageModalOpen(e,t){(0,_.nH)().setIsManageModalOpen(t)}setIsExplanationModalOpen(e,t){(0,_.nH)().setIsExplanationModalOpen(t)}setIsSearchPersonalized(e,t){(0,_.nH)().setIsSearchPersonalized(t)}setIsFeedPersonalized(e,t){(0,_.nH)().setIsFeedPersonalized(t)}setSearchConfigInitialized(e,t){(0,_.nH)().setSearchConfigInitialized(t)}setFeedConfigInitialized(e,t){(0,_.nH)().setFeedConfigInitialized(t)}staticInit(e,t){(0,_.nH)().init(t)}init(e){return e.pipe((0,c.E)(this.state$),(0,u.p)(([{isFeed:e},{isSearchConfigInitialized:t,isFeedConfigInitialized:i}])=>t&&!e||i&&e?r.w:(0,s.H)((0,_.nH)().init({isFeed:e})).pipe((0,p.Z)(()=>(0,l.of)(this.noop())),(0,g.q)(this.terminate("init")))))}};v.jotaiAtom=_.WH,(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],v.prototype,"setIsShowingToast",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],v.prototype,"setIsManageModalOpen",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],v.prototype,"setIsExplanationModalOpen",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],v.prototype,"setIsSearchPersonalized",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],v.prototype,"setIsFeedPersonalized",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],v.prototype,"setSearchConfigInitialized",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],v.prototype,"setFeedConfigInitialized",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],v.prototype,"staticInit",null),(0,n.__decorate)([(0,o.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],v.prototype,"init",null),v=(0,n.__decorate)([(0,a.nV)("SearchPersonalization")],v),_.WH.__SIGI_MODULE__=v,(0,m.y)(v)},16673:(e,t,i)=>{"use strict";i.d(t,{G:()=>u,P:()=>p});var n=i(24643),o=i(92926),a=i(48156),r=i(16410),s=i(93584);const l=(0,r.default)("div",{target:"e6q1x1a0"})(({theme:{direction:e}})=>[{display:"flex",justifyContent:"center",gap:"10px",alignItems:"center"},(0,s.mp)({direction:e})],"label:DivShowToastContent;"),d=(0,r.default)("div",{target:"e6q1x1a1"})(({theme:{direction:e}})=>[{color:"rgba(11, 224, 155, 1)"},(0,s.mp)({direction:e})],"label:DivShowToastIcon;"),c=(0,r.default)("div",{target:"e6q1x1a2"})(({theme:{direction:e}})=>[(0,s.mp)({direction:e})],"label:DivShowToastText;"),u=(e,t=3,i="padding")=>{a.F.destroy(),a.F.open({content:(0,n.jsxs)(l,{children:[(0,n.jsx)(d,{children:(0,n.jsx)(o.I,{color:"Positive",size:24})}),(0,n.jsx)(c,{children:e})]}),duration:t,widthType:i})},p=(e,t=3,i="padding")=>{a.F.destroy(),a.F.open({content:e,duration:t,widthType:i})}},16765:(e,t,i)=>{"use strict";i.d(t,{D:()=>n});const n=e=>{const t=(null==e?void 0:e.toString())===5..toString()||(null==e?void 0:e.toString())===101..toString();return{navtab:t?"h2":void 0,desktopFooter:t?"h3":void 0,username:t?"div":void 0,description:t?"div":void 0,music:t?"div":void 0,other:t?"div":void 0}}},16788:(e,t,i)=>{"use strict";i.d(t,{e:()=>g});var n=i(40099),o=i(20434),a=i(69857),r=i(90976);const s=3,l=2,d="show_guide_bg_key_";function c(e){const t=(0,o._S)(e);try{return t?JSON.parse(t):{date:"",showCount:0,cancelCount:0}}catch(e){return{date:"",showCount:0,cancelCount:0}}}function u(e,t){(0,o.AP)(e,JSON.stringify(t))}const p=e=>{const t=new Date(e).setUTCHours(0,0,0,0);return Date.now()<=t+2592e5};function g(e){const{isEnd:t,isFatal:i}=e,[o,g]=(0,n.useState)(!1),{wid:_}=(0,a.L$)((0,r.W)(()=>["wid"],[])),m=(0,n.useRef)(null),h=`${d}${_}`,v=(new Date).toISOString().split("T")[0],f=(0,n.useCallback)(()=>{const e=c(h);u(h,Object.assign(Object.assign({},e),{date:v,cancelCount:(e.cancelCount||0)+1})),g(!1)},[h,v]),y=(0,n.useCallback)(()=>{if(i||t)return!1;const e=c(h);return(e.cancelCount||0)>=l?!p(e.date)&&(u(h,{date:v,showCount:0,cancelCount:0}),!0):e.date!==v?(u(h,{date:v,showCount:0,cancelCount:e.cancelCount}),!0):(e.showCount||0)<s},[i,t,h,v]),b=(0,n.useCallback)(()=>{const e=c(h);g(!0),u(h,Object.assign(Object.assign({},e),{date:v,showCount:(e.showCount||0)+1}))},[h,v]);return(0,n.useEffect)(()=>{if(y())return m.current&&clearTimeout(m.current),m.current=setTimeout(b,6e4),()=>{m.current&&clearTimeout(m.current)}},[y,b]),(0,n.useEffect)(()=>{(i||t)&&clearTimeout(m.current)},[i,t]),{handleCancelPlay:f,isShowGuideBg:o}}},16842:(e,t,i)=>{"use strict";i.d(t,{ZC:()=>c,_g:()=>l,d7:()=>d});var n=i(70364),o=i.n(n),a=i(2387),r=i.n(a),s=i(40099);function l(e,t,i){return(0,s.useMemo)(()=>o()(e,i),t)}function d(e,t,i,n){return(0,s.useMemo)(()=>r()(e,i,n),t)}function c(e){const t=(0,s.useRef)(e);return(0,s.useEffect)(()=>{t.current=e},[e]),t.current}},17328:(e,t,i)=>{"use strict";i.d(t,{d:()=>u});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(71510),l=i.n(s),d=i(39301),c=i(60267);let u=class extends o.E{constructor(e){super(),this.userModule=e,this.defaultState={}}setItem(e,t){t.id_str&&(e[t.id_str]=t)}updateItem(e,t){t.id_str&&e[t.id_str]&&(e[t.id_str]=l()(e[t.id_str],t))}multiSetItem(e,t){t.forEach(t=>this.setItem(e,t))}addItems(e){const t=e.filter(e=>Boolean(e.owner)).map(e=>{var t,i;return(0,d.bg)(Object.assign(Object.assign({},e.owner),{unique_id:null===(t=e.owner)||void 0===t?void 0:t.display_id,custom_verify:null===(i=e.owner)||void 0===i?void 0:i.authentication_info,room_id:e.id_str}))});return[this.userModule.getActions().multiSetUser(t),this.getActions().multiSetItem(e)]}setDeleteVideo(e,t){e[t]&&(e[t]=void 0)}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],u.prototype,"setItem",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],u.prototype,"updateItem",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],u.prototype,"multiSetItem",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],u.prototype,"setDeleteVideo",null),u=(0,n.__decorate)([(0,r.nV)("LiveModule"),(0,n.__metadata)("design:paramtypes",[c.U])],u)},17434:(e,t,i)=>{"use strict";i.d(t,{I:()=>y});var n=i(24643),o=i(57061),a=i.n(o),r=i(40099),s=i(72355);const l=i.p+"b3dd0b7f20ed0c4384f1.png";var d=i(27799),c=i(50167),u=i(29547),p=i(16410),g=i(93584);const _=(0,p.default)("div",{target:"eiv77n20"})({display:"flex",flexDirection:"column",alignItems:"center",width:"311px",padding:"40px 28px 12px",textAlign:"center",wordBreak:"break-word"},"label:DivContainer;"),m=(0,p.default)("p",{target:"eiv77n21"})(({theme:e})=>[{marginBottom:"16px",fontSize:"17px",lineHeight:"18px"},(0,g.zy)({theme:e,fontWeight:"semiBold"})],"label:PTitle;"),h=(0,p.default)("p",{target:"eiv77n22"})(({theme:e})=>[{margin:"16px 0 4px",fontSize:"12px",lineHeight:"13px"},(0,g.zy)({theme:e,color:"TextSecondary"})],"label:POtherDesc;"),v=c.Hi.title.ecom_email_redesign_order_details_page,f=c.Hi.desc.ecom_email_redesign_order_details_page,y=function({url:e}){var t,i;const o=(0,d.s)(),{search:p}=(0,s.zy)(),[g,y]=(0,r.useState)(!0),[b,x]=(0,r.useState)(""),k=new URLSearchParams(p);(0,r.useEffect)(()=>{var e;x(null!==(e=k.get("scene"))&&void 0!==e?e:""),history.replaceState(null,"","/")},[]);const w=(0,r.useCallback)(()=>{y(!1)},[]);return(0,n.jsx)(u.aF,{visible:g,onClose:w,children:(0,n.jsxs)(_,{children:[(0,n.jsx)(m,{children:o(null!==(t=c.Hi.title[b])&&void 0!==t?t:v)}),(0,n.jsx)(a(),{size:170,value:e,style:{padding:"12px",borderRadius:"12px",border:"1px solid #f2f2f2"}}),(0,n.jsx)(h,{children:o(null!==(i=c.Hi.desc[b])&&void 0!==i?i:f)}),(0,n.jsx)("img",{src:l,width:131,height:40})]})})}},17785:(e,t,i)=>{"use strict";e.exports=i.p+"4b26de0aac3c17d07010.png"},17947:(e,t,i)=>{"use strict";i.d(t,{Ah:()=>_,Hs:()=>u,gQ:()=>g});var n=i(24643),o=i(45027),a=i(40099),r=i(7765),s=i(65964),l=i(55765),d=i(85295);const c=["video","music","hashtag","photo_mode","comment","user","suggestion","sug_recommend","live","video_page_tag"],u=3,p=2,g=(0,a.memo)(function({onClose:e,reportTarget:t,onBack:i,reasonList:r,setPage:s,selectedReason:g,useBack:_,onSubmit:m}){const h=(0,o.w)(l.hf);c.includes(t.report_type)||r?h.setReasonsAPIVersion(u):h.setReasonsAPIVersion(p),h.setReportTarget(t),void 0===r?h.getReasons(t):h.setReasons(r),g&&h.setUserData({selectedReason:g});const v=(0,a.useCallback)(()=>{null==e||e()},[e]);return(0,n.jsx)(d.p,{onClose:v,setPage:s,asComponent:!0,onBack:i,useBack:_,onSubmit:m})});function _({onShow:e,reportTarget:t}){const{showModal:i}=(0,s.g9)(),n=(0,o.w)(l.hf);return{handleShowReport:(0,a.useCallback)(o=>{null==e||e(o),i(),c.includes(t.report_type)?n.setReasonsAPIVersion(u):n.setReasonsAPIVersion(p),n.showReport(t),r.o.handleShowReport({object_type:t.report_type,type:t.report_type,object_id:t.object_id,play_mode:t.play_mode,poi_id:t.poi_id,aweme_type:t.aweme_type,pic_cnt:t.pic_cnt,is_sub_only_video:t.is_sub_only_video,suggestion_extra:t.suggestion_extra,report_content:t.tag_content})},[n,e,t,i])}}},18999:(e,t,i)=>{"use strict";i.d(t,{x:()=>p});var n=i(24643),o=i(40099),a=i(67518),r=i(33739),s=i(16356),l=i(73976),d=i(27799),c=i(19429),u=i(56164);const p=(0,o.memo)(function({videoId:e,selectedUsers:t,onShareSuccess:i,isOverlay:p}){const[g,_]=(0,r.wO)(e=>e.hasReportedMessageInput),m=(0,s.nW)(e=>[...t].map(t=>e.users[t]).filter(e=>void 0!==e)),h=(0,l.VB)(e=>e.isSendMessageLoading),{direction:v}=(0,a.u)(),[f,y]=(0,o.useState)(""),b=(0,d.s)(),x=t.size,k=x>0,w="rtl"===v,S=(0,o.useCallback)(e=>{y(e),g||_.reportMessageInput()},[g,_]),C=(0,c.v)({selectedUserList:m,messageText:f,videoId:e}),j=(0,o.useCallback)(()=>{i()},[i]);return(0,c.C)({selectedUserList:m,messageText:f,handleSuccess:j,isRTL:w}),(0,n.jsxs)(u.r9,{$isOverlay:p,children:[(0,n.jsx)(u.aQ,{label:"",hideLabel:!0,value:f,onChange:S,placeholder:b("support_webapp_sharing_write_a_message"),maxLength:6e3}),(0,n.jsx)(u.sb,{label:`${b("support_webapp_sharing_send_button")}${x>1?` (${x})`:""}`,disabled:!k,onClick:C,loading:h})]})})},19429:(e,t,i)=>{"use strict";i.d(t,{C:()=>b,v:()=>y});var n=i(72516),o=i(95074),a=i(40099),r=i(67518),s=i(91843),l=i(24816),d=i(53900),c=i(48156),u=i(27799),p=i(70589),g=i(23037),_=i(20597),m=i(20173),h=i(73976),v=i(37783),f=i(61198);function y({selectedUserList:e,messageText:t,videoId:i}){const[{conversationMap:r},s]=(0,h.D1)(e=>({conversationMap:e.conversationMap})),c=(0,o.P)(m.L,{dependencies:[],selector:e=>{var t;return null===(t=e.appContext)||void 0===t?void 0:t.user}}),u=(0,v.ud)().getStaticItem(i);return(0,a.useCallback)(()=>{var o,a;const{authorId:p="",nickname:g,authorSecId:m,avatarThumb:h,video:v,subVideoMeta:f,story:y}=null!=u?u:{},b=[];let x=!1;const k=l.A.getInstance(),w=(0,_.MA)(u);e.forEach(e=>{(null==e?void 0:e.id)===(null==c?void 0:c.uid)&&(x=!0),b.push(null==e?void 0:e.id)}),k.handleShare(Object.assign({platform:"chat_head",group_id:null==v?void 0:v.id,author_id:p,poi_id:null===(o=null==u?void 0:u.poi)||void 0===o?void 0:o.id,is_self:x?"1":"0",is_with_text:t.trim()?"1":"0",chat_cnt:e.length,is_sub_only_video:f?1:0},w)),d.w.handleShareVideoToChat({platform:"chat_head",is_self:x?1:0,group_id:null!==(a=null==v?void 0:v.id)&&void 0!==a?a:"",author_id:p,is_with_text:t.trim()?1:0,chat_cnt:e.length,to_user_id:String(b)}),s.setSendMessageStatus({isLoading:!0,isFailed:!1}),e.forEach(e=>(0,n.__awaiter)(this,void 0,void 0,function*(){var n;const{id:o,relation:a}=e,l=Boolean(null==r?void 0:r[o]),d=null===(n=null==r?void 0:r[o])||void 0===n?void 0:n.id;yield s.sendMessage({convId:d,uid:o,relation:a,type:y?1025:8,content:{aweType:800,itemId:i,uid:p,secUID:m,content_thumb:{url_list:[h],uri:h},content_name:g,cover_url:{url_list:[null==v?void 0:v.cover],uri:null==v?void 0:v.cover},cover_width:null==v?void 0:v.width,cover_height:null==v?void 0:v.height},hasConversation:l}),t.trim()&&(yield s.sendMessage({convId:d,uid:o,relation:a,type:7,content:{aweType:0,text:t},hasConversation:l}))}))},[u,e,t,s,null==c?void 0:c.uid,r,i])}function b({selectedUserList:e,messageText:t,handleSuccess:i,isRTL:n}){const o=(0,u.s)(),l=function(){const{isInAppStyleShareExperiment:e}=(0,p.Pk)(),t=(0,s.Z)(),{direction:i}=(0,r.u)();return(0,a.useCallback)(n=>{e?t(n):c.F.open({content:n.message,type:n.success?"success":void 0,duration:3,widthType:"half",getContainer:g.M,getContainerPosition:"fixed",isRTL:"rtl"===i})},[e,t,i])}(),[{isSendMessageFailed:d,successSentMessageCount:_},m]=(0,h.D1)(e=>({isSendMessageFailed:e.isSendMessageFailed,successSentMessageCount:e.successSentMessageCount}),f.bN),v=e.length;(0,a.useEffect)(()=>{var n,a,r,s;if(d&&(l({success:!1,message:o("support_webapp_sharing_error_message")}),m.setSendMessageStatus({isLoading:!1,isFailed:!1,successCount:0})),0!==_&&_===v*(t.trim()?2:1)){const t=null!==(a=null===(n=e[v-1])||void 0===n?void 0:n.nickname)&&void 0!==a?a:"",d=null!==(s=null===(r=e[v-2])||void 0===r?void 0:r.nickname)&&void 0!==s?s:"";switch(v){case 1:l({success:!0,message:o("support_webapp_sharing_sent_toast_1",{username:t})});break;case 2:l({success:!0,message:o("support_webapp_sharing_sent_toast_2",{username:t,username2:d})});break;default:l({success:!0,message:o("support_webapp_sharing_sent_toast_3",{username:t,number:v-1})})}m.setSendMessageStatus({isLoading:!1,successCount:0}),i()}},[d,_,e,t,v,o,m,i,n,l])}},19708:(e,t,i)=>{"use strict";i.d(t,{y:()=>k});var n=i(24643),o=i(67476),a=i(67518);const r=i.p+"2c1d4382cd9969108f39.png";var s=i(17785),l=i(9015),d=i(68316),c=i(27799),u=i(45027),p=i(73580),g=i(85650),_=i(15923),m=i(40099),h=i(26456),v=i(97779),f=i(71628),y=i(81829);const b=e=>{const{isOpen:t,handleOnClose:i}=e,a=(0,c.s)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Mw,{isOpen:t,size:"Medium",onClose:i,children:(0,n.jsx)("div",{children:(0,n.jsxs)(v.KQ,{children:[(0,n.jsxs)(v.a5,{isPopup:!0,children:[(0,n.jsx)("span",{children:a("nightscreentimemgmt_screentimesettings_sleepreminders_feature_name")}),(0,n.jsx)(v.kZ,{children:(0,n.jsx)(f.A,{onClick:i})})]}),(0,n.jsx)(y.r,{isPopup:!0,handleEditModleClose:i})]})})})})},x=({onManage:e})=>{const[t,i]=(0,u.S)(g.z),v=(0,p.Nj)(_.i),f=(0,c.s)(),{isDark:y}=(0,a.u)(),b=(0,m.useMemo)(()=>{var e,i;const n=(null===(e=t.sleepTimeSettings)||void 0===e?void 0:e.sleep_time_start_hour)||0,o=(null===(i=t.sleepTimeSettings)||void 0===i?void 0:i.sleep_time_start_minute)||0,a=(new Date).setHours(n,o);return h.Ay.format(a,"LT")},[t.sleepTimeSettings]);return(0,n.jsxs)(l._w,{children:[(0,n.jsx)(l.lZ,{src:y?r:s}),(0,n.jsx)(l.hE,{children:f(d.A.SLEEP_REMINDER_HEADER,{},"Ready for bed?")}),(0,n.jsx)(l.VY,{children:f(d.A.SLEEP_REMINDER_DESC,{string:b},`You’ve set your sleep time for ${b}.`)}),(0,n.jsx)(o.I0,{onClick:()=>{i.setSleepReminderPopup(!1),t.sleepTimeSettings&&i.uploadSleepReminderAction({sleep_time_settings:t.sleepTimeSettings,user_real_timestamp:Math.round(Date.now()/1e3),user_action:2}),v.uploadMetric("web_sleep_reminder_ok")},label:f(d.A.SLEEP_REMINDER_OK,{},"OK"),variant:"primary",block:!0,size:"large",marginBlock:"8px"}),(0,n.jsx)(o.I0,{onClick:()=>{i.delaySleep(),i.setSleepReminderPopup(!1),t.sleepTimeSettings&&i.uploadSleepReminderAction({sleep_time_settings:t.sleepTimeSettings,user_real_timestamp:Math.round(Date.now()/1e3),user_action:1}),v.uploadMetric("web_sleep_reminder_delay")},label:f(d.A.SLEEP_REMINDER_DELAY,{},"Delay (10m)"),variant:"secondary",block:!0,size:"large",marginBlock:"8px"}),(0,n.jsx)(o.QK,{onClick:e,label:f(d.A.SLEEP_REMINDER_EDIT,{},"Edit reminder"),color:"Primary",marginBlockStart:"12px"})]})},k=()=>{const[e,t]=(0,u.S)(g.z),i=(0,p.Nj)(_.i),[a,r]=(0,m.useState)(!1),s=(0,m.useMemo)(()=>!e.defaultDailySTMPopup&&e.sleepReminderPopup&&e.isOpenSleepReminder,[e.sleepReminderPopup,e.defaultDailySTMPopup,e.isOpenSleepReminder]);return(0,m.useEffect)(()=>{s&&(e.sleepTimeSettings&&t.uploadSleepReminderAction({sleep_time_settings:e.sleepTimeSettings,user_real_timestamp:Math.round(Date.now()/1e3),user_action:3}),i.uploadMetric("web_sleep_reminder_pop_up"))},[s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Mw,{isOpen:s,size:"Small",children:(0,n.jsx)(x,{onManage:()=>{r(!0),t.setSleepReminderPopup(!1),e.sleepTimeSettings&&t.uploadSleepReminderAction({sleep_time_settings:e.sleepTimeSettings,user_real_timestamp:Math.round(Date.now()/1e3),user_action:2}),i.uploadMetric("web_sleep_reminder_edit")}})}),(0,n.jsx)(b,{isOpen:a,handleOnClose:()=>{r(!1)}})]})}},20597:(e,t,i)=>{"use strict";i.d(t,{Hs:()=>m,MA:()=>g,Q4:()=>f,Zd:()=>h,mx:()=>p,n5:()=>v,yy:()=>_});var n=i(40099),o=i(11229),a=i(3896),r=i(61198),s=i(13910),l=i(90976),d=i(16356),c=i(37783),u=i(86984);const p=e=>void 0!==(null==e?void 0:e.imagePost),g=e=>{var t,i;const n=p(e);return{aweme_type:n?150:0,pic_cnt:n?null===(i=null===(t=null==e?void 0:e.imagePost)||void 0===t?void 0:t.images)||void 0===i?void 0:i.length:void 0}},_=(e,t)=>{var i,o;const l=(0,s.k)(e),p=(0,d.nW)(e=>{var t;return e.users[null!==(t=null==l?void 0:l.author)&&void 0!==t?t:""]},r.bN),{width:g=0,height:_=0,duration:m=0,ratio:h=""}=null!==(i=null==l?void 0:l.video)&&void 0!==i?i:{},v=(0,c.F3)(),f=(0,n.useMemo)(()=>Object.keys(v),[v]),y=(0,u.bE)(f,t),{createTime:b=0,authorStats:{followerCount:x=0}={},stats:{diggCount:k=0,playCount:w=0,shareCount:S=0,commentCount:C=0,collectCount:j=0}={}}=null!=l?l:{};return{video_freshness:(0,a.QR)(Number(b)),video_duration:m,video_like_history:k,video_vv_history:w,video_share_history:S,video_comment_history:C,video_favorite_history:Number(j),video_resolution:(0,a.sG)(h),video_is_portrait:_>g?1:0,video_100k_vv:w>=1e5?1:0,video_creator_bluev:null!==(o=null==p?void 0:p.verified)&&void 0!==o&&o?1:0,video_creator_1k_follower:x>=1e3?1:0,video_creator_10k_follower:x>=1e4?1:0,video_creator_100k_follower:x>=1e5?1:0,video_next_info:JSON.stringify(y)}},m=e=>{var t;const i=(0,s.k)(e),{width:n,height:o,duration:a}=null!==(t=null==i?void 0:i.video)&&void 0!==t?t:{};return{video_width:n,video_height:o,video_duration:a}},h=({id:e,play_mode:t="one_column"})=>{var i;const{wid:n}=null!==(i=(0,l.W)(()=>["wid"],[]))&&void 0!==i?i:{},a=(0,s.k)(e),r=null==a?void 0:a.ad_info;if(r){const e=(0,o.n5)({ad_info:r,play_mode:t});return e.ad_extra_data={user_session:n},e}},v=(e,t)=>{var i;if(t)return null!==(i=null==e?void 0:e.isPinnedItem)&&void 0!==i&&i},f=e=>{var t;return!!(null===(t=null==e?void 0:e.AnchorTypes)||void 0===t?void 0:t.some(e=>"33"===e.toString()))&&!e.video.playAddr}},20768:(e,t,i)=>{"use strict";i.d(t,{G4:()=>T});var n=i(24643),o=i(57432),a=i.n(o),r=i(70364),s=i.n(r),l=i(40099),d=i(92067),c=i(16537),u=i(38470),p=i(26059),g=i(71898),_=i(16410);const m=e=>e?66:46,h=(0,_.default)("div",{target:"ew6qw7a0"})(({isBrowserMode:e})=>({position:"absolute",width:24,height:m(e)+24,background:e?"rgba(84, 84, 84, 0.5)":"rgba(22, 24, 35, 0.34)",borderRadius:"100px",zIndex:10,bottom:50,":hover":e?{backgroundColor:"rgba(37, 37, 37, .6)",opacity:.7}:{}}),"label:DivVolumeSlider;"),v=(0,_.default)("div",{target:"ew6qw7a1"})(({isBrowserMode:e,theme:t})=>({display:"block",position:"absolute",bottom:8,left:"50%",transform:"translateX(-50%)",background:t.colors.ConstTextInverse4,borderRadius:"100px",width:e?4:2,height:"calc(100% - 16px)",cursor:"pointer"}),"label:DivVolumeBar;"),f=(0,_.default)("div",{target:"ew6qw7a2"})(({isBrowserMode:e,volume:t,theme:i})=>({display:"block",position:"absolute",bottom:0,left:0,background:i.colors.ConstTextInverse,maxHeight:m(e),height:Math.round(t/100*m(e)),width:e?4:2,borderRadius:"100px",cursor:"pointer"}),"label:DivDragBar;"),y=(0,_.default)("div",{target:"ew6qw7a3"})(({isBrowserMode:e,volume:t})=>({width:12,height:12,background:"rgb(255, 255, 255)",boxShadow:"rgb(0 0 0 / 26%) 0px 0px 5px 0px",position:"absolute",borderRadius:"50%",left:"50%",transform:"translateX(-50%)",top:m(e)-Math.round(t/100*m(e))-2}),"label:DivDot;"),b="volume-icon-id",x="volume-bar-id";var k;!function(e){e[e.MUTE=0]="MUTE",e[e.NORMAL=1]="NORMAL",e[e.LOUD=2]="LOUD"}(k||(k={}));const w={width:24,height:24,fontSize:24},S={width:40,height:40},C={0:(0,n.jsx)("span",{"data-testid":"volume-mute-icon-id",style:w,children:(0,n.jsx)(d.A,{})}),1:(0,n.jsx)("span",{"data-testid":"volume-speaker-id",style:w,children:(0,n.jsx)(c.A,{})}),2:(0,n.jsx)("span",{"data-testid":"volume-larger-id",style:w,children:(0,n.jsx)(c.A,{})})},j={0:(0,n.jsx)("span",{style:S,children:(0,n.jsx)(u.A,{width:40,height:40,fill:"none"})}),1:(0,n.jsx)("span",{style:S,children:(0,n.jsx)(p.A,{width:40,height:40,fill:"none"})}),2:(0,n.jsx)("span",{style:S,children:(0,n.jsx)(p.A,{width:40,height:40,fill:"none"})})},T=e=>{const{value:t,onVolumeChange:i=()=>a(),onMutedClick:o=()=>a(),isBrowserMode:r,muted:d}=e,[c,u]=(0,l.useState)(0),[p,_]=(0,l.useState)(!1),k=(0,l.useRef)(null),w=(0,l.useRef)(!1),S=(0,l.useRef)(!1),T=(0,l.useRef)(t),I=(0,l.useRef)(0);(0,l.useEffect)(()=>{u(d?0:t>0&&t<50?1:2)},[t,d]);const P=(0,l.useMemo)(()=>r?j[c]:C[c],[r,c]),A=(0,l.useCallback)(e=>{if(k.current){const t=e-k.current.getBoundingClientRect().y,i=m(r)-t;return function(e){return e>100?100:e<0?0:e}(Math.round(i/m(r)*100))}},[r]),M=(0,l.useCallback)(e=>{e.stopPropagation();const t=A(e.clientY);t&&t>0?(i(t),o(!1)):o(0===t)},[A,o,i]),L=(0,l.useCallback)(e=>{e.stopPropagation(),T.current=t,w.current=!0},[t]),D=()=>{w.current=!1,S.current&&_(!1)},O=s()(e=>{if(e.stopPropagation(),w.current){const t=A(e.clientY);t&&t>0?(i(t),o(!1)):0===t?(i(T.current||60),o(!0)):o(!1)}},30),R=(0,l.useCallback)(e=>{e.stopPropagation(),o(!d)},[o,d]),E=(0,l.useCallback)(()=>{S.current=!1,clearTimeout(I.current),_(!0)},[]),F=(0,l.useCallback)(e=>{e.stopPropagation(),S.current=!0,w.current||(I.current=window.setTimeout(()=>{S.current&&_(!1)},250))},[]),B=(0,l.useMemo)(()=>d?0:t,[d,t]);return(0,l.useEffect)(()=>(document.addEventListener("mouseup",D),document.addEventListener("mousemove",O),()=>{document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",O)})),(0,n.jsxs)(g.YD,{onMouseEnter:E,"data-e2e":"volume-icon","data-testid":"control-container",onMouseLeave:F,children:[(0,n.jsx)(h,{isBrowserMode:r,style:{display:p?"block":"none"},onClick:M,onMouseDown:L,onMouseLeave:F,"data-e2e":"volume-slider","data-testid":"volume-slider",children:(0,n.jsxs)(v,{isBrowserMode:r,"data-e2e":x,"data-testid":x,ref:k,children:[(0,n.jsx)(f,{isBrowserMode:r,volume:B}),(0,n.jsx)(y,{isBrowserMode:r,volume:B})]})}),(0,n.jsx)(g.uM,{isBrowserMode:r,"data-e2e":b,"data-testid":b,onClick:R,children:P})]})}},20899:(e,t,i)=>{"use strict";i.d(t,{V:()=>l,_:()=>s});var n=i(26225),o=i(64388),a=i(76443);const r=(0,n.y)(a.y7),{useServiceState:s,useServiceDispatchers:l}=(0,o.i)(r,(e,t)=>({removeBlockVideo(e){t(r,"removeBlockVideo",e)}}))},20957:(e,t,i)=>{"use strict";i.d(t,{AL:()=>g,Fu:()=>p,r$:()=>u});var n=i(72516),o=i(95074),a=i(73580),r=i(40099),s=i(96406),l=i(45375),d=i(61455),c=i(20173);function u(e){const t=(0,o.P)(c.L,{dependencies:[],selector:e=>{var t;return null===(t=e.appContext)||void 0===t?void 0:t.user}});return{isShowLive:(0,r.useMemo)(()=>Boolean((null==e?void 0:e.roomId)&&"0"!==(null==e?void 0:e.roomId)&&(null==t?void 0:t.uid)!==e.id),[null==t?void 0:t.uid,null==e?void 0:e.id,null==e?void 0:e.roomId]),src:null==e?void 0:e.avatarThumb,uniqueId:null==e?void 0:e.uniqueId,pureLivePath:e?(0,l.G2o)({uniqueId:null==e?void 0:e.uniqueId,secUid:null==e?void 0:e.secUid}):""}}function p({reportTrigger:e,user:t,enterMethod:i,autoReport:n,reportValidator:o,once:l,liveExtraParams:c}){const u=(0,a.Nj)(d.tG),[p,_]=(0,r.useState)(!1),m=(0,r.useMemo)(()=>{var e,n;return Object.assign({anchor_id:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",follow_status:null!==(n=null==t?void 0:t.relation)&&void 0!==n?n:-1,room_id:null==t?void 0:t.roomId,enter_from_merge:s.f.commonParams.page_name,enter_method:i,action_type:"click"},c)},[i,c,null==t?void 0:t.id,null==t?void 0:t.relation,null==t?void 0:t.roomId]),h=(0,r.useCallback)(()=>{p&&l||(u.handleLiveEntranceShow(m),_(!0))},[p,u,l,m]);return(0,r.useEffect)(()=>{n&&e&&o()&&h()},[e]),{handleExposure:h,teaParams:g({user:t,enterMethod:i}),reportParams:m}}function g(e){var{user:t,enterMethod:i}=e,o=(0,n.__rest)(e,["user","enterMethod"]);return(0,r.useMemo)(()=>{var e,n,a;return Object.assign({anchor_id:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",follow_status:null!==(n=null==t?void 0:t.relation)&&void 0!==n?n:-1,room_id:null==t?void 0:t.roomId,enter_from_merge:s.f.commonParams.page_name,enter_from:s.f.commonParams.page_name,action_type:"click",enter_method:i,to_user_id:null!==(a=null==t?void 0:t.id)&&void 0!==a?a:""},o)},[t,i,o])}},21363:(e,t,i)=>{"use strict";i.d(t,{G5:()=>g,MT:()=>v,O5:()=>y,OV:()=>d,Qp:()=>h,WH:()=>p,XE:()=>f,hr:()=>u,k7:()=>_,m0:()=>m,tj:()=>c});var n=i(16410),o=i(93584),a=i(6862),r=i(12845),s=i(75431);const l=({toBackground:e,animationEnd:t})=>t?void 0:s.i7`
  from {
      background: '#54545480';
  } 
  to {
      background: ${e};
      color: white;
  }
`,d=(0,n.default)("button",{target:"e1s9h68o0"})(({theme:e,toBackground:t,animationEnd:i})=>{const n=i?t:"#54545480",a=i?`linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), ${t} !important`:"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #54545480 !important";return[(0,o.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"medium"}),{fontSize:"12px",color:"white",lineHeight:"15.6px",width:"calc(100% - 24px)",margin:"12px",height:"28px",borderRadius:"4px",background:n,border:"none",display:"flex",alignItems:"center",justifyContent:"center","&:hover":{background:a,cursor:"pointer"},animationName:`${l({toBackground:t,animationEnd:i})}`,animationDelay:"5s",animationDuration:"0.2s",animationTimingFunction:"ease-in-out",animationDirection:"normal",animationIterationCount:1,animationFillMode:"forwards"}]},"label:StyledButton;"),c=(0,n.default)(a.A,{target:"e1s9h68o1"})(({theme:{direction:e}})=>({transform:"rtl"===e?"rotate(180deg)":"none"}),"label:RightArrowIcon;"),u=(0,n.default)("div",{target:"e1s9h68o2"})(({theme:{direction:e}})=>[(0,o.mp)({direction:e,start:"20px"}),{position:"absolute",bottom:"20px",width:"242px",background:"#2E2E2E",display:"flex",flexDirection:"column",alignItems:"flex-start;",boxShadow:"0px 2px 12px rgb(0 0 0 / 12%)",borderRadius:"4px",zIndex:1,color:"white","&:hover":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.08), rgba(0, 0, 0, 0.08)), #2E2E2E",cursor:"pointer"}}],"label:DivStyledPopupAds;"),p=(0,n.default)("div",{target:"e1s9h68o3"})({alignItems:"center",display:"flex"},"label:DivAdsProfileContainer;"),g=(0,n.default)("img",{target:"e1s9h68o4"})(({theme:{direction:e}})=>[{marginTop:"12px",height:"56px",width:"56px"},(0,o.mp)({direction:e,marginStart:"12px",marginEnd:"8px"})],"label:ImgAdsAvatarContainer;"),_=(0,n.default)("div",{target:"e1s9h68o5"})({display:"flex",flexDirection:"column",marginTop:"12px",width:"150px"},"label:DivAdsTextContainer;"),m=(0,n.default)("div",{target:"e1s9h68o6"})(({theme:e})=>[(0,o.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"medium"}),{fontSize:"15px",lineHeight:"19.5px",marginBottom:"2px"}],"label:DivAdsTitle;"),h=(0,n.default)("div",{target:"e1s9h68o7"})(({theme:e})=>[(0,o.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"normal"}),{fontSize:"13px",lineHeight:"16.9px"},(0,o.m4)(2),(0,o.mp)({direction:e.direction,marginEnd:"12px"})],"label:DivAdsDescription;"),v=(0,n.default)("div",{target:"e1s9h68o8"})({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"156px"},"label:DivAdsCommentTurnOffContainer;"),f=(0,n.default)(r.A,{target:"e1s9h68o9"})(({theme:{isDark:e}})=>({width:"62px",height:"67.95px",color:e?"#FFFFFF57":"#00000052"}),"label:IconLock;"),y=(0,n.default)("div",{target:"e1s9h68o10"})(({theme:e})=>[(0,o.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"normal"}),{fontSize:"14px",lineHeight:"18.2px",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"20px",color:e.isDark?"#FFFFFF99":"#0000008F"}],"label:DivAdsCommentTurnOffText;")},21434:(e,t,i)=>{"use strict";i.d(t,{$2:()=>p,Fs:()=>r,MH:()=>l,WA:()=>m,dM:()=>d,eH:()=>s,hH:()=>u,iA:()=>a,mW:()=>g,tU:()=>c,xj:()=>_});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"e1cbfxtu0"})(({theme:{colors:e,direction:t},isNotice:i,isMobile:n=!1})=>[{height:"68px",minHeight:"68px",display:"flex",flexDirection:"row",alignItems:"center",position:"relative",cursor:"pointer",":hover":n?{}:{backgroundColor:e.BGPlaceholderDefault}},(0,o.mp)({direction:t,paddingStart:"16px",paddingEnd:i?"16px":"24px"})],"label:DivReportItemContainer;"),r=(0,n.default)("div",{target:"e1cbfxtu1"})(({theme:{colors:e}})=>[{minWidth:"48px",width:"48px",height:"48px",borderRadius:"24px",border:`1px solid ${e.LinePrimary}`,backgroundColor:e.BGTertiary,display:"flex",justifyContent:"center",alignItems:"center","> svg > path":{fill:e.TextPrimary}}],"label:DivFlagContainer;"),s=(0,n.default)("div",{target:"e1cbfxtu2"})(({theme:{direction:e}})=>[{display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"center",overflow:"hidden",wordWrap:"break-word"},(0,o.mp)({direction:e,marginStart:"12px"})],"label:DivReportItemContent;"),l=(0,n.default)("div",{target:"e1cbfxtu3"})(({theme:{direction:e,colors:t}})=>[Object.assign(Object.assign({minWidth:"16px",width:"16px",height:"16px"},"rtl"===e&&{transform:"rotate(180deg)"}),{"> svg > path":{fill:t.TextPrimary}})],"label:DivArrowContainer;"),d=(0,n.default)("span",{target:"e1cbfxtu4"})(({theme:e,isNotice:t})=>[(0,o.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextPrimary",fontWeight:"semiBold"}),{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:t?"normal":"nowrap",lineHeight:"17px"}],"label:SpanTitle;"),c=(0,n.default)("span",{target:"e1cbfxtu5"})(({theme:e,isNotice:t})=>[(0,o.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",fontWeight:"normal",color:t?"TextPrimary":"TextTertiary"}),{lineHeight:"17px"}],"label:SpanSubtitle;"),u=(0,n.default)("span",{target:"e1cbfxtu6"})(({theme:e})=>[(0,o.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",fontWeight:"normal",color:"TextQuaternary"}),{lineHeight:"17px"}],"label:SpanTimestamp;"),p=(0,n.default)("div",{target:"e1cbfxtu7"})(({theme:{direction:e}})=>[{position:"relative",width:"42px",minWidth:"42px",height:"56px",minHeight:"56px",borderRadius:"2px",overflow:"hidden"},(0,o.mp)({direction:e,marginStart:"12px"})],"label:DivCoverImageWrapper;"),g=(0,n.default)("img",{target:"e1cbfxtu8"})(({theme:{colors:e},isNotLoaded:t})=>[Object.assign({width:"100%",height:"100%",objectFit:"cover"},t?{backgroundColor:e.TextTertiary}:{})],"label:ImgCoverImage;"),_=(0,n.default)("div",{target:"e1cbfxtu9"})({display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",height:"100%",top:0,left:0,backgroundColor:"rgba(0, 0, 0, .5)"},"label:DivViolationMask;"),m=(0,n.default)("span",{target:"e1cbfxtu10"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"70%",float:"left"},"label:SpanReportBoxRow;")},21972:(e,t,i)=>{"use strict";i.d(t,{$L:()=>l,CX:()=>u,I$:()=>d,Vj:()=>p,WS:()=>s,cv:()=>a,iu:()=>g,m1:()=>o,sB:()=>b,xs:()=>c});var n=i(91575);function o(){return{appkey:"tiktok-web",app_key:"tiktok-web",aid:1284,app_name:"tiktok_web",iid:"0"}}function a(e){return e?e.toLocaleLowerCase().split("-")[0].replace("pt","pt_BR").replace("zh","zh-TW"):"en"}function r(e){var t;const i=e.EntranceShowType;return{id:e.FaqId,name:e.Name,value:e.Value,url:e.Url,children:(null!==(t=e.Children)&&void 0!==t?t:[]).map(r),knowledgeType:e.KnowledgeType,entranceShowType:i,imageUrl:e.ImageUrl,originLabelId:e.OriginLabelId,ticketAppId:e.TicketAppId,ticketCategoryId:e.TicketCategoryId,flags:2===i?0:2048,neverShowNeedMoreHelp:3===i}}function s(e){const{statusCode:t,statusMessage:i,faqInfoMap:n,entranceMap:o}=e;return{statusCode:t,statusMessage:i,faqInfoMap:Object.entries(null!=n?n:{}).reduce((e,[t,i])=>e?(e[t]=(i||[]).map(r),e):e,{}),entranceMap:o}}function l({faqInfoMap:e,entranceMap:t,faqType:i,entrance:n}){var o;const a=("common"===i?"common":n===(null==t?void 0:t.general)&&"general")||"general";return null!==(o=null==e?void 0:e[a])&&void 0!==o?o:[]}function d(e){return n.j$.some(t=>t===e)}function c(e){var t;return null!==(t=Array.isArray(e)?e[0]:e)&&void 0!==t?t:""}function u(e){return n.Ly[c(e)]||""}function p(e,t,i={flattened:{},levels:[]}){return(e||[]).reduce((e,i)=>{const n=(t?[...(null==t?void 0:t.__parents)||[],t.id]:[]).length,o=Object.assign(Object.assign({},i),{level:n,__parents:t?[...(null==t?void 0:t.__parents)||[],t.id]:[]});return e.flattened[o.id]=o,e.levels[n]=e.levels[n]||{},e.levels[n][i.id]=o,p(i.children,o,e),e},i)}function g(e){var t;return Boolean(e&&(e.length>1||(null===(t=e[0])||void 0===t?void 0:t.children.length)))}function _(e,t,i=""){return`<a\n    style="color: #00C6E9;"\n    href="mailto:${e}?subject=TikTok-Web&body=Username: ${t}   Country/Region: ${i}">${e}</a>`}n.fY.getListV2,n.fY.getListV3;const m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},h="privacy@tiktok.com",v="feedback@tiktok.com",f=new RegExp(h,"g"),y=new RegExp(v,"g");function b(e,t,i,n){let o=e;return o=o.replace(/[&<>"'/]/g,e=>m[e]||""),1===t&&(o=o.replace(f,()=>_(h,null!=i?i:"",n)).replace(y,()=>_(v,null!=i?i:"",n))),o}},22222:(e,t,i)=>{"use strict";i.d(t,{O:()=>s});var n=i(72516),o=i(71111),a=i(35762);const r=(0,o.atom)({data:[],extra:{},status_code:0,loading:!0}),s=(0,o.atom)(e=>e(r),(e,t,i)=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){try{const n=yield(e={req_from:"tiktok_message_webapp_following",is_draw:0,draw_room_id:0,draw_room_owner_id:0,is_non_personalized:i?0:1},a.h.get("/webcast/feed/",{query:e,baseUrlType:4}));t(r,e=>Object.assign(Object.assign(Object.assign({},e),n),{loading:!1}))}catch(e){t(r,e=>Object.assign(Object.assign({},e),{statusCode:-1,loading:!1}))}var e}))},22376:(e,t,i)=>{"use strict";i.d(t,{u:()=>l});var n=i(24643),o=i(40099),a=i(20434),r=i(28357),s=i(70589);const l=(0,o.memo)(e=>{const{playMode:t,style:i,icon:l,showIconBackground:d=!0,title:c,desc:u,horizontal:p=!1,firstButtonText:g,secondButtonText:_,canClickPropagation:m=!1,children:h,onClickFirstButton:v,onClickSecondButton:f}=e,y=Boolean(g),b=Boolean(_),{withBlurBG:x,withNoBG:k,withLinearGradientBG:w}=(0,s.KS)(),S=(0,o.useCallback)(e=>{!m&&(0,a.Gu)(e)},[m]),C=(0,o.useCallback)(e=>{e.preventDefault()},[]);return(0,n.jsxs)(r.bc,{playMode:t,onClick:S,style:i,onContextMenu:C,withBlurBG:x,withNoBG:k,withLinearGradientBG:w,children:[(0,n.jsxs)(r.SZ,{playMode:t,children:[(0,n.jsxs)(r.Ls,{children:[Boolean(l)&&(0,n.jsx)(r.G$,{playMode:t,showIconBackground:d,children:l}),Boolean(c)&&(0,n.jsx)(r.ei,{playMode:t,children:c}),Boolean(u)&&(0,n.jsx)(r.LI,{playMode:t,children:u})]}),(0,n.jsxs)(r.xV,{horizontal:p,playMode:t,children:[y&&(0,n.jsx)(r.Gs,{type:"button",buttonTheme:"primary",playMode:t,onClick:v,children:g}),b&&(0,n.jsx)(r.Wj,{type:"button",buttonTheme:"primary",playMode:t,second:!0,onClick:f,children:_})]})]}),h]})})},22961:(e,t,i)=>{"use strict";i.d(t,{w:()=>l});var n=i(69857),o=i(2232),a=i(90976),r=i(9429),s=i(98042);const l=()=>{var e;const{abTestVersion:t}=(0,n.L$)((0,a.W)(()=>["abTestVersion"],[])),i=null!==(e=(0,o.qt)(t,"player_error_optimize"))&&void 0!==e?e:"v0",l=(0,s.ms)(),d="1"!==(0,r.vk)(),c=["v2","v3"].includes(i)&&l,u="v1"===i&&d;return{shouldShowPlayerError:c,shouldShowPlayerUnsupported:u,isPlayerErrorOrUnsupported:c||u,shouldShowLearnMore:"v2"===i}}},23682:(e,t,i)=>{"use strict";i.d(t,{V:()=>M});var n=i(24643),o=i(40099),a=i(72355),r=i(57676),s=i(87954),l=i(27799),d=i(69857),c=i(23037),u=i(29547),p=i(90976),g=i(61322),_=i(74042),m=i(16410),h=i(93584),v=i(22797);const f=(0,m.default)("div",{target:"es1egko0"})({padding:"24px 20px 6px",width:"310px",borderRadius:"8px",textAlign:"center",wordBreak:"break-word",display:"flex",flexDirection:"column",alignItems:"center"},"label:DivMobileWrapper;"),y=(0,m.default)("div",{target:"es1egko1"})(({theme:e})=>({padding:"32px",width:"400px",borderRadius:"8px",textAlign:"center",wordBreak:"break-word",display:"flex",flexDirection:"column",alignItems:"center",color:e.colors.TextPrimary}),"label:DivDesktopWrapper;"),b=(0,m.default)("div",{target:"es1egko4"})(({theme:e})=>[{textAlign:"center",fontSize:"20px",lineHeight:"24px",margin:"16px 0 12px"},(0,h.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",color:"TextPrimary"})],"label:DivMobileTitle;"),x=(0,m.default)("div",{target:"es1egko5"})(({theme:e})=>[{textAlign:"center",fontSize:"24px",lineHeight:"36px",margin:"16px 0"},(0,h.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",color:"TextPrimary"})],"label:DivDesktopTitle;"),k=(0,m.default)("div",{target:"es1egko6"})(({theme:e})=>[{textAlign:"center",fontSize:"15px",lineHeight:"18px"},(0,h.zy)({theme:e,fontFamily:"TikTokFont",color:"TextSecondary"})],"label:DivMobileContent;"),w=(0,m.default)("div",{target:"es1egko7"})(({theme:e})=>[{textAlign:"center",fontSize:"16px",lineHeight:"22px"},(0,h.zy)({theme:e,fontFamily:"TikTokFont",color:"TextSecondary"})],"label:DivDesktopContent;"),S=(0,m.default)("div",{target:"es1egko8"})({display:"flex",marginTop:"16px"},"label:DivDesktopBtnWrapper;"),C={width:"100%",height:"44px",fontSize:"15px",lineHeight:"44px",textDecoration:"none"},j={width:"164px",height:"48px",fontSize:"16px",lineHeight:"48px",borderRadius:"4px"},T=(0,m.default)(v.N_,{target:"es1egko9"})(({theme:e})=>[(0,h.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),Object.assign(Object.assign({},C),{margin:"22px 0 2px",borderRadius:"2px",color:`${e.colors.ConstTextInverse} !important`,backgroundColor:e.colors.Primary,display:"block"})],"label:StyledMobileLink;"),I=(0,m.default)(v.N_,{target:"es1egko10"})(({theme:e})=>[(0,h.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold"}),Object.assign(Object.assign({},j),{backgroundColor:e.colors.Primary,color:`${e.colors.ConstTextInverse} !important`,display:"block"})],"label:StyledDesktopLink;"),P=(0,m.default)("div",{target:"es1egko11"})(({theme:e})=>[(0,h.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),Object.assign(Object.assign({},C),{backgroundColor:e.colors.BGTertiary,color:e.colors.TextReverse2})],"label:DivMobileDismiss;"),A=(0,m.default)("div",{target:"es1egko12"})(({theme:e})=>[(0,h.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold"}),Object.assign(Object.assign({},j),{backgroundColor:e.colors.BGSecondary2,marginRight:"8px",color:e.colors.TextPrimary,border:`1px solid ${e.colors.LineSecondary2}`,cursor:"pointer"})],"label:DivDesktopDismiss;"),M=(0,o.memo)(({visible:e,pathname:t,newWindow:i=!1,isWebapp:m=!1,onClose:h,onJump:v})=>{const{language:C,user:j,region:M}=(0,d.L$)((0,p.W)(()=>["language","user","region"],[])),{isMobile:L}=(0,d.L$)((0,g.U)(()=>["isMobile"],[])),D=(0,l.s)(),O=(0,a.zy)(),R=(0,_.FR)({location:O,to:{pathname:t,search:{lang:C,user_id:null==j?void 0:j.uid,is_user_log_in:j?1:0,country_code:M}}}),E=(0,c.M)();return(0,o.useEffect)(()=>{m&&e&&s.E.handleSCMDescPopUp()},[m,e]),L?(0,n.jsx)(u.aF,{visible:e,maskCloseable:!0,onClose:h,children:(0,n.jsxs)(f,{children:[(0,n.jsx)(r.o,{size:48,center:!0}),(0,n.jsx)(b,{children:D("scm_label_and_appeal_modal_title")}),(0,n.jsx)(k,{children:D("scm_label_and_appeal_modal_desc")}),(0,n.jsx)(T,{target:i?"_blank":void 0,forceSSR:!0,to:R,onClick:v,children:D("scm_label_and_appeal_modal_button_learn_more")}),(0,n.jsx)(P,{onClick:h,children:D("scm_label_and_appeal_modal_button_dismiss")})]})}):(0,n.jsx)(u.aF,{parentRef:E,visible:e,maskCloseable:!0,onClose:h,children:(0,n.jsxs)(y,{children:[(0,n.jsx)(r.o,{size:64,center:!0}),(0,n.jsx)(x,{children:D("scm_label_and_appeal_modal_title")}),(0,n.jsx)(w,{children:D("scm_label_and_appeal_modal_desc")}),(0,n.jsxs)(S,{children:[(0,n.jsx)(A,{onClick:h,children:D("scm_label_and_appeal_modal_button_dismiss")}),(0,n.jsx)(I,{target:i?"_blank":void 0,forceSSR:!0,to:R,onClick:v,children:D("scm_label_and_appeal_modal_button_learn_more")})]})]})})})},24061:(e,t,i)=>{"use strict";i.d(t,{h:()=>d});var n=i(24643),o=i(40099),a=i(97065),r=i(95501),s=i(16842);const l=function({onShow:e}){const t=(0,o.useRef)(null),i=(0,s._g)(()=>{if(t.current){const{top:i}=t.current.getBoundingClientRect();i>=0&&i<window.innerHeight&&e()}},[e],100);return(0,o.useEffect)(()=>{i()},[]),(0,o.useEffect)(()=>(window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}),[i]),(0,n.jsx)("div",{ref:t,children:(0,n.jsx)(r.R,{center:!0,maskKey:"self-detector"})})};function d(){return function(e){const t=t=>{const{ssrLimitDisable:i=!1,noFrozenLoading:a=!1}=t,[r,s]=(0,o.useState)(!i&&!a),[d,c]=(0,o.useState)(!0),u=(0,o.useCallback)(()=>{s(!1)},[]);(0,o.useEffect)(()=>{d&&c(!1),void 0!==window.requestIdleCallback?window.requestIdleCallback(u):setTimeout(()=>{u()},0)},[u,d]);const p=(0,o.useMemo)(()=>{var e;return r&&!i&&d?t.itemList.slice(0,null!==(e=t.ssrLimit)&&void 0!==e?e:2):t.itemList},[r,t.itemList,t.ssrLimit,i,d]),g=Object.assign(Object.assign({},t),{itemList:p,frozen:r});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e,Object.assign({},g)),r&&(0,n.jsx)(l,{onShow:u})]})};return t.displayName=`WithLimitedListSSR(${(0,a.x)(e)})`,t}}},24249:(e,t,i)=>{"use strict";i.d(t,{$D:()=>r});var n=i(73580),o=i(40099),a=i(53397);function r(e){const t=(0,n.Nj)(a.JX);(0,o.useEffect)(()=>{t.setPreloadQueue(e)},[e,t])}},24298:(e,t,i)=>{"use strict";i.d(t,{d:()=>v});var n,o=i(24643),a=i(95074),r=i(40099),s=i(71334),l=i(80752),d=i(96973),c=i(27799),u=i(90976);!function(e){e.GeneralSensitive="general_sensitive",e.PhotoSensitive="photo_sensitive",e.PhotoSensitiveDenied="photo_sensitive_denied"}(n||(n={}));const p={general_sensitive:"masklayer_general_title",photo_sensitive:"photosensitive_masklayer_title",photo_sensitive_denied:"photosensitive_masklayer_removed"},g={general_sensitive:["masklayer_general_body"],photo_sensitive:["photosensitive_masklayer_body1","photosensitive_masklayer_body2"],photo_sensitive_denied:["photosensitive_masklayer_removed_body1","photosensitive_masklayer_removed_body3"]},_={general_sensitive:"masklayer_general_skip",photo_sensitive:"photosensitive_masklayer_watch",photo_sensitive_denied:""},m={general_sensitive:"masklayer_general_watch",photo_sensitive:"photosensitive_masklayer_skipall",photo_sensitive_denied:""};var h=i(41516);const v=({playMode:e,item:t,smallSizeIcon:i=!1})=>{var n;const v=(0,c.s)(),{user:f}=null!==(n=(0,u.W)(()=>["user"],[]))&&void 0!==n?n:{},{photoSensitiveVideosSetting:y,uid:b}=null!=f?f:{},{photoSensitiveVideosSetting:x}=(0,a.P)(h.w);return(0,r.useMemo)(()=>{const{maskType:n,authorId:a}=t,r=3===n,c=4===n;if(!c&&!r)return{showVideoMask:!1};if(c&&(2===y||2===x||a===b&&0!==y))return{showVideoMask:!1};let u;u=r?"general_sensitive":1===x?"photo_sensitive_denied":"photo_sensitive";const h=v(p[u]),f=g[u].map(e=>v(e)).join(""),k=((e,t,i)=>{let n=null,a=48;switch(e){case"general_sensitive":a=0===t?36:53,a=i?24:a,n=(0,o.jsx)(s.A,{width:a,height:a,fill:"rgba(255, 255, 255, .75)"});break;case"photo_sensitive":a=0===t?32:48,a=i?24:a,n=(0,o.jsx)(l.A,{width:a,height:a,fill:"#fff"});break;case"photo_sensitive_denied":a=0===t?32:48,a=i?24:a,n=(0,o.jsx)(d.A,{width:a,height:a,fill:"#0BE09B"})}return n})(u,e,i),w=v(((e,t)=>2===t||8===t||3===t||6===t||0===t?_[e]:"")(u,e)),S=v(((e,t)=>2===t||8===t||3===t||6===t||0===t?m[e]:"")(u,e));return{showVideoMask:!0,maskType:u,videoMaskTitle:h,videoMaskDesc:f,icon:k,videoMaskFirstButtonText:w,videoMaskSecondButtonText:S}},[t,y,x,b,v,e,i])}},24469:(e,t,i)=>{"use strict";i.d(t,{_:()=>S});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(8536),l=i(23999),d=i(26324),c=i(24451),u=i(62564),p=i(72916),g=i(95719),_=i(74690),m=i(96406),h=i(73995),v=i(81378),f=i(47342),y=i(16618),b=i(87695),x=i(7672),k=i(44094);let w=class{constructor(e){this.fetch=e}getTransferList(e){return this.fetch.get("/api/search/suggest/guide/",{query:e,baseUrlType:2})}};w=(0,n.__decorate)([(0,x._)(),(0,n.__metadata)("design:paramtypes",[k.p])],w);let S=class extends o.E{constructor(e,t,i,n){super(),this.service=e,this.search=t,this.sug=i,this.personalization=n,this.defaultState={historyList:[],guessSearchList:[],mobileGuessSearchList:[],activeIndex:-1,blankpageEnterMethod:void 0,preRecomShowId:"",videoSuggestWord:void 0,newGuessSearchWord:void 0,logId:void 0,mobileLogId:void 0,shouldRemainOpen:!1,shouldUpdateData:!0}}setData(e,t){e.guessSearchList=t}setMobileData(e,t){e.mobileGuessSearchList=t}setLogId(e,t){e.logId=t}setMobileLogId(e,t){e.mobileLogId=t}setActiveIndex(e,t){e.activeIndex=t}setEnterMethod(e,t){e.blankpageEnterMethod=t}setHistoryList(e,t){e.historyList=t}setVideoSuggestWord(e,t){e.videoSuggestWord=t}setNewGuessSearchWord(e,t){e.newGuessSearchWord=t}setShouldRemainOpen(e,t){e.shouldRemainOpen=t}setShouldUpdateData(e,t){e.shouldUpdateData=t}getTransferList(e){return e.pipe((0,c.E)(this.search.state$,this.sug.state$,this.state$,this.personalization.state$),(0,u.T)(([e,{searchGlobalParams:t},{videoPageType:i},{videoSuggestWord:n},{isSearchPersonalized:o}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,videoSuggestWord:n,videoPageType:i,nonPersonalized:o?void 0:1})),(0,p.n)(({payload:e,rootEnterFrom:t,videoSuggestWord:i,videoPageType:n,nonPersonalized:o})=>{var a;return this.service.getTransferList(Object.assign(Object.assign({},e),{is_non_personalized_search:o,current_placeholder:null!==(a=null==i?void 0:i.word)&&void 0!==a?a:""})).pipe((0,u.T)(e=>{const{status_code:t,data:i=[],log_id:n}=e;let o=[];return 0===t&&i.length&&(o=i.map(e=>Object.assign(Object.assign({},e),{impr_id:n}))),Object.assign(Object.assign({},e),{data:o})}),(0,g.M)(({data:i,log_id:o})=>{const a={enter_from:t,words_source:"recom_search",search_position:m.f.commonParams.page_name,enter_group_id:e.from_group_id,impr_id:null!=o?o:"",raw_query:"",video_page_type:n};h.$G.handleTrendingShow(Object.assign({words_num:i.length},a)),i.forEach((e,t)=>{var i,n,o,r;return h.$G.handleTrendingWordsShow(Object.assign({words_position:t,words_content:null!==(i=null==e?void 0:e.word)&&void 0!==i?i:"",words_type:null!==(o=b._[null!==(n=null==e?void 0:e.word_type)&&void 0!==n?n:""])&&void 0!==o?o:"",group_id:null!==(r=null==e?void 0:e.group_id)&&void 0!==r?r:""},a))})}),(0,s.Z)(e=>{var t;return(0,l.of)(this.getActions().setData(null==e?void 0:e.data),this.getActions().setLogId(null==e?void 0:e.log_id),this.getActions().setNewGuessSearchWord(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t[0]))}),(0,_.Z)(this.getActions().setActiveIndex(-1)))}))}getMobileTransferList(e){return e.pipe((0,c.E)(this.search.state$,this.sug.state$,this.state$,this.personalization.state$),(0,u.T)(([e,{searchGlobalParams:t},{videoPageType:i},{videoSuggestWord:n},{isSearchPersonalized:o}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,videoSuggestWord:n,videoPageType:i,nonPersonalized:o?void 0:1})),(0,p.n)(({payload:e,videoSuggestWord:t,nonPersonalized:i})=>{var n;return this.service.getTransferList(Object.assign(Object.assign({},e),{is_non_personalized_search:i,current_placeholder:null!==(n=null==t?void 0:t.word)&&void 0!==n?n:""})).pipe((0,u.T)(e=>{const{status_code:t,data:i=[],log_id:n}=e;let o=[];return 0===t&&i.length&&(o=i.map(e=>Object.assign(Object.assign({},e),{impr_id:n}))),Object.assign(Object.assign({},e),{data:o})}),(0,g.M)(({data:e,log_id:t})=>{const i={words_source:"recom_search",search_position:"search_blankpage_web",impr_id:null!=t?t:""};e.forEach((e,t)=>{var n,o,a,r;h.$G.handleTrendingWordsShow(Object.assign({words_position:t,words_content:null!==(n=null==e?void 0:e.word)&&void 0!==n?n:"",words_type:null!==(a=b._[null!==(o=null==e?void 0:e.word_type)&&void 0!==o?o:""])&&void 0!==a?a:"",group_id:null!==(r=null==e?void 0:e.group_id)&&void 0!==r?r:""},i))})}),(0,s.Z)(e=>(0,l.of)(this.getActions().setMobileData(null==e?void 0:e.data),this.getActions().setMobileLogId(null==e?void 0:e.log_id))))}))}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setData",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setMobileData",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setLogId",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setMobileLogId",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setActiveIndex",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setEnterMethod",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setHistoryList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setVideoSuggestWord",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setNewGuessSearchWord",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setShouldRemainOpen",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setShouldUpdateData",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"getTransferList",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"getMobileTransferList",null),S=(0,n.__decorate)([(0,r.nV)("Transfer"),(0,n.__metadata)("design:paramtypes",[w,v.tq,f.C,y.fu])],S)},24479:(e,t,i)=>{"use strict";i.d(t,{w:()=>_});var n,o=i(24643),a=i(40099),r=i(33245),s=i(57676),l=i(87954),d=i(16410),c=i(93584);!function(e){e[e.User=0]="User",e[e.Caption=1]="Caption",e[e.ToolTip=2]="ToolTip"}(n||(n={}));const u=(0,d.default)("div",{target:"e2imevf0"})(({labelType:e,theme:{colors:t}})=>[{display:"flex",width:"fit-content",borderRadius:"2px",alignItems:"center"},1===e?{backgroundColor:t.ConstBGInverse3,padding:"0 5px"}:0===e?{cursor:"pointer",backgroundColor:t.BGInput,padding:"1px 4px"}:{cursor:"pointer",flexDirection:"row-reverse"}],"label:DivSCMLabel;"),p=(0,d.default)("div",{target:"e2imevf1"})(({labelType:e,theme:t})=>[(0,c.zy)({theme:t,fontFamily:"TikTokFont",fontWeight:2===e?"normal":"semiBold"}),1===e?{fontSize:"13px",lineHeight:"22px",color:t.colors.ConstTextInverse,marginLeft:"4px"}:0===e?{fontSize:"12px",lineHeight:"18px",color:t.colors.TextPrimary,marginLeft:"4px"}:{fontSize:"14px",lineHeight:"22px",color:t.colors.TextTertiary,marginRight:"4px"}],"label:DivSCMText;");var g=i(23682);const _=(0,a.memo)(({stateControlledMedia:e,isUserPage:t,labelType:i,style:n={}})=>{const[d,c]=(0,a.useState)(!1),_=(0,a.useCallback)(()=>{c(!1),l.E.handleQuit()},[]),m=(0,a.useCallback)(()=>{c(!0),l.E.handleTagClick()},[]),h=(0,a.useCallback)(()=>{l.E.handleSCMLearnMore()},[]);return(0,a.useEffect)(()=>{e&&t&&l.E.handleSCMPageView()},[t,Boolean(e)]),e?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u,{style:n,labelType:i,onClick:m,children:[2===i?(0,o.jsx)(r.N,{size:12}):(0,o.jsx)(s.o,{size:14}),(0,o.jsx)(p,{labelType:i,children:null==e?void 0:e.text})]}),(0,o.jsx)(g.V,{pathname:null==e?void 0:e.url,visible:d,onClose:_,isWebapp:!0,onJump:h})]}):null})},24806:(e,t,i)=>{"use strict";i.d(t,{$l:()=>r,AF:()=>s,GH:()=>g,gc:()=>p});var n=i(73041),o=i(20434);const a='video/mp4;codecs="hev1.1.6.L93.B0"';function r(e){return[3,4,31].includes(e)}function s(){return!(0,n.fU)()&&("undefined"!=typeof MediaSource&&!(!MediaSource.isTypeSupported(a)||"probably"!==document.createElement("video").canPlayType(a)))}const l="hevc_support_key_v4",d="hevc_support_key_time",c=12096e5;let u;function p(){if((0,n.fU)())return!1;if(void 0!==u)return u;const e=(0,o._S)(l,""),t=Number((0,o._S)(d,"0"));return Date.now()-t>c||""===e?(u=s(),(0,o.AP)(l,u?"1":"0"),(0,o.AP)(d,String(Date.now())),u&&navigator.mediaCapabilities.decodingInfo({type:"file",video:{contentType:a,width:1920,height:1080,bitrate:1e4,framerate:30}}).then(({supported:e})=>{u=e,(0,o.AP)(l,e?"1":"0")}).catch(e=>console.error(e)),u):"1"===e}function g(){(0,o.AP)(l,"0"),(0,o.AP)(d,String(Date.now())),u=!1}},24842:(e,t,i)=>{"use strict";i.d(t,{Jy:()=>o});var n=i(40099);function o(e,t){const i=[],o=new RegExp(`(${Object.keys(t).join("|")})`),a=e.split(o);for(const[e,o]of a.entries()){const a=t[o];a?i.push(a.key?a:n.cloneElement(a,Object.assign({key:e},a.props),a.props.children)):i.push(o)}return i}},25387:(e,t,i)=>{"use strict";i.d(t,{y:()=>s});var n=i(94646),o=i(35357),a=i.n(o),r=i(40099);const s=(e,t)=>{const{index:i,itemId:o,keyword:s,request_id:l}=t,d=(0,r.useCallback)(()=>n.c.videoShow(s,{display_order:i,group_id:o,request_id:l}),[i,o,s,l]),c=(0,r.useMemo)(()=>a()(d),[d]),u=(0,r.useMemo)(()=>"function"!=typeof IntersectionObserver?null:new IntersectionObserver(e=>{e[0].isIntersecting&&(c(),null==u||u.disconnect())},{threshold:.2}),[c]);(0,r.useEffect)(()=>(e.current&&(null==u||u.observe(e.current)),()=>null==u?void 0:u.disconnect()),[e,u])}},25565:(e,t,i)=>{"use strict";i.d(t,{P:()=>u,m:()=>c});var n=i(40099),o=i(69857),a=i(90976),r=i(78445),s=i(96330),l=i(70199),d=i(61198);const c=()=>{const{checkAndUpdateUser:e}=(0,s.Qf)(),{getAndUpdatePlatforms:t}=(0,l.h4)(),{user:i}=(0,o.L$)((0,a.W)(()=>["user"],[]));(0,n.useEffect)(()=>{e(i),t()},[i,e,t])},u=()=>{const e=(0,r.Lu)(e=>null==e?void 0:e.list,d.bN),{checkAndUpdateItems:t}=(0,s.Qf)();(0,n.useEffect)(()=>{e&&t(e)},[e,t])}},26401:(e,t,i)=>{"use strict";i.d(t,{b:()=>s});var n=i(24643),o=i(40099),a=i(20768),r=i(93731);const s=(0,o.memo)(e=>{const{xgplayer:t,visible:i=!0,mutedPlay:s=!1,isBrowserMode:l,defaultVolume:d=50,defaultMuted:c=!1,onMutedChange:u,onVolumeChange:p}=e,[g,_]=(0,o.useState)(d),[m,h]=(0,o.useState)(c),v=(0,o.useCallback)(e=>{_(i=>(e!==i&&(null==t?void 0:t.current)&&(t.current.volume=Number(e)/100,null==p||p(e)),e))},[p,t]),f=(0,o.useCallback)(e=>{h(i=>(e!==i&&(null==t?void 0:t.current)&&(null==u||u(e),t.current.muted=e),e))},[u,t]);return(0,o.useEffect)(()=>{s&&(h(!0),null==u||u(!0))},[s,u]),(0,o.useEffect)(()=>{v(d)},[v,d]),(0,o.useEffect)(()=>{f(c)},[f,c]),(0,n.jsx)(r.ip,{isBrowserMode:l,visible:i,children:(0,n.jsx)(a.G4,{value:g,muted:m,isBrowserMode:l,onMutedClick:f,onVolumeChange:v})})})},26595:(e,t,i)=>{"use strict";i.d(t,{En:()=>a,NG:()=>o,SI:()=>s,W$:()=>l,oB:()=>n,wU:()=>r});const n="TT2DSP_AUTH_APPLE_MUSIC_USER_TOKEN",o="TT2DSP_AUTH_APPLE_MUSIC_USER_TOKEN_EXPIRE_TIMESTAMP",a="https://js-cdn.music.apple.com/musickit/v3/musickit.js",r="TikTok",s="https://p16-scm-static-va.ibyteimg.com/tos-maliva-i-zcnnq8l0xu-us/1edbdf3bedfc4b4daa6b0cc29f56ce87~tplv-zcnnq8l0xu-image.image",l=3888e3},26619:(e,t,i)=>{"use strict";i.d(t,{r:()=>l});var n=i(72516),o=i(40099),a=i(60222),r=i(43214),s=i(80179);const l=(e,t)=>{const[i,l]=(0,s.useAtom)(r.K);(0,o.useEffect)(()=>{let o=null;function r(){o&&(clearTimeout(o),o=null)}return e&&"0"!==e?(function s(){var d;return(0,n.__awaiter)(this,void 0,void 0,function*(){if(i.isError)return void r();const n=yield(0,a.R)({room_ids:e,enter_from:t}),c=null===(d=n.data)||void 0===d?void 0:d.find(t=>t.alive&&t.room_id_str===e);l(Object.assign(Object.assign({},i),{isLive:!!c})),r(),o=setTimeout(()=>{s()},1e4)})}(),l(Object.assign(Object.assign({},i),{isLive:!0}))):l(Object.assign(Object.assign({},i),{isLive:!1})),()=>{r()}},[i.isError,e])}},26644:(e,t,i)=>{"use strict";i.d(t,{Le:()=>a,_E:()=>c,d4:()=>s,eT:()=>r,i6:()=>l,jP:()=>d,o8:()=>p,ue:()=>u});var n=i(16410),o=(i(924),i(93584));const a=(0,n.default)("div",{target:"ehlq8k30"})({position:"relative",padding:"16px 0 0"},"label:DivContainer;"),r=(0,n.default)("div",{target:"ehlq8k31"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:DivFlexCenterRow;"),s=(0,n.default)(r,{target:"ehlq8k32"})(({shouldOptimizeCta:e})=>({justifyContent:"space-between",marginBottom:e?"11px":""}),"label:StyledWrapper;"),l=(0,n.default)("div",{target:"ehlq8k33"})(({theme:e})=>[(0,o.zy)({theme:e,typography:"P3",color:"TextSecondary"}),{display:"flex",flexDirection:"row",marginTop:"16px",boxSizing:"border-box",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"8px",overflow:"hidden"}],"label:DivCopyLinkContainer;"),d=(0,n.default)("p",{target:"ehlq8k34"})(o.PR,({theme:e})=>({flex:"1 1 auto",paddingTop:"7px",paddingBottom:"5px",backgroundColor:e.colors.BGInput}),({theme:{direction:e}})=>(0,o.mp)({direction:e,paddingStart:"12px",paddingEnd:"0"}),"label:PCopyLinkText;");d.defaultProps=Object.assign(Object.assign({},d.defaultProps),{"data-e2e":"browse-video-link"});const c=(0,n.default)("button",{target:"ehlq8k36"})(({theme:e})=>[o.WA,{color:e.colors.TextPrimary,fontWeight:e.fontWeights.bold,flex:"0 0 auto",cursor:"pointer",backgroundColor:e.colors.BGInput2,padding:"7px 18px",":hover":{backgroundColor:e.colors.BGView},":active":{backgroundColor:e.colors.BGInput},":focus-visible":{outline:`2px solid ${e.colors.Negative}`,outlineOffset:"-2px"}}],"label:ButtonCopyLink;");c.defaultProps=Object.assign(Object.assign({},c.defaultProps),{"data-e2e":"browse-copy"});const u=(0,n.default)("button",{target:"ehlq8k37"})(({theme:{colors:e}})=>[o.WA,{position:"relative",display:"flex",width:"24px",height:"24px",justifyContent:"center",alignItems:"center",borderRadius:"50%",cursor:"pointer",color:e.TextPrimary,":focus-visible":{outline:`2px solid ${e.Negative}`},":hover":{backgroundColor:"rgba(22, 24, 35, 0.1)"},":active":{backgroundColor:"rgba(22, 24, 35, 0.1)"}}],"label:ButtonShare;"),p=(0,n.default)("div",{target:"ehlq8k38"})(({theme:e})=>[(0,o.zy)({theme:e,fontWeight:"semiBold",typography:"P2"}),{width:"280px",padding:"8px 0px",maxHeight:448,overflow:"auto","::-webkit-scrollbar":{width:"6px"},"::-webkit-scrollbar-thumb":{borderRadius:"3px",background:"rgba(0, 0, 0, 0.15)"}}],"label:DivShareWrapper;");p.defaultProps=Object.assign(Object.assign({},p.defaultProps),{"data-e2e":"feed-share-group"})},27122:(e,t,i)=>{"use strict";i.d(t,{Y:()=>y});var n=i(24643),o=i(70716),a=i(67476),r=i(57615),s=i(45027),l=i(73580),d=i(72355),c=i(84573),u=i.n(c),p=i(27799),g=i(85650),_=i(15923),m=i(66712),h=i(40099),v=i(17785);const f=(0,h.memo)(function({isVisible:e,onClose:t,onDismiss:i,onNudgeSuccess:a}){const s=(0,p.s)();return(0,n.jsxs)(r.nOL,{open:e,width:"large",onOpenChange:e=>{e||t()},children:[(0,n.jsx)(r.DBO,{title:s("privacy_projectS_sleepHours_turnOff_sheet_headline",{},"Turn off sleep hours today?"),leading:(0,n.jsx)(r.Zqj,{})}),(0,n.jsxs)(o.lt,{children:[(0,n.jsx)(o.Ko,{children:(0,n.jsx)(o.Pj,{src:v})}),(0,n.jsx)(o.$k,{children:s("privacy_projectS_sleepHours_turnOff_sheet_desc",{},"If you turn off your sleep hours today, they’ll resume tomorrow. You can also turn them off completely.")}),(0,n.jsxs)(o.BY,{children:[(0,n.jsx)(r.I05,{label:s("privacy_projectS_sleepHours_turnOff_sheet_btn_completely",{},"Turn off completely"),onClick:i,variant:"secondary",style:{width:"100%"}}),(0,n.jsx)(r.I05,{label:s("privacy_projectS_sleepHours_turnOff_sheet_btn_today",{},"Turn off today"),onClick:a,variant:"primary",style:{width:"100%"}})]})]})]})}),y=()=>{var e;const[t,i]=(0,s.S)(g.z),c=(0,l.Nj)(_.i),[v,y]=(0,h.useState)(u()(t.sleepTimeSettings)||null),[b]=(0,h.useState)(null===(e=t.sleepTimeSettings)||void 0===e?void 0:e.skip_sleep_hours),[x,k]=(0,h.useState)(t.isOpenSleepReminder),[w,S]=(0,h.useState)(()=>{const e=t.sleepTimeSettings;return`${(null==e?void 0:e.sleep_time_start_hour.toString().padStart(2,"0"))||"10"}:${(null==e?void 0:e.sleep_time_start_minute.toString().padStart(2,"0"))||"30"}:00`}),[C,j]=(0,h.useState)(!1),T=(0,p.s)(),I=(0,d.W6)(),P=(0,h.useMemo)(()=>t.isMinor||!1,[t.isMinor]),A=e=>{try{i.sleepReminderChangeHandler({sleep_time_settings:Object.assign(Object.assign({},v),{sleep_reminder_enabled:"nudge"!==e&&x,skip_sleep_hours:"nudge"===e,sleep_time_type:2}),user_real_timestamp:(0,m.BX)(new Date),toast:e}),c.uploadMetric("web_sleep_reminder_toggle",{status:x?"on":"off"}),I.goBack()}catch(e){console.error(e)}},M=(0,h.useCallback)(()=>{j(!1),A("nudge")},[A]),L=(0,h.useCallback)(()=>{j(!1),A("off")},[A]),D=(0,h.useCallback)(()=>{j(!1)},[]);(0,h.useEffect)(()=>{t.isOpenSleepReminder?k(!0):k(!1)},[t.isOpenSleepReminder]),(0,h.useEffect)(()=>{const e=P?8:7;let[t,i]=w.split(":");t=t.startsWith("0")?t.slice(1,2):t,i=i.startsWith("0")?i.slice(1,2):i;const n=parseInt(t)+e>23?parseInt(t)+e-24:parseInt(t)+e,o=i;y({sleep_time_start_hour:parseInt(t),sleep_time_start_minute:parseInt(i),sleep_time_end_hour:n,sleep_time_end_minute:parseInt(o),sleep_reminder_enabled:x,sleep_time_ab_test_started:!1,skip_sleep_hours:!1,sleep_time_type:2})},[w]);const O=(0,h.useMemo)(()=>{const e=null==v?void 0:v.sleep_time_end_hour,t=null==v?void 0:v.sleep_time_end_minute;return void 0===e||void 0===t?w:`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},[null==v?void 0:v.sleep_time_end_hour,null==v?void 0:v.sleep_time_end_minute,w]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.bP,{isPopup:!0,children:[(0,n.jsx)(o.FI,{children:T("privacy_projectS_sleepHours_settingDesc_sleepHoursScreen",{},"To help you sleep, push notifications are muted during your sleep hours. We’ll remind you before and after they start.")}),(0,n.jsxs)(o.NC,{children:[(0,n.jsx)(o.c3,{children:T("privacy_projectS_sleepHours_settingDesc_setSleepHours_title",{},"Set your sleep hours")}),(0,n.jsx)(r.OVK,{label:"",disabled:b,checked:x&&!b,onChange:e=>{k(e)}})]}),(0,n.jsxs)(o.aI,{children:[(0,n.jsxs)(o.Uv,{children:[(0,n.jsx)(o.NR,{children:T("start_time",{},"Start Time")}),(0,n.jsx)(o.Z9,{children:(0,n.jsx)(a.Bb,{label:"",locale:"en-US",hideLabel:!0,value:w,onChange:S,invalidTimeMessage:"",minuteIncrement:30,disabled:!x||b})})]}),(0,n.jsxs)(o.Uv,{children:[(0,n.jsx)(o.NR,{children:T("FPscheduledBreak_parentDetailpage_day_endTime",{},"End Time")}),(0,n.jsx)(o.Z9,{children:(0,n.jsx)(a.Bb,{label:"",locale:"en-US",hideLabel:!0,value:O,disabled:!0,onChange:()=>{},invalidTimeMessage:"",minuteIncrement:30})})]})]}),(0,n.jsx)(o.Hy,{children:T("privacy_projectS_sleepHours_settingDesc_setSleepHours_lastFor_desc",{},"Sleep hours last for 8 hours after your start time")}),(0,n.jsxs)(o.gO,{children:[(0,n.jsx)(o.bv,{children:(0,n.jsx)(r.I05,{label:T("Cancel",{},"Cancel"),variant:"secondary",onClick:()=>{I.goBack()},disabled:b,size:"large"})}),(0,n.jsx)(o.bv,{children:(0,n.jsx)(r.I05,{label:T("save_settings",{},"Save"),variant:"primary",onClick:()=>{t.isOpenSleepReminder&&!x?j(!0):A()},disabled:b,size:"large"})})]})]}),(0,n.jsx)(f,{isVisible:C,onClose:D,onNudgeSuccess:M,onDismiss:L})]})}},27363:(e,t,i)=>{"use strict";i.d(t,{g:()=>ie});var n=i(24643),o=i(67518),a=i(40099),r=i(54253),s=i(65476),l=i(48156),d=i(27799),c=i(20434),u=i(69857),p=i(73831),g=i(72355);const _=e=>7===e||5===e;var m=i(45375),h=i(19053),v=i(74042),f=i(16410);const y=(0,f.default)("span",{target:"efbd9f0"})(({isAds:e})=>({fontWeight:400,"&:hover":e&&{textDecoration:"underline",cursor:"pointer"}}),"label:SpanText;");var b=i(52340),x=i(43887),k=i(50654),w=i(12181);const S=(e,t,i={},o,a)=>{const r=!!o,s=null==o?void 0:o.web_url;return(0,n.jsx)(y,{style:i,isAds:r,onClick:s?()=>(0,h.Zy)({adInfo:o,refer:b.Hq.Title,tag:null!=a?a:b.xY.BrowserMode}):void 0,children:e},e+t)},C={fontWeight:700},j={fontWeight:600},T={},I=(0,a.memo)(e=>{const t=(0,k.MQ)(),{item:i,DuetComp:o,LinkComp:a,QuestionComp:r,target:s="_self",renderText:l=S,shouldReport:d,reportParams:c,styleType:p,mode:h,textExtra:f,desc:y}=e,b=(0,g.zy)(),I=(0,x._u)();if(!y)return null;if(t)return(0,n.jsx)(w.V,Object.assign({},e,{useGetVideoPath:x._u}));const{authorId:P,id:A,ad_info:M}=(0,u.L$)(i);let L=T;switch(p){case"kep":L=C;break;case"explore":L=j;break;default:L=T}return(null==f?void 0:f.length)?(0,n.jsx)(n.Fragment,{children:[...f].sort((e,t)=>e.start-t.start).reduce((t,i,u,g)=>{const{start:f,end:x,awemeId:k,userUniqueId:w,hashtagName:S,type:C,subType:j,userId:T,hashtagId:D,questionId:O="",questionContent:R=""}=i,E=0===u?0:g[u-1].end,F=f,B=y.substring(E,F);B&&t.push(l(B,t.length-1,L,M,null==c?void 0:c.ttamTag));const z=_(j),U=y.substring(f,x);if(0===C&&z){const i=(0,v.FR)({to:{pathname:(0,m.WDv)({questionId:O,questionContent:R})},location:b});t.push((0,n.jsx)(r,{href:i,text:null!=w?w:"",index:t.length-1,id:O,type:"question",target:s,authorId:P,groupId:A,shouldReport:d,reportParams:c,styleType:"question",inline:"compact"===h,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick},U+u))}else if(0===C&&k){const i=(0,v.FR)({to:{pathname:I({uniqueId:null!=w?w:"",videoId:k})},location:b});t.push((0,n.jsx)(o,{href:i,text:U,index:t.length-1,id:k,type:"video",target:s,authorId:P,groupId:A,shouldReport:d,reportParams:c,styleType:"duet",onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick},U+u))}else if(0===C&&T){const i=(0,v.FR)({to:{pathname:(0,m.fJR)({uniqueId:null!=w?w:""})},location:b});t.push((0,n.jsx)(a,{href:i,text:U,index:t.length-1,id:T,type:"user",target:s,authorId:P,groupId:A,shouldReport:d,reportParams:c,styleType:p,ariaLabel:`Watch more videos from user ${U}`,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick,onBrowserModeClose:e.onBrowserModeClose},U+u))}else if(1===C&&S){const i=(0,v.FR)({to:{pathname:(0,m.ATn)({tagName:S})},location:b});t.push((0,n.jsx)(a,{href:i,text:U,index:t.length-1,id:null!=D?D:"",type:"tag",target:s,authorId:P,groupId:A,shouldReport:d,reportParams:c,styleType:p,ariaLabel:`Watch more videos of the ${U} category`,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick,onBrowserModeClose:e.onBrowserModeClose},U+u))}else t.push(l(U,t.length-1,L,M,null==c?void 0:c.ttamTag));return u===g.length-1&&t.push(l(y.substring(x),t.length,L,M,null==c?void 0:c.ttamTag)),t},[])}):l(y,0,L,M,null==c?void 0:c.ttamTag)});var P=i(55200);function A({href:e,text:t,TagName:i,ariaLabel:o,className:a,tagClassName:r}){return(0,n.jsx)("a",{"data-e2e":"search-common-link",target:"_self",rel:"opener",className:a,"aria-label":null!=o?o:"",href:e,children:(0,n.jsxs)(i,{color:"rgba(43, 93, 185, 1)",className:r,children:[t," "]})})}const M=(0,p.T)(e=>{var t,i;const{textExtra:o,desc:r}=e,s=(0,a.useContext)(P.K),l=null===(i=null===(t=null==s?void 0:s.parameters)||void 0===t?void 0:t.bot_cost_optimize)||void 0===i?void 0:i.simplify_video_desc,d=null==l?void 0:l.spanClassName,c=null==l?void 0:l.aClassName,u=null==l?void 0:l.strongClassName,p=(0,g.zy)(),h=(0,x._u)();if(!r)return null;if(null==o?void 0:o.length){const e=[...o].sort((e,t)=>e.start-t.start).reduce((e,t,i,o)=>{const{start:a,end:s,awemeId:l,userUniqueId:g,hashtagName:f,type:y,subType:b,userId:x,questionId:k="",questionContent:w=""}=t,S=0===i?0:o[i-1].end,C=a,j=r.substring(S,C),T=e;j&&T.push((0,n.jsx)("span",{className:d,children:j}));const I=_(b),P=r.substring(a,s);if(0===y&&I){const e=(0,v.FR)({to:{pathname:(0,m.WDv)({questionId:k,questionContent:w})},location:p});T.push(A({href:e,text:null!=g?g:"",TagName:"strong",className:c,tagClassName:u}))}else if(0===y&&l){const e=(0,v.FR)({to:{pathname:h({uniqueId:null!=g?g:"",videoId:l})},location:p});T.push(A({href:e,text:P,TagName:"strong",className:c,tagClassName:u}))}else if(0===y&&x&&g){const e=(0,v.FR)({to:{pathname:(0,m.fJR)({uniqueId:null!=g?g:""})},location:p});T.push(A({href:e,text:P,TagName:"strong",ariaLabel:`Watch more videos from user ${P}`,className:c,tagClassName:u}))}else if(1===y&&f){const e=(0,v.FR)({to:{pathname:`/tag/${f}`},location:p});T.push(A({href:e,text:P,TagName:"strong",ariaLabel:`Watch more videos of the ${P} category`,className:c,tagClassName:u}))}else T.push((0,n.jsx)("span",{className:d,children:P}));return i===o.length-1&&T.push((0,n.jsx)("span",{className:d,children:r.substring(s)})),T},[]);return(0,n.jsx)(n.Fragment,{children:e})}return(0,n.jsx)("span",{className:d,children:r})},I,{feature:"simplify_video_desc",shouldForwardRef:!0}),L=(0,a.memo)(e=>{const{item:t,showTranslation:i}=e,{desc:o,contents:r=[],textExtra:s}=(0,u.L$)(t),l=r.length;return 0===l?(0,n.jsx)(M,Object.assign({},e,{desc:o,textExtra:s})):o?0===l||i?(0,n.jsx)(M,Object.assign({},e,{desc:o,textExtra:s})):(0,n.jsx)(n.Fragment,{children:r.map((t,i)=>(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(M,Object.assign({},e,{desc:t.desc,textExtra:t.textExtra})),i!==l-1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{})," "]})]},`${i}-${o}`))}):null});var D=i(19434),O=i(62289),R=i(93584),E=i(22797);const F="inline-block",B="break-word",z=(0,f.default)("div",{target:"ejg0rhn1"})(({ellipsis:e,ellipsisLine:t,theme:i,theme:{direction:n,colors:o},styleType:a})=>[Object.assign(Object.assign({},i.typography.P2),{wordBreak:B}),e?(0,R.jJ)({max:479,style:R.PR}):null,t?1===t?[R.PR,(0,R.mp)({direction:n,display:"-webkit-box",WebkitLineClamp:"1",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"pre-line"})]:(0,R.m4)(t):null,"tag"===a||"question"===a?[(0,R.zy)({theme:i,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{lineHeight:"22px",color:o.TextPrimary,pointerEvents:"none","a:hover":[{textDecoration:"none"},(0,R.mp)({direction:n,display:F,verticalAlign:"top",maxWidth:"100%"})],strong:{wordBreak:B,fontWeight:600}}]:null],"label:DivDescriptionContentContainer;"),U=(0,f.default)("strong",{target:"ejg0rhn2"})(({theme:e,styleType:t="",color:i=""})=>({fontWeight:"kep"===t?e.fontWeights.bold:e.fontWeights.semiBold,color:i}),"label:StrongText;"),N={top:"50%",marginTop:"-8px"},W=(0,f.default)(D.A,{target:"ejg0rhn3"})(({theme:{direction:e}})=>[Object.assign({position:"absolute"},N),(0,R.mp)({direction:e,start:"5px"})],"label:StyledPlayFill;"),V=(0,f.default)(O.A,{target:"ejg0rhn4"})(({theme:{direction:e}})=>[Object.assign({position:"absolute"},N),(0,R.mp)({direction:e,start:"5px"})],"label:StyledQAFill;"),H=(0,f.default)(E.N_,{shouldForwardProp:e=>"styleType"!==e&&"inline"!==e,target:"ejg0rhn5"})(({styleType:e,inline:t,theme:{direction:i,colors:n}})=>[{background:n.BGPlaceholderDefault,display:t?"inline":F,padding:"1px 5px",position:"relative"},"tag"===e&&[{display:"initial",whiteSpace:"nowrap",fontSize:"14px",lineHeight:"20px"},(0,R.mp)({direction:i,paddingStart:25})],("duet"===e||"question"===e)&&(0,R.mp)({direction:i,paddingStart:25}),"kep"===e&&[{fontWeight:700}]],"label:StyledLink;"),q=(0,f.default)(E.N_,{shouldForwardProp:e=>"shouldBreak"!==e&&"shouldInline"!==e,target:"ejg0rhn6"})(({shouldBreak:e=!1,shouldInline:t=!1})=>[{display:e||t?"inline":F,"&:focus-visible":{display:"inline"}},e?{wordBreak:"break-all"}:null],"label:StyledCommonLink;");var $=i(11706),G=i(10907),K=i(89610),Y=i(99648),Z=i(61198);function J({type:e,id:t,authorId:i,groupId:n,text:o,isDuet:s,reportParams:l,shouldReport:d,onSearchResultClick:c}){return(0,a.useCallback)(a=>{if(a.stopPropagation(),d)switch(e){case"tag":r.q.handleEnterTagDetail(Object.assign(Object.assign({},l),{tag_id:t,author_id:i,group_id:n,enter_method:s?"click_duet":"click_caption"})),null==c||c("tag");break;case"user":r.q.handleEnterUser(Object.assign(Object.assign({},l),{to_user_id:t,author_id:i,group_id:n,enter_method:s?"click_duet":"click_caption",to_user_name:o.substr(1)})),null==c||c("person");break;case"video":r.q.handleEnterVideo(Object.assign(Object.assign({},l),{author_id:i,group_id:n,to_group_id:t,enter_method:s?"click_duet":"click_caption"}));break;case"question":r.q.handleEnterQuestion(Object.assign(Object.assign({},l),{author_id:i,group_id:n,question_id:t,enter_method:"click_anchor"}))}},[d,e,t,i,n,s,l,c,o])}const X=e=>{const{isQuestionMark:t=!1}=e,{colors:i}=(0,o.u)(),a=t?V:W;return(0,n.jsx)(a,{fill:i.Primary2,width:16,height:16})},Q=e=>{const{href:t,text:i,index:o,id:r,type:s,target:l="_self",reportParams:d,shouldReport:c=!0,styleType:u,authorId:p,groupId:g,hasSpace:_=!0,onLinkClick:m,onSearchResultClick:h}=e,v=J({type:s,id:r,text:i,isDuet:!0,reportParams:d,shouldReport:c,authorId:p,groupId:g,onSearchResultClick:h}),f=(0,a.useCallback)(e=>{v(e),null==m||m(e,t,"hashtag")},[v,t,m]);return(0,n.jsxs)(H,{to:t,target:l,rel:"opener",onClick:f,styleType:u,children:[(0,n.jsx)(X,{}),(0,n.jsxs)(U,{children:[i,_?" ":""]})]},i+o)},ee=e=>{const{href:t,text:i,index:o,id:r,type:s,target:c="_self",reportParams:u,shouldReport:p=!0,styleType:g,inline:_,authorId:m,groupId:h,onLinkClick:v,onSearchResultClick:f}=e,y=(0,d.s)(),b=J({type:s,id:r,text:i,isDuet:!1,reportParams:u,shouldReport:p,authorId:m,groupId:h,onSearchResultClick:f}),x=(0,a.useCallback)(e=>{if(!r)return e.preventDefault(),l.F.destroy(),void l.F.open({content:y("qapage_webapp_error_title"),duration:3,widthType:"padding"});b(e),null==v||v(e,t)},[b,t,r,v,y]);return(0,n.jsxs)(H,{"data-e2e":"question-video-anchor",to:t,target:c,rel:"opener",onClick:x,styleType:g,inline:_,children:[(0,n.jsx)(X,{isQuestionMark:!0}),(0,n.jsx)(U,{children:i})]},i+o)},te=e=>{const{href:t,text:i,index:r,id:l,type:d,target:u="_self",authorId:p,groupId:g,reportParams:_,shouldReport:m=!0,hasSpace:h=!0,styleType:v,ariaLabel:f,onLinkClick:y,onSearchResultClick:b}=e,x=(0,a.useRef)(null),k=(0,o.u)(),w=J({type:d,id:l,authorId:p,groupId:g,text:i,isDuet:!1,reportParams:_,shouldReport:m,onSearchResultClick:b}),S=(0,a.useCallback)(e=>{if(w(e),null==y||y(e,t,"hashtag"),"tag"===d&&(null==_?void 0:_.is_ad_event)){const{log_extra:e,tag:t,value:i}=_;s.pg.handleChallengeClick({log_extra:e,tag:t,value:i,is_ad_event:"1"})}},[w,t,y,_,d]),C=(0,a.useCallback)(e=>{var t;13===e.keyCode&&((0,c.Gu)(e),null===(t=x.current)||void 0===t||t.click())},[]);return(0,n.jsx)(q,{"data-e2e":"search-common-link",to:t,target:u,rel:"opener",onClick:S,onKeyDown:C,ref:x,ariaLabel:f,shouldInline:"explore"===v,shouldBreak:"channel-break"===v,children:(0,n.jsxs)(U,{styleType:v,color:k.colors.AssistColorAzure,children:[i,h?" ":""]})},`${i}${r}`)},ie=(0,a.memo)(function(e){const{item:t,ellipsisLine:i=0,ellipsisOnNarrow:o=!1,e2eTag:r,shouldReport:s=!0,reportParams:l,mode:d,target:c="_self",styleType:p="default",style:g={},wrapInContainer:_=!0}=e,{id:m}=(0,u.L$)(t),{selectedTranslationLanguage:h,isReady:v}=(0,$.RD)(e=>({selectedTranslationLanguage:e.selectedTranslationLanguage,isReady:e.isReady}),Z.bN),f=(0,G.sX)(m)&&!Y.l.isItemTranslated(null!=t?t:{id:""}),y=(0,G.xr)(),b=(0,G.Oh)(m),x=(0,G.Vk)(m),k=(0,a.useRef)(null),w=(0,a.useMemo)(()=>[0],[]),S=(0,a.useCallback)(()=>{f&&v&&y.getDescriptionTranslation({target_lang:h,item_id:m})},[f,m,y,h,v]);return(0,a.useEffect)(()=>{v&&y.setShowTranslation(m,b||x)},[m,v,b,x,y]),(0,K.B)({intersectionHandler:S,unobserveAfterIntersect:!0,element:k,threshold:w}),_?(0,n.jsx)(z,{style:g,ellipsis:o,ellipsisLine:i,styleType:p,"data-e2e":r,ref:k,children:(0,n.jsx)(L,{mode:d,item:t,showTranslation:f,DuetComp:Q,LinkComp:te,QuestionComp:ee,reportParams:l,shouldReport:s,styleType:p,target:c,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick,onBrowserModeClose:e.onBrowserModeClose})}):(0,n.jsx)(L,{mode:d,item:t,showTranslation:f,DuetComp:Q,LinkComp:te,QuestionComp:ee,reportParams:l,shouldReport:s,styleType:p,onLinkClick:e.onLinkClick,onSearchResultClick:e.onSearchResultClick,onBrowserModeClose:e.onBrowserModeClose})})},27421:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});var n=i(40099);function o(e){const{player:t,playing:i=!1,isPlayerInit:o}=e,a=(0,n.useRef)(i);(0,n.useEffect)(()=>{var e,n,r;t.current&&o&&a.current!==i&&(i?null===(e=t.current)||void 0===e||e.play():null===(r=(n=t.current).pause)||void 0===r||r.call(n)),a.current=!!o&&i},[t,i,o])}},27595:(e,t,i)=>{"use strict";i.d(t,{u:()=>n});const n=(e,t,i,n)=>{var o,a;const r=null===(o=e[n])||void 0===o?void 0:o.list;return(null!==(a=null==r?void 0:r.map(e=>t[e]))&&void 0!==a?a:[]).filter(Boolean).map(e=>{var t;return Object.assign(Object.assign({},e),{author:i.users[null!==(t=e.author)&&void 0!==t?t:""]})})}},28033:(e,t,i)=>{"use strict";i.d(t,{c:()=>s});var n=i(24643),o=i(27799),a=i(2232),r=i(69857);const s=(0,i(40099).memo)(e=>{var t;const{StyledWrapper:i,e2eTag:s,challengeInfo:l}=e,d=(0,o.s)(),c=null!==(t=(0,a.TQ)("hashtag_viewcount"))&&void 0!==t&&t;if(!l)return null;const{stats:u,statsV2:p}=l,g=null!=p?p:u;let _,m,h;if(c?(_="playlist_webapp_profileview_playlists_numberviews",h="views",m=Number(g.viewCount||0)):(_="playlist_webapp_profileview_playlists_numbervid",h="posts",m=Number(g.videoCount||0)),!m)return null;const v=d(_,{num:m,number:(0,r.D1)(m)});return(0,n.jsx)(i,{"data-e2e":s,title:d(h),children:v})})},28338:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var n=i(90976),o=i(69857);const a=()=>{const{region:e}=(0,o.L$)((0,n.W)(()=>["region"],[])),t={isAvailable:!1,isSEA:!1};return["ID","SG","PH","TH","MY","VN"].includes(e)?(t.isAvailable=!0,t.isSEA=!0):["US","GB"].includes(e)&&(t.isAvailable=!0),t}},28343:(e,t,i)=>{"use strict";i.d(t,{i:()=>L});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(97517),l=i.n(s),d=i(9543),c=i(23999),u=i(26324),p=i(72916),g=i(74690),_=i(95719),m=i(62564),h=i(8536),v=i(20259),f=i(24451),y=i(35572),b=i(80339),x=i(31363),k=i(55867),w=i(21972),S=i(83692),C=i(7672),j=i(54133),T=i(44094),I=i(17384),P=i(91575);const A=(0,w.m1)();let M=class{constructor(e){this.fetch=e}getNewestReply(){return this.fetch.get(P.fY.getNewestReply,{query:Object.assign({},A),baseUrlType:2})}getFaqList(e){const{language:t,faqType:i,entrance:n="general"}=e,o=P.fY.getListV3,a=Object.assign(Object.assign({},A),{lang:(0,w.cv)(t),entrance:n,faqType:i,faqTypes:i});return this.fetch.get(o,{query:a}).pipe((0,m.T)(e=>({statusCode:e.status_code,statusMessage:e.status_message,faqInfoMap:e.faq_info_map,entranceMap:e.entrance_map})))}getReportRecords(e){const{language:t,minId:i,maxId:o}=e,a=(0,n.__rest)(e,["language","minId","maxId"]),r=Object.assign(Object.assign(Object.assign({},A),{lang:(0,w.cv)(t),min_id:i,max_id:o}),a);return this.fetch.get(P.fY.getReportRecords,{query:r,baseUrlType:2})}uploadImage(e){const t=new FormData;for(let i=0;i<e.length;i++){const{file:n,height:o,width:a}=e[i];t.append("type",n.type),t.append("size",String(n.size)),t.append("name",n.name),t.append("height",String(o)),t.append("width",String(a)),t.append(`file${i}`,n)}return this.fetch.post(P.fY.uploadImage,{query:{tt_csrf_token:this.fetch.csrfToken},headers:{[I.nk]:this.fetch.csrfToken},omitContentType:!0,body:t}).pipe((0,m.T)(e=>{const{data:t,statusCode:i,isPrivateImage:n}=e;return{data:(t||[]).map(e=>({image_width:e.width,image_height:e.height,image_uri:e.url})),isPrivateImage:n,statusCode:i}}),(0,v.W)(()=>(0,c.of)({data:[],statusCode:-1})))}reportFeedback(e){var t;return this.fetch.post(P.fY.submitFeedback,{query:Object.assign(Object.assign({},A),e),withCredentials:!0,body:j.stringify({entrance:null!==(t=e.entrance)&&void 0!==t?t:""}),headers:{[I.nk]:this.fetch.csrfToken}})}};M=(0,n.__decorate)([(0,C._)(),(0,n.__metadata)("design:paramtypes",[T.p])],M);let L=class extends o.E{constructor(e,t){super(),this.service=e,this.bizContext=t,this.defaultState={hasNewFeedbackReply:!1,lastFeedbackReplyId:0,faq:{},records:{list:[],map:{},loading:!1,firstLoad:!1,hasMore:!0,hasDeleteData:!1,error:!1},form:{submitting:!1,success:!1,error:!1,uploadError:!1}}}setReply(e,t){e.lastFeedbackReplyId=t.feedback_id,e.hasNewFeedbackReply=t.has_reply}setFaqState(e,t){var i,n,o,a,r,s,l,d,c,u;const{faqType:p,data:g,loading:_,statusCode:m}=t,{flattened:h,levels:v}=g?(0,w.Vj)(g):{flattened:null,levels:null};e.faq[p]={data:null!==(n=null!=g?g:null===(i=e.faq[p])||void 0===i?void 0:i.data)&&void 0!==n?n:[],flattened:null!==(a=null!=h?h:null===(o=e.faq[p])||void 0===o?void 0:o.flattened)&&void 0!==a?a:{},levels:null!==(s=null!=v?v:null===(r=e.faq[p])||void 0===r?void 0:r.levels)&&void 0!==s?s:[],loading:null!==(d=null!=_?_:null===(l=e.faq[p])||void 0===l?void 0:l.loading)&&void 0!==d&&d,statusCode:null!==(u=null!=m?m:null===(c=e.faq[p])||void 0===c?void 0:c.statusCode)&&void 0!==u?u:null}}setFormState(e,t){e.form=Object.assign(Object.assign({},e.form),t)}setRecordsState(e,t){var i;e.records=Object.assign(Object.assign({},e.records),t),t.refreshRecords&&(e.records.list=[],e.records.map={}),null===(i=t.records)||void 0===i||i.forEach(({record:t,displayTime:i})=>{const n=Object.assign(Object.assign({},t),{displayTime:i});e.records.list.unshift(n),e.records.map[i]=e.records.map[i]||[],e.records.map[i].unshift(n)})}addRecords(e,t){t.forEach(({record:t,displayTime:i})=>{const n=Object.assign(Object.assign({},t),{displayTime:i});e.records.list.unshift(n),e.records.map[i]=e.records.map[i]||[],e.records.map[i].unshift(n)})}getNewestReply(e){return e.pipe((0,p.n)(()=>(0,d.Y)(6e5).pipe((0,g.Z)(0)).pipe((0,p.n)(()=>this.service.getNewestReply().pipe((0,_.M)(e=>{e.data||console.warn("There is no data in response.")}),(0,m.T)(e=>e.data?this.getActions().setReply(e.data):this.noop()),(0,k.n)({}))))))}submitFeedback(e){return e.pipe((0,h.Z)(e=>{const{files:t}=e;return(null==t?void 0:t.length)?this.service.uploadImage(t).pipe((0,h.Z)(t=>{const{data:i,statusCode:n}=t;return(0,c.of)(Object.assign(Object.assign({},e),{submitting:!1,imageData:i,imageError:0!==n||!(null==i?void 0:i.length)}))}),(0,v.W)(()=>(0,c.of)(Object.assign(Object.assign({},e),{submitting:!1,imageData:[],imageError:!0})))):(0,c.of)(Object.assign(Object.assign({},e),{imageData:[],imageError:!1}))}),(0,f.E)(this.bizContext.state$),(0,h.Z)(([e,{bizContext:t}])=>{const{content:i,feedbackId:n,imageData:o,imageError:a,isMobile:r,language:s="",region:l="",entrance:d}=e,{os:u=""}=null!=t?t:{},p=r?"webapp_mobile":"webapp_pc";if(a)return(0,c.of)(this.getActions().setFormState({submitting:!1,error:!1,success:!1,uploadError:!0}));const g={};(null==o?void 0:o.length)&&(g.is_private_image=1);const _={content:i,image_list:JSON.stringify(o||[]),qr_id:n,from:p,channel:p,sys_region:l,device:u,country:l,entrance:d,language:(0,w.cv)(s),multi_image:1,extra_params:JSON.stringify(g)};return this.service.reportFeedback(_).pipe((0,m.T)(e=>{const{err_code:t}=e;if(0===t)return this.getActions().setFormState({submitting:!1,error:!1,success:!0,uploadError:!1});throw new Error}),(0,v.W)(()=>(0,c.of)(this.getActions().setFormState({submitting:!1,error:!0,success:!1,uploadError:!1}))))}))}getReportRecords(e){return e.pipe((0,f.E)(this.state$),(0,y.p)(([{maxId:e,minId:t=0,count:i=15,language:n="",user:o,region:a},{records:r}])=>{var s;const d=o?(0,x.l3)({uniqueId:o.uniqueId,secUid:o.secUid}):"",{list:u,hasMore:p}=r,_=null!=e?e:(null===(s=u[0])||void 0===s?void 0:s.id)||0,h=0===_;return h||p?this.service.getReportRecords({language:(0,w.cv)(n),count:i,minId:t,maxId:_}).pipe((0,m.T)(e=>{const{data:t}=e,n=[];return t.forEach(e=>{const{content:t,status:i,pub_date:o,type:r}=e;if(""===t&&0===i)return this.getActions().setRecordsState({hasDeleteData:!0,loading:!1});const s=l()(1e3*o).format("YYYY-MM-DD HH:mm");e.content=(0,w.sB)(t,r,d,a),n.push({record:e,displayTime:s})}),this.getActions().setRecordsState({firstLoad:!0,hasMore:Boolean(t.length&&t.length===i),records:n,refreshRecords:h})}),(0,g.Z)(this.getActions().setRecordsState({loading:!0,firstLoad:!h})),(0,b.q)(this.getActions().setRecordsState({loading:!1}))):(0,c.of)(this.noop())}),(0,v.W)(()=>(0,c.of)(this.getActions().setRecordsState({loading:!1,error:!0}))))}getFaqList(e){return e.pipe((0,h.Z)(({entrance:e,id:t,language:i})=>{const n=(0,w.xs)(e)||(0,w.CX)(t);return this.service.getFaqList({language:(0,w.cv)(i),entrance:n,faqType:""}).pipe((0,m.T)(e=>{const{statusMessage:t,faqInfoMap:i,entranceMap:o}=(0,w.WS)(e);if("success"!==t)throw new Error;return{statusCode:0,data:(0,w.$L)({faqInfoMap:i,entranceMap:o,faqType:"",entrance:n})}}),(0,v.W)(()=>(0,c.of)(this.getActions().setFaqState({faqType:"",data:[],statusCode:-1,loading:!1}))),(0,m.T)(e=>this.getActions().setFaqState(Object.assign({faqType:"",loading:!1},e))),(0,g.Z)(this.getActions().setFaqState({loading:!0,faqType:""})),(0,b.q)(this.getActions().setFaqState({loading:!1,faqType:""}),this.terminate()))}))}getCommonFaqList(e){return e.pipe((0,h.Z)(({entrance:e,id:t,language:i})=>{const n=(0,w.xs)(e)||(0,w.CX)(t),o="common";return this.service.getFaqList({language:(0,w.cv)(i),entrance:n,faqType:o}).pipe((0,m.T)(e=>{const{statusMessage:t,faqInfoMap:i,entranceMap:a}=(0,w.WS)(e);if("success"!==t)throw new Error;return{statusCode:0,data:(0,w.$L)({faqInfoMap:i,entranceMap:a,faqType:o,entrance:n})}}),(0,v.W)(()=>(0,c.of)(this.getActions().setFaqState({faqType:o,data:[],statusCode:-1,loading:!1}))),(0,m.T)(e=>this.getActions().setFaqState(Object.assign({faqType:o,loading:!1},e))),(0,g.Z)(this.getActions().setFaqState({loading:!0,faqType:o})),(0,b.q)(this.getActions().setFaqState({loading:!1,faqType:o}),this.terminate()))}))}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"setReply",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"setFaqState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"setFormState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"setRecordsState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"addRecords",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[u.c]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"getNewestReply",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[u.c]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"submitFeedback",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[u.c]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"getReportRecords",null),(0,n.__decorate)([(0,a.Mj)({payloadGetter:1}),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[u.c]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"getFaqList",null),(0,n.__decorate)([(0,a.Mj)({payloadGetter:1}),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[u.c]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"getCommonFaqList",null),L=(0,n.__decorate)([(0,r.nV)("Feedback"),(0,n.__metadata)("design:paramtypes",[M,S.$])],L)},28357:(e,t,i)=>{"use strict";i.d(t,{Cm:()=>f,G$:()=>d,Gs:()=>m,LI:()=>u,Ls:()=>l,NL:()=>v,Ox:()=>x,P3:()=>y,SZ:()=>s,T_:()=>b,Wj:()=>h,bc:()=>r,ei:()=>c,xV:()=>g});var n=i(16410),o=i(93584),a=i(73107);const r=(0,n.default)("div",{target:"e4uoj5v0"})(({theme:e,playMode:t,withBlurBG:i,withNoBG:n,withLinearGradientBG:o})=>[3===t?{borderRadius:"4px",overflow:"hidden"}:{},{position:"absolute",zIndex:3===t?0:1,width:"100%",height:"100%",left:"0",top:"0",backdropFilter:i?"blur(50px)":"none",background:o?"linear-gradient(180deg, #2b2b2b 0%, #000000 90%)":n?"rgba(18, 18, 18, 1)":e.colors.SDSecondary},2===t?{left:"-80px",right:"-80px",width:"unset"}:null],"label:DivVideoMask;"),s=(0,n.default)("div",{target:"e4uoj5v1"})(({playMode:e})=>[3!==e&&{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"515px"},{width:2===e?"calc(100% - 160px)":"100%",padding:0===e?"32px":"48px",paddingTop:3===e?"100px":""}],"label:DivVideoMaskContainer;"),l=(0,n.default)("div",{target:"e4uoj5v2"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"label:DivVideoMaskInfo;"),d=(0,n.default)("div",{target:"e4uoj5v3"})(({theme:e,playMode:t,showIconBackground:i})=>({display:"flex",justifyContent:"center",alignItems:"center",width:0===t?"72px":"106px",height:0===t?"72px":"106px",borderRadius:"50%",color:e.colors.Positive,backgroundColor:i?e.colors.ConstBGContainer2:void 0}),"label:DivVideoMaskIcon;"),c=(0,n.default)("p",{target:"e4uoj5v4"})(({theme:e,theme:{colors:t},playMode:i})=>[(0,o.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{fontSize:0===i?"17px":"24px",lineHeight:0===i?"20px":"32px",textAlign:"center",color:t.ConstTextInverse2,marginTop:0===i?"20px":"24px"}],"label:PVideoMaskTitle;"),u=(0,n.default)("p",{target:"e4uoj5v5"})(({theme:e,playMode:t})=>[(0,o.zy)({theme:e,typography:0===t?"H6":"P1",fontFamily:"TikTokFont",fontWeight:"normal"}),{maxWidth:"400px",textAlign:"center",color:"rgba(255, 255, 255, .75)",marginTop:0===t?"12px":"16px"}],"label:PVideoMaskDesc;"),p=(e,t)=>{switch(e){case 0:return t?"20px":"80px";case 3:return"56px";default:return"180px"}},g=(0,n.default)("div",{target:"e4uoj5v6"})(({playMode:e,horizontal:t})=>[{marginTop:p(e,t)},3===e?{display:"flex",flexDirection:"column",alignItems:"center"}:{}],"label:DivBtnWrapper;");function _(e){const{theme:t,second:i,playMode:n}=e;return[o.PR,3===n?{maxWidth:"400px"}:{},(0,o.zy)({theme:t,typography:"P1",fontFamily:"TikTokFont",fontWeight:"semiBold"}),{display:"block",minWidth:"unset",width:"100%",height:0===n?"36px":"56px",marginBottom:i?"0":"8px",background:i?t.colors.ConstBGContainer:t.colors.Primary},i?{"&:hover":{background:t.colors.ConstBGContainer2},"&:active":{background:t.colors.ConstBGContainer3}}:null,0===n?{fontSize:"14px",lineHeight:"17px"}:null]}const m=(0,n.default)(a.y,{target:"e4uoj5v7"})(e=>_(e),"label:StyledButtonFirst;"),h=(0,n.default)(a.y,{target:"e4uoj5v8"})(e=>_(e),"label:StyledButtonSecond;"),v=(0,n.default)("div",{target:"e4uoj5v9"})({background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(25px)",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,right:0,bottom:0,userSelect:"none"},"label:DivMaskContainer;"),f=(0,n.default)("div",{target:"e4uoj5v10"})(({horizontal:e})=>({width:e?"240px":"160px",display:"flex",flexDirection:"column",alignItems:"center"}),"label:DivMaskInfo;"),y=(0,n.default)("div",{target:"e4uoj5v11"})({width:"48px",height:"48px",marginBottom:"8px",borderRadius:"48px",background:"rgba(255, 255, 255, 0.12)",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivMaskIcon;"),b=(0,n.default)("p",{target:"e4uoj5v12"})(({theme:e})=>({fontSize:"16px",lineHeight:"24px",fontWeight:"600",marginBottom:"2px",color:e.colors.ConstTextInverse2,textAlign:"center"}),"label:PMaskTitle;"),x=(0,n.default)("p",{target:"e4uoj5v13"})(({theme:e})=>({fontSize:"14px",lineHeight:"22px",color:e.colors.ConstTextInverse3,textAlign:"center"}),"label:PMaskDesc;")},28690:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var n=i(24643),o=i(40099),a=i(71628),r=i(67476),s=i(27799),l=i(47696),d=i(64115),c=i(69081),u=i(43775),p=i(16410),g=i(93584);const _=(0,p.default)("div",{target:"e1g586uz0"})({position:"relative",marginBottom:"12px",display:"flex"},"label:DivSurveyContainer;"),m=(0,p.default)("div",{target:"e1g586uz1"})(({isExpand:e,theme:{colors:t,direction:i}})=>{const n=(0,g.t7)(i,"end");return Object.assign(Object.assign({borderRadius:"12px",background:t.BGTertiary,boxShadow:`0px 2px 12px 0px ${t.ShadowSecondary}`,padding:"28px 24px",width:"440px",maxHeight:"260px"},(0,g.mp)({direction:i,end:"-1px"})),{userSelect:"none",position:"absolute",bottom:"-1px",transition:"all 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${n} bottom`,transform:e?"none":"scale(0)",overflow:"auto"})},"label:DivContent;"),h=(0,p.default)("div",{target:"e1g586uz2"})(({theme:{direction:e,colors:t}})=>[{position:"absolute",top:10,cursor:"pointer",width:20,height:20,color:t.UITextPlaceholder},"ltr"===e?{right:10}:{left:10}],"label:DivButtonClose;"),v=(0,p.default)("div",{target:"e1g586uz3"})({fontSize:"20px",fontWeight:700,lineHeight:"25px",textAlign:"center",wordBreak:"break-word",marginBottom:"12px"},"label:DivTitle;"),f=(0,p.default)("div",{target:"e1g586uz5"})({display:"flex",flexDirection:"column",gap:8,width:"100%",marginTop:"12px"},"label:DivOptionContainer;"),y=(0,p.default)("div",{target:"e1g586uz6"})({display:"flex",justifyContent:"flex-end",gap:8},"label:DivButtonContainer;"),b=(0,l.A)((0,o.memo)(function(){const e=(0,s.s)(),t=(0,r.Ab)({zIndex:10010}),{shouldShowLiveSurvey:i,handleHideLiveSurvey:l}=(0,d.l)(),p=(()=>{const e=(0,s.s)();return[{question:e("ttlive_webLIVE_LIVEpreview_survey_q1"),options:[{label:e("ttlive_webLIVE_LIVEpreview_survey_a1_1"),value:1,teaParams:{click_button:"like"}},{label:e("ttlive_webLIVE_LIVEpreview_survey_a1_2"),value:2,teaParams:{click_button:"neither"}},{label:e("ttlive_webLIVE_LIVEpreview_survey_a1_3"),value:3,teaParams:{click_button:"dont_like"}}]},{question:e("ttlive_webLIVE_LIVEpreview_survey_q2"),options:[{label:e("ttlive_webLIVE_LIVEpreview_survey_a2_1"),value:1,teaParams:{click_button:"yes"}},{label:e("ttlive_webLIVE_LIVEpreview_survey_a2_2"),value:2,teaParams:{click_button:"no"}},{label:e("ttlive_webLIVE_LIVEpreview_survey_a2_3"),value:3,teaParams:{click_button:"not_sure"}}]}]})(),[g,b]=(0,o.useState)([null,null]),[x,k]=(0,o.useState)(!1),[w,S]=(0,o.useState)(0),C=(0,o.useMemo)(()=>p[w],[w,p]),j=(0,o.useMemo)(()=>g.some(e=>null===e),[g]),{handleSurveyShowReport:T,handleSurveyClickReport:I}=(({surveyItems:e})=>{const{skippedLiveAnchorId:t,skippedLiveRoomId:i}=(0,u.TF)(e=>({skippedLiveAnchorId:e.skippedLiveAnchorId,skippedLiveRoomId:e.skippedLiveRoomId})),n=(0,o.useCallback)(n=>{var o,a;const r=n>0?1:0;return{enter_from_merge:"homepage_hot",is_second_question:r,is_back_show:r,is_submit_show:r,option_cnt:(null===(a=null===(o=e[n])||void 0===o?void 0:o.options)||void 0===a?void 0:a.length)||0,anchor_id:null==t?void 0:t.join(","),room_id:null==i?void 0:i.join(",")}},[e,t,i]);return{handleSurveyShowReport:(0,o.useCallback)(({currentStep:e})=>{c.N.handleLiveSurveyShow(Object.assign({},n(e)))},[n]),handleSurveyClickReport:(0,o.useCallback)(({clickButton:e,currentStep:t})=>{c.N.handleLiveSurveyClick(Object.assign(Object.assign({},n(t)),{click_button:e}))},[n])}})({surveyItems:p});(0,o.useEffect)(()=>{i&&(w>0&&!x&&k(!0),T({currentStep:w}))},[w,i]);const P=(0,o.useCallback)(e=>{const{value:t,teaParams:i}=e,n=g.map((e,i)=>i===w?t:e);b(n),I({clickButton:i.click_button,currentStep:w}),w<p.length-1&&S(w+1)},[b,w]),A=(0,o.useCallback)(()=>{S(w+1)},[]),M=(0,o.useCallback)(()=>{l()},[]),L=(0,o.useCallback)(()=>{I({clickButton:"back",currentStep:w}),S(w-1)},[w]),D=(0,o.useCallback)(()=>{t.open({message:e("ttlive_webLIVE_LIVEpreview_surveySubmitted_toast")}),l(),I({clickButton:"submit",currentStep:w})},[l,w]);return(0,n.jsx)(_,{children:(0,n.jsxs)(m,{isExpand:i&&Boolean(C),children:[(0,n.jsx)(h,{onClick:M,children:(0,n.jsx)(a.g,{size:20})}),(0,n.jsx)(v,{children:(0,n.jsx)(r.mK,{block:!0,type:"P3-Bold",color:"TextPrimary",marginBlockStart:0,marginBlockEnd:0,children:C.question})}),(0,n.jsx)(f,{children:C.options.map(e=>(0,n.jsx)(r.v3,{name:"LiveFeedbackOptions",label:e.label,value:e.value,checked:g[w]===e.value,onChange:()=>P(e)},e.value))}),0===w&&x&&(0,n.jsx)(y,{children:(0,n.jsx)(r.I0,{onClick:A,label:e("Next"),variant:"primary",size:"small"})}),w>0&&(0,n.jsxs)(y,{children:[(0,n.jsx)(r.L5,{onClick:L,label:e("Back"),variant:"secondary",size:"P4",alignSelf:"center",marginBlock:"2px",marginInline:"11px"}),(0,n.jsx)(r.I0,{disabled:j,onClick:D,label:e("Submit"),variant:"primary",size:"small"})]})]})})}))},28986:(e,t,i)=>{"use strict";i.d(t,{SY:()=>q});var n=i(72516),o=i(24643),a=i(67518),r=i(73580),s=i(95074),l=i(45027),d=i(40099),c=i(73256),u=i(24816),p=i(65476),g=i(42186),_=i(24443),m=i(37783),h=i(48156),v=i(28333),f=i(27799),y=i(70589),b=i(23037),x=i(29547),k=i(90976),w=i(52165),S=i(69831),C=i(76926);const j={id:"pinterest-c7e37d72",use:"pinterest-c7e37d72-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="pinterest-c7e37d72"><g clip-path="url(#pinterest-c7e37d72_a)"><circle cx="12" cy="12" r="12" fill="white" /><path fill="#E60019" d="M12.01 0C5.377 0 0 5.368 0 11.99c0 5.082 3.163 9.425 7.631 11.171-.109-.947-.198-2.408.04-3.444.217-.937 1.403-5.96 1.403-5.96s-.356-.72-.356-1.777c0-1.668.969-2.91 2.175-2.91 1.028 0 1.522.769 1.522 1.687 0 1.026-.652 2.565-.998 3.996-.287 1.194.603 2.171 1.779 2.171 2.135 0 3.776-2.25 3.776-5.486 0-2.872-2.066-4.876-5.022-4.876-3.42 0-5.426 2.556-5.426 5.201 0 1.027.395 2.132.89 2.734a.36.36 0 0 1 .079.345c-.09.375-.297 1.194-.337 1.362-.049.217-.177.266-.405.158-1.502-.7-2.441-2.882-2.441-4.648 0-3.78 2.748-7.253 7.937-7.253 4.162 0 7.404 2.96 7.404 6.927 0 4.135-2.61 7.46-6.228 7.46-1.215 0-2.362-.63-2.748-1.38l-.75 2.851c-.268 1.046-1 2.349-1.493 3.148A12 12 0 0 0 11.99 24C18.623 24 24 18.632 24 12.01 24.02 5.368 18.642 0 12.01 0" /></g><defs><clipPath id="pinterest-c7e37d72_a"><path fill="white" d="M0 0h24v24H0z" /></clipPath></defs></symbol>'};function T(e){const t=(0,d.useContext)(C.X);return(0,d.useLayoutEffect)(()=>(t.add(j),()=>{t.remove("pinterest-c7e37d72")}),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#pinterest-c7e37d72"},void 0)}),void 0)}const I={id:"share_embed-2f7bd888",use:"share_embed-2f7bd888-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="share_embed-2f7bd888"><path fill="#383838" fill-opacity=".95" fill-rule="evenodd" d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12" clip-rule="evenodd" /><path fill="white" fill-rule="evenodd" d="M12.313 7.966a.562.562 0 1 1 1.108.194l-1.37 7.835a.562.562 0 1 1-1.109-.194zm3.927.808a.7.7 0 0 0-1.014 0 .76.76 0 0 0 0 1.05l2.228 2.307-2.228 2.305a.76.76 0 0 0 0 1.05.7.7 0 0 0 1.015 0l3.214-3.326a.04.04 0 0 0 0-.058l-.231-.24-.005-.004-.003-.004zm-7.351 0c.29.29.29.76 0 1.05L6.583 12.13l2.307 2.307a.742.742 0 1 1-1.05 1.05L5.423 13.07l-.002-.002-.91-.91a.04.04 0 0 1 0-.057L7.84 8.775c.29-.29.76-.29 1.05 0" clip-rule="evenodd" /></symbol>'};function P(e){const t=(0,d.useContext)(C.X);return(0,d.useLayoutEffect)(()=>(t.add(I),()=>{t.remove("share_embed-2f7bd888")}),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#share_embed-2f7bd888"},void 0)}),void 0)}var A=i(25628),M=i(72547);const L=function({width:e="1em",height:t="1em",style:i={}}){return(0,o.jsxs)("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i,children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z",fill:"gray"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.313 7.96568C12.3665 7.65966 12.658 7.45498 12.964 7.50851C13.27 7.56203 13.4747 7.8535 13.4211 8.15951L12.0506 15.9952C11.997 16.3012 11.7056 16.5059 11.3996 16.4523C11.0936 16.3988 10.8889 16.1073 10.9424 15.8013L12.313 7.96568ZM16.2402 8.77448C15.96 8.48453 15.5058 8.48453 15.2256 8.77448C14.9454 9.06443 14.9454 9.53454 15.2256 9.82449L17.454 12.1307L15.2262 14.4364C14.946 14.7263 14.946 15.1964 15.2262 15.4864C15.5063 15.7763 15.9606 15.7763 16.2407 15.4864L19.4551 12.1598C19.4704 12.1439 19.4704 12.1182 19.4551 12.1023L19.2233 11.8623L19.2201 11.8586L19.2158 11.854L16.2402 8.77448ZM8.88972 15.4867C8.59977 15.7766 8.12966 15.7766 7.83971 15.4867L5.4207 13.0677L4.76017 12.4071L4.51191 12.1589C4.49603 12.143 4.49603 12.1173 4.51191 12.1014L7.83853 8.77477C8.12848 8.48482 8.59859 8.48482 8.88854 8.77477C9.17849 9.06472 9.17849 9.53482 8.88854 9.82478L6.58318 12.1301L8.88972 14.4367C9.17967 14.7266 9.17967 15.1967 8.88972 15.4867Z",fill:"white"})]})};var D=i(84833),O=i(96637),R=i(63929),E=i(16410),F=i(93584);const B={0:({theme:{direction:e,colors:t}})=>[{display:"block",fontSize:0,":focus-visible":{outline:`2px solid ${t.Negative}`}},(0,F.mp)({direction:e,marginEnd:"8px"})],2:()=>[{display:"block",fontSize:0,margin:"4px auto"}],1:({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"11px 16px",margin:"0px 3px 0px 4px",position:"relative",":hover":{background:e.BGView,textDecoration:"none"}})},z=(0,E.default)("a",{target:"e15mchsh0"})(({mode:e,theme:t})=>B[e]({theme:t}),"label:AShareLink;"),U=(0,E.default)("a",{target:"e15mchsh1"})(({theme:{colors:e}})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"0px 16px",position:"relative",margin:"0px 4px 0px 4px",":hover":{background:e.BGView,textDecoration:"none"}}),"label:AShareArrow;"),N=(0,E.default)("span",{target:"e15mchsh2"})(({theme:{direction:e}})=>(0,F.mp)({direction:e,marginStart:"12px"}),"label:SpanShareText;"),W=(0,E.default)("div",{target:"e15mchsh3"})(({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"11px 16px",position:"relative",background:"rgba(22, 24, 35, 0.1)",textDecoration:"none",color:e.LineInput}),"label:DivDisabledArea;");var V=i(74367);const H={0:24,2:24,1:26},q=(0,d.memo)(function(e){var t,i,{videoId:C="",uniqueId:j="",musicId:I="",tagTitle:E="",musicTitle:F="",onClickShare:B,mode:q,embedCode:$,embedType:G,isEmbedDisabled:K=!1,isEmbedBanned:Y=!1,onEmbedModalVisibleChange:Z,enabled:J=!0,url:X=""}=e,Q=e.teaParams,ee=void 0===Q?{}:Q,{group_id:te,author_id:ie}=ee,ne=(0,n.__rest)(ee,["group_id","author_id"]),{from:oe=0,onOtherModalOpen:ae,onSendMessagePanelOpen:re,onPlatformCountChange:se}=e;const le=(0,f.s)(),[de,ce]=(0,d.useState)(!1),{shouldOptimizeCta:ue}=(0,y.kb)(),{isBrowserModeShowing:pe}=(0,d.useContext)(w.g),ge=(0,g.Z9)(e=>e.isOpen),_e=pe&&!ge&&!ue,{expanded:me}=(0,O.kw)(),he=(0,r.Nj)(u.A),ve=(0,d.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),ce(!0),he.handleSharePanelClick(Object.assign({group_id:te,author_id:ie},ne))},[te,he,ie,ne]),{user:fe}=null!==(t=(0,k.W)(()=>["abTestVersion","user"],[]))&&void 0!==t?t:{},{vl1:ye,forFriend:be,subVideoMeta:xe}=(0,s.P)(S.k,{selector:e=>{var t;return null!==(t=e[C])&&void 0!==t?t:{}},dependencies:[C]}),ke=(!fe||(null==fe?void 0:fe.hasIMPermission))&&!(ye&&!be)&&!(1===oe||2===oe),we=Boolean(fe),Se=(0,_.b1)(),Ce=(0,l.w)(S.k),je=(0,y.ZO)(),Te=H[q],{repostActionVid:Ie}=(0,y.hn)(),{handleClickRepost:Pe,canRepost:Ae,isReposted:Me}=(0,V.l)({itemId:C,playMode:null!==(i=ne.play_mode)&&void 0!==i?i:"one_column",playlistId:null==ne?void 0:ne.playlist_id}),Le=Ae&&"v1"===Ie,De=Ae&&"v4"===Ie,Oe=(0,d.useCallback)(e=>{const t=e.indexOf(A.Ag.copy);e.length>5&&"short"===me&&t>4&&(e.splice(t,1),e.splice(4,0,A.Ag.copy))},[me]),{platforms:Re}=(0,s.P)(R.M,{selector:e=>{var t,i,n;let{platforms:o}=e;ke||(o=null!==(t=null==o?void 0:o.filter(e=>e!==A.Ag.message))&&void 0!==t?t:[]),je&&(o=null!==(i=null==o?void 0:o.filter(e=>e!==A.Ag.facebook&&e!==M.Z8.messenger))&&void 0!==i?i:[]),De||(o=null!==(n=null==o?void 0:o.filter(e=>e!==A.Ag.repost))&&void 0!==n?n:[]);const a=(null!=o?o:[]).filter(e=>e!==A.Ag.sms&&e!==A.Ag.embed&&e!==A.Ag.repost);$&&!Y&&!xe&&a.unshift("embed"),De&&a.unshift("repost");const r=a.filter(e=>e!==A.Ag.copy);switch(q){case 0:return{platforms:r};case 1:return o=[...a].reverse(),Oe(a),o=a,_e&&(o=r),{platforms:o};default:return{platforms:a}}},dependencies:[q,$,_e,Oe,G,ke,je,De]}),Ee=(0,d.useMemo)(()=>Re.length>5&&!de&&1===q&&("expand"!==me||ge),[Re,de,q,me,ge]),[Fe,Be]=(0,d.useState)(!1);(0,d.useEffect)(()=>{null==Z||Z(Fe)},[Fe,Z]);const ze=(0,d.useCallback)(e=>e.replace(/(.*?){(.*?)}(.*?)/g,(e,t,i,n)=>t+le(i)+n),[le]),Ue=(0,a.u)(),Ne=(0,d.useCallback)((e,t)=>i=>{const n=C?(0,m.ud)().getStaticItem(C):void 0,o=null==n?void 0:n.isReviewing,a=(null==fe?void 0:fe.uniqueId)===(null==n?void 0:n.author),r=null==n?void 0:n.secret;if(o)return i.preventDefault(),i.stopPropagation(),h.F.destroy(),void h.F.open({content:le("toast_share_review"),duration:3,widthType:"half",getContainer:b.M,getContainerPosition:"fixed"});if("copy"===e&&(!a||!r||o))return i.preventDefault(),void i.stopPropagation();if(t&&(i.preventDefault(),i.stopPropagation(),t()),J||(i.preventDefault(),h.F.destroy(),h.F.open({content:le("web_sharing_disable_toast"),duration:3,widthType:"half",getContainer:b.M,getContainerPosition:"fixed"})),null==B||B(e,{group_id:te,play_mode:ne.play_mode}),he.handleShare(Object.assign({platform:e,group_id:te,author_id:ie,share_option_type:me,share_click_from:de||3===oe?"long":"short"},ne)),ne.is_ad_event&&ne.value&&ne.tag&&ne.log_extra){const{log_extra:e,tag:t,value:i}=ne;p.pg.handleShare({log_extra:e,tag:t,value:i,is_ad_event:"1"})}if(Ce.addMlModelTrainData({id:te,action:"share"}),"copy"===e&&J)h.F.open({content:le("Copied"),duration:1.2,widthType:"half",getContainer:b.M,getContainerPosition:"fixed"});else if("embed"===e)Be(!0),null==ae||ae(!0);else if("message"===e){if(!we)return void Se.openModal({query:{enter_method:"share_button",group_id:te}});null==re||re()}else"repost"===e&&(we||Se.openModal({query:{enter_method:"click_repost",group_id:te}}),Pe())},[J,B,he,te,ie,me,de,ne,le,we,re,Se,oe]),We=(0,d.useCallback)(()=>{Be(!1),null==ae||ae(!1)},[ae]),Ve=(0,d.useCallback)(()=>{he.handleClickShare(Object.assign({platform:"embed",group_id:te,author_id:ie,share_option_type:me,share_click_from:de?"long":"short"},ne)),h.F.open({content:le("embed_success"),duration:1.2,widthType:"half",getContainer:b.M,getContainerPosition:"fixed"}),Be(!1),null==ae||ae(!1)},[ie,me,te,he,ne,de,le,ae]),He=(0,d.useMemo)(()=>{const e=Le?2:5;return 0===q?[0,e]:_e?[e,void 0]:ge&&de?[0,void 0]:ge?[0,5]:de||2===q||"expand"===me?[0,void 0]:[0,5]},[_e,de,q,me,ge]);(0,d.useEffect)(()=>{var e;const t=null==Re?void 0:Re.slice(...He),i=null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0;null==se||se(i)},[se,Re,He]);const qe=(0,b.M)(),$e=(0,d.useCallback)(e=>{if(13===e.keyCode||32===e.keyCode){e.preventDefault(),e.stopPropagation(),ce(!0);const t=null==Re?void 0:Re.slice(...He).pop();document.querySelector(`#icon-element-${t}`).focus(),he.handleSharePanelClick(Object.assign({group_id:te,author_id:ie},ne))}},[te,he,ie,ne,He,Re]),Ge=(0,d.useCallback)((e,t)=>i=>{if(13===i.keyCode){i.preventDefault(),i.stopPropagation();const n=C?(0,m.ud)().getStaticItem(C):void 0,o=null==n?void 0:n.isReviewing,a=(null==fe?void 0:fe.uniqueId)===(null==n?void 0:n.author),r=null==n?void 0:n.secret;if(o)return h.F.destroy(),void h.F.open({content:le("toast_share_review"),duration:3,widthType:"half",getContainer:b.M,getContainerPosition:"fixed"});if("copy"===e&&(!a||!r||o))return;Ne(e,t)(i),document.querySelector(`#icon-element-${e}`).click()}},[Ne,C,fe,le]);return(0,o.jsxs)(o.Fragment,{children:[null==Re?void 0:Re.slice(...He).map(e=>{const t="ltr"===Ue.direction?"left":"right",i=2===q?t:"top",n=M.jE[e],a=Ue.isDark&&"embed"===e,r=Ue.isDark&&"pinterest"===e,s=(0,M.io)({platform:e,url:X}),l={isReposted:Me};let d=M.mT[e];"repost"===e&&(d=Me?"{pcWeb_removeRepost_btn}":"{pcWeb_repost_btn}");const c="string"==typeof s?{href:s,target:"_blank",rel:"noopener noreferrer",onClick:Ne(e),onKeyDown:Ge(e,void 0,s)}:{href:"#",onClick:Ne(e,s),onKeyDown:Ge(e,s)};let u=(0,o.jsx)(n,Object.assign({width:Te,height:Te,size:Te},l));a?u=(0,o.jsx)(P,{width:Te,height:Te}):r&&(u=(0,o.jsx)(T,{width:Te,height:Te}));const p=(0,o.jsxs)(z,Object.assign({id:`icon-element-${e}`,mode:q},c,{"data-e2e":`video-share-${e}`,"aria-label":ze(d),children:[u,1===q&&(0,o.jsx)(N,{children:ze(d)})]}),e);return K&&"embed"===e?(0,o.jsx)(v.m,{fullscreenAdjust:!0,overlay:le("embed_profile_tooltip"),placement:"bottom",children:(0,o.jsxs)(W,{children:[(0,o.jsx)(L,{width:Te,height:Te}),(0,o.jsx)(N,{children:ze(d)})]})},e):0===q||2===q?(0,o.jsx)(v.m,{fullscreenAdjust:!0,overlay:ze(d),placement:i,children:p},e):p}),Ee&&(0,o.jsx)(U,{"data-e2e":"share-arrow","aria-label":le("accessibilityLabels_forYou_share_moreOptions_btn"),href:"#",onClick:ve,onKeyDown:$e,children:(0,o.jsx)(c.A,{width:24,height:24})}),(0,o.jsx)(x.aF,{parentRef:qe,visible:Fe,onClose:We,maskCloseable:!1,children:(0,o.jsx)(D.f,{onCopy:Ve,onClose:We,code:$,type:G,videoId:C,uniqueId:j,musicId:I,tagTitle:E,musicTitle:F})})]})})},29036:(e,t,i)=>{"use strict";i.d(t,{D:()=>r});var n=i(72516),o=i(7672),a=i(44094);let r=class{constructor(e){this.fetch=e,this.postPrivateBannerAck=()=>this.fetch.post("/api/private_banner/ack/")}getVideoPrivateSetting(){return this.fetch.get("/api/compliance/settings/",{baseUrlType:2})}};r=(0,n.__decorate)([(0,o._)(),(0,n.__metadata)("design:paramtypes",[a.p])],r)},29158:(e,t,i)=>{"use strict";i.d(t,{f:()=>O});var n=i(24643),o=i(27799),a=i(99411),r=i(16410),s=i(93584),l=(i(92722),i(57615));const d=(0,r.default)("div",{target:"e1x4oo6q0"})(({theme:e})=>[(0,s.zy)({theme:e,fontFamily:"TikTokFont"}),{marginTop:"32px",fontSize:"15px",lineHeight:"24px",textAlign:"center",color:e.colors.TextPrimary}],"label:ModelContainer;"),c=(0,r.default)("div",{target:"e1x4oo6q1"})(()=>({display:"flex",alignItems:"start",justifyContent:"start",marginTop:"24px"}),"label:Line;"),u=(0,r.default)("div",{target:"e1x4oo6q2"})(({theme:{direction:e}})=>(0,s.mp)({width:"24px",height:"24px",flexShrink:0,marginEnd:"12px",direction:e}),"label:LineIcon;"),p=(0,r.default)("div",{target:"e1x4oo6q3"})(({theme:{direction:e}})=>(0,s.mp)({textAlign:"start",height:"24px",flexShrink:0,marginEnd:"12px",direction:e}),"label:LineText;"),g=(0,r.default)("div",{target:"e1x4oo6q4"})({display:"flex",marginTop:"32px",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"8px"},"label:DivButtonContainer;"),_=(0,r.default)("div",{target:"e1x4oo6q5"})(({theme:{colors:e}})=>({backgroundColor:e.BGSecondary,width:"400px",borderRadius:"12px"}),"label:PCDivContainer;"),m=(0,r.default)("div",{target:"e1x4oo6q6"})(()=>({padding:"0px 32px 32px"}),"label:PCModalWrapper;"),h=(0,r.default)("div",{target:"e1x4oo6q7"})({width:"100%",padding:"14px 16px 0 0"},"label:PCModalIconStyle;"),v=(0,r.default)(h,{target:"e1x4oo6q8"})(({theme:{direction:e}})=>(0,s.mp)({direction:e,textAlign:"end"}),"label:PCModalIcon;"),f=(0,r.default)("h2",{target:"e1x4oo6q9"})(({theme:e})=>[(0,s.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold"}),{fontSize:"24px",lineHeight:"36px",textAlign:"center"}],"label:PCH2Title;"),y=(0,r.default)(l.I05,{target:"e1x4oo6q10"})(()=>({flex:1,div:{fontWeight:600}}),"label:PCStyledButton;");var b=i(79436),x=i(60958),k=i(74979),w=i(30040),S=i(71155),C=i(77529);const j=0,T=3,I=0,P=1,A=3,M=(e,t)=>{var i;return null!==(i={[j]:t("acct_level_confirm_panel_anyone_download_videos"),[T]:t("acct_level_confirm_panel_onlyyou_download_videos")}[e])&&void 0!==i?i:t("acct_level_confirm_panel_review_who_videos")},L=(e,t,i,n)=>{var o;return null!==(o={[I]:0===t&&0===i?n("acct_level_confirm_panel_duet_number_not_returned_anyone"):n("acct_level_confirm_panel_duet_anyone_2",{num:t}).replace("%1$d",String(t)).replace("%2$s",n("acct_level_confirm_panel_duet_anyone_1",{num:i}).replace("%d",String(i))),[P]:0===t&&0===i?n("acct_level_confirm_panel_duet_number_not_returned_friends"):n("acct_level_confirm_panel_duet_friends_2",{num:t}).replace("%1$d",String(t)).replace("%2$s",n("acct_level_confirm_panel_duet_friends_1",{num:i}).replace("%d",String(i))),[A]:n("acct_level_confirm_panel_duet_only_you")}[e])&&void 0!==o?o:0===t&&0===i?n("acct_level_confirm_panel_duet_num_acct_dime_not_returned"):n("acct_level_confirm_panel_review_who_can_duet_2",{num:t}).replace("%1$d",String(t)).replace("%2$s",n("acct_level_confirm_panel_review_who_can_duet_1",{num:i}).replace("%d",String(i)))},D=(e,t,i,n)=>{var o;return null!==(o={[I]:0===t&&0===i?n("acct_level_confirm_panel_stitch_number_not_returned_anyone"):n("acct_level_confirm_panel_stitch_anyone_2",{num:t}).replace("%1$d",String(t)).replace("%2$s",n("acct_level_confirm_panel_stitch_anyone_1",{num:i}).replace("%d",String(i))),[P]:0===t&&0===i?n("acct_level_confirm_panel_stitch_number_not_returned_friends"):n("acct_level_confirm_panel_stitch_friends_2",{num:t}).replace("%1$d",String(t)).replace("%2$s",n("acct_level_confirm_panel_stitch_friends_1",{num:i}).replace("%d",String(i))),[A]:n("acct_level_confirm_panel_stitch_only_you")}[e])&&void 0!==o?o:0===t&&0===i?n("acct_level_confirm_panel_stitch_num_acct_dime_not_returned"):n("acct_level_confirm_panel_review_who_can_stitch_2",{num:t}).replace("%1$d",String(t)).replace("%2$s",n("acct_level_confirm_panel_review_who_can_stitch_1",{num:i}).replace("%d",String(i)))},O=e=>{var t,i,r,s,l,h,j,T,I,P,A,O,R,E;const{visible:F,title:B,effectedCount:z,maskClosable:U=!0,hasCancel:N=!0,confirmText:W,onCancel:V,onConfirm:H}=e,q=(0,o.s)(),$=(0,n.jsx)(y,{variant:"primary",size:"large",onClick:H,label:null!=W?W:q("auto_revert_switch_public_button_switch")}),G=N&&(0,n.jsx)(y,{variant:"secondary",size:"large",onClick:V,label:q("Cancel")}),K=[{icon:(0,n.jsx)(b.k,{size:24}),text:q("auto_revert_switch_public_body1")},{icon:(0,n.jsx)(x.O,{size:24}),text:q("UKsuggestedAccounts_settings_privateAcctToggle_halfsheet_icon2")},{icon:(0,n.jsx)(k.j,{size:24}),text:L(null!==(i=null===(t=null==z?void 0:z.duet)||void 0===t?void 0:t.control)&&void 0!==i?i:0,null!==(s=null===(r=null==z?void 0:z.duet)||void 0===r?void 0:r.onCount)&&void 0!==s?s:0,null!==(h=null===(l=null==z?void 0:z.duet)||void 0===l?void 0:l.offCount)&&void 0!==h?h:0,q)},{icon:(0,n.jsx)(w.Q,{size:24}),text:D(null!==(T=null===(j=null==z?void 0:z.stitch)||void 0===j?void 0:j.control)&&void 0!==T?T:0,null!==(P=null===(I=null==z?void 0:z.stitch)||void 0===I?void 0:I.onCount)&&void 0!==P?P:0,null!==(O=null===(A=null==z?void 0:z.stitch)||void 0===A?void 0:A.offCount)&&void 0!==O?O:0,q)},{icon:(0,n.jsx)(S.P,{size:24}),text:M(null!==(E=null===(R=null==z?void 0:z.download)||void 0===R?void 0:R.control)&&void 0!==E?E:0,q)}];return(0,n.jsx)(a.i,{isOpen:F,closeOnBackdropClick:U,onClose:V,compact:!0,children:(0,n.jsxs)(_,{children:[(0,n.jsx)(v,{onClick:V,children:(0,n.jsx)(C.h,{size:24})}),(0,n.jsxs)(m,{children:[(0,n.jsx)(f,{children:B}),(0,n.jsx)(d,{children:K.map((e,t)=>(0,n.jsxs)(c,{children:[(0,n.jsx)(u,{children:e.icon}),(0,n.jsx)(p,{children:e.text})]},t))}),(0,n.jsxs)(g,{children:[G,$]})]})]})})}},29188:(e,t,i)=>{"use strict";i.d(t,{uR:()=>H,OB:()=>W,D0:()=>G,o0:()=>N,f3:()=>V,Vq:()=>$});var n=i(24643),o=i(40099),a=i(67476),r=i(72355),s=i(37818),l=i(48156),d=i(97245),c=i(73107),u=i(96406),p=i(67823),g=i(73635),_=i(56507),m=i(70589),h=i(35938),v=i(27799),f=i(94670),y=i(73995),b=(i(6862),i(16410)),x=i(93584);const k=(0,b.default)("div",{target:"esswpn50"})({position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},"label:DivModalWrapper;"),w=(0,b.default)("div",{target:"esswpn51"})(({theme:{colors:e}})=>({fontSize:"24px",lineHeight:"36px",fontWeight:700,color:e.TextPrimary,padding:"24px",width:"100%",borderBottom:`0.5px solid ${e.LinePrimary2}`,display:"flex",justifyContent:"space-between",maxWidth:"700px"}),"label:DivModalHeader;"),S=(0,b.default)("div",{target:"esswpn52"})({maxWidth:"700px",padding:"24px 24px 16px 24px"},"label:DivModalBody;"),C=(0,b.default)("div",{target:"esswpn53"})(({theme:{colors:e}})=>({fontSize:"14px",fontWeight:400,lineHeight:"22px",color:e.TextSecondary,whiteSpace:"pre-wrap"}),"label:DivTextPara;"),j=(0,b.default)("div",{target:"esswpn54"})(({theme:{colors:e,isDark:t},checked:i})=>({display:"flex",width:"calc(100% - 48px)",paddingTop:"16px",paddingBottom:"24px",alignItems:"center",borderTop:`0.5px solid ${e.LinePrimary2}`,justifyContent:"space-between",fontSize:"14px",lineHeight:"24px",fontWeight:400,color:e.TextPrimary,"button div:hover":!i&&t?{background:"rgba(255, 255, 255, 0.2)"}:{}}),"label:DivSwitchSection;"),T=(0,b.default)("a",{target:"esswpn55"})(({theme:{colors:e,direction:t}})=>[{fontSize:"14px",fontWeight:400,lineHeight:"22px",color:e.Primary,textDecoration:"none",outline:"none",":visited":{color:e.Primary}},(0,x.mp)({direction:t,marginStart:"8px"})],"label:ALink;"),I=(0,b.default)("div",{target:"esswpn56"})(({theme:{colors:e}})=>({padding:"24px",width:"100%",borderTop:`0.5px solid ${e.LinePrimary2}`,display:"flex",justifyContent:"flex-end"}),"label:DivModalFooter;"),P=(0,b.default)("div",{target:"esswpn57"})({display:"flex",justifyContent:"flex-end",alignItems:"center",cursor:"pointer"},"label:DivCloseMarkWrapper;");var A=i(34778),M=i(90976),L=i(20434),D=i(86599),O=i(21115),R=i(42186),E=i(61198),F=i(89768);const B=s.OZ.searchReminder,z=(e,t)=>{const[i,n]=(0,D.HY)(e=>e.isShowingToast,E.bN);return(0,o.useCallback)(()=>{i||(n.setIsShowingToast(!0),setTimeout(()=>{n.setIsShowingToast(!1)},3e3),l.F.open({content:e,duration:3,style:t?{width:"400px"}:{}}))},[i,t,n,e])},U=e=>(0,v.s)()(e?"nonpersonalizedFeeds_LIVEfeed_label_mainString_personalizationOn":"nonpersonalizedFeeds_LIVEfeed_label_mainString"),N=e=>{const t=U(e);return z(t,!0)},W=e=>{var t;const{hasNonPersonalizedMenu:i}=(0,m.cE)(),{user:{uid:n=""}={}}=null!==(t=(0,M.W)(()=>["user"],[]))&&void 0!==t?t:{},o=(0,D.JW)(t=>e?t.isFeedPersonalized:t.isSearchPersonalized,E.bN);return!((0,O.Sw)(n)||i||!e)||o},V=(e,t,i)=>{const{hasNonPersonalizedMenu:n}=(0,m.cE)(),a=W(!0);let r=N(a);void 0!==e&&(r=e),(0,o.useEffect)(()=>{i||n&&(!t&&!a||(0,L.Hd)(_.oG,void 0))&&((0,L.X)(_.oG),r())},[i])},H=()=>(0,D.JW)(e=>e.isManageModalOpen,E.bN),q={expires:365},$=(e,t)=>{var i;const{user:n}=(0,F.x)(),a=null!==(i=null==n?void 0:n.uid)&&void 0!==i?i:"",r=t?_.Lq:e?_.MW:_.eh;return(0,o.useCallback)(t=>{if(!a)return void(e&&p.A.set(_.Fc,t?"0":"1",q));const i=p.A.get(r),n=new Set(i?JSON.parse(i):[]);t?n.delete(a):n.add(a),p.A.set(r,JSON.stringify(Array.from(n)),q)},[e,r,a])},G=(e={})=>{const{beforeModalCloseCallback:t,beforeStatusChangeCallback:i,afterModalCloseCallback:l,afterStatusChangeCallback:p,beforeModalOpenCallback:m,afterModalOpenCallback:b,onSwitchClickCallback:x,onLearnMoreClickCallback:M,isFeed:O,preSearchId:E,isLiveFeed:F,showToastRightAfterChange:N}=e,V=(0,v.s)(),{pathname:H}=(0,r.zy)(),q=!Boolean((0,r.B6)(H,{path:B}))&&Boolean((0,r.B6)(H,{path:s.OZ.searchHome})),G=W(O),K=(0,D.Qi)(),{showingBrowserMode:Y,itemListKey:Z}=(0,A.JD)(e=>({showingBrowserMode:e.showingBrowserMode,itemListKey:e.itemListKey})),J=(0,R.Z9)(e=>{var t;if("single"===(null===(t=e.itemListSourceConfig)||void 0===t?void 0:t.mode))return e.itemListSourceConfig.itemListKey}),[X,Q]=(0,o.useState)(G),ee=(0,o.useCallback)(()=>{null==t||t()},[t]),te=O&&!F,ie="explore"===Z||"explore"===J,ne=(0,o.useCallback)(e=>{var i,n,o;null==t||t(),"backdrop"!==e&&"closeButton"!==e||(Q(G),te?f.$.handleCloseManageFeedsPopUp():F||(n=null!==(i=u.f.commonParams.page_name)&&void 0!==i?i:"",o="backdrop"===e?"click_blank_space":"click_close",y.$G.handleManageSearchPopupClick({enter_from:n,button_type:o})),K.setIsManageModalOpen(!1)),null==l||l()},[t,l,G,te,F,K]),oe=(0,a.eb)({closeOnBackdropClick:!0,closeOnEsc:!1,onCloseComplete:ne,onClose:ee});(0,o.useEffect)(()=>{Q(G)},[G]);const ae=$(O),re=(0,o.useCallback)(()=>{var e;null==m||m(),K.setIsManageModalOpen(!0),Q(G),oe.open(),null==b||b(),F||((e,t,i,n)=>{if(n)return f.$.handleClickManageFeeds(),void f.$.handleManageFeedsPopUp();y.$G.handleManageSearchPopupShow({enter_from:e,switch_status:t?"on":"off",search_id:i})})(null!==(e=u.f.commonParams.page_name)&&void 0!==e?e:"",G,q?E:void 0,O)},[m,K,oe,b,F,G,q,E,O]),se=(0,o.useCallback)(()=>{f.$.handleCloseManageFeedsPopUp(),oe.close()},[oe]),le=(0,o.useCallback)(e=>{te&&f.$.handleSwitchPersonalizationToggle({value:e?"on":"off"}),null==x||x(e),Q(e)},[te,x]),de=((e,t)=>{const i=U(e),o=(0,n.jsxs)("div",{onClick:t,children:[i,t]});return z(o)})(X),ce=(0,o.useCallback)(()=>{var e;const t=G!==X;t&&(null==i||i(X),K[O?"setIsFeedPersonalized":"setIsSearchPersonalized"](X),ae(X),N?de():(0,L.J2)(_.oG,"1"),null==p||p(X),O&&(h.lL.removeAll(),setTimeout(()=>{Y&&!F?window.location.replace(ie?"/explore":"/"):window.location.reload()},100))),F||(O?f.$.handleConfirmPersonalizationStatusChange({flag:t?1:0,status:X?"on":"off"}):((e,t,i)=>{let n;n=t===i?i?4:3:i?2:1,y.$G.handleManageSearchPopupClick({enter_from:e,button_type:"click_done",switch_status:n})})(null!==(e=u.f.commonParams.page_name)&&void 0!==e?e:"",G,X)),se()},[G,X,F,ie,se,i,K,O,ae,p,Y]),ue=(0,o.useCallback)(()=>{null==M||M()},[M]),pe=(0,o.useMemo)(()=>{if(O&&G){const e=V("filterKeywordsWeb_fypEntry_modal_desc1",{s_keywordLink:"$$kw-link$$"}).split("$$kw-link$$");return[(0,n.jsx)("p",{children:[e[0],(0,n.jsx)(T,{href:"https://www.tiktok.com/setting/keyword-filtering",target:"_blank",children:V("filterKeywordsWeb_fypEntry_manageFeeds_popup")},"kw-link"),e[1]]},"desc1"),(0,n.jsx)("p",{children:V("filterKeywordsWeb_fypEntry_modal_desc2",{s_learnLink:""})},"desc2")]}return V(O?"nonpersonalizedFeeds_turnOn_modal_toggle_bodyFull":G?"personalisedSearch_searchResults_actionSheet_bodyPara1":"personalisedSearch_searchResults_actionSheet_bodyPara1V2")},[O,G,V]);return{PersonalizedModal:(0,o.useMemo)(()=>{const e=V(O?"nonpersonalizedFeeds_turnOn_modal_toggle_headline":"personalisedSearch_searchResults_actionSheet_header");return(0,n.jsx)(a.nO,Object.assign({width:"Compact",height:"Compact"},oe,{children:(0,n.jsxs)(k,{children:[(0,n.jsxs)(w,{children:[e,(0,n.jsx)(P,{onClick:se,children:(0,n.jsx)(g.A,{width:32,height:32})})]}),(0,n.jsx)(S,{children:(0,n.jsxs)(C,{children:[pe,(0,n.jsx)(T,{href:"https://support.tiktok.com/en/using-tiktok/exploring-videos/managing-personalization-on-tiktok",target:"_blank",onClick:ue,children:V(O?"nonpersonalizedFeeds_modal_allScenarios_body_learnMore_articleLink":"personalisedSearch_searchResults_actionSheet_bodyPara2Bold1")})]})}),(0,n.jsxs)(j,{checked:X,children:[V(O?"nonpersonalizedFeeds_settings_contentPreferences_entrypoint":"personalisedSearch_searchResults_actionSheet_toggle"),(0,n.jsx)(d.d,{checked:X,onChange:le})]}),(0,n.jsx)(I,{children:(0,n.jsx)(c.y,{buttonTheme:"primary",size:"medium",onClick:ce,children:V(O?"nonpersonalizedFeeds_turnOn_modal_toggle_CTA":"personalisedSearch_searchResults_actionSheet_btn")})})]})}))},[pe,ce,se,ue,le,O,oe,X,V]),handleOpenModal:re,handleCloseModal:se}}},29271:(e,t,i)=>{"use strict";i.d(t,{es:()=>v,QB:()=>h,R8:()=>f,bK:()=>w,TI:()=>b,pf:()=>x,o9:()=>y,rH:()=>k,Dp:()=>m});var n=i(16410),o=i(87852),a=i(42891),r=i(93584),s=i(24643),l=i(40099),d=i(76926);const c={id:"keyboard-661a21c6",use:"keyboard-661a21c6-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="keyboard-661a21c6"><g fill="white" clip-path="url(#keyboard-661a21c6_a)"><path d="M6.25 5.833a.417.417 0 0 0-.417.417v.833c0 .23.187.417.417.417h.833c.23 0 .417-.187.417-.417V6.25a.417.417 0 0 0-.417-.417zm-.417 7.083c0-.23.187-.416.417-.416h7.5c.23 0 .417.186.417.416v.834c0 .23-.187.416-.417.416h-7.5a.417.417 0 0 1-.417-.416zm.417-3.75a.417.417 0 0 0-.417.417v.833c0 .23.187.417.417.417h.833c.23 0 .417-.187.417-.417v-.833a.417.417 0 0 0-.417-.417zM9.167 6.25c0-.23.186-.417.416-.417h.834c.23 0 .416.187.416.417v.833c0 .23-.186.417-.416.417h-.834a.417.417 0 0 1-.416-.417zm.416 2.916a.417.417 0 0 0-.416.417v.833c0 .23.186.417.416.417h.834c.23 0 .416-.187.416-.417v-.833a.417.417 0 0 0-.416-.417zM12.5 6.25c0-.23.187-.417.417-.417h.833c.23 0 .417.187.417.417v.833c0 .23-.187.417-.417.417h-.833a.417.417 0 0 1-.417-.417zm.417 2.916a.417.417 0 0 0-.417.417v.833c0 .23.187.417.417.417h.833c.23 0 .417-.187.417-.417v-.833a.417.417 0 0 0-.417-.417z" /><path fill-rule="evenodd" d="M10 .833a9.167 9.167 0 1 0 0 18.333A9.167 9.167 0 0 0 10 .833M2.5 10a7.5 7.5 0 1 1 15 0 7.5 7.5 0 0 1-15 0" clip-rule="evenodd" /></g><defs><clipPath id="keyboard-661a21c6_a"><path fill="white" d="M0 0h20v20H0z" /></clipPath></defs></symbol>'};function u(e){const t=(0,l.useContext)(d.X);return(0,l.useLayoutEffect)(()=>(t.add(c),()=>{t.remove("keyboard-661a21c6")}),[]),(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,s.jsx)("use",{xlinkHref:"#keyboard-661a21c6"},void 0)}),void 0)}const p={id:"report-3bf84e11",use:"report-3bf84e11-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="report-3bf84e11"><path fill="white" fill-rule="evenodd" d="M3.75 3.88v7.396c.411-.135.91-.274 1.463-.377 1.5-.277 3.545-.31 5.271.923 1.19.85 2.687.883 4 .64a10 10 0 0 0 1.766-.51V4.558c-.411.136-.91.275-1.463.377-1.5.278-3.545.31-5.271-.923-1.19-.85-2.687-.883-4-.64a10 10 0 0 0-1.766.51M16.711 2.59a.833.833 0 0 1 1.206.745V12.5a.83.83 0 0 1-.461.745l-.373-.745c.373.745.372.746.372.746h-.002l-.004.003-.013.006-.023.011-.021.01-.156.072a11.4 11.4 0 0 1-2.449.753c-1.5.277-3.545.31-5.271-.923-1.19-.85-2.687-.883-4-.64a10 10 0 0 0-1.766.509v5.286c0 .23-.187.417-.417.417H2.5a.417.417 0 0 1-.417-.417v-15c0-.315.179-.604.461-.745l.373.745-.372-.745.002-.001.004-.003.013-.006a4 4 0 0 1 .2-.092 11.4 11.4 0 0 1 2.448-.753c1.501-.278 3.546-.311 5.272.922 1.19.85 2.687.883 4 .64a9.8 9.8 0 0 0 2.196-.692l.027-.013z" clip-rule="evenodd" /></symbol>'};function g(e){const t=(0,l.useContext)(d.X);return(0,l.useLayoutEffect)(()=>(t.add(p),()=>{t.remove("report-3bf84e11")}),[]),(0,s.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,s.jsx)("use",{xlinkHref:"#report-3bf84e11"},void 0)}),void 0)}var _=i(2030);const m=(0,n.default)("ul",{target:"e1l6is6e0"})({padding:"8px 0px",margin:0,minWidth:"200px",listStyle:"none",boxSizing:"border-box",borderRadius:"8px",userSelect:"none"},"label:UlPopupContainer;"),h=(0,n.default)("li",{target:"e1l6is6e1"})(({theme:{colors:e}})=>[{display:"flex",alignItems:"center",position:"relative",borderBottom:"",padding:"8px 16px",boxSizing:"border-box",":hover":{background:e.ConstBGContainer2},":after":{content:'""',display:"block",width:"calc(100% - 32px)",height:"0.5px",position:"absolute",bottom:0,left:"16px",background:e.ConstLineInverse2},":last-child":{":after":{display:"none"}}}],"label:LiItemWrapper;"),v=(0,n.default)("div",{target:"e1l6is6e2"})({width:"24px",height:"24px",display:"flex",justifyContent:"center",alignItems:"center"},"label:DivIconWrapper;"),f=(0,n.default)("span",{target:"e1l6is6e3"})(({theme:e})=>[(0,r.zy)({theme:e,typography:"P3",fontWeight:"semiBold",fontFamily:"TikTokFont",color:"ConstTextInverse"}),{display:"inline-block",height:"24px",lineHeight:"24px",marginInlineStart:"12px"}],"label:SpanItemText;"),y=(0,n.default)(g,{target:"e1l6is6e4"})({width:"20px",height:"20px"},"label:StyledReport;"),b=(0,n.default)(u,{target:"e1l6is6e5"})({width:"20px",height:"20px"},"label:StyledKeyboard;"),x=(0,n.default)(a.A,{target:"e1l6is6e6"})({"path:last-child":{stroke:"#fff"}},"label:StyledKeyboardSpace;"),k=(0,n.default)(_.A,{target:"e1l6is6e7"})(({theme:{direction:e}})=>[(0,r.mp)({direction:e,marginEnd:"4px"}),{width:20,height:20,color:"#fff"}],"label:StyledTranscriptIcon;"),w=(0,n.default)(o.A,{target:"e1l6is6e8"})({width:"20px",height:"20px",fill:"#fff"},"label:StyledHeartBroken;")},29450:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(24643),o=i(40099),a=i(76926);const r={id:"violation-icon-9b396ef7",use:"violation-icon-9b396ef7-usage",viewBox:"0 0 21 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 20" id="violation-icon-9b396ef7"><rect width="1.501" height="17.768" fill="#fff" rx=".5" transform="scale(1 -1)rotate(45.638 27.162 10.536)" /><path fill="#fff" fill-rule="evenodd" d="M10.57 14.556c1.11 0 2.163-.17 3.11-.472L12.5 12.93l-.058-.068a9 9 0 0 1-1.873.193c-1.802 0-3.368-.514-4.445-1.267-1.08-.757-1.557-1.658-1.557-2.484s.476-1.728 1.557-2.485l.075-.051L5.11 5.702c-1.266.94-2.043 2.207-2.043 3.602 0 2.9 3.36 5.252 7.503 5.252M7.475 4.518c.943-.3 1.99-.466 3.093-.466 4.144 0 7.503 2.351 7.503 5.252 0 1.39-.77 2.652-2.03 3.592l-1.09-1.066.062-.042c1.08-.757 1.557-1.658 1.557-2.484s-.476-1.728-1.557-2.485c-1.076-.753-2.643-1.267-4.445-1.267-.65 0-1.268.067-1.844.188l-1.25-1.222z" clip-rule="evenodd" /><path fill="#fff" fill-rule="evenodd" d="M11.357 11.81a2.626 2.626 0 0 1-3.31-3.236zM9.803 6.792a2.626 2.626 0 0 1 3.296 3.224z" clip-rule="evenodd" /></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("violation-icon-9b396ef7")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#violation-icon-9b396ef7"},void 0)}),void 0)}},29547:(e,t,i)=>{"use strict";i.d(t,{aF:()=>D});var n,o=i(24643),a=i(57432),r=i.n(a),s=i(40099),l=i(18499),d=i(67977),c=i(17784),u=i(27799),p=i(65964),g=i(72516),_=i(16410),m=i(73635),h=i(93584),v=i(88428);!function(e){e[e.None=0]="None",e[e.Outer=1]="Outer",e[e.Inner=2]="Inner",e[e.InnerLarge=3]="InnerLarge",e[e.InnerSmall=4]="InnerSmall",e[e.Mobile=5]="Mobile",e[e.Revamp=6]="Revamp",e[e.LargeSelector=7]="LargeSelector"}(n||(n={}));const f=(0,_.default)("div",{target:"e1gjoq3k0"})({position:"fixed",left:0,top:0,bottom:0,right:0,zIndex:3001,overflow:"auto",outline:"0px",transition:"all 500ms cubic-bezier(.075, .82, .165, 1)"},({status:e,isShow:t})=>({display:t||e===c.ze?"flex":"none",opacity:Number(e!==c.ze&&e!==c.kp)}),"label:DivModalContainer;"),y=(0,_.default)("div",{target:"e1gjoq3k1"})(({top:e,isBottomRightQRPopup:t,theme:{direction:i}})=>[Object.assign({position:"fixed",top:e?`${e}px`:"90px",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",zIndex:401,overflow:"auto",outline:"1px",transition:t?"none":"all 500ms cubic-bezier(.075, .82, .165, 1)",borderRadius:"8px"},(0,h.mp)({direction:i,end:"28px"})),(0,h.jJ)({max:v.f.Small,style:{display:"none !important"}}),({status:e,isShow:i,isQRPopup:n})=>({display:i||e===c.ze?"flex":"none",opacity:Number(e!==c.ze&&e!==c.kp),width:t?"164px":"360px",height:n?"387px":t?"175px":"309px"})],"label:DivPopupModalContainer;"),b=(0,_.default)("div",{target:"e1gjoq3k2"})(({theme:{colors:e}})=>({background:e.SDSecondary,position:"fixed",left:0,right:0,top:0,bottom:0}),"label:DivModalMask;"),x=(0,_.default)("div",{target:"e1gjoq3k3"})({position:"relative",borderRadius:"8px",margin:"auto",transition:"all 300ms cubic-bezier(.075, .82, .165, 1)"},e=>{var{status:t,theme:{colors:i}}=e,n=e.contentStyle,{transform:o}=n,a=(0,g.__rest)(n,["transform"]);return[{transform:t===c.kp||t===c.ze?o||"scale(0.1, 0.1)":"none",backgroundColor:i.BGPrimary},a]},"label:DivContentContainer;"),k=(0,_.default)("div",{target:"e1gjoq3k4"})({position:"relative",borderRadius:"8px",margin:"auto",transition:"all 300ms cubic-bezier(.075, .82, .165, 1)"},e=>{var{status:t,theme:{colors:i}}=e,n=e.contentStyle,{transform:o}=n,a=(0,g.__rest)(n,["transform"]),{isBottomRightQRPopup:r}=e;return[{transform:t===c.kp||t===c.ze?o||"scale(0.1, 0.1)":"none",backgroundColor:i.BGPrimary,width:r?"164px":"360px",height:"100% !important"},a]},"label:DivPopupContentContainer;"),w=(0,_.default)(m.A,{target:"e1gjoq3k5"})("label:StyledIcon;");function S(e){const{closeStyle:t,theme:{colors:i,direction:n}}=e,o=[(0,h.mp)({direction:n,end:6===t?"16px":"24px"})];switch(t){case 2:o.push({width:"24px",height:"24px",background:i.BGView,[`${w}`]:{width:"15px",height:"15px"}});break;case 3:o.push({width:"24px",height:"24px",[`${w}`]:{width:"24px",height:"24px",fill:i.TextPrimary}});break;case 4:o.push({width:"20px",height:"20px",[`${w}`]:{width:"20px",height:"20px",fill:i.TextPrimary}});break;case 5:o.push({width:"19px",height:"19px",[`${w}`]:{width:"19px",height:"19px",fill:i.TextPrimary}});break;case 1:o.push({width:"40px",height:"40px",background:i.BGPrimary,[`${w}`]:{width:"24px",height:"24px"}});break;case 6:o.push({width:"32px",height:"32px",background:i.BGView,[`${w}`]:{width:"24px",height:"24px",fill:i.TextSecondary}});break;case 7:o.push({width:"32px",height:"32px",[`${w}`]:{width:"32px",height:"32px",fill:i.TextSecondary}})}return o}const C=(0,_.default)("div",{target:"e1gjoq3k6"})(({closeStyle:e})=>[{position:"absolute",top:6===e?"16px":"24px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},S],"label:DivCloseWrapper;"),j=(0,_.default)("div",{target:"e1gjoq3k7"})({position:"absolute",top:"12px",right:"12px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},"label:DivCloseWrapperPopup;"),T=(0,_.default)("div",{target:"e1gjoq3k8"})({width:"100vw",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},"label:DivCenterWrapper;"),I=(0,_.default)("div",{target:"e1gjoq3k9"})({height:"100%",width:"360px",display:"flex",justifyContent:"center",alignItems:"center"},"label:DivPopupCenterWrapper;");var P=i(18650),A=i(10046),M=i(61198);const L="login-modal",D=function({children:e,onClose:t,visible:i,timeout:n,onWheel:a=r(),closeStyle:g=0,closeStyles:_={},containerStyle:m={},maskCloseable:h=!0,keyboardCloseable:v=!0,zIndex:S=3001,mask:D=!0,fixed:O=!0,contentStyle:R={},maskStyle:E={},e2eData:F="",backgroundColor:B,parentRef:z,cancelMouseLeaveBubble:U=!1,returnFocus:N=!0,focusTrapDisabled:W=!1,autoFocus:V=!1,onCloseFocusHandler:H,popupType:q,maskOnClickAction:$}){const G=(0,s.useRef)(),K=(0,s.useRef)(Boolean(i)),{showModal:Y,hideModal:Z}=(0,p.g9)(),[J,X]=(0,s.useState)(!1),Q=(0,u.s)(),{isRTL:ee}=(0,P.m)(),te=(0,s.useRef)(!0),[ie,ne]=(0,s.useState)(0),[oe,ae]=(0,s.useState)(0),{isCommentPanelActive:re}=(0,A.Cx)(e=>({isCommentPanelActive:e.isActive}),M.bN),se=(0,s.useCallback)(()=>{var e,t,i,n;const o=null===(e=document.getElementById("close-button-at-bottom-right"))||void 0===e?void 0:e.getBoundingClientRect();o&&(ne(ee?(null!==(t=o.right)&&void 0!==t?t:0)-36:(null!==(i=o.left)&&void 0!==i?i:0)-130),ae((null!==(n=o.top)&&void 0!==n?n:300)-190))},[ee]);(0,s.useEffect)(()=>{if(i&&D){const e="qr_bottom_right"===q;se(),Y(te.current,e),n&&(clearTimeout(G.current),G.current=window.setTimeout(()=>{null==t||t(2)},n))}else K.current&&(Z(),clearTimeout(G.current));K.current=Boolean(i),te.current=!1},[i,D]),(0,s.useEffect)(()=>(X(!0),()=>{K.current&&Z()}),[]),(0,s.useEffect)(()=>{const e=e=>{i&&v&&27===e.keyCode&&(null==t||t(1))};return i&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[v,t,i]);const le=(0,s.useCallback)(()=>{h&&(null==t||t(3)),null==$||$()},[h,$,t]),de=(0,s.useCallback)(()=>{null==t||t(0)},[t]),ce=(0,s.useRef)(null),ue=(0,s.useRef)(null),pe=(0,s.useCallback)(e=>{const t=e.target;(null==t?void 0:t.id)===L&&t.setAttribute("tabindex","-1")},[]),ge=(0,s.useCallback)(e=>{13===e.keyCode&&(null==t||t(0))},[t]),_e=(0,s.useCallback)(e=>{U&&e.stopPropagation()},[U]);return(0,s.useEffect)(()=>{se(),q&&window.addEventListener("resize",se)},[q,ee,se]),J?q?(0,o.jsx)(c.Ay,{timeout:300,in:i,nodeRef:ce,children:t=>(0,o.jsx)(y,{status:t,isShow:i&&!("qr_bottom_right"===q&&re),onWheel:a,onKeyDown:pe,ref:ce,style:Object.assign(Object.assign({},m),{position:O?"fixed":"relative"}),isQRPopup:"qr"===q,isBottomRightQRPopup:"qr_bottom_right"===q,top:oe,children:(0,o.jsx)(c.Ay,{timeout:300,in:i,unmountOnExit:!0,nodeRef:ue,children:t=>(0,o.jsx)(I,{isQRPopup:"qr"===q,children:(0,o.jsxs)(k,{"data-e2e":F,status:t,ref:ue,contentStyle:R,style:{backgroundColor:B},tabIndex:0,id:L,isQRPopup:"qr"===q,isBottomRightQRPopup:"qr_bottom_right"===q,children:[e,0!==g&&1!==g&&(0,o.jsx)(j,{onClick:de,onKeyDown:ge,"data-e2e":"modal-close-inner-button",style:_,role:"button",tabIndex:0,children:(0,o.jsx)(w,{})})]})})})})}):(0,l.createPortal)((0,o.jsx)(c.Ay,{timeout:300,in:i,nodeRef:ce,children:t=>(0,o.jsxs)(f,{status:t,isShow:i,onWheel:a,onKeyDown:pe,ref:ce,style:Object.assign(Object.assign({},m),{zIndex:S,position:O?"fixed":"relative"}),children:[D&&(0,o.jsx)(b,{style:E,onClick:le,onMouseLeave:_e,children:1===g&&(0,o.jsx)(C,{closeStyle:g,onClick:de,style:_,children:(0,o.jsx)(w,{})})}),(0,o.jsx)(c.Ay,{timeout:300,in:i,unmountOnExit:!0,nodeRef:ue,children:t=>(0,o.jsx)(d.Ay,{autoFocus:V,returnFocus:N,disabled:W,onDeactivation:H,children:(0,o.jsx)(T,{children:(0,o.jsxs)(x,{"data-e2e":F,status:t,ref:ue,contentStyle:R,style:{backgroundColor:B},tabIndex:0,id:L,children:[e,0!==g&&1!==g&&(0,o.jsx)(C,{closeStyle:g,onClick:de,onKeyDown:ge,"data-e2e":"modal-close-inner-button",style:_,role:"button",tabIndex:0,"aria-label":Q("link_close_popup"),children:(0,o.jsx)(w,{})})]})})})})]})}),null!=z?z:document.body):null}},29593:(e,t,i)=>{"use strict";i.d(t,{GQ:()=>a,rO:()=>o});const n="assets/perf_images/performance.jpeg",o=()=>{const e=Boolean("");Boolean("sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static");return e?`https:///tiktok/webapp/main/${n}`:`https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok/webapp/main/${n}`};function a(e){let t="",i="";const n=Number(e);if(isNaN(n))return"0";const{length:o}=n.toString();return o>6?(t="M",i=(n/Math.pow(10,6)).toFixed(1)):o>3?(t="K",i=(n/Math.pow(10,3)).toFixed(1)):i=n.toString(),i+t}},31152:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(24643),o=i(40099),a=i(76926);const r={id:"tiktok_series-283a8183",use:"tiktok_series-283a8183-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="tiktok_series-283a8183"><path fill-rule="evenodd" d="M15.83 4A3.83 3.83 0 0 0 12 7.83V12H7.83A3.83 3.83 0 0 0 4 15.83v24.34A3.83 3.83 0 0 0 7.83 44h24.34A3.83 3.83 0 0 0 36 40.17v-4.34h4.17A3.83 3.83 0 0 0 44 32V7.83A3.83 3.83 0 0 0 40.17 4zm16.34 8H16V8h24v23.83h-4v-16A3.83 3.83 0 0 0 32.17 12M8 40V16h24v24z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M19.57 37h1.1c.42 0 .76-.32.76-.71v-1.11c1.5-.2 2.64-.74 3.41-1.52A4.1 4.1 0 0 0 26 30.74c0-1.42-.63-2.39-1.56-3.05a9 9 0 0 0-3-1.23v-2.51c.65.2 1.28.5 1.81.95.33.26.85.25 1.13-.1l1.03-1.27c.23-.29.2-.7-.1-.95a7.76 7.76 0 0 0-3.88-1.69v-1.18c0-.4-.34-.71-.76-.71h-1.1c-.41 0-.76.32-.76.71v1.15c-2.65.36-4.44 2.04-4.44 4.22 0 1.38.6 2.32 1.51 2.96.84.6 1.92.93 2.93 1.19v2.95a5.7 5.7 0 0 1-2.47-1.31.8.8 0 0 0-1.16.09l-1.04 1.33c-.2.28-.19.67.09.92 1.1 1 2.63 1.75 4.58 1.97v1.1c0 .4.35.72.76.72m2.97-6.04c0 .44-.27.97-1.1 1.23v-2.27c.34.13.6.27.79.42.2.18.3.37.3.62zm-4.7-6.06c0-.46.3-.87.97-1.07v1.94a2.6 2.6 0 0 1-.71-.37c-.19-.15-.26-.3-.26-.5" clip-rule="evenodd" /></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("tiktok_series-283a8183")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#tiktok_series-283a8183"},void 0)}),void 0)}},31382:(e,t,i)=>{"use strict";i.d(t,{yS:()=>b,Tu:()=>S,_6:()=>C});var n,o=i(72516),a=i(45027),r=i(40099),s=i(21722),l=i(61317),d=i(69642),c=i(65476),u=i(27799),p=i(90976),g=i(70589),_=i(69831),m=i(61198),h=i(16356),v=i(51425),f=i(94777);!function(e){e[e.FollowNormal=0]="FollowNormal",e[e.FollowPrivate=1]="FollowPrivate",e[e.FollowFollower=2]="FollowFollower",e[e.Unfollow=3]="Unfollow"}(n||(n={}));var y=i(48156);function b(e=""){return(0,h.nW)(t=>t.users[e],m.bN)}const x={[-1]:"Follow",0:"Follow",1:"Following",3:"requested",2:"friends",4:"webapp_unblocked_button1",5:"Follow",6:"Follow"},k="Inbox_Follow_back",w=(e,t)=>{if(1===t){if(e<1)return k;if(1===e)return x[2]}else if(!t&&6===e)return k;return x[e]};function S({uniqueId:e,followerStatus:t,prevent:i,onNeedLogin:n,teaParams:o={},isInLiveCard:d=!1,liveCardTeaParams:c={},liveFollowStatus:v}){const f=(0,p.W)(()=>["user"],[]),y=Boolean(null==f?void 0:f.user),[{relation:b,secUid:x},k]=(0,h.JY)(t=>{var i,n,o,a;return{relation:null!==(n=null===(i=t.users[e])||void 0===i?void 0:i.relation)&&void 0!==n?n:-1,secUid:null!==(a=null===(o=t.users[e])||void 0===o?void 0:o.secUid)&&void 0!==a?a:""}},m.bN);(0,r.useEffect)(()=>{d&&k.setUserRelation({uniqueId:e,relation:Number(null!=v?v:0)})},[]);const S=(0,a.w)(_.k),C=(0,g.tc)(),{play_mode:j,group_id:T}=o,I=(0,r.useCallback)(t=>{var a;if(i&&(t.preventDefault(),t.stopPropagation()),s.O.handleGeneralClick("follow",{scene:null!==(a=o.scene)&&void 0!==a?a:"video_feed",group_id:T,play_mode:j}),!y)return null==n?void 0:n();4!==b?(k.postCommitFollowUser(Object.assign(Object.assign({},o),{uniqueId:e,useFollowV2:C})),1!==b&&S.addMlModelTrainData({id:o.group_id,action:"follow"}),d&&(1===b?l.YH.handleUnFollow(c):l.YH.handleFollow(c))):k.blockOrUnblockUser({uniqueId:e,secUid:x,isBlock:!0})},[i,y,b,k,o,e,C,d,n,x,c]),P=(0,u.s)()(w(b,t));return{isFollowing:1===b||2===b,text:P,handleFollow:I,relation:b}}function C({uniqueId:e,secUid:t,followerStatus:i,prevent:n,onNeedLogin:l,teaParams:m={}}){const b=(0,u.s)(),x=(0,p.W)(()=>["user"],[]),k=Boolean(null==x?void 0:x.user),S=(0,a.w)(_.k),C=(0,g.tc)(),{play_mode:j,group_id:T}=m,{data:I,isLoading:P,isError:A}=(0,v.useData)({query:"getUserDetail",queryKeyParams:{uniqueId:e},queryParams:{uniqueId:e,secUid:t}}),[,M]=(0,h.JY)(),{mutate:L}=(0,v.useMutateAction)({mutatorName:"postCommitFollowUser",queryKeyParams:{uniqueId:e}}),{mutate:D}=(0,v.useMutateAction)({mutatorName:"blockOrUnblockUser",queryKeyParams:{uniqueId:e}}),O=(0,r.useCallback)((i,a)=>r=>{var u;return n&&(r.preventDefault(),r.stopPropagation()),s.O.handleGeneralClick("follow",{scene:null!==(u=m.scene)&&void 0!==u?u:"video_feed",group_id:T,play_mode:j}),k?4===i?(M.handleWebappQueryOptimisticUpdate({uniqueId:e,isBlock:!0}),void D({uniqueId:e,secUid:t,isBlock:!0},{onSuccess:()=>{y.F.open({content:b("webapp_mig_unblocked"),duration:3,e2eTag:"block-toast"})}})):(M.handleWebappQueryOptimisticUpdate({uniqueId:e,targetUser:a,relation:i}),L({uniqueId:e,useFollowV2:C},{onSettled:(t=>i=>(0,o.__awaiter)(this,void 0,void 0,function*(){var n;const o=function(e){return function({relation:e,handleIsUnfollow:t,handleIsFollow:i}){switch(e){case 0:case-1:case 4:case 5:case 6:return t();default:return i()}}({relation:e,handleIsUnfollow:()=>1,handleIsFollow:()=>0})}(t),{statusCode:a,followStatus:r}=null!==(n=yield i)&&void 0!==n?n:{statusCode:-1,followStatus:-1};if(d.t.handleFollowUser(Object.assign(Object.assign({},m),{status_code:a,follow_status:r,group_id:T,enter_method:m.enter_method,action_position:m.action_position,to_user_id:e,author_id:e,follow_type:2===r?"mutual":"single",is_private:4===r?1:0}),o),m.is_ad_event&&m.tag&&m.value&&m.log_extra&&0===o){const{tag:e,value:t,log_extra:i}=m;c.pg.handleFollowCancel({log_extra:i,tag:e,value:t,is_ad_event:"1"})}}))(i)}),void(1!==i&&S.addMlModelTrainData({id:m.group_id,action:"follow"}))):null==l?void 0:l()},[n,m,T,j,k,M,e,L,C,b,l,D,t,S]);if(P||A)return{isFollowing:!1,text:b("Follow"),handleFollow:f.l,relation:-1};const{user:R}=I,{relation:E}=R;return{isFollowing:1===E||2===E,text:b(w(E,i)),handleFollow:O(E,R),relation:E}}},31501:(e,t,i)=>{"use strict";i.d(t,{$:()=>x});var n=i(24643),o=i(40099),a=i(56729),r=i(27799),s=i(70589),l=i(51426),d=i(16410),c=i(93584);const u=(0,d.default)("a",{target:"evbdqjo0"})({textWrap:"nowrap",textDecoration:"none",":hover":{textDecoration:"none"}},"label:AigcLink;"),p=(0,d.default)("p",{target:"evbdqjo1"})(({theme:e,theme:{colors:t}})=>[(0,c.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"ConstTextInverse"}),{display:"inline-block",alignSelf:"flex-start",marginTop:"-4px",marginBottom:"8px",fontSize:"12px",fontWeight:500},{padding:"1px 3px",background:t.ConstBGMat,borderRadius:"2px",fontWeight:600,textShadow:"0 0 16px rgba(0, 0, 0, .34)"}],"label:AigcTagMobile;"),g=(0,d.default)("p",{target:"evbdqjo2"})(({theme:e})=>[(0,c.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"ConstTextInverse"}),{color:"#FFF",display:"inline-block",alignSelf:"flex-start",fontSize:"10px",fontWeight:500,padding:"1.5px 4px",background:"rgba(255, 255, 255, 0.34)",borderRadius:"4px",textShadow:"0 0 16px rgba(0, 0, 0, .34)"}],"label:AigcTagMiniPlayer;");var _=i(61322),m=i(90976),h=i(64541);const v=0,f=1,y=2,b={[f]:{teaLabelType:"1",i18nKey:"syntheticMedia_feed_bottomBanner_AIGCLabel"},[y]:{teaLabelType:"2",i18nKey:"AIGC_FYP_descSection_label"},[v]:{teaLabelType:"0",i18nKey:""}},x=(0,o.memo)(function({item:e,playMode:t,isMiniPlayer:i=!1}){var d,c,v;const f=(0,r.s)(),y=Number(null!==(d=e.aigcLabelType)&&void 0!==d?d:0),x=b[y].i18nKey,k=b[y].teaLabelType,w=(0,s.q)(),S=0!==y&&w,{language:C="",region:j=""}=null!==(c=(0,m.W)(()=>["language","region"],[]))&&void 0!==c?c:{},{isMobile:T}=null!==(v=(0,_.U)(()=>["isMobile"],[]))&&void 0!==v?v:{},I=(0,o.useMemo)(()=>T?"web_mobile_fyp":i?"mini_player":2===t?"browser":3===t?"video_detail":"web_fyp",[t,T]),P=(0,o.useMemo)(()=>({aigc_label_type:k,enter_from:I,country_code:j}),[I,k,j]),A=(0,l.sN)(I,C),M=(0,o.useCallback)(()=>{a.Ld.handleAigcAnchorClick(P)},[P]),L=(0,o.useCallback)(e=>T?(0,n.jsx)(p,{children:e}):i?(0,n.jsxs)(g,{children:[" ",e]}):(0,n.jsx)(h.ZN,{shouldOptProfile:!0,playMode:t,isTag:!0,children:e}),[T,i,t]);return(0,o.useEffect)(()=>{S&&a.Ld.handleAigcAnchorShow(P)},[S,P]),S?(0,n.jsx)(u,{target:"_blank",href:A,onClick:M,children:L(f(x))}):null})},31521:(e,t,i)=>{"use strict";i.d(t,{i:()=>Ot});var n=i(24643),o=i(18499),a=i(40099),r=i(1404),s=i(13910),l=i(27799),d=i(69857),c=i(20434),u=i(43703),p=i(9581),g=i(20597),_=i(70589),m=i(57190),h=i(16410),v=i(93584);const f=(0,h.default)("div",{target:"ermk86y1"})({height:"100vh",width:"100vw",position:"absolute",top:0,left:0,pointerEvents:"none","> *":{pointerEvents:"auto"},"@media (max-width: 239px), (max-height: 429px)":{display:"none"}},"label:DivButtonContainer;"),y=(0,h.default)("div",{target:"ermk86y2"})(({showButtonOnlyOnHover:e,forceShowButton:t})=>[{height:"100vh",width:"100vw",position:"absolute",background:"black",overflow:"hidden"},t?{[`${f}`]:{transition:"opacity .5s",opacity:1}}:e?{[`${f}`]:{transition:"opacity .5s",opacity:0},[`:hover ${f}`]:{opacity:1}}:{}],"label:DivPlayerContainer;"),b=(0,h.default)("div",{target:"ermk86y3"})(({theme:e})=>[{position:"absolute",top:0,margin:"8px"},(0,v.mp)({direction:e.direction,end:"0px"})],"label:DivCloseButton;"),x=(0,h.default)("div",{target:"ermk86y4"})(({theme:e,showCloseButton:t})=>[{position:"absolute",top:0,margin:"8px",display:"flex",flexDirection:"row",gap:"13px"},(0,v.mp)({direction:e.direction,end:t?"45px":"0px"})],"label:DivTopRight;"),k=(0,h.default)("div",{target:"ermk86y5"})(({theme:e})=>[{position:"absolute",bottom:"298px",display:"flex",flexDirection:"column",gap:"16px"},(0,v.mp)({direction:e.direction,end:"8px"})],"label:DivCenterRight;"),w=(0,h.default)("div",{target:"ermk86y6"})(({theme:e})=>[{position:"absolute",left:"12px",bottom:"27px",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"8px",maxWidth:"464px",width:"calc(100% - 68px)"},(0,v.mp)({direction:e.direction,start:"12px"})],"label:DivBottomLeft;"),S=(0,h.default)("div",{target:"ermk86y7"})(({theme:e})=>[{position:"absolute",width:"46px",overflow:"hidden",bottom:"27px",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},(0,v.mp)({direction:e.direction,end:"0px"})],"label:DivBottomRight;"),C=(0,h.default)("div",{target:"ermk86y8"})({position:"absolute",left:0,bottom:0,width:"calc(100% - 30px)",margin:"12px"},"label:DivBottom;"),j=(0,h.default)("div",{target:"ermk86y9"})({width:"100%",height:"100%",fontSize:"14px",fontWeight:"500",lineHeight:"18.2px",color:"white",padding:"0px 60px",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center"},"label:DivFallback;");var T=i(19434);const I=(0,h.default)(T.A,{target:"e1uv33kd0"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:StyledPlayIcon;"),P=(0,h.default)("div",{target:"e1uv33kd1"})({position:"absolute",left:0,top:0,height:"100%",width:"100%",cursor:"pointer"},"label:ControlMask;");var A=i(50187);const M=(0,a.memo)(()=>(0,n.jsx)(I,{width:70,height:70,fill:"#fff"})),L=(0,a.memo)(({pause:e,togglePlay:t,onDoubleClick:i=()=>{}})=>{const o=(0,A.R)(()=>({onClick:t,onDoubleClick:i}),[t,i]);return(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsx)(M,{}),(0,n.jsx)(P,{onClick:o})]})}),D=24,O=16,R="#fff",E=(0,h.default)("button",{target:"e1fy2pze0"})(({theme:{colors:e}})=>({display:"flex",justifyContent:"center",alignItems:"center",background:e.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0,"&:focus-visible":{outline:`2px solid ${e.Negative}`},width:"32px",height:"32px",":hover":{opacity:.7},":active":{opacity:.5}}),({theme:e})=>(0,v.oO)({theme:e,isUiOptimise:!0}),"label:TransparentButtonContainer;");var F=i(54622);const B=(0,a.memo)(e=>{const{handleClose:t}=e;return(0,n.jsx)(E,{onClick:t,children:(0,n.jsx)(F.A,{width:12,height:12,fill:R})})}),z=(0,h.default)("div",{target:"e1944tko0"})({height:"4px",width:"100%",backgroundColor:"rgba(255, 255, 255, 0.2)",position:"absolute",left:"0",bottom:"0",cursor:"pointer",borderRadius:"15px"},"label:DivSeekBarProgress;"),U=(0,h.default)("div",{target:"e1944tko1"})(({theme:{direction:e}})=>({height:"4px",width:"100%",backgroundColor:"#F8F7F6",position:"absolute",bottom:"0",cursor:"pointer",transformOrigin:"rtl"===e?"right":"left",borderRadius:"15px"}),"label:DivSeekBar;"),N=(0,h.default)("div",{target:"e1944tko2"})(({theme:{direction:e}})=>(0,v.mp)({direction:e}),({theme:{direction:e,colors:t}})=>({display:"none",width:"12px",height:"12px",backgroundColor:"#ffffff",borderRadius:"12px",position:"absolute",zIndex:10,bottom:"0",transform:`translate(${"rtl"===e?"50%":"-50%"}, 3px)`,cursor:"pointer",boxShadow:`0px 0px 3px ${t.TextPrimary}`}),"label:DivSeekBarCircle;"),W=(0,h.default)("div",{target:"e1944tko3"})({width:"100%",position:"absolute",bottom:"0",[`:hover ${N}`]:{display:"block"},"> *::after":{content:'""',position:"absolute",top:"-8px",bottom:"-8px",width:"100%"}},"label:DivSeekBarContainer;");var V=i(64207),H=i(67518);const q=(0,a.memo)(({videoId:e,playerRef:t})=>{const i=(0,a.useRef)(null),o=(0,a.useRef)(null),r=(0,a.useRef)(null),{direction:s}=(0,H.u)(),{pipWindow:l}=(0,m.mE)(),d=(0,a.useCallback)(e=>{var i,n;null===(n=null===(i=t.current)||void 0===i?void 0:i.seek)||void 0===n||n.call(i,e)},[t]),{bindDrag:c,seek:u,videoPercent:p}=(0,V.u)({direction:s,progressRef:i,videoId:e,circleRef:o,barRef:r,initialPercent:0,draggingPercentCb:d,documentObjProps:null==l?void 0:l.document}),g="ltr"===s?{left:`calc(${100*p}%)`}:{right:`calc(${100*p}%)`};return(0,n.jsxs)(W,{children:[(0,n.jsx)(z,{ref:i,onClick:u,onMouseDown:c}),(0,n.jsx)(N,{ref:o,style:g,onMouseDown:c}),(0,n.jsx)(U,{ref:r,style:{transform:`scaleX(${p})`},onClick:u,onMouseDown:c})]})});var $=i(65491);const G=(0,h.default)(E,{target:"eq556nr0"})(({isPrev:e})=>({transform:e?"rotate(-90deg)":"rotate(90deg)",top:e?"calc(50% - 48px)":"calc(50% + 8px)",":disabled":{opacity:0}}),({theme:{direction:e}})=>(0,v.mp)({direction:e,end:"20px"}),"label:StyledVideoSwitch;"),K=(0,a.memo)(({hasPrev:e,hasNext:t,handlePrev:i,handleNext:o})=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(G,{disabled:!e,isPrev:!0,onClick:()=>i({enter_method:"click"}),children:(0,n.jsx)($.A,{width:O,height:O,fill:R})}),(0,n.jsx)(G,{disabled:!t,isPrev:!1,onClick:()=>o({enter_method:"click"}),children:(0,n.jsx)($.A,{width:O,height:O,fill:R})})]}));var Y=i(50700);const Z=(0,a.memo)(e=>{const{item:t,playModeForTea:i}=e,{id:o}=t;return o?(0,n.jsx)(E,{children:(0,n.jsx)(Y.Z,{videoId:o,playMode:i,hideTooltip:!0,iconSize:O})}):null});var J=i(92067),X=i(16537);const Q={width:O,height:O,fill:R},ee=(0,a.memo)(({mute:e,toggleMute:t})=>(0,n.jsx)("div",{onClick:t,children:(0,n.jsx)(E,{children:e?(0,n.jsx)(J.A,Object.assign({},Q)):(0,n.jsx)(X.A,Object.assign({},Q))})})),te=(0,h.default)("div",{target:"e4mw150"})({fontSize:"13px",fontStyle:"normal",fontWeight:500,lineHeight:"130%",color:"#FFF"},"label:DivNickname;"),ie=(0,a.memo)(e=>{const{videoId:t}=e,{nickname:i=""}=(0,s.$)(t,e=>({nickname:null==e?void 0:e.nickname}));return i?(0,n.jsxs)(te,{children:[" ",i," "]}):null});var ne=i(72073);const oe=(0,h.default)("div",{target:"e1mtud3p0"})({pointerEvents:"auto",textOverflow:"ellipsis",overflow:"hidden",wordBreak:"break-all"},"label:DivDescriptionContainer;"),ae=(0,h.default)("div",{target:"e1mtud3p1"})({fontSize:"12px",fontStyle:"normal",fontWeight:400,lineHeight:"130%",color:"rgba(255, 255, 255, 0.90)",letterSpacing:"0.093px"},"label:DivDescription;"),re={color:"#fff",fontSize:"12px",lineHeight:"18px"},se=(0,a.memo)(e=>{const{item:t}=e,{id:i,desc:o}=t;return o?(0,n.jsx)(oe,{children:(0,n.jsx)(ne.k,{onlyKey:i,lineClamp:2,lineHeight:15,btnStyle:re,overflowLineNum:12,isMobile:!0,forceRightSide:!0,children:(0,n.jsxs)(ae,{children:[" ",o," "]})})}):null});var le=i(45391),de=i(31501);const ce=(0,h.default)("div",{target:"e12541b10"})({display:"flex",columnGap:"6px",rowGap:"2px",flexWrap:"wrap",pointerEvents:"none"},"label:DivTagWrapper;"),ue=(0,a.memo)(({item:e,playMode:t})=>{const i=(0,n.jsx)(le.P,{item:e,playMode:t,isMiniPlayer:!0}),o=(0,n.jsx)(de.$,{item:e,playMode:t,isMiniPlayer:!0});return i||o?(0,n.jsxs)(ce,{children:[i,o]}):null}),pe=(0,h.default)("div",{target:"e1y6un900"})(({theme:{direction:e}})=>[(0,v.mp)({direction:e}),{display:"flex",alignItems:"start",color:"rgba(255, 255, 255, 0.75)",fontSize:"12px",fontWeight:"semiBold",lineHeight:"130%",letterSpacing:"0.127px",gap:"4px"}],"label:DivWarnInfo;"),ge=(0,h.default)("div",{target:"e1y6un901"})({height:"17px",display:"flex",alignItems:"center"},"label:DivIconContainer;"),_e=(0,h.default)("div",{target:"e1y6un902"})({flex:"0 1 auto",wordBreak:"break-word",verticalAlign:"text-top"},"label:DivWarnInfoContent;");var me=i(36970);const he=(0,a.memo)(({item:e})=>{const{warnInfo:t}=e,{text:i=""}=(0,d.L$)(null==t?void 0:t[0]);return i?(0,n.jsxs)(pe,{children:[(0,n.jsx)(ge,{children:(0,n.jsx)(me.A,{})}),(0,n.jsxs)(_e,{children:[" ",i," "]})]}):null});var ve=i(5786),fe=i(90886),ye=i(31382),be=i(20957),xe=i(90976),ke=i(48156),we=i(78335);const Se=()=>{var e;const{user:t}=null!==(e=(0,xe.W)(()=>["user"],[]))&&void 0!==e?e:{};return Boolean(t)},Ce=()=>{const{pipWindow:e}=(0,m.mE)();return(0,a.useCallback)(t=>{const i=null==e?void 0:e.document.body;i&&(ke.F.destroy(),ke.F.open(Object.assign(Object.assign({widthType:"half",getContainerPosition:"fixed"},t),{getContainer:()=>i})))},[e])},je=()=>{const{pipWindow:e}=(0,m.mE)();return(0,a.useMemo)(()=>(0,we.A)({key:"pip",container:e?e.document.head:void 0}),[e])},Te=(0,a.memo)(e=>{var t,i;const{item:o,teaBasicParams:r}=e,s=null!==(t=null==o?void 0:o.author)&&void 0!==t?t:"",d=(0,ye.yS)(s),c=(0,be.r$)(d),u=Ce(),p=(0,l.s)(),g=(0,a.useCallback)(()=>{u({content:p("pcWeb_miniPlayer_linkOpened_toast",{},"Link opened in browser"),duration:3})},[u,p]);return d?(0,n.jsx)(ve.E,{uniqueId:d.uniqueId,secUid:d.secUid,teaParams:Object.assign(Object.assign({},r),{to_user_id:null!==(i=o.authorId)&&void 0!==i?i:"",enter_method:"click"}),target:"_blank",onClick:g,children:(0,n.jsx)(fe.i,Object.assign({needAnimation:!0,liveTheme:2,size:34},c))}):null});var Ie=i(38017),Pe=i(30699);const Ae=(0,h.default)("button",{target:"eu97dd0"})(({theme:{colors:e,direction:t},isHorizontal:i=!1})=>[v.WA,(0,v.mp)({direction:t,marginEnd:i?"16px":"0px"}),{position:"relative",display:"flex",alignItems:"center",cursor:"pointer",flexDirection:i?"row":"column",":disabled":{cursor:"default",color:e.TextPrimary}}],"label:ButtonActionItem;"),Me=(0,h.default)("span",{target:"eu97dd1"})(({theme:e,isHorizontal:t=!1})=>[(0,v.mp)({direction:e.direction,marginEnd:t?"9px":"0px"}),{display:"flex",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",fontSize:"0px",borderRadius:"50%",transition:"all ease-in-out 200ms",opacity:t?"0.9":1,color:"#fff"}],"label:SpanIconWrapper;"),Le=(0,h.default)("strong",{target:"eu97dd2"})(({theme:e,isHorizontal:t=!1,normalText:i=!1})=>[(0,v.zy)({theme:e,typography:"P3",fontWeight:t||i?"normal":"bold"}),{fontSize:"12px",lineHeight:"130%",textAlign:"center",color:t?"#161823":"#fff",textShadow:t?"none":"0px 1px 1px rgba(22, 24, 35, 0.2)"}],"label:StrongText;"),De=(0,a.memo)(e=>{const{text:t,disabled:i,children:o,e2eTag:a,style:r,iconStyle:s,isHorizontal:l=!1,normalText:d=!1}=e;return(0,n.jsxs)(Ae,{isHorizontal:l,type:"button",onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,disabled:i,style:r,children:[(0,n.jsx)(Me,{style:s,isHorizontal:l,"data-e2e":`${a}-icon`,children:o}),t&&(0,n.jsx)(Le,{normalText:d,isHorizontal:l,"data-e2e":`${a}-count`,children:t})]})});var Oe=i(69831),Re=i(45027),Ee=i(21722),Fe=i(7180);const Be=(e,t)=>{const{id:i}=null!=e?e:{},n=(0,Re.w)(Oe.k),o=Se(),r=(0,l.s)(),s=Ce();return(0,a.useCallback)(e=>{i&&(Ee.O.handleGeneralClick("like",Object.assign(Object.assign({},t),{enter_method:e})),o?n.postLikeVideo(Object.assign(Object.assign({},t),{id:i,enter_method:e})):s({content:r("pcWeb_miniPlayer_backToLogIn_toast",{},"Go back to the same tab to log in"),duration:3}))},[o,i,t,r,n,s])},ze=(0,a.memo)(({item:e,teaBasicParams:t})=>{const{digged:i,stats:o}=e,r=Be(e,t),s=(0,a.useCallback)(()=>{r("click")},[r]);return(0,n.jsx)(De,{text:(0,d.D1)(null==o?void 0:o.diggCount),onClick:s,children:i?(0,n.jsx)(Ie.A,{width:D,height:D,fill:R}):(0,n.jsx)(Pe.A,{width:D,height:D,fill:R})})});var Ue=i(76926);const Ne={id:"collected-f29ef602",use:"collected-f29ef602-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="collected-f29ef602"><path fill="#FACE15" d="M4 4.5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v15.13a1 1 0 0 1-1.555.831l-6.167-4.12a.5.5 0 0 0-.556 0l-6.167 4.12A1 1 0 0 1 4 19.63z" /><path fill="black" fill-opacity=".03" d="M4.032 4.144Q4 4.317 4 4.5v15.13a1 1 0 0 0 1.555.831l6.167-4.12a.5.5 0 0 1 .41-.066l-.427-.198a1.49 1.49 0 0 0-1.377.063c-.581.339-1.45.85-2.25 1.339-.59.359-1.427.695-2.187.962-.929.325-1.86-.387-1.86-1.37zm8.251 12.202 6.162 4.115A1 1 0 0 0 20 19.63V4.5a2 2 0 0 0-1.123-1.798c.21.254.334.58.33.936a117 117 0 0 1-.896 13.408c-.124.99-1.17 1.553-2.076 1.133z" /></symbol>'};function We(e){const t=(0,a.useContext)(Ue.X);return(0,a.useLayoutEffect)(()=>(t.add(Ne),()=>{t.remove("collected-f29ef602")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#collected-f29ef602"},void 0)}),void 0)}const Ve={id:"uncollected-7652bb5c",use:"uncollected-7652bb5c-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="uncollected-7652bb5c"><path fill="currentColor" d="M4 4.5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v15.13a1 1 0 0 1-1.555.831l-6.167-4.12a.5.5 0 0 0-.556 0l-6.167 4.12A1 1 0 0 1 4 19.63z" /><path fill="currentColor" fill-opacity=".03" d="M4.032 4.144Q4 4.317 4 4.5v15.13a1 1 0 0 0 1.555.831l6.167-4.12a.5.5 0 0 1 .41-.066l-.427-.198a1.49 1.49 0 0 0-1.377.063c-.581.339-1.45.85-2.25 1.339-.59.359-1.427.695-2.187.962-.929.325-1.86-.387-1.86-1.37zm8.251 12.202 6.162 4.115A1 1 0 0 0 20 19.63V4.5a2 2 0 0 0-1.123-1.798c.21.254.334.58.33.936a117 117 0 0 1-.896 13.408c-.124.99-1.17 1.553-2.076 1.133z" /></symbol>'};function He(e){const t=(0,a.useContext)(Ue.X);return(0,a.useLayoutEffect)(()=>(t.add(Ve),()=>{t.remove("uncollected-7652bb5c")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#uncollected-7652bb5c"},void 0)}),void 0)}const qe=(0,a.memo)(({item:e,teaBasicParams:t})=>{var i,o;const{id:s,collected:c}=e,u=(0,Re.w)(Oe.k),p=(0,Re.w)(r.O),g=Se(),_=(0,l.s)(),m=Ce(),h=(0,a.useCallback)(()=>{Ee.O.handleGeneralClick("favorite",Object.assign(Object.assign({},t),{enter_method:"click"})),g?(c&&p.removeItemListById({key:"favorites",groupId:s}),u.postCollectVideo({itemId:s})):m({content:_("pcWeb_miniPlayer_backToLogIn_toast",{},"Go back to the same tab to log in"),duration:3})},[g,s,t,_,p,m]);return e?(0,n.jsx)(De,{text:(0,d.D1)(Number(null!==(o=null===(i=null==e?void 0:e.stats)||void 0===i?void 0:i.collectCount)&&void 0!==o?o:0)),onClick:h,children:c?(0,n.jsx)(We,{width:D,height:D,fill:R}):(0,n.jsx)(He,{width:D,height:D,fill:R})}):null});var $e=i(43887),Ge=i(33758),Ke=i(73580),Ye=i(24816),Ze=i(61198),Je=i(16356);const Xe=(0,a.memo)(e=>{var t,i,o;const{item:r,teaBasicParams:s}=e,c=(0,l.s)(),u=(0,Ke.Nj)(Ye.A),p=(0,$e.Nw)(r),{wid:g=""}=null!==(t=(0,xe.W)(()=>["wid"],[]))&&void 0!==t?t:{},_=`https://www.tiktok.com${p}?is_from_webapp=1&sender_device=pc&web_id=${g}`,h=(0,Je.nW)(e=>{var t;return e.users[null!==(t=null==r?void 0:r.author)&&void 0!==t?t:""]},Ze.bN),{pipWindow:v}=(0,m.mE)(),f=Ce(),y=(0,a.useCallback)(()=>{v&&(u.handleShare(Object.assign(Object.assign({},s),{platform:"copy",share_click_from:"short"})),v.navigator.clipboard.writeText(_).then(()=>{f({content:c("pcWeb_miniPlayer_linkCopied_toast",{},"Link Copied"),duration:1.2})}).catch(e=>{console.error("MiniPlayer Failed to copy URL",e)}))},[u,r,u,h,s,v]);return(0,n.jsx)(De,{onClick:y,text:(null===(i=r.stats)||void 0===i?void 0:i.shareCount)?(0,d.D1)(null===(o=r.stats)||void 0===o?void 0:o.shareCount):c("Share"),children:(0,n.jsx)(Ge.A,{width:D,height:D,fill:R})})});var Qe=i(74042),et=i(45375),tt=i(72355);const it={id:"album-7228d8e2",use:"album-7228d8e2-usage",viewBox:"0 0 49 49",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 49 49" id="album-7228d8e2"><path fill="url(#album-7228d8e2_a)" fill-rule="evenodd" d="M24.5 49C38.031 49 49 38.031 49 24.5S38.031 0 24.5 0 0 10.969 0 24.5 10.969 49 24.5 49" clip-rule="evenodd" /><defs><radialGradient id="album-7228d8e2_a" cx="0" cy="0" r="1" gradientTransform="translate(24.5 24.5)scale(24.5)" gradientUnits="userSpaceOnUse"><stop offset=".131" stop-color="#151515" /><stop offset=".397" stop-color="#393939" /><stop offset=".632" stop-color="#161616" /><stop offset=".889" stop-color="#393939" /></radialGradient></defs></symbol>'};function nt(e){const t=(0,a.useContext)(Ue.X);return(0,a.useLayoutEffect)(()=>(t.add(it),()=>{t.remove("album-7228d8e2")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#album-7228d8e2"},void 0)}),void 0)}const ot=(0,h.default)("div",{target:"e10thmhi0"})({width:"30px",height:"30px",overflow:"hidden"},"label:DivMusicButtonContainer;"),at=(0,h.default)("div",{target:"e10thmhi1"})(({pause:e})=>({display:"flex",justifyContent:"center",alignItems:"center",width:"30px",height:"30px",animation:e?"":"rotate 8s linear infinite","@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}}),"label:DivMusicAnimation;"),rt=(0,h.default)(nt,{target:"e10thmhi2"})({position:"absolute",width:"30px",height:"30px"},"label:StyledIconAlbum;"),st=(0,h.default)("div",{target:"e10thmhi3"})(({backgroundImageURL:e})=>({borderRadius:"50%",width:"70%",height:"70%",zIndex:1,backgroundSize:"cover",backgroundImage:`url(${e})`}),"label:DivMusicCover;"),lt=h.default.a``,dt=(0,i(97260).w)(lt),ct=(0,a.memo)(e=>{const{item:t,teaBasicParams:i,pause:o}=e,{music:{id:r="",title:s="",coverThumb:d=""}={}}=t,c=(0,tt.zy)(),u=(0,Qe.FR)({to:{pathname:(0,et.pHc)({musicName:s,musicId:r})},location:c}),p=Ce(),g=(0,l.s)(),_=(0,a.useCallback)(()=>{Ee.O.handleGeneralClick("music",Object.assign(Object.assign({},i),{enter_method:"click"})),p({content:g("pcWeb_miniPlayer_linkOpened_toast",{},"Link opened in browser"),duration:3})},[Ee.O,t,i,p,g]);return r?(0,n.jsx)(dt,{href:u,onClick:_,target:"_blank",rel:"noopener noreferrer",etClick:{etName:"enter_music_detail",etParams:Object.assign(Object.assign({},i),{enter_method:"click"})},children:(0,n.jsx)(ot,{children:(0,n.jsxs)(at,{pause:o,children:[(0,n.jsx)(rt,{}),d&&(0,n.jsx)(st,{backgroundImageURL:d})]})})}):null});var ut=i(88860),pt=i(95074),gt=i(98042),_t=i(78445),mt=i(86508),ht=i(18433),vt=i(17164),ft=i(705),yt=i(34778),bt=i(42222),xt=i(10114),kt=i(80988),wt=i(18650),St=i(75051),Ct=i(28058),jt=i(16842),Tt=i(96406),It=i(98447);const Pt=(0,a.memo)(function({}){var e,t;const[{currentIndex:i,itemListKey:o,pipWindow:h,isMiniPlayerShowing:v},T]=(0,m.Sp)(e=>({currentIndex:e.currentIndex,itemListKey:e.itemListKey,pipWindow:e.pipWindow,isMiniPlayerShowing:e.isMiniPlayerShowing})),I=(0,a.useRef)(null),P=(0,l.s)();(0,a.useEffect)(()=>{T.setMiniPlayerRef(I)},[I,T]);const A=(0,pt.P)(r.O),{list:M=[]}=null!==(e=A[null!=o?o:""])&&void 0!==e?e:{},D=null!==(t=(0,_t.Lu)(e=>null==e?void 0:e.list,Ze.bN))&&void 0!==t?t:[],O=(0,mt.mY)(e=>e.list,Ze.bN),{browserList:R,creatorBrowserList:E}=(0,ft.d8)(),{showingBrowserMode:F,isCreatorBrowserMode:z}=(0,yt.JD)();let U;U=F&&!z?R:z?E:"foryou"===o?D:"video"===o?O:M;const N=U[i],W=i>0&&i<=U.length-1,V=i<U.length-1,H=(0,s.k)(N),$=(0,g.mx)(H),G=null==H?void 0:H.ad_info,Y=(0,ht.Jl)(H),J=!G&&!Y&&!$,{video:X={},id:Q,itemMute:te=!1,authorId:ne="",logId:oe="",isAd:ae}=(0,d.L$)(H),re={play_mode:"mini_player",group_id:Q,author_id:ne,log_id:oe,isAd:ae},{playAddr:le="",duration:de,bitrateInfo:ce,volumeInfo:pe,bitrate:ge=-1,size:_e=-1,originCover:me}=X,[ve,fe]=(0,a.useState)(!1),{handleNext:ye,handlePrev:be,handleMuteToggle:xe,handleWheel:we,mute:Ie}=(({setPause:e,hasNext:t,hasPrev:i,item:n,teaBasicParams:o})=>{var r,s,l;const[{pipWindow:d,miniPlayerRef:c},u]=(0,m.Sp)(e=>({pipWindow:e.pipWindow,miniPlayerRef:e.miniPlayerRef})),{isRTL:p}=(0,wt.m)(),g=null!==(s=null===(r=null==n?void 0:n.video)||void 0===r?void 0:r.id)&&void 0!==s?s:"",_=(0,a.useRef)(-1),h=(0,Re.w)(bt.aL),v=(0,a.useCallback)((e,t="click")=>{var i;if(!(null===(i=null==c?void 0:c.current)||void 0===i?void 0:i.seekTime)||!d)return;const n=e>0?"forward":"backward";d.clearTimeout(_.current),h.setSeekType(n),_.current=d.setTimeout(()=>{h.setSeekType("none")},2e3),c.current.seekTime(c.current.currentTime+e),St.V.handleVideoControlChange(Object.assign(Object.assign({},o),{enter_method:t,click_section:"click"===t?"pc_web_keyboard_btn":void 0,change_params:e>0?"video_forward":"video_backward"}))},[o,d]),f=(0,a.useCallback)(({enter_method:i})=>{if(t){const t=Date.now();u.handleNextVideo(),e(!1),Ct.L.handleVideoChange(Object.assign(Object.assign({},o),{enter_method:i}),"next"),Tt.f.sendEvent("latency",{starting_event:i,ending_event:"switch_video",play_mode:"mini_player",duration:Date.now()-t})}},[t,o,e]),y=(0,a.useCallback)(({enter_method:t})=>{if(i){const i=Date.now();u.handlePrevVideo(),e(!1),Ct.L.handleVideoChange(Object.assign(Object.assign({},o),{enter_method:t}),"prev"),Tt.f.sendEvent("latency",{starting_event:t,ending_event:"switch_video",play_mode:"mini_player",duration:Date.now()-i})}},[i,o,e]),b=Be(n,o),x=(0,a.useCallback)(e=>{u.closeMiniPlayer({enter_method:e})},[u]),k=null!==(l=null==n?void 0:n.itemMute)&&void 0!==l&&l,{mute:w,setMute:S}=(0,xt.ah)({playMode:7,itemMute:k}),C=(0,a.useCallback)(e=>{S(!w,e)},[w,S]),j=(0,a.useCallback)(e=>{const t=new Map([[40,()=>{f({enter_method:"keydown"})}],[38,()=>{y({enter_method:"keydown"})}],[39,()=>{v(p?kt.a:kt.S,"keydown")}],[37,()=>{v(p?kt.S:kt.a,"keydown")}],[76,()=>{b("keydown")}],[27,()=>{x("keydown")}],[77,()=>{C("keydown")}]]),{keyCode:i}=e;t.has(i)&&(e.preventDefault(),t.get(i)())},[f,y,v,b,x,C,p]),T=(0,a.useRef)(""),I=(0,a.useRef)(-1),P=(0,a.useRef)(0),A=(0,a.useRef)((new Date).getTime()),M=(0,jt._g)(e=>{if(T.current===g||Math.abs(e.deltaY)<=1)return;e.stopPropagation(),I.current&&clearTimeout(I.current),I.current=window.setTimeout(()=>{P.current=0},50);const n=(new Date).getTime(),o=n-A.current;if(A.current=n,P.current=P.current+1,o>50&&1===P.current){const n=e.deltaY;n>0&&t?(T.current=g,f({enter_method:"scroll"})):n<0&&i&&(T.current=g,y({enter_method:"scroll"}))}},[g,f,y,t,i],20);return(0,a.useEffect)(()=>{if(d)return d.document.addEventListener("keydown",j),()=>{d.document.removeEventListener("keydown",j)}},[d,j]),{handleNext:f,handlePrev:y,handleMuteToggle:C,handleWheel:M,mute:w}})({hasNext:V,hasPrev:W,item:H,teaBasicParams:re,setPause:e=>{fe(e)}}),{hasAutoScrollButton:Pe}=(0,_.iz)(),Ae=(0,gt.eu)(),{enableMiniBitrateInfo:Me}=(0,It.D)(),Le=(0,a.useCallback)(()=>{Ae&&ye({enter_method:"auto_next"})},[Ae,ye]),De=(0,a.useCallback)(()=>{var e,t,i,n;ve?null===(t=null===(e=I.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e,!0):null===(n=null===(i=I.current)||void 0===i?void 0:i.pause)||void 0===n||n.call(i),fe(!ve)},[ve,I]),Ue=(0,a.useCallback)(()=>{fe(!0)},[]),Ne=(0,a.useCallback)(()=>{fe(!1)},[]),We=(0,vt.hy)(),Ve=(0,a.useCallback)(e=>{var t,i,n;We.setVideoInfo({itemId:Q,videoPercent:e,duration:null===(t=I.current)||void 0===t?void 0:t.duration,currentTime:null!==(n=null===(i=I.current)||void 0===i?void 0:i.currentTime)&&void 0!==n?n:0})},[Q,We,I]),He=(0,a.useCallback)(()=>{T.closeMiniPlayer({enter_method:"click_icon"})},[T]),$e=((e,t,i=document)=>{const{id:n}=null!=e?e:{},o=(0,Re.w)(Oe.k),r=Se(),s=(0,l.s)(),d=Ce(),c=je();return(0,a.useCallback)(e=>{if(n)if(Ee.O.handleGeneralClick("like",Object.assign(Object.assign({},t),{enter_method:"double_tap"})),r){const{clientX:a,clientY:r}=e;new Fe.m(a,r,i,c).emit(),o.postLikeVideo(Object.assign(Object.assign({id:n,enter_method:"double_tap"},t),{forceLike:!0}))}else d({content:s("pcWeb_miniPlayer_backToLogIn_toast",{},"Go back to the same tab to log in"),duration:3})},[r,n,t,s,o,d,i])})(H,re,null==h?void 0:h.document);(0,a.useEffect)(()=>{if(!J&&h){ke.F.open({content:P("pcWeb_videoSkipped",{num:2}),duration:1.5,widthType:"half",getContainerPosition:"fixed",getContainer:()=>h.document.body});const e=setTimeout(()=>{ye({enter_method:"auto_next"})},2e3);return()=>{clearTimeout(e),ke.F.destroy()}}},[J,h,ye,Q,P]);const{seekingTips:Ge}=(0,ut.r)(),Ke=(e=>{const[t,i]=(0,a.useState)(!1),n=(0,a.useRef)(-1);return(0,a.useEffect)(()=>{if(!e)return()=>{clearTimeout(n.current)};const t=()=>{clearTimeout(n.current),n.current=window.setTimeout(()=>{i(!1)},1e3),i(!0)};return e.addEventListener("resize",t),()=>{e.removeEventListener("resize",t),clearTimeout(n.current)}},[e]),t})(h),[Ye]=(0,a.useState)((0,c.UP)());return(0,a.useEffect)(()=>{var e,t;v&&(null===(t=null===(e=I.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e))},[v]),H?(0,n.jsxs)(y,{id:N,showButtonOnlyOnHover:!1,forceShowButton:Ke,onWheel:we,children:[!J&&(0,n.jsx)(j,{children:P("pcWeb_NotSupportedFloating")}),J&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.K,{playUrl:le,desc:H.desc,horizontal:!0,mode:7,id:N,index:i,itemMute:te,teaParams:re,onVideoEnded:Le,onVideoPause:Ue,onVideoPlay:Ne,onTimeUpdate:Ve,videoCover:{cover:me,quality:"720"},volumeInfo:pe,bitrate:Number(ge),bitrateInfo:"v1"===Me?ce:void 0,size:_e,duration:de,ref:I,videoInfo:X},N),(0,n.jsx)(L,{pause:ve,togglePlay:De,onDoubleClick:$e}),Ye&&(0,n.jsx)(b,{children:(0,n.jsx)(B,{handleClose:He})}),(0,n.jsxs)(C,{children:[(0,n.jsx)(q,{videoId:Q,playerRef:I}),Ge]})]}),(0,n.jsxs)(f,{children:[(0,n.jsx)(k,{children:(0,n.jsx)(K,{hasPrev:W,hasNext:V,handlePrev:be,handleNext:ye})}),J&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(x,{showCloseButton:Ye,children:[Pe&&(0,n.jsx)(Z,{item:H,playModeForTea:"mini_player"}),(0,n.jsx)(ee,{mute:Ie,toggleMute:()=>xe("click")})]}),(0,n.jsxs)(w,{children:[(0,n.jsx)(ie,{videoId:N}),(0,n.jsx)(se,{item:H}),(0,n.jsx)(ue,{item:H,playMode:7}),(0,n.jsx)(he,{item:H})]}),(0,n.jsxs)(S,{children:[(0,n.jsx)(Te,{item:H,teaBasicParams:re}),(0,n.jsx)(ze,{item:H,teaBasicParams:re}),(0,n.jsx)(qe,{item:H,teaBasicParams:re}),(0,n.jsx)(Xe,{item:H,teaBasicParams:re}),(0,n.jsx)(ct,{item:H,teaBasicParams:re,pause:ve})]})]})]})]}):(0,u.d)(["item.video"])});var At=i(99595),Mt=i(2387),Lt=i.n(Mt);function Dt({pipWindow:e,children:t}){return(0,o.createPortal)(t,e.document.body)}const Ot=({})=>{const{pipWindow:e}=(0,m.mE)(e=>({pipWindow:e.pipWindow})),t=je();return(()=>{const[{pipWindow:e,windowHeight:t,windowWidth:i},n]=(0,m.Sp)(e=>({pipWindow:e.pipWindow,windowHeight:e.windowHeight,windowWidth:e.windowWidth})),o=(0,a.useCallback)(Lt()(()=>{!e||t===e.innerHeight&&i===e.innerWidth||((0,At.T)({windowObj:e,playMode:7,width_before:i,height_before:t}),n.updateMiniPlayerSize())},1e3),[e,t,i]);(0,a.useEffect)(()=>{if(e)return e.addEventListener("resize",o),()=>{e.removeEventListener("resize",o)}},[e,o])})(),e?(0,n.jsx)(Dt,{id:"pipWindow",pipWindow:e,children:(0,n.jsx)(H.C,{value:t,children:(0,n.jsx)(Pt,{})})}):null}},31614:(e,t,i)=>{"use strict";i.d(t,{Fb:()=>s});var n,o=i(73580),a=i(40099),r=i(22889);function s(){const e=(0,o.Nj)(r.V$),t=(0,a.useCallback)(()=>{e.emitEvent("live_player_browser_mode_init",{},{})},[e]),i=(0,a.useCallback)((t,i)=>{e.emitEvent("live_player_browser_mode_error",{code:t,message:i},{})},[e]);return(0,a.useEffect)(()=>{t()},[t]),{handlePlayErrorReport:i}}!function(e){e.FYP="live_player_fyp_init",e.FYPError="live_player_fyp_error",e.BrowserMode="live_player_browser_mode_init",e.BrowserModeError="live_player_browser_mode_error"}(n||(n={}))},31810:(e,t,i)=>{"use strict";i.d(t,{Ae:()=>T,DQ:()=>P,Y6:()=>I,gc:()=>S,nY:()=>C,u5:()=>w});var n=i(45027),o=i(95074),a=i(48292),r=i.n(a),s=i(54133),l=i(40099),d=i(72355),c=i(37818),u=i(73995),p=i(41928),g=i(19664),_=i(2232),m=i(90976),h=i(61322),v=i(60716),f=i(80049),y=i(41413),b=i(1404),x=i(81378),k=i(16618);function w(){var e;const{search:t,state:i}=(0,d.zy)(),{enterMethod:n,searchSource:o,enterFrom:a,fromSearchSubTab:r,imprId:l,blankpageEnterFrom:c,blankpageEnterMethod:u,videoPageType:p,preClickId:g}=null!=i?i:{},{q:_}=(0,s.parse)(t);return{enterMethod:n,searchSource:o,enterFrom:a,keyword:null!==(e=Array.isArray(_)?_.toString():_)&&void 0!==e?e:"",fromSearchSubTab:r,imprId:l,blankpageEnterFrom:c,blankpageEnterMethod:u,videoPageType:p,preClickId:g}}function S(e){var t,i;const{keyword:o,enterMethod:a,searchSource:r,enterFrom:s,fromSearchSubTab:u,imprId:p,blankpageEnterFrom:g,blankpageEnterMethod:_,videoPageType:y,preClickId:k}=w(),{user:S,language:C="en",abTestVersion:j}=null!==(t=(0,m.W)(()=>["user","language","abTestVersion"],[]))&&void 0!==t?t:{},{searchVideoForLoggedin:T,searchLiveForLoggedin:P}=null!==(i=(0,h.U)(()=>["searchVideoForLoggedin","searchLiveForLoggedin"],[]))&&void 0!==i?i:{},A=(0,d.zy)(),{streamDeviceType:M}=(0,f.A)(),{pathname:L}=A,D=Boolean(S),[{state:O,rootEnterFrom:R},E]=(0,n.S)(x.tq,{dependencies:[],selector:t=>{var i;return{state:null!==(i=t[e])&&void 0!==i?i:{},rootEnterFrom:t.searchGlobalParams.rootEnterFrom}}}),F=(0,n.w)(b.O),B=(0,n.w)(v.F),z=L===c.OZ.searchUser,U=I();return(0,l.useCallback)((t=!0,i=!1)=>{const n=o!==(null==O?void 0:O.keyword)||t,l=o!==(null==O?void 0:O.keyword)||i,d=!T||D,m=!P||D,h={search_source:null!=r?r:"search_outer",search_type:e,enter_method:a,from_search_subtab:u,enter_from:null!=s?s:R,pre_click_id:null!=p?p:k,pre_recom_show_id:p,blankpage_enter_from:g,blankpage_enter_method:_,video_page_type:y};switch(e){case"general":L===c.OZ.searchHome&&n&&d&&(l&&(E.setSearchResult({key:"general",result:x.I4}),F.resetItemList({key:"search_top",loading:!0})),E.getTopSearch({keyword:o,teaParams:h,user:S,language:C,abTestVersion:j,hasSearchLive:U,search_source:r,device_type:M}));break;case"user":z&&n&&(l&&E.setSearchResult({key:"user",result:x.Fy}),E.getUserSearch({keyword:o,teaParams:h,user:S,language:C,abTestVersion:j}));break;case"video":L===c.OZ.searchVideo&&n&&d&&(l&&(E.setSearchResult({key:"video",result:x.Fy}),F.resetItemList({key:"search_video",loading:!0})),E.getVideoSearch({keyword:o,teaParams:h,user:S,language:C,abTestVersion:j}));break;case"live":L===c.OZ.searchLive&&n&&m&&(l&&(E.setSearchResult({key:"live",result:x.Fy}),B.resetLiveList({key:"search_live",loading:!0})),E.getLiveSearch({keyword:o,teaParams:h,user:S,language:C,abTestVersion:j,device_type:M}))}},[M,o,null==O?void 0:O.keyword,T,D,a,r,e,L,z,E,S,C,j,F,U,B,P,u,R,p,g,_,k,y])}function C(e,t=!0){const{keyword:i}=w(),o=(0,d.zy)(),a=(0,d.W6)(),{state:r,pathname:s}=o,u=Boolean((0,d.B6)(s,{path:c.OZ.searchHome})),{hasRelatedSearch:g}=(0,p.CA)(),[_,m]=(0,n.S)(x.tq,{dependencies:[],selector:t=>{var i;return null!==(i=t[e])&&void 0!==i?i:{}}}),[,h]=(0,n.S)(y.O,{dependencies:[],selector:e=>e}),[v]=(0,n.S)(k.fu,{dependencies:[],selector:e=>({personalized:e.isSearchPersonalized})}),f=S(e);return(0,l.useEffect)(()=>{var n,s,l,d,c;if(!u)return;const p=Boolean(_.data)?!_.error&&0===(null===(s=null===(n=_.data)||void 0===n?void 0:n.videoList)||void 0===s?void 0:s.length)&&0===(null===(d=null===(l=_.data)||void 0===l?void 0:l.otherDataList)||void 0===d?void 0:d.length):0===(null===(c=null==_?void 0:_.items)||void 0===c?void 0:c.length),v=i!==_.keyword||p;if(t&&a.replace(Object.assign(Object.assign({},o),{state:Object.assign({},r)})),f(v),v&&g){const t={req_source:"related_search",search_source:e,keyword:i};switch(e){case"general":h.getTopRSData(t);break;case"user":h.getUserRSData(t);break;case"video":h.getVideoRSData(t);break;case"live":h.getLiveRSData(t)}}return()=>{m.dispose(),h.dispose()}},[i,g,e,h,v]),Object.assign(Object.assign({},_),{keyword:i,handleSearch:f})}const j={general:c.OZ.searchHome,user:c.OZ.searchUser,video:c.OZ.searchVideo,live:c.OZ.searchLive};function T(e,t){const i=(0,l.useRef)(0),n=(0,d.W6)(),a=(0,d.zy)(),{keyword:s,enterMethod:c}=w(),{searchGlobalParams:p}=(0,o.P)(x.tq,{dependencies:[],selector:e=>({searchGlobalParams:e.searchGlobalParams})}),_=(0,g.GF)(),{pathname:m}=a;(0,l.useEffect)(()=>{if((0,d.B6)(m,{path:j[t]}))return i.current||(i.current=Date.now()),n.listen(({pathname:n})=>{var o;const a=Date.now()-i.current,l=null===(o=r()(j))||void 0===o?void 0:o[n];u.$G.handleSearchSessionFinish({duration:a,impr_id:e,search_id:e,search_type:t,search_keyword:s,enter_method:c,enter_from:p.rootEnterFrom,group_id:_,next_tab:l})})},[e,t,p,_,c])}function I(){var e,t;const{abTestVersion:i,user:n}=null!==(e=(0,m.W)(()=>["abTestVersion","user"],[]))&&void 0!==e?e:{};return"v2"===(0,_.qt)(i,"search_add_live")&&(null===(t=null==n?void 0:n.hasSearchLivePermission)||void 0===t||t)}function P(e){const[,t]=(0,n.S)(x.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]});(0,l.useEffect)(()=>{t.setSearchGlobalParams({rootEnterFrom:e})},[t,e])}},32242:(e,t,i)=>{"use strict";i.d(t,{Q:()=>u});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(26324),l=i(62564),d=i(19664),c=i(26225);let u=class extends o.E{constructor(){super(...arguments),this.defaultState=(0,d.$V)()}updateVideo(e){return e.pipe((0,l.T)(e=>((0,d.LM)().updateVideo(e),this.noop())))}};u.jotaiAtom=d.yA,(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[s.c]),(0,n.__metadata)("design:returntype",void 0)],u.prototype,"updateVideo",null),u=(0,n.__decorate)([(0,r.nV)("VideoPlayerJotai")],u),d.yA.__SIGI_MODULE__=u,(0,c.y)(u)},33274:(e,t,i)=>{"use strict";i.d(t,{Y:()=>I});var n=i(24643),o=i(40099),a=i(46187),r=i(32337),s=i(20934),l=i(39001),d=i(95839),c=i(61322),u=i(18650),p=i(81491),g=i(16410);const _=(0,g.default)("div",{target:"e10jea830"})(({isMobile:e})=>e?{position:"absolute",top:"0",width:"100vw",height:"100%",pointerEvents:"none",opacity:"1"}:{width:"100%",height:"100%",objectFit:"cover",backgroundColor:"black",borderRadius:"8px"},"label:DivPhotoVideoContainer;"),m=(0,g.default)("div",{target:"e10jea831"})({width:"100%",height:"100%"},"label:DivSwiperContainer;"),h=(0,g.default)("img",{target:"e10jea832"})({height:"100%",width:"100%",objectFit:"contain"},"label:ImgPhotoSlide;");var v=i(69857),f=i(98042),y=i(71225),b=i(20597),x=i(22889),k=i(73580),w=i(81229),S=i(17164),C=i(50654),j=i(58946);const T={delay:2500,disableOnInteraction:!1},I=(0,o.memo)((0,o.forwardRef)(function({show:e=!0,item:t,playMode:i,index:g,teaParams:I,onAudioPlay:P,onAudioError:A,onTimeUpdate:M,onPhotoPlay:L,onFinish:D,isActive:O=!0,hideAudio:R=!1,shouldAutostart:E=!0},F){var B,z,U,N,W;const{video:{duration:V,volumeInfo:H},id:q,itemMute:$=!1}=(0,v.L$)(t),G=null!==(z=null===(B=null==t?void 0:t.music)||void 0===B?void 0:B.playUrl)&&void 0!==z?z:"",K=null!==(N=null===(U=null==t?void 0:t.imagePost)||void 0===U?void 0:U.images)&&void 0!==N?N:[],{isMobile:Y=!1}=null!==(W=(0,c.U)(()=>["isMobile"],[]))&&void 0!==W?W:{},Z=(0,S.dv)(q),J=(0,S.hy)(),[X,Q]=(0,o.useState)(!1),[ee,te]=(0,o.useState)(!1),ie=(0,o.useRef)(!1),ne=(0,o.useRef)(-1),oe=(0,o.useRef)(-1),ae=(0,o.useRef)(!1),re=(0,o.useRef)(null),se=(0,o.useRef)(null),le=(0,o.useRef)([]),{isRTL:de}=(0,u.m)(),ce=(0,f.eu)(),ue=(0,y.i3)(),{handleBreakCount:pe}=(0,w.K)(i),ge=(0,o.useMemo)(()=>O&&(K.length>1||ce)&&!(null==t?void 0:t.story),[O,ce,K.length,null==t?void 0:t.story]),_e=(0,o.useMemo)(()=>[""],[]),me=de?"rtl":"ltr",{aweme_type:he,pic_cnt:ve}=(0,b.MA)(t),fe=(0,C.WH)(q),ye=(0,o.useMemo)(()=>Object.assign(Object.assign({},I),{aweme_type:he,pic_cnt:ve}),[he,ve,I]),be=(0,o.useMemo)(()=>{const{group_id:e="",author_id:t="",is_scheduled:n,search_id:o,search_keyword:a,search_result_id:r,question_id:s,collection_id:l,collection_name:d,isPaidPartnership:c,poi_id:u,tab_name:p,isReposted:g,enter_method:_}=I||{};return Object.assign({itemId:e,authorId:t,isScheduled:Boolean(n),autoplayStatus:1,searchId:o,searchKeyword:a,searchResultId:r,questionId:s,playMode:i,isMute:ue,collectionId:l,collectionName:d,isPaidPartnership:Boolean(c),poiId:u,awemeType:he,picCnt:ve,isReposted:g,tab_name:p,enterMethod:_},fe)},[he,i,ue,ve,I,fe]),xe=(0,o.useMemo)(()=>Object.assign(Object.assign({},be),{currentTime:0,duration:0}),[be]),ke=(0,k.Nj)(l.Gs),we=(0,o.useCallback)(()=>{if(ne.current<=0)return;const e=Number(new Date)-ne.current;xe.duration=e,2!==i&&d.s.handleVideoStop(xe)},[i,xe]),Se=(0,o.useCallback)(()=>{var e;if(K.length>1){const t=null===(e=se.current)||void 0===e?void 0:e.autoplay;null==t||t.start()}ke.triggerPlay(),ne.current=Number(new Date),ie.current=!1},[K.length,ke]),Ce=(0,o.useCallback)(e=>{var t;const n=null===(t=se.current)||void 0===t?void 0:t.autoplay;null==n||n.stop(),ke.triggerPause({aweme_type:he,pic_cnt:ve,enter_method:e,playMode:i}),O&&we()},[he,i,ve,ke,O,we]),je=(0,k.Nj)(x.V$);(0,o.useEffect)(()=>{const e=()=>{var e,t,i,n;document.hidden?(O&&Ce("other"),null===(t=null===(e=re.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)):O&&(Se(),null===(n=null===(i=re.current)||void 0===i?void 0:i.play)||void 0===n||n.call(i))};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[O,Ce,Se]),(0,o.useEffect)(()=>{X&&O&&(ne.current=Number(new Date),oe.current=ne.current,d.s.handleVideoPlay(xe),ke.handleAudioPlay(q),ke.triggerPlay(),ie.current=!1,J.setPhotoInfo({itemId:q,length:K.length,index:0}),null==L||L())},[X,O]),(0,o.useEffect)(()=>{var e;if(ge){const t=null===(e=se.current)||void 0===e?void 0:e.autoplay;null==t||t.start()}},[ge]),(0,o.useEffect)(()=>te(!0),[]),(0,o.useEffect)(()=>{var e,t;Z.index>=0&&Z.index!==(null===(e=se.current)||void 0===e?void 0:e.realIndex)&&(null===(t=se.current)||void 0===t||t.slideToLoop(Z.index))},[Z.index]);const Te=(0,o.useCallback)(()=>{pe(),(0!==i||O)&&we()},[i,O,we,pe]),Ie=(0,o.useCallback)(()=>{var e,t,n;if(3!==i){null===(t=null===(e=re.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e);const i=null===(n=se.current)||void 0===n?void 0:n.autoplay;null==i||i.stop()}null==D||D()},[i,D]),Pe=(0,o.useCallback)(e=>{e.realIndex===K.length-1&&(ie.current?ce&&Ie():(pe(),d.s.handleVideoFinish(xe),ie.current=!0,K.length>1&&ce&&Ie()))},[K.length,xe,ce]),Ae=(0,o.useCallback)(e=>{ae.current=!0,J.setPhotoInfo({itemId:q,length:K.length,index:e.realIndex})},[q,K.length,J]),Me=(0,o.useCallback)(()=>{ae.current=!1},[]),Le=(0,o.useCallback)(e=>{K.length},[K.length]),De=(0,o.useCallback)(()=>{je.reportActualFMP(),j.e.handleActualFMP()},[je]);return(0,o.useImperativeHandle)(F,()=>({audio:{play:()=>{var e,t;null===(t=null===(e=re.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)},pause:()=>{var e,t;null===(t=null===(e=re.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)},onTimeUpdate:e=>{var t;null===(t=re.current)||void 0===t||t.onTimeUpdate(e)},get currentTime(){var e,t;return null!==(t=null===(e=re.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=re.current)||void 0===e?void 0:e.duration)&&void 0!==t?t:0},get currentCanPlay(){var e,t;return null!==(t=null===(e=re.current)||void 0===e?void 0:e.currentCanPlay)&&void 0!==t&&t}},swiper:{play:Se,pause:Ce,slidePrev:e=>{var t,i;ae.current||(null===(t=se.current)||void 0===t||t.slidePrev(),null===(i=se.current)||void 0===i||i.autoplay.stop(),oe.current===ne.current&&(oe.current=Number(new Date)),K.length)},slideNext:e=>{var t,i;ae.current||(null===(t=se.current)||void 0===t||t.slideNext(),null===(i=se.current)||void 0===i||i.autoplay.stop(),oe.current===ne.current&&(oe.current=Number(new Date)),K.length)},slideToLoop:e=>{var t;null===(t=se.current)||void 0===t||t.slideToLoop(e)},onActiveIndexChange:e=>{le.current.push(e);const t=se.current;t&&(t.off("activeIndexChange"),le.current.forEach(e=>t.on("activeIndexChange",e)))},get paused(){var e;return!(null===(e=se.current)||void 0===e?void 0:e.autoplay.running)}}})),ee?(0,n.jsxs)(_,{isMobile:Y,children:[(0,n.jsx)("link",{rel:"stylesheet",href:r}),e&&(0,n.jsx)(m,{children:K.length>0?(0,n.jsx)(s.RC,{loop:!0,onInit:e=>{se.current=e,le.current.forEach(t=>e.on("activeIndexChange",t))},style:{height:"100%",zIndex:0},speed:800,dir:me,direction:"horizontal",modules:[a.Ij],autoplay:!(!ge||!E)&&T,allowSlideNext:ge,allowSlidePrev:ge,preventClicks:!1,preventClicksPropagation:!1,onAfterInit:()=>Q(!0),onImagesReady:()=>{},onDestroy:Te,onSlideNextTransitionEnd:Pe,onSlideChangeTransitionStart:Ae,onSlideChangeTransitionEnd:Me,onAutoplay:Le,slidesPerView:"auto",touchStartPreventDefault:!1,children:K.map(e=>{var t,i;return(0,n.jsx)(s.qr,{style:{height:"100%"},children:(0,n.jsx)(h,{src:(null!==(t=e.imageURL.urlList)&&void 0!==t?t:_e)[0],onLoad:De})},(null!==(i=e.imageURL.urlList)&&void 0!==i?i:_e)[0])})}):null}),!R&&(0,n.jsx)(p.Y,{ref:re,index:g,id:q,mode:i,duration:V,playUrl:G,teaParams:ye,volumeInfo:H,itemMute:$,onAudioPlay:P,onAudioError:A,onTimeUpdate:M,preload:"metadata",playsInline:!0})]}):null}))},33327:(e,t,i)=>{"use strict";i.d(t,{x:()=>o});var n=i(40099);function o(e,t,i=!0,o=!0){return(0,n.useCallback)(t=>{32!==t.keyCode&&13!==t.keyCode||(i&&t.preventDefault(),o&&t.stopPropagation(),null==e||e())},t)}},34038:(e,t,i)=>{"use strict";i.d(t,{z:()=>_});var n=i(24643),o=i(40099),a=i(17784),r=i(16410),s=i(62334);function l(e,t){return e||t?t?e?{left:"50%",transform:`translate(-50%, ${t}px)`}:{transform:`translateY(${t}px)`}:{left:"50%",transform:"translateX(-50%)"}:null}const d=(0,r.default)("div",{target:"e2ipgxl0"})(({zIndex2:e,state:t,duration:i=300,theme:n,centered:o,verticalPropKey:a,verticalOffset:r})=>[{position:"absolute",zIndex:e?2:1,background:n.colors.BGPrimary,borderRadius:"8px",[a]:"calc(100% + 12px)",boxShadow:"0 4px 16px rgba(0, 0, 0, .12)",transition:`opacity ${i}ms`,opacity:Number("entering"===t||"entered"===t),overscrollBehavior:"contain"},l(o,r)],"label:DivContainer;"),c=(0,r.default)(s.A,{shouldForwardProp:e=>"verticalPropKey"!==e&&"centered"!==e,target:"e2ipgxl1"})([{display:"block",width:"24px",height:"8px",position:"absolute"},({centered:e})=>e?{left:"50%"}:null,({verticalPropKey:e})=>"top"===e?{top:"-8px"}:{bottom:"-8px"},({centered:e,verticalPropKey:t})=>{const i=[];return e&&i.push("translateX(-50%)"),t&&"bottom"===t&&i.push("rotate(180deg)"),{transform:i.length>0?i.join(" "):void 0}}],"label:StyledTopArrow;");var u=i(70589);const p={topRight:"right",topLeft:"left",top:null,bottomRight:"right",bottomLeft:"left",bottom:null},g={topRight:"bottom",topLeft:"bottom",top:"bottom",bottomRight:"top",bottomLeft:"top",bottom:"top"},_=function({placement:e,margin:t="-2px",arrowMargin:i=6,duration:r=300,backgroundColor:s="#fff",active:l=!1,verticalOffset:_=0,style:m,hideArrow:h=!1,id:v,onKeyDown:f,ariaLabel:y,ariaLabelledBy:b,children:x}){const k=(0,o.useRef)(null),w=p[e],S=g[e],{allowRightPanelScroll:C,shouldOptimizeReply:j}=(0,u.kb)(),T=Object.assign({backgroundColor:s},m),I={};return w&&(I[w]=i,T[w]=t),(0,n.jsx)(a.Ay,{in:l,timeout:r,unmountOnExit:!0,nodeRef:k,children:e=>(0,n.jsxs)(d,{zIndex2:j||C,verticalPropKey:S,state:e,duration:r,ref:k,style:T,centered:!w,verticalOffset:_,id:v,tabIndex:-1,onKeyDown:f,"aria-label":y,"aria-labelledby":b,children:[!h&&(0,n.jsx)(c,{fill:s,style:I,centered:!w,verticalPropKey:S}),x]})})}},35308:(e,t,i)=>{"use strict";i.d(t,{BS:()=>T,mX:()=>I,G6:()=>M,fG:()=>P,Bl:()=>D,Eo:()=>L});var n=i(76357),o=i(69749),a=i(28708),r=i(71451),s=i(7441),l=i(31181),d=i(18440),c=i(50948),u=i(64317),p=i(64025),g=i(95478),_=i(77130),m=i(3592),h=i(40720),v=i(83563),f=i(6311),y=i(84966),b=i(8226),x=i(96881),k=i(54133);const w=({src:e})=>{const t=/^https?:\/\/[a-zA-Z0-9-]+-sg/.test(e)?"t.tiktok.com":"m.tiktok.com";return(0,k.stringifyUrl)({url:`https://${t}/node-a/video/playsv`,query:{play_url:e}})};var S=i(70589),C=i(47323);const j=[228,261,302],T={isFollowNotice:e=>33===e.type&&Boolean(e.follow),isFollowApprovalNotice:e=>"type"in e&&23===e.type&&Boolean(e.follow_request_approve),isLikeNotice:e=>41===e.type&&Boolean(e.digg),isCommentNotice:e=>31===e.type&&Boolean(e.comment),isDuetNotice:e=>21===e.type&&Boolean(e.duet),isMentionNotice:e=>45===e.type&&Boolean(e.at),isReportInboxNotice:e=>213===e.type&&Boolean(e.template_notice),isRepostInboxNotice:e=>j.includes(e.type)&&Boolean(e.template_notice)},I=e=>{var t,i,n,o,a,r,s,l,d,c,u,p,g,_,m,h,v,f,y,b;if(T.isLikeNotice(e)){const r=null===(n=null===(i=null===(t=e.digg.aweme)||void 0===t?void 0:t.video)||void 0===i?void 0:i.cover)||void 0===n?void 0:n.url_list;if(0!==(null===(a=null===(o=e.digg.aweme)||void 0===o?void 0:o.status)||void 0===a?void 0:a.private_status)&&r){const e=w({src:r[0]});r[0]=e}}if(T.isCommentNotice(e)){const t=null===(l=null===(s=null===(r=e.comment.aweme)||void 0===r?void 0:r.video)||void 0===s?void 0:s.cover)||void 0===l?void 0:l.url_list;if(0!==(null===(c=null===(d=e.comment.aweme)||void 0===d?void 0:d.status)||void 0===c?void 0:c.private_status)&&t){const e=w({src:t[0]});t[0]=e}}if(T.isDuetNotice(e)){const t=null===(g=null===(p=null===(u=e.duet.aweme)||void 0===u?void 0:u.video)||void 0===p?void 0:p.cover)||void 0===g?void 0:g.url_list;if(0!==(null===(m=null===(_=e.duet.aweme)||void 0===_?void 0:_.status)||void 0===m?void 0:m.private_status)&&t){const e=w({src:t[0]});t[0]=e}}if(T.isMentionNotice(e)){const t=null===(f=null===(v=null===(h=e.at.aweme)||void 0===h?void 0:h.video)||void 0===v?void 0:v.cover)||void 0===f?void 0:f.url_list;if(0!==(null===(b=null===(y=e.at.aweme)||void 0===y?void 0:y.status)||void 0===b?void 0:b.private_status)&&t){const e=w({src:t[0]});t[0]=e}}};function P(e){switch(e){case 661:return n.A;case 47:case 399:return o.A;case 12:return a.A;case 61:return r.A;case 21:return s.A;case 82:return l.A;case 81:return d.A;case 212:return c.A;case 215:return u.A;case 218:return p.A;case 223:return g.A;case 224:return _.A;case 249:return m.A;case 254:return h.A;case 255:return v.A;case 256:return f.A;case 262:return y.A;case 272:return b.A;case 274:return x.A;default:return}}const A={2:47,6:21};function M(e){var t;return null!==(t=A[e])&&void 0!==t?t:e}function L(e){try{return"object"==typeof JSON.parse(e)}catch(e){return!1}}function D(){const{isRepostNoticeEnabled:e}=(0,S.Fl)();return e?C.ri:C.E4}},35611:(e,t,i)=>{"use strict";i.d(t,{K:()=>c});var n=i(67823),o=i(40099),a=i(19796),r=i.n(a),s=i(59030),l=i(37005),d=i(16610);function c(){const{isElectronApp:e}=(0,d.B)();return(0,o.useCallback)(({lang:t,url:i,currentLang:o,isMobile:a})=>{!function({lang:e,url:t,currentLang:i,isMobile:o}){l.j.handleLanguageChange({language:i,to_language:e,enter_method:o?"top_bar":void 0}),n.A.remove(s.WU),n.A.set(s.WU,e,{secure:!0,expires:300,domain:".tiktok.com"}),window.location.replace(t)}({lang:t,url:i,currentLang:o,isMobile:a}),e&&r().app.langChange({lang:t})},[e])}},35757:(e,t,i)=>{"use strict";i.d(t,{m:()=>a});var n=i(24643),o=i(95501);const a=e=>{const{loading:t}=e;return t?(0,n.jsx)(o.R,{style:{display:"block",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:3}}):null}},35898:(e,t,i)=>{"use strict";i.d(t,{Li:()=>d,WL:()=>c});var n=i(75741),o=i.n(n),a=i(50852),r=i(2460);function s(e){var t;try{const i={common:{},data:{}},n=e?JSON.parse(e):{};if(i.common=n.common,n.data)for(const e of Object.keys(n.data)){if(n.data[e].main){const t=JSON.parse(n.data[e].main.sdk_params);i.data[e]={},i.data[e].main=n.data[e].main,i.data[e].main.sdk_params=t}if(n.data[e].backup){const o=JSON.parse(n.data[e].backup.sdk_params);i.data[e]=null!==(t=i.data[e])&&void 0!==t?t:{},i.data[e].backup=n.data[e].backup,i.data[e].backup.sdk_params=o}}return i}catch(e){return void console.error(e)}}const l=Object.freeze(["origin","uhd_60","uhd","hd_60","hd","sd","ld"]);function d(e,t){let i="sd";return t===r.VC.High&&(e===r.L2.Low||e===r.L2.Medium?i="hd":e===r.L2.High&&(i="uhd")),i}const c={getAvailableStream:function(e,t){var i,n,r,d,c,u;const p=s(e.stream_data);if(p){const s=(g=p,_=null===(i=e.options)||void 0===i?void 0:i.qualities,o()(Object.keys(g.data),e=>l.indexOf(e)).filter(e=>Boolean(!(null==_?void 0:_.length)||_.find(t=>t.sdk_key===e))).map(e=>{var t,i,n,o;const r=g.data[e],s=null!==(i=null===(t=null==_?void 0:_.find(t=>t.sdk_key===e))||void 0===t?void 0:t.name)&&void 0!==i?i:a.qt[e];let l=r.main.sdk_params.vbitrate;return"origin"===e&&(l=2e6),{sdkKey:e,definition:s,bitrate:l,url:{mainFLV:r.main.flv,mainHLS:r.main.hls,backupFLV:null===(n=r.backup)||void 0===n?void 0:n.flv,backupHLS:null===(o=r.backup)||void 0===o?void 0:o.hls},activeUrl:"",vCodecKey:r.main.sdk_params.VCodec,isActive:!1,pullFailedCount:0}})),m=null!==(c=null!==(n=null==t?void 0:t.targetQuality)&&void 0!==n?n:null===(d=null===(r=e.options)||void 0===r?void 0:r.default_quality)||void 0===d?void 0:d.sdk_key)&&void 0!==c?c:"sd",h=null!==(u=null==t?void 0:t.direction)&&void 0!==u?u:"down",v=s.find(e=>e.sdkKey===m),f=s.map(e=>e.sdkKey);return v||s.find(e=>e.sdkKey===function(e,t,i){const n=l.map(t=>e.includes(t)?t:null);let o=l.findIndex(e=>e===t),a=null;for(;!a;){if("up"===i&&0===o||"down"===i&&o===n.length-1)return;o="up"===i?o-1:o+1,a=n[o]}return a}(f,m,h))}var g,_},getStreamSecretKey:function(e){var t;const i=s(e.stream_data);if(i)return null===(t=i.common)||void 0===t?void 0:t.drm_secret_key}}},36677:(e,t,i)=>{"use strict";i.d(t,{gi:()=>de});var n=i(24643),o=i(40099),a=i(72355),r=i(2913),s=i(16188),l=i(69596),d=i(5230),c=i(57998),u=i(58699),p=i(48156),g=i(28333),_=i(51106),m=i(159),h=i(61198),v=i(27799),f=i(20434),y=i(15921),b=i(25961),x=i(70589),k=i(23037),w=i(81474),S=i(90976);const C=(0,i(47236).Ay)({resolved:{},chunkName:()=>"editor",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(2780),i.e(2939),i.e(9187),i.e(8395),i.e(6008)]).then(i.bind(i,66081)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>66081});var j=i(24920),T=i(16410),I=i(93584);const P=(0,T.default)("div",{target:"exl80ic0"})(({theme:{colors:e}})=>({width:"100%",height:"100%",display:"flex",flexDirection:"column-reverse",backgroundColor:e.BGPrimary}),"label:DivEmojiSuggestionContainer;"),A=(0,T.default)("ul",{target:"exl80ic1"})(({theme:{colors:e}})=>({listStyleType:"none",margin:0,padding:0,order:1,flex:"0 0 38px",borderTop:`1px solid ${e.LineSecondary}`,display:"flex",flexDirection:"row"}),"label:UlNavContainer;"),M=(0,T.default)("div",{target:"exl80ic2"})(({theme:{colors:e}})=>({order:2,flex:"1 1 100%",overflowY:"scroll",scrollbarWidth:"none","::-webkit-scrollbar":{width:4},"::-webkit-scrollbar-track":{marginTop:8},"::-webkit-scrollbar-thumb":{borderRadius:2,backgroundColor:e.LineSecondary},":hover::-webkit-scrollbar-thumb":{backgroundColor:e.TextQuaternary}}),"label:DivPanelContainer;"),L=(0,T.default)("ul",{target:"exl80ic3"})({listStyleType:"none",margin:0,padding:0,width:"100%",height:"100%",display:"flex",flexWrap:"wrap"},"label:UlPanelList;"),D=(0,T.default)("li",{target:"exl80ic4"})(({theme:e,theme:{colors:t},isActive:i})=>[(0,I.zy)({theme:e,color:"ConstBGInverse",typography:"H4"}),{listStyleType:"none",flex:"0 0 auto",width:40,height:40,lineHeight:"46px",margin:"5px 6px",cursor:"pointer",textAlign:"center",backgroundColor:i?t.BGInput:t.BGPrimary,borderRadius:8,":hover":{backgroundColor:t.BGInput}}],"label:LiItem;"),O=(0,o.memo)(function({emojis:e,onSelect:t}){const i=(0,o.useRef)(-1),a=(0,o.useCallback)(e=>{const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i.current=e?Number(e):-1}},[]),r=(0,o.useCallback)(()=>{var e,t;if("li"===(null===(e=document.activeElement)||void 0===e?void 0:e.nodeName.toLocaleLowerCase())){const e=null===(t=document.activeElement)||void 0===t?void 0:t.getAttribute("data-index");i.current=e?Number(e):-1}},[]),s=(0,o.useCallback)(n=>{(0,f.Gu)(n);const o=i.current;-1!==o&&t(e[o].emoji)},[e,t]),l=(0,o.useCallback)(n=>{if(13===n.keyCode||32===n.keyCode){n.stopPropagation(),n.preventDefault();const o=i.current;-1!==o&&t(e[o].emoji)}},[e,t]);return(0,n.jsx)(L,{onMouseOver:a,onClick:s,onKeyDown:l,children:e.map((e,t)=>(0,n.jsx)(D,{"data-index":t,isActive:!1,tabIndex:0,onFocus:r,children:e.emoji},e.alias))})}),R=[{name:"basic",data:j.A,iconIndex:11}],E=(0,o.memo)(function(e){const[t,i]=(0,o.useState)(0),a=(0,o.useCallback)(e=>{(0,f.Gu)(e);const t=e.target;if("li"===t.nodeName.toLocaleLowerCase()){const e=t.getAttribute("data-index");i(e?Number(e):0)}},[]);return(0,n.jsxs)(P,{children:[(0,n.jsx)(A,{onClick:a,role:"tablist",children:R.map(({name:e,data:i,iconIndex:o},a)=>(0,n.jsx)(D,{"data-index":a,isActive:a===t,role:"tab",tabIndex:0,"aria-selected":a===t,"aria-controls":"emoji-panel-container",children:i[o].emoji},e))}),(0,n.jsx)(M,{"data-e2e":"comment-emoji-group",children:(0,n.jsx)(O,{emojis:R[t].data,onSelect:e.onSelect},R[t].name)})]})});var F=i(67518),B=i(16842),z=i(69857),U=i(8076),N=i(14952),W=i(37082);const V=(0,T.default)("div",{target:"e16bf9xh0"})(({theme:{colors:e}})=>({width:"100%",height:"100%",overflowX:"hidden",overflowY:"scroll",backgroundColor:e.BGPrimary,scrollbarWidth:"none","::-webkit-scrollbar":{width:0}}),"label:DivContainer;"),H=(0,T.default)("div",{target:"e16bf9xh1"})({display:"flex",flexDirection:"column",alignItems:"center"},"label:DivNotItemContainer;"),q=(0,T.default)("p",{target:"e16bf9xh2"})(({theme:e})=>(0,I.zy)({theme:e,color:"TextTertiary",typography:"H6"}),{flex:"1 1 auto",margin:"18px auto"},"label:PLoadingText;"),$=(0,T.default)("p",{target:"e16bf9xh3"})(({theme:e})=>(0,I.zy)({theme:e,color:"TextTertiary",typography:"H5"}),{flex:"1 1 auto",marginTop:106},"label:PErrorText;"),G=(0,T.default)("p",{target:"e16bf9xh4"})(({theme:e})=>(0,I.zy)({theme:e,color:"Primary",typography:"H6"}),{flex:"1 1 auto",margin:"11px auto",cursor:"pointer"},"label:PRetryText;"),K=(0,T.default)("div",{target:"e16bf9xh5"})(({theme:{colors:e},isDisabled:t})=>({height:"100%",padding:"4px 0",margin:"0 16px",display:"flex",cursor:t?"default":"pointer",borderBottom:`1px solid ${e.LineSecondary}`}),"label:DivItemContainer;"),Y=(0,T.default)("div",{target:"e16bf9xh6"})(({theme:{colors:e},isActive:t,isDisabled:i})=>({height:48,backgroundColor:t?e.BGView:e.BGPrimary,opacity:i?.34:1}),"label:DivItemBackground;"),Z=(0,T.default)("div",{target:"e16bf9xh7"})([{flex:"1 1 auto",overflow:"hidden"},({theme:{direction:e}})=>(0,I.mp)({direction:e,marginStart:8})],"label:DivInfoContainer;"),J=(0,T.default)("p",{target:"e16bf9xh8"})([{display:"flex",alignItems:"center"}],"label:PMentionInfoLine;"),X=(0,T.default)("span",{target:"e16bf9xh9"})(({theme:e})=>(0,I.zy)({theme:e,fontWeight:"semiBold",typography:"P3"}),I.PR,"label:SpanInfoNickname;"),Q=(0,T.default)("span",{target:"e16bf9xh10"})(({theme:e})=>(0,I.zy)({theme:e,fontWeight:"normal",typography:"P4"}),I.PR,"label:SpanInfoUniqueId;"),ee=(0,T.default)("span",{target:"e16bf9xh11"})({margin:"0px 4px"},"label:SpanInfoDot;"),te=(0,T.default)("span",{target:"e16bf9xh12"})({fontSize:"10px"},"label:SpanInfoVerify;"),ie=(0,T.default)("span",{target:"e16bf9xh13"})(({theme:e})=>(0,I.zy)({theme:e,color:"TextTertiary",fontWeight:"semiBold",typography:"P4"}),{verticalAlign:"middle",flexShrink:0},"label:SpanInfoFollowing;"),ne=(0,o.memo)(function({isActive:e,index:t,user:i}){var a;const r=(0,v.s)(),{user:s}=null!==(a=(0,S.W)(()=>["user"],[]))&&void 0!==a?a:{},{nickname:l,uniqueId:d,verified:c,relation:u,avatarThumb:p,blockType:g}=i,m=(0,o.useMemo)(()=>1===u||2===u,[u]),h=1===g||d===(null==s?void 0:s.uniqueId),{setActiveItem:f}=(0,_.b7)(),y=(0,o.useCallback)(()=>{f({index:t,isActivatedByMouse:!0})},[f,t]),b=(0,o.useCallback)(()=>{y()},[y]);return(0,n.jsx)(Y,{"data-e2e":"comment-at-list",isActive:e,isDisabled:h,onMouseEnter:y,tabIndex:0,onFocus:b,children:(0,n.jsxs)(K,{isDisabled:h,children:[(0,n.jsx)(W.e,{size:40,src:p,style:{flex:"0 0 40px"}}),(0,n.jsxs)(Z,{children:[(0,n.jsxs)(J,{children:[(0,n.jsx)(X,{"data-e2e":"comment-at-nickname",children:l}),c&&(0,n.jsx)(te,{children:(0,n.jsx)(N.s,{})}),m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ee,{children:"·"}),(0,n.jsx)(ie,{children:r("Following")})]})]}),(0,n.jsx)(J,{children:(0,n.jsx)(Q,{"data-e2e":"comment-at-uniqueid",children:d})})]})]})})});var oe=i(61974);const ae=(0,o.memo)(function({keyword:e="",onSelect:t}){var i;const a=(0,v.s)(),{colors:r}=(0,F.u)(),{user:s}=null!==(i=(0,S.W)(()=>["user"],[]))&&void 0!==i?i:{},{secUid:l=""}=(0,z.L$)(s),[{loading:d,isFetchError:u,activeList:p,activeItem:g,recentCount:m},{fetchDefaultResult:y,fetchSearchResult:b}]=(0,_.em)(e=>({loading:e.loading,isFetchError:e.isFetchError,activeList:e.activeList,activeItem:e.activeItem,recentCount:e.recentCount}),h.bN),{index:x}=g,k=(0,o.useRef)(null),w=(0,o.useRef)([]);(0,o.useEffect)(()=>{y({secUid:l})},[y,l]),(0,o.useEffect)(()=>{""===e?y({secUid:l}):b(e)},[e,l,y,b]),(0,o.useEffect)(()=>{const{index:e,isActivatedByMouse:t}=g;t||function(e,t){if(null===t||t===_.Px||null===e.current)return;const i=48*t,n=48*(t+1),o=e.current.clientHeight,{scrollTop:a}=e.current;i<a?e.current.scrollTop=i:n>o+a&&(e.current.scrollTop=n-o)}(k,e)},[g]);const C=(0,o.useCallback)(()=>""!==e&&b(e),[b,e]);(0,U.O9)({elemRef:k,onHitBottom:C,bottomThreshold:96});const j=(0,o.useCallback)(t=>{(0,f.Gu)(t),""===e?y({secUid:l}):b(e)},[l,y,b,e]),T=(0,o.useCallback)(e=>{(0,f.Gu)(e),null==t||t()},[t]),I=(0,o.useCallback)(t=>{p.slice(t,t+5).forEach((i,n)=>{if(w.current[t+n])return;const{blockType:o,uniqueId:a,id:r,relation:l}=i,d=1===o||a===(null==s?void 0:s.uniqueId);let u="all_user";!e&&t+n<m?u="recent":1===l?u="following":2===l&&(u="friends"),c.ao.handleMentionItemShow({to_user_id:r,user_type:u,search_keyword:e,is_valid:d?"0":"1"}),w.current[t+n]=!0})},[p,null==s?void 0:s.uniqueId,e,m]),P=(0,B._g)(e=>{const{scrollTop:t}=e.target,i=Math.floor(t/48);I(i)},[I],50);return(0,o.useEffect)(()=>{I(0)},[I]),d?(0,n.jsx)(V,{children:(0,n.jsxs)(H,{children:[(0,n.jsx)(oe.h,{size:26,fill:r.TextTertiary,style:{marginTop:80,flex:"1 1 auto"}}),(0,n.jsx)(q,{children:a("comment_at_search")})]})}):u?(0,n.jsx)(V,{children:(0,n.jsxs)(H,{children:[(0,n.jsx)($,{children:a("comment_at_load")}),(0,n.jsx)(G,{onClick:j,children:a("comment_at_tryagain")})]})}):(0,n.jsx)(V,{ref:k,onClick:T,onScroll:P,children:p.map((e,t)=>(0,n.jsx)(ne,{user:e,index:t,isActive:x===t},t))})});var re=i(5124),se=i(71628),le=i(11534);const de=(0,o.memo)(function({itemId:e,disable:t,teaParams:i,childInputRef:j,isReply:T,isCommentRedesign:I,onBlur:P=()=>{},onFocus:A=()=>{},onClose:M=()=>{},onPublishComment:L,useNewPopover:D}){var O;const{user:R}=null!==(O=(0,S.W)(()=>["user"],[]))&&void 0!==O?O:{},[{activeItem:F,activeList:B},{activePrev:z,activeNext:U}]=(0,_.em)(({activeItem:e,activeList:t})=>({activeItem:e,activeList:t}),h.bN),{shouldOptimizeReply:N}=(0,x.kb)(),[W,V]=(0,o.useState)(!1),{index:H}=F,q=(0,le.Em)(T),$=(0,le.WA)(),{publishComment:G,setNeedResetKeyword:K,setIsInputFocus:Y}=(0,m.$4)(),[Z,J]=(0,o.useState)(null),[X,Q]=(0,o.useState)(!1),ee=(0,o.useRef)(null),te=(0,o.useRef)(null),ie=null!=j?j:te,ne=(0,v.s)(),[oe,de]=(0,o.useState)(!1);(0,o.useEffect)(()=>{de(!0)},[]);const ce=(0,o.useCallback)(e=>{var t;(0,f.Gu)(e),null===(t=ie.current)||void 0===t||t.handleInsertMentionTrigger(),c.ao.handleSearchAt(Object.assign(Object.assign({},i),{enter_method:"button"}))},[i]),ue=(0,o.useCallback)(e=>{var t;13!==e.keyCode&&32!==e.keyCode||(e.stopPropagation(),e.preventDefault(),null===(t=ie.current)||void 0===t||t.handleInsertMentionTrigger(),c.ao.handleSearchAt(Object.assign(Object.assign({},i),{enter_method:"button"})))},[i]),pe=(0,o.useCallback)(e=>{"@"===e&&c.ao.handleSearchAt(Object.assign(Object.assign({},i),{enter_method:"input"}))},[i]),ge=(0,o.useCallback)(()=>{var e;if(null===Z||null===H)return;const t=B[H];t&&(1!==t.blockType?t.uniqueId!==(null==R?void 0:R.uniqueId)?(null===(e=ie.current)||void 0===e||e.handleSelectUser(t),c.ao.handleSelectAt(Object.assign(Object.assign({},i),{to_user_id:t.id}))):p.F.open({content:ne("no_at_me"),duration:3,widthType:"half",getContainer:k.M,getContainerPosition:"fixed"}):p.F.open({content:ne("mention_privacy_toast_cant_mention"),duration:3,widthType:"half",getContainer:k.M,getContainerPosition:"fixed"}))},[H,B,Z,ne,i,R]),_e=(0,o.useCallback)(e=>{var t,n;null===(t=ie.current)||void 0===t||t.handleSelectEmoji(e),Q(!1),c.ao.handleEmojiSelect(Object.assign(Object.assign({},i),{enter_method:"button",emoji_code:null===(n=(0,y.h)(e))||void 0===n?void 0:n[0]}))},[i]),me=(0,o.useCallback)(e=>{var t;(0,f.Gu)(e),Q(!X),J(null),D||null===(t=ie.current)||void 0===t||t.focus()},[X,D]),he=(0,o.useCallback)(e=>{13===e.keyCode||32===e.keyCode?(e.stopPropagation(),e.preventDefault(),Q(!X),J(null)):X&&27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),Q(!1),J(null))},[X]),ve=(0,o.useCallback)(e=>{X&&27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),Q(!1),J(null))},[X]),fe=(0,o.useCallback)(t=>()=>{var n,o;if(!q){const a=null!==(o=null===(n=ie.current)||void 0===n?void 0:n.getTextInfo())&&void 0!==o?o:{inputText:"",textExtra:[]};G(Object.assign(Object.assign({awemeId:e,isReplyComment:T,shouldOptimizeReply:N,isCommentRedesign:I},a),{teaParams:Object.assign(Object.assign({},i),{play_mode:"browser_mode",enter_method:t})})).then(()=>null==L?void 0:L())}},[q,e,G,i]),ye=null!==Z&&!X,be=(0,o.useCallback)(e=>t=>{q||13!==t.keyCode&&32!==t.keyCode||(t.stopPropagation(),t.preventDefault(),fe(e)())},[q,fe]),xe=(0,o.useCallback)(e=>{N?V(e):Y(e)},[N]),ke=(0,o.useCallback)(()=>{xe(!0),A()},[A]),we=(0,o.useCallback)(()=>{xe(!1),P(),u.E.handleCloseText({group_id:i.group_id})},[P,i.group_id]),Se=(0,o.useCallback)(()=>{u.E.handleEnterText({group_id:i.group_id})},[i.group_id]),Ce=(0,w.i)({upHandler:z,downHandler:U,confirmHandler:ge});(0,o.useEffect)(()=>{const e=()=>{X&&Q(!1),K(!0)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[X,K]);const{pathname:je}=(0,a.zy)(),Te=(0,b.Fj)(je);return(0,n.jsxs)(re.eX,{isReply:T,children:[(0,n.jsx)(re.FS,{children:(0,n.jsxs)(re.uI,{isInVideoDetail:Te,isFocus:N?W:$,onKeyDown:Ce,onFocus:ke,onBlur:we,onClick:Se,children:[(0,n.jsx)(re.u_,{isInVideoDetail:Te,children:oe?(0,n.jsx)(C,{isReply:T,ref:ie,disable:t,onKeywordChange:J,onPost:fe("input"),onInputTrigger:pe}):null}),D?(0,n.jsx)(l.j,{keyword:Z,setIsActive:e=>{var t;J(e?null!=Z?Z:"":null),e&&(null===(t=ie.current)||void 0===t||t.handleInsertMentionTrigger())},onSelectUser:e=>{var t;return null===(t=ie.current)||void 0===t?void 0:t.handleSelectUser(e)},teaParams:i}):(0,n.jsx)(g.m,{fullscreenAdjust:!0,overlay:ne("comment_tray_at"),children:(0,n.jsx)(re.az,{"aria-label":ne("comment_tray_at"),"aria-expanded":ye,role:"button",isInVideoDetail:Te,onClick:ce,onKeyDown:ue,tabIndex:0,children:(0,n.jsx)(r.A,{})})}),D?(0,n.jsx)(d.R,{onClickOpenEmojiPanel:me,onSelectEmoji:_e,teaParams:i}):(0,n.jsx)(g.m,{fullscreenAdjust:!0,overlay:ne("comment_tray_emoji"),children:(0,n.jsx)(re.gI,{"aria-label":ne("comment_tray_emoji"),"aria-expanded":X,role:"button",isInVideoDetail:Te,isActive:X,onClick:me,onKeyDown:he,tabIndex:0,children:(0,n.jsx)(s.A,{})})}),!D&&ye?(0,n.jsx)(re.Nm,{"data-e2e":"comment-at-user",show:B.length>0,children:(0,n.jsx)(ae,{keyword:Z,onSelect:ge})}):null,!D&&X?(0,n.jsx)(re.To,{"data-e2e":"comment-emoji-list",ref:ee,onKeyDown:ve,children:(0,n.jsx)(E,{onSelect:_e})}):null]})}),(0,n.jsx)(re.gC,{isReply:T,"aria-disabled":q,"aria-label":ne("comment_tray_btn"),role:"button",isInVideoDetail:Te,isActive:!q,onClick:fe("button"),onKeyDown:be("button"),tabIndex:0,children:ne("comment_tray_btn")}),T&&(0,n.jsx)(re.EX,{onClick:M,isInVideoDetail:Te,children:(0,n.jsx)(se.g,{size:20})})]})})},37029:(e,t,i)=>{"use strict";i.d(t,{v:()=>w});var n=i(24643),o=i(67476),a=i(67518);const r=i.p+"699cc32d70bd43f9f12c.png",s=i.p+"a28add8a9a2b2b3749c9.png";var l=i(9015),d=i(68316),c=i(27799),u=i(45027),p=i(73580),g=i(85650),_=i(15923),m=i(66712),h=i(40099),v=i(97779),f=i(71628),y=i(6972);const b=e=>{const{isOpen:t,handleOnClose:i}=e,a=(0,c.s)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Mw,{isOpen:t,size:"Medium",onClose:i,children:(0,n.jsx)("div",{children:(0,n.jsxs)(v.KQ,{children:[(0,n.jsxs)(v.a5,{isPopup:!0,children:[(0,n.jsx)("span",{children:a("screentime_settings_screentimebreaks_title")}),(0,n.jsx)(v.kZ,{children:(0,n.jsx)(f.A,{onClick:i})})]}),(0,n.jsx)(y.Q,{isPopup:!0,handleEditPopupClose:i})]})})})})};var x=i(63377);const k=({onManage:e})=>{const[t,i]=(0,u.S)(g.z),m=(0,p.Nj)(_.i),{isDark:v}=(0,a.u)(),f=(0,c.s)(),y=(0,h.useMemo)(()=>{const e=t.breakReminderPopupExtendCount;return"number"==typeof e&&e>=3},[t.breakReminderPopupExtendCount]);return(0,n.jsxs)(l._w,{children:[(0,n.jsx)(l.lZ,{src:v?r:s}),(0,n.jsx)(l.hE,{children:f(d.A.STB_HEADER,{},"Time to take a break")}),(0,n.jsx)(l.VY,{children:f(d.A.STB_DESC,{num:t.durationReminder},`You’ve had ${t.durationReminder} minutes of uninterrupted screen time. Consider taking a break for a while.`)}),(0,n.jsx)(o.I0,{onClick:()=>{i.setBreakReminderPopup(!1),m.uploadMetric("web_time_break_ok")},label:f(d.A.STB_OK,{},"OK"),variant:"primary",block:!0,size:"large",marginBlockStart:"8px"}),!y&&(0,n.jsx)(o.I0,{onClick:()=>{i.setBreakReminderPopup(!1),i.incrementReminderPopupExtendCount(),i.startTimeBreakSnoozeTimer(),m.uploadMetric("web_time_break_snooze")},label:f(d.A.STB_SNOOZE,{},"Snooze (10m)"),variant:"secondary",block:!0,size:"large",marginBlockStart:"12px"}),(0,n.jsx)(o.QK,{onClick:e,label:f(d.A.STB_EDIT,{},"Edit future reminders"),color:"Primary",marginBlockStart:"12px"})]})},w=()=>{const[e,t]=(0,u.S)(g.z),i=(0,p.Nj)(_.i),[a,r]=(0,h.useState)(!1);return(0,h.useEffect)(()=>{e.breakReminderPopup&&(i.uploadMetric("web_time_break_pop"),(0,m.nN)("updateActiveTimeUsage",{value:{activeTimeUsage:0,timeStamp:(new Date).getTime()}},x.LH))},[e.breakReminderPopup]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Mw,{isOpen:e.breakReminderPopup,size:"Small",children:(0,n.jsx)(k,{onManage:()=>{r(!0),t.setBreakReminderPopup(!1),i.uploadMetric("web_time_break_edit")}})}),(0,n.jsx)(b,{isOpen:a,handleOnClose:()=>{r(!1)}})]})}},37347:(e,t,i)=>{"use strict";i.d(t,{R:()=>a});var n=i(9953),o=i.n(n);const a=e=>{const t=o()(e).toString();return parseInt(t.substring(0,16),18).toString().substring(0,18)}},37617:(e,t,i)=>{"use strict";i.d(t,{H:()=>l});var n=i(24643),o=i(57432),a=i.n(o),r=i(40099),s=i(71492);const l=({width:e=160,height:t=160,loop:i=!1,onComplete:o=a(),autoplay:l=!0,animationData:d,customStyle:c={}})=>{const u=(0,r.useMemo)(()=>({loop:i,autoplay:l,animationData:d,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}}),[d,l,i]),p=(0,r.useMemo)(()=>[{eventName:"complete",callback:o}],[o]);return(0,n.jsx)(s.J,{width:e,height:t,options:u,eventListeners:p,customStyle:c})}},38408:(e,t,i)=>{"use strict";i.d(t,{T:()=>g});var n=i(72516),o=i(24643),a=i(30934),r=i(78751),s=i(26930),l=i(80179),d=i(69857),c=i(90976),u=i(27799),p=i(68252);const g=e=>{const{detail:t,items:i}=e,g=(0,u.s)(),{language:_,appType:m}=(0,d.L$)((0,c.W)(()=>["language","appType"],[])),h=(0,l.useSetAtom)(r.b);return(0,s.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e,n,o;const r={language:_},s=Object.assign(Object.assign(Object.assign({},t),r),{seoProps:{pageId:null!==(o=null===(n=null===(e=t.collectionInfo)||void 0===e?void 0:e.collectionId)||void 0===n?void 0:n.toString())&&void 0!==o?o:"",pageType:121},t:g,items:i}),l=yield(0,p.G)(s,a.g),{metaParams:d={},jsonldList:c=[]}=l;h({metaParams:d,jsonldList:c})}),[m,_,t]),(0,o.jsx)(o.Fragment,{})}},38456:(e,t,i)=>{"use strict";i.d(t,{pw:()=>m});var n=i(24643),o=i(67518),a=i(40099),r=i(20434),s=i(27799),l=i(64207),d=i(82480),c=i(77849),u=i(90976),p=i(5701),g=i(74201),_=i(44193);const m=(0,a.memo)(function(e){var t,i;const m=(0,s.s)(),h=(0,a.useRef)(null),v=(0,a.useRef)(null),f=(0,a.useRef)(null),y=(0,a.useRef)(null),[b,x]=(0,a.useState)(!1),[k,w]=(0,a.useState)(!0),{direction:S}=(0,o.u)(),[C,j]=(0,a.useState)(!0),{user:T}=null!==(t=(0,u.W)(()=>["user"],[]))&&void 0!==t?t:{},{videoId:I,isActive:P,seek:A,videoRef:M,hideShortSeekBar:L,hideSeekBar:D,hideTimeDisplay:O,alwaysShowSeekBar:R=!1,progressReportCallback:E}=e,{bindDrag:F,seek:B,seekByDelta:z,duration:U,videoPercent:N,currentTime:W,setVideoInfo:V}=(0,l.u)({direction:S,progressRef:v,circleRef:f,videoId:I,barRef:y,initialPercent:0,draggingStateCb:x,draggingPercentCb:A,progressReportCallback:E});(0,a.useEffect)(()=>{P||!W&&!N||V({itemId:I,videoPercent:0})},[P]),(0,a.useEffect)(()=>{W>=3&&w(!1)},[W]);const H=null===(i=null==M?void 0:M.current)||void 0===i?void 0:i.currentCanPlay,q=!R&&!H&&0===W||L&&U<30||D,$=(0,a.useCallback)(()=>{(0,_.X)(`${null==T?void 0:T.uid}`)},[null==T?void 0:T.uid]),G=(0,a.useCallback)(()=>{(0,_.W)(`${null==T?void 0:T.uid}`)||$(),C||j(!0)},[null==T?void 0:T.uid,$,C]),K=(0,a.useCallback)((e,t)=>i=>{if(9===i.keyCode)return;i.preventDefault(),i.stopPropagation();const n=c.cb/(e||100);38===i.keyCode||39===i.keyCode?z(n,!0,t):40===i.keyCode||37===i.keyCode?z(-1*n,!0,t):36===i.keyCode?z(-1,!1,t):35===i.keyCode&&z(1,!1,t)},[z]);if(q)return null;const Y="ltr"===S?{left:`calc(${100*N}%)`}:{right:`calc(${100*N}%)`};return(0,n.jsx)(p.c,{visible:!C,text:"webapp_seekbar_tooltip",onShow:$,children:(0,n.jsxs)(g.ht,{show:b||k,onMouseDown:r.dG,onClick:G,children:[(0,n.jsxs)(g.gt,{ref:h,children:[(0,n.jsx)(g.AK,{ref:v,onClick:B,onMouseDown:F,tabIndex:0,role:"slider","aria-label":m("accessibilityLabels_forYou_videoControls_videoProgress"),"aria-valuenow":N,"aria-valuetext":(0,d.Az)(W),onKeyDown:K(U,N)}),(0,n.jsx)(g.n9,{ref:f,style:Y,onMouseDown:F}),(0,n.jsx)(g.Vi,{ref:y,style:{transform:`scaleX(${N}) translateY(-50%)`},onClick:B,onMouseDown:F})]}),!O&&(0,n.jsx)(g.l5,{children:"ltr"===S?`${(0,d.Az)(W)}/${(0,d.Az)(U)}`:`${(0,d.Az)(U)}/${(0,d.Az)(W)}`})]})})})},38559:(e,t,i)=>{"use strict";i.d(t,{T:()=>d,X:()=>l});var n,o=i(40099),a=i(73580),r=i(22889);!function(e){e.FirstFrameDuration="live_user_inner_play_duration",e.H265PlayerError="live_preview_player_h265_error"}(n||(n={}));const s={initTime:0,firstFrameTime:0};function l(){const e=(0,a.Nj)(r.V$);return{sendH265Error:(0,o.useCallback)((t,i)=>{e.emitEvent("live_preview_player_h265_error",{code:t,message:i},{})},[e])}}function d(){const e=(0,a.Nj)(r.V$),t=(0,o.useRef)(!0);return{recordingInitTime:(0,o.useCallback)(()=>{s.initTime=Date.now()},[s]),sendFirstFrameDuration:(0,o.useCallback)(()=>{t.current&&(s.firstFrameTime=Date.now(),e.emitEvent("live_user_inner_play_duration",{duration:s.firstFrameTime-s.initTime},{}),t.current=!1)},[s,e,t])}}},38820:(e,t,i)=>{"use strict";i.d(t,{W:()=>r});var n=i(90976),o=i(69857),a=i(14404);const r=()=>{const{language:e}=(0,o.L$)((0,n.W)(()=>["language"],[]));return a.D.includes(e)}},38904:(e,t,i)=>{"use strict";i.d(t,{tz:()=>W});var n=i(72516),o=i(24643),a=i(40099),r=i(72355),s=i(16410),l=i(93584);const d=(e,t,i)=>{const n="undefined"!=typeof window?window.innerWidth:0,o="ltr"===t?e+i-n:e-i;return"ltr"===t&&o>0||"rtl"===t&&o<0?e-o:e},c=(e,t)=>{const i=e+37*t-("undefined"!=typeof window?window.innerHeight:0);return i>0?e-i:e},u=(0,s.default)("ul",{target:"e5bhsb10"})(({top:e,left:t,width:i,visible:n,optionCount:o,theme:{colors:a,direction:r}})=>[{padding:"0px 0px",margin:0,minWidth:"181px",listStyle:"none",boxSizing:"border-box",borderRadius:"8px",userSelect:"none",position:"fixed",top:c(e,o),boxShadow:"0px 8px 32px rgba(0, 0, 0, 0.12)",background:a.BGPrimary,opacity:"95%",zIndex:10500,transform:n?"scale(1)":"scale(0)"},(0,l.mp)({direction:r,start:"ltr"===r?d(t,"ltr",i):`calc(100vw - ${d(t,"rtl",i)}px)`})],"label:UlPopupContainer;"),p=(0,s.default)("li",{target:"e5bhsb11"})(({theme:{colors:e}})=>[{display:"flex",alignItems:"center",position:"relative",borderBottom:"",padding:"10px 12px",boxSizing:"border-box",":hover":{background:e.BGView},cursor:"pointer",":after":{content:'""',display:"block",width:"calc(100% - 32px)",height:"0.5px",position:"absolute",bottom:0,left:"16px",background:e.ConstLineInverse2},":first-child":{borderRadius:"8px 8px 0px 0px"},":last-child":{borderRadius:"0px 0px 8px 8px",":after":{display:"none"}}}],"label:LiItemWrapper;"),g=(0,s.default)("li",{target:"e5bhsb12"})(({theme:{colors:e}})=>[{display:"flex",alignItems:"center",position:"relative",borderBottom:"",boxSizing:"border-box",":hover":{background:e.BGView},cursor:"pointer",":after":{content:'""',display:"block",width:"calc(100% - 32px)",height:"0.5px",position:"absolute",bottom:0,left:"16px",background:e.ConstLineInverse2},":first-child":{borderRadius:"8px 8px 0px 0px"},":last-child":{borderRadius:"0px 0px 8px 8px",":after":{display:"none"}}}],"label:LiLinkItemWrapper;"),_=(0,s.default)("div",{target:"e5bhsb13"})({width:"17px",height:"17px",display:"flex",justifyContent:"center",alignItems:"center","svg:first-of-type":{width:"16px",height:"16px"}},"label:DivIconWrapper;"),m=(0,s.default)("span",{target:"e5bhsb14"})(({theme:e})=>[(0,l.zy)({theme:e,typography:"H6",fontWeight:"semiBold",fontFamily:"TikTokFont",color:"TextPrimary"}),{display:"inline-block",height:"17px",lineHeight:"17px",marginInlineStart:"11px"}],"label:SpanItemText;");var h=i(96406),v=i(70589),f=i(23037),y=i(89015),b=i(27799),x=i(43887),k=i(48156),w=i(24816),S=i(21722),C=i(27090),j=i(19796),T=i.n(j),I=i(61198),P=i(29188),A=i(51757),M=i(52353),L=i(65628),D=i(18497),O=i(67773),R=i(33245),E=i(25372),F=i(37783),B=i(33739),z=i(34778),U=i(71754),N=i(73580);const W=(0,a.memo)(function(){var e;const{hasNonPersonalizedMenu:t}=(0,v.cE)(),i=(0,v.Kj)(),[{contextMenuOpen:s,menuOptions:l,location:{x:d,y:c},itemId:j,mediaType:W,videoElement:V,playModeForTea:H},{closeContextMenu:q}]=(0,E.xx)(e=>e,I.bN),[$,G]=(0,F.l8)(e=>e[null!=j?j:""],I.bN),K=(0,z.YZ)(),Y=(0,B.Vv)(),Z=(0,a.useRef)(null),J=(0,a.useRef)(181),X=(0,b.s)("Webapp"),{handleOpenModal:Q,PersonalizedModal:ee}=(0,P.D0)({isFeed:!0}),te=(0,x._u)()($),ie=`https://www.tiktok.com${te}?is_from_webapp=1&sender_device=pc`,ne=null!==(e=null==$?void 0:$.video.downloadAddr)&&void 0!==e?e:"",oe=(0,N.Nj)(w.A),ae=(0,a.useCallback)(()=>{q()},[q]),re=(0,U.G)({actionWhenUserLoggedIn:(0,a.useCallback)(()=>{oe.handleClickShare({author_id:null==$?void 0:$.authorId,group_id:j,enter_method:"click_context_menu",media_type:W}),Y.openMessagePanel(j)},[null==$?void 0:$.authorId,j,W,Y,oe]),modalConfig:{query:{enter_method:"click_share"}},reportClickEvent:()=>{S.O.handleGeneralClick("share_video",{group_id:j,play_mode:H}),h.f.sendEvent("click_send_to_friends",{group_id:j,author_id:null==$?void 0:$.authorId,enter_method:"context_menu",play_mode:H})}}),se=(0,a.useCallback)(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){C.Z.handleDownload({media_type:W,enter_method:"click_context_menu",group_id:j}),(yield(0,y.k)({cors:!0,downloadAddr:ne,fileName:"Download"}))||(yield(0,y.k)({cors:!1,downloadAddr:ne,fileName:"Download"})),G.addMlModelTrainData({id:j,action:"download"})}),[ne]),le=e=>()=>{h.f.event(e,{media_type:W,enter_method:"click_context_menu"})},de=(0,a.useCallback)(e=>{var t;le(null!==(t=e.teaEventName)&&void 0!==t?t:""),K.setShowingBrowserMode(!1)},[le]);(0,a.useEffect)(()=>(s&&(document.addEventListener("click",ae),document.addEventListener("scroll",ae),window.addEventListener("popstate",ae)),()=>{document.removeEventListener("click",ae),document.removeEventListener("scroll",ae),window.removeEventListener("popstate",ae)}),[s]),(0,a.useEffect)(()=>{T().on("DOWNLOAD_FILE_FINISHED",(e,t)=>{k.F.open({content:t.data?"download successfully !":"fail to download",duration:3})})},[]),(0,a.useEffect)(()=>{var e,t;J.current=null!==(t=null===(e=Z.current)||void 0===e?void 0:e.scrollWidth)&&void 0!==t?t:181},[s,d,c]);const ce=Object.assign(Object.assign({download:{text:X("TTweb_fyf_menuDownloadVideo_menuLink"),Icon:A.A,handler:se},share:{text:X("TTweb_fyf_menuSendtoFriend_menuLink"),Icon:M.A,handler:re},link:{text:X("copy_link"),Icon:L.A,handler:()=>(0,n.__awaiter)(this,void 0,void 0,function*(){C.Z.handleCopyVideoUrl({media_type:W,enter_method:"click_context_menu",group_id:j}),yield navigator.clipboard.writeText(ie),k.F.open({content:X("Copied"),duration:1.2,widthType:"half",getContainer:f.M,getContainerPosition:"fixed"}),G.addMlModelTrainData({id:j,action:"share"})})},pip:{text:X("TTweb_fyf_menuPictureinPicture_menuLink"),Icon:D.A,handler:()=>(0,n.__awaiter)(this,void 0,void 0,function*(){try{V instanceof HTMLVideoElement&&(yield V.requestPictureInPicture()),C.Z.handlePictureInPicture({media_type:W,enter_method:"click_context_menu",group_id:j})}catch(e){k.F.open({content:X("changeRegistrationLocation_weakWarning_loseFeatures_toast"),duration:1.2,widthType:"half",getContainer:f.M,getContainerPosition:"fixed"})}})}},t||i?{"manage-feed":{text:X("nonpersonalizedFeeds_feed_entrypoint_manageFeed"),Icon:O.A,handler:()=>{Q()}}}:{}),{details:{text:X("webAnalytics_videoDetail_viewPerformance"),Icon:R.A,redirectUrl:te,teaEventName:"enter_video_detail"},photo:{text:X("ls_view_details"),Icon:R.A,redirectUrl:te,teaEventName:"enter_video_detail"}}),ue=(e=>["download","share","link","pip","manage-feed","details","photo"].filter(t=>e.includes(t)))(l);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u,{width:J.current,ref:Z,visible:s,top:c,left:d,optionCount:l.length,children:ue.map(e=>{var t;const i=ce[e];return i.handler?(0,o.jsxs)(p,{onClick:i.handler,children:[(0,o.jsx)(_,{children:(0,o.jsx)(i.Icon,{})}),(0,o.jsx)(m,{children:i.text})]},i.text):(0,o.jsx)(g,{children:(0,o.jsxs)(r.N_,{to:null!==(t=i.redirectUrl)&&void 0!==t?t:"",onClick:de,style:{display:"flex",textDecoration:"none",padding:"10px 12px"},children:[(0,o.jsx)(_,{children:(0,o.jsx)(i.Icon,{})}),(0,o.jsx)(m,{children:i.text})]})},i.text)})}),ee]})})},39996:(e,t,i)=>{"use strict";i.d(t,{b:()=>l});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(26324);let l=class extends o.E{constructor(){super(),this.defaultState={isCookieBannerShowing:!1}}setCookieBannerShowing(e,t){e.isCookieBannerShowing=t}};(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",s.c)],l.prototype,"dispose$",void 0),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],l.prototype,"setCookieBannerShowing",null),l=(0,n.__decorate)([(0,r.nV)("FixBottomModule"),(0,n.__metadata)("design:paramtypes",[])],l)},40337:(e,t,i)=>{"use strict";i.d(t,{Zr:()=>g,yJ:()=>u});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(84838),l=i.n(s),d=i(73041),c=i(35938);const u="NOT_LOGIN_USER";var p;!function(e){e.Word="wordIdList",e.Video="videoIdList"}(p||(p={}));let g=class extends o.E{constructor(){if(super(),this.defaultState={blockListMap:{}},(0,d.fU)())return;const e=c.PC.getStorage();Object.keys(e).forEach(e=>{const t=c.PC.getItem(e);Array.isArray(t)?this.defaultState.blockListMap[e]={wordIdList:t}:this.defaultState.blockListMap[e]=t})}setBlockListByUid(e,t){var i,n;const{uid:o=u,blockId:a,blockType:r}=t,s=null!==(n=null===(i=e.blockListMap[o])||void 0===i?void 0:i[r])&&void 0!==n?n:[];s.includes(a)||(s.push(a),l()(e.blockListMap,[o,r],s),c.PC.setItem(o,e.blockListMap[o]))}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"setBlockListByUid",null),g=(0,n.__decorate)([(0,r.nV)("SearchEntry"),(0,n.__metadata)("design:paramtypes",[])],g)},40507:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var n=i(14285),o=i(57432),a=i.n(o);const r={provide:(0,i(23447).U)("PreconnectDomains@tiktok/fe-shared",()=>new n.n("PreconnectDomains")),useValue:a()}},41178:(e,t,i)=>{"use strict";i.d(t,{E:()=>R});var n=i(24643),o=i(45027),a=i(40099),r=i(28343),s=i(16842),l=i(27799),d=i(90976),c=i(61322),u=i(29547),p=i(61907),g=i(16410),_=i(76926);const m={id:"warn-7f13d099",use:"warn-7f13d099-usage",viewBox:"0 0 40 41",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 41" id="warn-7f13d099"><path fill-rule="evenodd" d="M20 40.504c11.046 0 20-8.954 20-20s-8.954-20-20-20-20 8.954-20 20 8.954 20 20 20" clip-rule="evenodd" /><path fill-rule="evenodd" d="M19.5 11.004a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-12a1 1 0 0 0-1-1zm0 16a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1a1 1 0 0 0-1-1z" clip-rule="evenodd" /></symbol>'};function h(e){const t=(0,a.useContext)(_.X);return(0,a.useLayoutEffect)(()=>(t.add(m),()=>{t.remove("warn-7f13d099")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#warn-7f13d099"},void 0)}),void 0)}const v=(0,g.default)("div",{target:"ehjc7mi0"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",height:"122px",padding:"16px 12px",border:`1px solid ${e.colors.LineSecondary}`,backgroundColor:e.colors.ConstTextInverse}),"label:DivImageError;"),f=(0,g.default)(h,{target:"ehjc7mi1"})(({theme:e})=>({width:"40px",height:"40px",fill:e.colors.TextPrimary,margin:"0 auto",path:{":first-of-type":{opacity:.03},":last-of-type":{opacity:.34}}}),"label:StyledWarningIcon;"),y=(0,g.default)("div",{target:"ehjc7mi2"})(({theme:e})=>({marginTop:"4px",fontSize:"12px",lineHeight:"15px",textAlign:"center",color:e.colors.TextTertiary}),"label:DivMessage;"),b=()=>{const e=(0,l.s)();return(0,n.jsxs)(v,{className:"warn-container",children:[(0,n.jsx)(f,{}),(0,n.jsx)(y,{children:e("setting_feedback_delete_picture")})]})};var x=i(14863);const k={id:"avatar-9d6780cd",use:"avatar-9d6780cd-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 48 48" id="avatar-9d6780cd"><circle cx="24" cy="24" r="24" fill="url(#avatar-9d6780cd_a)" /><defs><pattern id="avatar-9d6780cd_a" width="1" height="1" patternContentUnits="objectBoundingBox"><use xlink:href="#avatar-9d6780cd_b" transform="scale(.00333)" /></pattern><image xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACBySURBVHgB7d1tbFTXmQfwhxl7sLEBYyA2cXAGYsAxSWNoyTrCtAZ7MQ2bBm1SKdovzVYr7e6XbSt1IYZQIW0Kha3U7n7aD6uKSqvdVEpXVAkSycZk1Dd5m2RrlAAOb5nacTIm2Bjwy/iVfZ7JvTAYv4xn7r3nnHv/P2k04xcSmJn7n+c859xzFxDAFIcOHSpZtGhRQSgUKpmcnCyYmJgouX37dgH/SL5XII/lZ/bvy9fWz2e0YMGCpNzkMf835T5p/dl+eSw/C4fD/fzfTY6NjSVHRkb6+e/RTwBpFhAEkhVKUQkaDqRyCSIOjXIOkxLSCP+9+vnv1C/Bxn+//vz8/IR8vXfv3gRB4CCwfE6Cqbi4uFyqJAkmrmKiuoVSDhISYhxmEl5xrsoS/O9NEvgWAstH+GAtWLhwoVRL5XwQR3WsmNwmFZkEGP/b4/xvT7S0tMQJfAOBZTA7oPgArZZw4m9FCaYTt0KsAwFmNgSWYY4dO5aqnrh6SIXUXM1umFacK7EOqcLQCzMLAktz6VUUH2S1CChnyRCSe3txDq92VF/6Q2BpKC2kavmAqkZIeUOWVnDl2hGJRDq+//3vdxBoB4GlkSNHjkQRUnqwwwuVl14QWIpZIYXhnsbsYWNhYWHse9/7HhazKoTAUkCGfPzmr5XGOWFmzzSJcDjcNjQ01IE1X95DYHkI1ZR/2ENGVF3eQmB5QIKK7xoI1ZRfxfPz89vQqHcfAssl9rCPH9YFbbV5UEmviyuv2N69e9sJXIHAcpi1JKGO37h1GPYFkx1cXHXFMVx0FgLLIQgqmMraaaK9oKCgHcHlDARWjhBUMBc7uEZGRtows5gbBFaWEFQwX+hx5Q6BlYVjx47JsoQGNNMhGwiu7CGw5gHLE8BJElyRSOQ4+luZQ2Bl4Cc/+UnJ8PBwA38q1hKAw7hab8cC1MwgsObAVVUD+lTgNlk5z++xtpaWlhjBjBBYM7CGf7v4Vk4AHsEwcXYIrClk9o/fMKmqigAUkWqLh4ltCK57IbDSSFXFn3B7MPsHOsBs4v0QWISqCvSGpvxdgQ8sVFVgAmu1/Img734a2MBCVQWGigV5JjGQgSXrqpLJ5AuEGUAwUJBnEgMXWK+88kpdXl5eA9ZVgclk3ZY05Pft29dGARKYwMIQEPxIlj+Mjo7GgrILRCACS4aA/KK+iMY6+FGQhoi+D6wf//jH1ePj43swBAQ/kyEitzpO+H1feV8HlpwHSF/srgAQFL6eRfRlYFkXgNjFQ0DsrgCBIwtNuQVyyo99Ld8FFpYsAPi3r+WrwEJzHeAuP4aWbwJLTrHhxuMLaK4D3GXts/WqX07p8UVg/fCHP6yV8wEJAKbFx8cpPywyDZPhrB1BdxEAzIirrKqmpiZqbW2Nk8GMDiwsWwCYl6jpoWVsYCGsALJidGgZGVgIK4CcGBtaxgXW0aNH5TQbnMAMkJtoY2NjAYfWJTKIUbOEElZYvQ7gHJ49bOfZwxNkCGMqLBkGorICcBYfU+UmDQ+NCCz0rABcZUxPS/vAQlgBeMKI0NI6sBBWAJ7SPrS0DSzZe50bgk0EAF6K7tixo//06dMJ0lCINCQnMofDYZxuA6CAnJcrxyBpSLvAki1iZNcFAgBl5BiUY5E0o1Vg2ftZYYsYALXkGJRjUbfQ0qaHJdsacyn6N9h8D0APElrj4+PRbdu2fRiLxcZJA9pUWJFIZBfCCkA75XJ9BNKEFhWWtacVVrEDaEin1fDKKyy5biBhrRWA7hqsY1UppYElDT25yCkBgPbkWFXdhFc2JLSb7FxuFhMAmCCP+8zV9fX17aqa8MoqLG6yN6DJDmAWOWbl2CVFlASWnHaDJjuAmeTYPXr0qJLj1/PAkjFwXl5eAwGAsbiV06Cin+V5YGElO4D55BhOJpMvSC+aPORpYMl6K/StAHyj3Ot+lmeBZZ393UAA4BvSz/JyZwdPAkvGuriUPIA/ybHt1dDQk8AaHh7GUBDAp7xc6uB6YB07dqyWy0ZcmgvAx7waGroaWDIUlOlPAgDf82Jo6Gpg8VCwDkNBgGDwYmjoWmBZWx1jNTtAgLg9NHQtsGSBKAFAELm24Z8rgYUFogCBVm5dU9RxjgcWhoIAIBngxrmGjgeWrLnCuYIAwSYZIFlADnM0sKzqCmuuAECqrFqnG/COBhYa7QAwRQM5yLHAkhXtaLQDwBRRyQZyiGOBhRXtADAdyQanVsA7EliorgBgJpINCxcudGTlQM6BJcmJ6goAZiPLHJyosnIOLElOVFcAMBtZ5uBElZVTYFkb82EZAwDMyYkqK49ykEwmJaxQXQVIZWXlsvLy8tJitmjRouIIW7JkSan8LBwOR/Ly8iLpvz8+Pj46MTExOjY2NiqPBwcHB4aGhgZ6e3v7rl+/PtDZ2XmdIBDSqqwYZWkBZUmqK1l3heGgf3EgRR577LHVy5YtK12xYkU5Z1QpuaC/vz/Bt74Eu3jxYg8H2iiBL3GVxXVO8qdcaSUpC1lXWPyJGUVY+c/KlSuLHn/88Sq+Ly8pKSknD8j/R27RaLSmrq4uFWDd3d2dHR0dXdeuXRsg8I1cq6ysK6yjR49+F4HlD1JJbd68+ZGKiopKr0IqUwMDA30XLlw49/HHH/cgvPwhlyorq8CSdVfcl8BVcAy3YcOGsnXr1lWVlZVVTu096YirrkttbW1nEFzm48m6U/v27WujecpqSIh1V2aToKplulVTc+EKsOq5556rkiFjO/voo496CEwlw8J5B9a8K6zDhw9Xc0n3AoFxTA2qmUhwtba2/g4Vl7GOt7S0xOfzB+ZdYWFzPvPwDF8xN7OfkAqFfESClyuu5zBUNFYD347P4/cpPJ9flqUM4+Pjru3XDM6rr69/dOvWrV/jg3sl+ZSsA1u7dm3l4sWLqbOz8xqBKUqampriXCX3Z/oH5lVhyQ6CXGER6E+qqsbGxq1+Gf7NpaCgoHjjxo1PPvLIIzUnT558E9WWMar5Fs/0lzOusGRJfX5+/l9QjqvjwX12VbVo0aKlFDAy27l+/fqqoqKiCVRb+uMCaAW/X9+LxWLjmfx+xucS8pu/Gnu1603WU+3atWuLVBomLFNwi/zb5Tlobm7eQqA1yZTCwsKMz0fOOLAmJibQbNeYDAH37NnT/PDDD9cQpMjK+W9961vPyXNDoK3JycnqTH83oyGh1WxvItDS6tWrS7maaOJhUOCGgHORaksa8jyT2IVzFLWVcfM9owrLjcv1gDMkrHbu3NksTWeCaclz8+yzzz4jzxWBrjKqsjIKrHA4HCXQzpYtWx55+umnnwlyvypT8hzJc/WVr3zFV2vR/CLTywPOOSSU64pxYwz9K81IWG3evLmeYF4efPDBSj44Bj/99NM+Ap3kZTIsnLPC4rDCjqKakaENwip7X/7yl7dieKifTLJmzsAKhUIZd/DBfTLjJT0rgpzIc4jQ0otkzVxbKM8aWHKiM9Ze6UPCavfu3c3oWeVOnsMdO3Zsx5IHfVib+816ZsZcFRaqK41IWGE20DnyXDY3N28vKirCB4Am5hoWzhpYGA7qQ1awI6ycJ/vU19fXP0GghbmGhTMGljU7iOGgBuTcQKxgd4+siJfnmEC5uYaFoVn+IGYHNSA9lg0bNuC1cJk8x+hnaWPGkd2MgYXFonpAk90b8hzLdjwEys22iHTawDp27Fg5roijngxT0LfyjuwdhqGhejIslAya7mfTBtbo6GiUQCkZnshmdASekqEhZg3V49CKTvf9aQOLh4OYHVRM9mBHdeU9GRpu374d+2gpNtOWM/cFljWlGCVQRqorv10wwiTy3K9fvz4QW0vrivtY5dMtb7gvsOZaaQruQ/NXvU2bNmFtlkIzLW8ITfOLGA4qJNcODMqFI3QmrwGqLOXuy6L7AktKMQJl5EKnBFpAlaXc3BUWoX+ljPSuUF3pA1WWctGpfax7AktOxyFQRmYGCbTCgfUIgTJT+1j3BNbExAQ+TRTBzKCeysrKKrEuS51QKDRzYHH/KkqgxJo1a8oItCPrsriXhSpLkakLSO8JLH5xUGEpwkMPrGrXFFe+lQRKTJ0EvBNY0tzC+YNqyHBQ9mUi0JI037GTgxqSSZxNd3LpTmBhwag61dXVqwm09qUvfQnDQkUikcidbEofEkYJlMCQQ38rV67EB7oi4XD4/gqLSy+8IArIDBTWXulPXiPMFqqRvnrhTmDx9CH6VwpUVVVhdtAQGzduxNBdgfTNRNOHhPiUV2DVqlV43g1Rygg8lz4ZmAqsmXb3A/ctXboUB4EhOK9wnChizxSmAmt8fBzDQUXQvzLH4sWL8eGiyKJFi6Jynwos7NCgBi6Vbh68ZmrYlxxMBRYa7mrwEKOIwCjcc1xG4Dl7pjAVWFjhrsby5cvxaW0YOSWBwHNcVKHCUo3H5XjzGwavmRp22woVlkJFRUV48xsmwgg8Z2dUKP3EQvAWruhsHswUqiNZFVq4cCECS5H8/HwEFkCGeDheELKnC8F74XAYgWUYVMXqyHrREL8ACCxF8OY3D14zdSSrQhMTExgSAoD2JKswJAQAUxSEuI+CwAIA7UlxFcIaLHW4iThKYBS8ZurIavcQgTI8Jseb3zAILHVSFRbfY0gIkKGxsTEEliJyCmHIPqkQvHfz5s0+AqOgKlYLQ0KFRhmBUQYHBwcIlMGyBoWGhobw5jcMXjN1Uj0sBJY6A4zAKNeuXbtOoITddAdFPvvsM7z5DXP9+nV8yCiEwFKoq6sLTXfD4DVTC4GlGI8KcQAYor+/P0GgFAJLsd7eXhwEhrhx4wY+XBRDYCnWxwiM8Omnn/YQKIXAUuzs2bNdBEa4fPkyqmHFEFiKDQ4OjqI3oj95jeS1IlAqtGDBgiSBUp9//jkCS3Pd3d2dBEpJViGwNPDhhx9eJtBaR0cHhu6KpQKLQLmrV68OYFior1u3bvVdu3YNC0Y1gMDSBIYc+rpw4cJ5AuUmJyeTsuNoP4Fyf/zjHy9jczg9xeNxVL96SAUWelgakBmonp4eVFma4cr3EoaD+pDrEiKwNMFDDzTfNdPW1naGQAu3b9/ul+sSIrA0wYGVQPNdH/JaoLrSB5Y1aIh7WfhE1wReC+0k5bqEaLprBFWWHuQ1kNeCQBuSVSGemUKFpRl8sqvX2tr6OwKtSFZJ0x0Vlmbkk11mpwiUwMygnlI9rKGhIVRYGnrnnXfexbos7yWTyQHMDOppZGSkP3To0CFUWBqSdVnnz5/HgeOxixcvnkd1pSfJqtSpOaFQCKGlod///vfn0ID3jlRX8pwTaMfOqFRg8dADB4WmpPmLoaH75Dk+efLkmwRask8hTAUWVrvrS4YnGBq6T55jDAX1Javc5T4VWGNjY6iwNCbDlD/96U8YqrgkHo+fx1BQbzxDeDewIpEIKizN/eY3vzmDS4I5T/pWb7755h8ItMYVVqqoSgXW0NBQnEBrMmvIB9Y7coAROEKeS/StzGCvF00FFpY2mEF6LKdPn34HTfjc2U129K3MsHfv3rsVVuoBljYYQS6V/tZbb6EqyJE8hwgrY9zpsadvkRwnMIKE1vvvv49z3bIkz508hwRGsBvu4k5gYabQLO+9994lhNb8yXMmzx2BMeyGu8izH2BIaB458Hp6evp27tzZzE3JCMGMpGclw0BUVkaK2w/uVFijo6OosAwkB+CvfvWr1zF7ODN5bhBW5hoZGbmTTWH7QSwWS/IndS2XXwUERhkaGhrt7u7uWrt2bSUqrXvJNQVPnTr1diKRuEFgHFnhfvDgwd/aX99zXUKcU2gumfH6+c9//kusiL9LVrCfOHECs4EG41bVPZl0T2BxmsUJjMbVxLsffPBBoPfSkn+7PAeygl2qTwJj8QxhPP3rvPQvwuEwKiwfkPPiLly40Ll79+7mgoKCYgoQ2Y5HdrhAVeUPk5OT92RSOP2Lbdu2JbkHUk9gPKkszpw5c37hwoVjS5nfe1tSVZ09e/b/uMJsQ1XlHy0tLSfSv74nsLjxPt7U1BTlhyUEvsAzY59LQ54zK7JkyZJS8iHZg/31119/+8qVKxgh+Eucq+X29G/kTf0NWaTF48YogW/I8OiNN9743YoVK840NjZuLSkpKScfkOGfXGEIl+Pyrfte1/sCi8Oqg+/qCHxHgusXv/jFm+vXry/ftGnTE6YGF4IqMDqmfuO+wJJFWtyoTWI9ln/JgS43rriK6+rqnqioqKgizUmPqqenp5P/3pcRVMGQvmDUtmC6Xzxy5MiLfBclCAQJrmg0Wr5hw4ZHi4uLtepzSTXFfbiu9vb2S2imB0qcG+7Hp34zb7rfnJiY6AiHw1GCQJChIt8uybmJEl48ZKxczVQNGSWkrl692vPBBx/ggqYBFQqFOqb7/rSBFYlE4hxaBMFjhZeslj+3aNGiSFVVVfmqVavKOLxK3QgwGerJuX78/0z09fVdP3v2bCcqKZi6YPTO92f6Az/60Y9eQh8LpuLCq3TZsmXFXIkt40ArLioqKpY1Xvn5+RGuyiNT13tJIPGHXyqAbt682TfKOJAGbt26NZhIJPpwQjJMJecP7t+//6fT/Sxvpj80OTnZzimH2UK4hwSMFTKdBOCO+Ew/CM30A2t5AwCApzh72mf62YyBJVOK/Adx+S8A8IxkDs8Oxmf6+YyBdejQoSSqLADwEreiZs2c0Bx/uJ0AALyTfWBhWAgAXpGs4dnB7AMLw0IA8Mpcw0ERyuA/gmEhALhuttlB25yBJR17DAsBwE2yWHS22UHbnIElUGUBgMvimfxSRoGFPhYAuGl0dDSWye9lFFhWqRYnAADnJXiCL6Mrz2cUWEK2nCEAAIdxy6kt09/NOLDGx8fb0XwHACdJpoyNjWVcDGUcWLImC813AHCSrL2SbMn09zMOLIHmOwA4KdNmu21egYXmOwA4KJ5ps92WR/MX49uLBIGwcuXKosLCwkh5eXlphMkOo7K7aPpOo/J70+02akvfdXR4eDi1R/vg4OAA9y5G5f7WrVsDyWRytKur6zq2Rw6O27dvZ9xsty2gLBw+fPi7PDzE1aF9RILpwQcfLF28eHGx7N++dOnS0oKCgmKvL3Fv7/Euwdbf39/X3d2dQJD5z2zbIM8mmworNQ3Jn6i7CIy1YcOGMg6p0gceeKBcLmG/cOHCYtKABKRcakxu/PerXLduXer7EmJcifVdvXo18fnnn/d99NFHPQTG4sCKURayCixZ4sBvrAZcpMIclZWVy/hWXlFRUSlh4HXllCup9uQmISZf19fXjw4MDEgF1skSfLtOYASprg4cOJDVioOshoTiyJEjDXzXQKAtqaKi0WjlqlWrKnWpoNwiFVhvb2/i4sWLl1B96Y1HaCeyDaysKiwxMjLSxp94daiy9GKH1EMPPVRlWhWVC6m+uHqskltdXR3CS1NSXfFkS5yylHWFJVBl6UEueMoH6aNr1qypCVJIZUIqr0Qi0fn++++fx1WktRBraWmJUZayrrAEqiy1pJqqZaouKW8Cqby44qyRG886Jq5cuXLp3XffvUzgOamuRkdHczpbJqcKS6DK8haqqdxJ1XXu3Ln2jz/+uAdVl6dyqq5EThWWQJXlDQSVc6Tq2rx5c31NTU2q19XW1nYGweUuq7qa90LRqXKusASqLPcgqLzR3d19CcHlnlxmBtOFyQHbtm1LhMPhxxYsWIAqyyESVPy8Psa3r61cubIiFAo58lrB9GTxLFdcNatWrSru6+vDynoHWeuuTpADHDkIYrHYeGNjYz8H1mMEOUFQqSXBtXbt2srly5dHpMdFkDMOrFOnT59OkAMcGRLaeGj4It9FCbLy+OOPr+beypPSYyFQzm7OY1Yxe9meMziTnJvuU8QIOznM24oVK4q5Qt2K5Ql6sZvzq1evrvz1r3/9Lvpb88eN9uPkIEcrLHH48OE9PDSsJcjIjh07nkBD3QwXL15s56HNGYKMcHXVztWVI70rm9MVliTqKf5kqsYyh9nJok+e/avH8M8c69atq+Vqq+rkyZNvotqanezVPjIyEiOHOd7QtRrwEoRRgmnt2rVrS21t7VOoqswjr5nMJi5dupTQlJ/Vbw8ePOj4luqODwlt3ID/O75DTyaN9Kp27ty5ffHixaUExpOmPKqt+zndaE83rz3d5+kUwR319fWPPvvss88grPxDhvPymsprS3CH0432dK6t8Wltbe3noWEBj2UfogCTdVX8PGyW/gfWVPmPvKYPPPBABVfPkUQicW1sbGyCAkz2aeeh4IfkEjcrrNQlfKQ8pICSIeCePXuaH3744RoCX5PdIJ5//vln5DWngHLqfMHZuPqJLw34pqYmWeEauGUOMgvI/apdhYWFmAUMCGnIyyr54eHh6729vYHra8mK9h/84AdxcpHrQ5QgDg2lp/Hkk09+DUPA4JHQWrNmTVXQZhFlzdWBAwdi5DJXh4S2IA0NZSHoxo0bnyQINOlZynuBAsAaCsbIA55UAEEYGkpz/etf/3od+lVgW758ebns/nDhwoUu8jEePb3KjXZHTm6ei2dDFj8PDSWspLnOb9AKAkgjuz9UV1dXXrlyJe7TGUTZRTTnfa4y5cmQ0GaVjZ4ksVfsmUCsr4KZyHUg5T3itxlEGQrmuuXxfHkaWIcOHZLzi16V84zIB+QNuHv3boQVzElCS94rfgktOYbdXCA6E89nsbiflWxoaBjnGbQqMpgdVjh5GTJlL3vo7u7uMn1HUz5+33755ZcvkceUTLufPn36E5P7WQgryJYfQktWs3s9FLR5OiRMZ+pSB2mwywnMCCvIlrx3mpubtxcVFRm3W4eXSximo2xhoyx12LZtW0d+fr4sdXB8Xy63fPOb33waPSvIVSQSKeRKq8Kk2UNrj6t/5160slX8SldiSz9rx44d10y5eMU3vvGNrVi6AE6R0OL3U6Ep67S4unrt4MGDn5BCyk8daW1tvdbU1CQPo6QxWbWMRaHgNFmnZchpPLH9+/e/R4ppca4bh1ac+0IlnOBabvgnYSWnWhCAC2RFfGFh4WhnZ+c10pC1N7sW+9spa7pPNTw8LE+IdotKZdcFhBW4Tc4/Xb9+vXYf2FaTXZvNOLXZTcBqwl8Kh8PVulxBWpYvcHW1A3uvgxfkcmJdXV1xXZY7WGF1XGWTfSqttj+RJrwuM4fW+YFPY/kCeEW2I6qsrCzXYeYwbUZQq6VH2u3XJKHV2NgoMxFKh2GyrTFXWJgRBE/JzCE34sOXL1/+lNT6D692YJgPLTeYk50deCTWzylfTQrIBnzoW4EqJSUlK1U24bnSO/XSSy+5ti97LrRpuk914MAB2bIiRh6TvhU32hFWoJS8BxWdKB3bt2+fq/uy50LbwBLW+Uox8pCcI4gmO6gm70E5fYe8FVN1jmCmtN9zXNZoebWwVNZblZWVVRKABqSfJZcP86ifpX1YCSMukuBFaEn5zb2rHQSgEeln3bp1q8flq/AYEVZC6yFhOnlCuRno2lasMhQkAA099dRTW8klKreKyYZRl6F6++23O9w4hQdDQdCZ9LPcON9QCgAOqzfIIMZUWDaewThBDjbiZSiIJQyguzVr1tQ4PGsYs44loxgXWMLJ2cOvfvWrWwhAc1JlNTY2OjU0NKZnNZWxVyZ2ohG/ZcuWR6qqqh4nAAPIaWJjY2PXe3p6blD2jA0rYWSFZcu10qqpqcFQEIyyadOmLTlsrWx0WAljKyybVFrbt29PzvcqPGi0g4lkaFhYWDgx3wb85OTkif3792u7gj1TRldYtpdfflleiOOZXu9QmperV682+jJjEFzSgM+0yrKOiePWqW7GM77CsskJ0/X19R9msp8WV1dbSktLtdzdFGAusg1NJlWW7GclW8TouOtCtnxRYdlk7x7ZcGy2y4dJdVVRUYHqCoyWQZWVsDbfM+5SerPxTYVlszYBbOdKq5grrfuqKKmuZON/AjDYbFWWLAhNJpOv6bRTqFMWkI8dOXKkge8a7K+lunqOEYAPjI+Pj7766qu/HBwcTN9S2fiZwNn4rsJKJzOIjY2NCWsGMQ/VFfhJepUlzXW5bqAOl+Jyk696WNPhF7CDy+N/KysrG5fLKRGAj0gvq7i4eEje4/JeJ5/z9ZAwXW9v7xL+RPoOfwp9mwB8giurn01OTv4LfxjfpAAITGDZOLi+zS/yd/jhEgIw103+8JWg+hkFSOACS3BoPcSh9V/88CECMM85Dqu/5bD6hAImkIFl4+D6rlVtARghaEPAqQIdWIJDq47fBP9MqLZAb59wVfWPHFTGnw+Yi8AHlrCGiFJpPU8Amgl6VZUOgZWGg+t5K7hQbYEOUFVNgcCaQqqtsbGxv49EIn9FAIqgqpoeAmsGmEkERWQG8J9QVU0PgTUHaybxrwnrtsBdgVxXNV8IrAxY1dY/0BdNeTxn4KTbfHuNw+oVDP/mhoNvHqzg+k/6YpiI5w5yIUHVxkH1rxj+ZQ4HXRas2USpuBBckI0uq6J6i2BecLDlIC24VhPA3G5wUB3n+59h+JcdBFaOZBcIvpMTqv+SEFwwPQSVQxBYDpH+Ft89bwUXhoogEFQOw0HlMCu46tDjCjQElUtwMLkIzflAkVk/WfT533z/GoLKHTiIPMDBtZOD60V+WEd4zv0GyxM8hIPHQ2kLUHfSFyvn8fyb6wa/lr+cnJz8HwSVd3DAKGDNLNpVVw3hdTCFXU29TRj2KYEDRbG0qkuGi+h16UdC6iaqKT3g4NCItfupLIvAkFGtVEjx7S1poiOk9IEDQlNWo76JEF5euSek+P4chnz6wUFggLTKC8NGZ90z3COElPbwxjcMh5c06eus6qvO+jZex8zYVdQ5q3HexgF1jsAYeKMbzJptrAmFQn/OB+CjhACb6rZ138YBfx5VlPnwxvYZGT7yXQ0foE/SF0sm7C2e/f5a2+EkFxeVCuoPck8IKF9BYPlcWhX2Z1YVJgFWk/Yrpr0Hbqc9lnCSdVEd9mOEk78hsALK6oU9xEH2KB/wFfRFkNm3qbx6n9ye5nupiom+2PO8IxwO35iYmPjfIF6mHRBYMA1rxwm5LeGAWMxBkXrM94vpbqAtobsX5kh/PJOb1s32if09Hr7esu4/4TC6Zf8MoQRT/T/hCem4tGTOaAAAAABJRU5ErkJggg==" id="avatar-9d6780cd_b" width="300" height="300"></image></defs></symbol>'};function w(e){const t=(0,a.useContext)(_.X);return(0,a.useLayoutEffect)(()=>(t.add(k),()=>{t.remove("avatar-9d6780cd")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#avatar-9d6780cd"},void 0)}),void 0)}const S=({theme:e,isCSUser:t})=>"rtl"===e.direction||t?{marginRight:"8px"}:{marginLeft:"8px"},C=(0,g.default)("img",{target:"epxzw5i0"})({width:"28px",height:"28px",borderRadius:"100%"},S,"label:ImgAvatar;"),j=(0,g.default)(w,{target:"epxzw5i1"})({width:"28px",height:"28px",borderRadius:"100%"},S,"label:StyledDefaultAvatar;"),T=(0,g.default)("div",{target:"epxzw5i2"})(({isCSUser:e})=>({display:"flex",flexDirection:e?"row":"row-reverse",paddingTop:"8px"}),"label:DivFeedbackHistoryItem;"),I=(0,g.default)("div",{target:"epxzw5i3"})(({theme:e})=>({borderRadius:"8px",maxWidth:"314px",padding:"12px",fontSize:"16px",lineHeight:"22px",background:e.colors.BGPlaceholderDefault}),"label:DivContentContainer;"),P=(0,g.default)("div",{target:"epxzw5i4"})({whiteSpace:"pre-wrap",wordBreak:"break-word"},"label:DivContent;"),A=(0,g.default)(x.d,{target:"epxzw5i5"})(({hasError:e,height:t,width:i})=>({marginTop:"8px",height:e?"122px":180*t/i+"px",width:"180px",maxHeight:"240px"}),"label:StyledFilePreview;"),M=e=>{var t,i;const{item:o}=e,{type:r,avatar_url:s,image_list:l,content:g}=o,{user:_}=null!==(t=(0,d.W)(()=>["user"],[]))&&void 0!==t?t:{},{isMobile:m}=null!==(i=(0,c.U)(()=>["isMobile"],[]))&&void 0!==i?i:{},[h,v]=(0,a.useState)(""),[f,y]=(0,a.useState)([]),x=(0,a.useMemo)(()=>1===r,[r]),k=(0,a.useMemo)(()=>null==l?void 0:l.map(e=>e.image_url),[l]),w=(0,a.useMemo)(()=>x?(0,n.jsx)(C,{src:s,isCSUser:x}):_?(0,n.jsx)(C,{src:_.avatarUri[0],isCSUser:x}):(0,n.jsx)(j,{isCSUser:x}),[_,s,x]),S=(0,a.useCallback)(e=>{v(e)},[]),M=(0,a.useCallback)(()=>{v("")},[]),L=(0,a.useCallback)(e=>{y(t=>[...t,e])},[]);return(0,n.jsxs)(T,{isCSUser:x,children:[w,(0,n.jsxs)(I,{children:[g&&(0,n.jsx)(P,{children:(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:o.content}})}),null==l?void 0:l.map(({image_url:e,image_height:t,image_width:i},o)=>(0,n.jsx)(A,{file:e,height:t,width:i,hasError:f.indexOf(e)>=0,onPreview:S.bind(null,e),errorRender:(0,n.jsx)(b,{}),onError:L.bind(null,e)},o))]}),m?(0,n.jsx)(u.aF,{visible:Boolean(h),closeAble:!1,maskClose:!0,onClose:M,children:(0,n.jsx)("img",{style:{maxWidth:"100%",maxHeight:"90%"},src:h,onClick:M})}):(0,n.jsx)(p.f,{visible:Boolean(h),defaultFile:h,files:k,onClose:M})]})},L=(0,g.default)("div",{target:"e3vredn0"})({overflowY:"scroll",paddingBottom:"24px",height:"100%"},"label:DivFeedbackHistory;"),D=(0,g.default)("div",{target:"e3vredn1"})(({theme:e})=>({width:"315px",margin:"16px auto 0",fontSize:"14px",lineHeight:"20px",textAlign:"center",color:e.colors.TextTertiary}),"label:DivDeleteTip;"),O=(0,g.default)("div",{target:"e3vredn2"})(({theme:e})=>({fontSize:"12px",lineHeight:"12px",paddingTop:"24px",textAlign:"center",color:e.colors.TextTertiary}),"label:DivTime;"),R=e=>{var t;const{className:i}=e,[c,u]=(0,o.S)(r.i,{selector:e=>e.records,dependencies:[]}),{map:p,list:g,hasDeleteData:_,firstLoad:m}=c,h=(0,l.s)(),v=(0,a.useRef)(0),f=(0,a.useRef)(null),y=(0,a.useMemo)(()=>!_&&Boolean(g.length),[g,_]),b=(0,a.useMemo)(()=>Object.keys(p).sort((e,t)=>e.localeCompare(t)),[p]),x=(0,a.useMemo)(()=>b.map(e=>{const t=p[e];return[(0,n.jsx)(O,{children:e},e)].concat(t.map(e=>(0,n.jsx)(M,{item:e},null==e?void 0:e.id)))}),[b,p]),k=(0,a.useCallback)(()=>{f.current&&(f.current.scrollTo(0,f.current.scrollHeight),v.current=f.current.scrollHeight)},[]),{language:w="",region:S="",user:C}=null!==(t=(0,d.W)(()=>["language","region","user"],[]))&&void 0!==t?t:{},j=(0,a.useCallback)(()=>{u.getReportRecords({language:w,region:S,user:C})},[u,w,S,C]),T=(0,s._g)(()=>{if(!f.current)return;const e=f.current.scrollTop;e<500&&v.current>e&&j(),v.current=e},[j],200);return(0,a.useEffect)(()=>{j()},[j]),(0,a.useEffect)(()=>{m&&k()},[m,k]),y?(0,n.jsxs)(L,{className:i,onScroll:T,ref:f,children:[_&&(0,n.jsx)(D,{children:h("setting_feedback_delete_history")}),x]}):null}},41413:(e,t,i)=>{"use strict";i.d(t,{O:()=>w});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(23999),l=i(76435),d=i(26324),c=i(24451),u=i(62564),p=i(72916),g=i(95719),_=i(8536),m=i(74690),h=i(73995),v=i(96406),f=i(7672),y=i(44094);let b=class{constructor(e){this.fetch=e}getRelatedSearch(e){return this.fetch.get("/api/search/suggest/guide/",{query:e,baseUrlType:2})}};b=(0,n.__decorate)([(0,f._)(),(0,n.__metadata)("design:paramtypes",[y.p])],b);var x=i(81378),k=i(16618);let w=class extends o.E{constructor(e,t,i){super(),this.service=e,this.search=t,this.personalization=i,this.defaultState={general:{},video:{},user:{},live:{}}}setGeneralState(e,t){e.general=t}setUserState(e,t){e.user=t}setVideoState(e,t){e.video=t}setLiveState(e,t){e.live=t}setGeneralStateShowRSPanel(e,t){e.general=Object.assign(Object.assign({},e.general),{showRSPanel:t})}setUserStateShowRSPanel(e,t){e.user=Object.assign(Object.assign({},e.user),{showRSPanel:t})}setVideoStateShowRSPanel(e,t){e.video=Object.assign(Object.assign({},e.video),{showRSPanel:t})}setLiveStateShowRSPanel(e,t){e.live=Object.assign(Object.assign({},e.live),{showRSPanel:t})}getTopRSData(e){return e.pipe((0,c.E)(this.search.state$,this.personalization.state$),(0,u.T)(([e,{searchGlobalParams:t},{isSearchPersonalized:i}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,nonPersonalized:i?void 0:1})),(0,p.n)(({payload:e,rootEnterFrom:t,nonPersonalized:i})=>this.service.getRelatedSearch(Object.assign(Object.assign({},e),{is_non_personalized_search:i})).pipe((0,u.T)(e=>this.handleRequestData(e)),(0,g.M)(({data:e,log_id:i})=>{this.reportTrendingShow(e,i,t,"general_search")}),(0,_.Z)(e=>{const t=Object.assign(Object.assign({},e),{showRSPanel:!1});return(0,s.of)(this.getActions().setGeneralState(t))}),(0,m.Z)(this.getActions().setGeneralState({})),(0,l.Q)(this.getAction$().dispose))))}getVideoRSData(e){return e.pipe((0,c.E)(this.search.state$,this.personalization.state$),(0,u.T)(([e,{searchGlobalParams:t},{isSearchPersonalized:i}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,nonPersonalized:i?void 0:1})),(0,p.n)(({payload:e,rootEnterFrom:t,nonPersonalized:i})=>this.service.getRelatedSearch(Object.assign(Object.assign({},e),{is_non_personalized_search:i})).pipe((0,u.T)(e=>this.handleRequestData(e)),(0,g.M)(({data:e,log_id:i})=>{this.reportTrendingShow(e,i,t,"search_video")}),(0,_.Z)(e=>{const t=Object.assign(Object.assign({},e),{showRSPanel:!1});return(0,s.of)(this.getActions().setVideoState(t))}),(0,m.Z)(this.getActions().setVideoState({})),(0,l.Q)(this.getAction$().dispose))))}getUserRSData(e){return e.pipe((0,c.E)(this.search.state$,this.personalization.state$),(0,u.T)(([e,{searchGlobalParams:t},{isSearchPersonalized:i}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,nonPersonalized:i?void 0:1})),(0,p.n)(({payload:e,rootEnterFrom:t,nonPersonalized:i})=>this.service.getRelatedSearch(Object.assign(Object.assign({},e),{is_non_personalized_search:i})).pipe((0,u.T)(e=>this.handleRequestData(e)),(0,g.M)(({data:e,log_id:i})=>{this.reportTrendingShow(e,i,t,"search_user")}),(0,_.Z)(e=>{const t=Object.assign(Object.assign({},e),{showRSPanel:!1});return(0,s.of)(this.getActions().setUserState(t))}),(0,m.Z)(this.getActions().setUserState({})),(0,l.Q)(this.getAction$().dispose))))}getLiveRSData(e){return e.pipe((0,c.E)(this.search.state$,this.personalization.state$),(0,u.T)(([e,{searchGlobalParams:t},{isSearchPersonalized:i}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,nonPersonalized:i?void 0:1})),(0,p.n)(({payload:e,rootEnterFrom:t,nonPersonalized:i})=>this.service.getRelatedSearch(Object.assign(Object.assign({},e),{is_non_personalized_search:i})).pipe((0,u.T)(e=>this.handleRequestData(e)),(0,g.M)(({data:e,log_id:i})=>{this.reportTrendingShow(e,i,t,"search_live")}),(0,_.Z)(e=>{const t=Object.assign(Object.assign({},e),{showRSPanel:!1});return(0,s.of)(this.getActions().setLiveState(t))}),(0,m.Z)(this.getActions().setLiveState({})),(0,l.Q)(this.getAction$().dispose))))}handleRequestData(e){const{status_code:t,data:i=[],log_id:n}=e;let o=[];return 0===t&&(null==i?void 0:i.length)&&(o=i.map(e=>Object.assign(Object.assign({},e),{impr_id:n}))),Object.assign(Object.assign({},e),{data:null!=o?o:[]})}reportTrendingShow(e,t,i,n){if(e&&e.length>=10){const o={enter_from:i,words_source:"related_search",search_position:v.f.commonParams.page_name,page_name:n};h.$G.handleTrendingShow(Object.assign({words_num:e.length,impr_id:null!=t?t:"",raw_query:""},o)),e.forEach((e,i)=>{var n,a;return h.$G.handleTrendingWordsShow(Object.assign({words_position:i,words_content:null!==(n=null==e?void 0:e.word)&&void 0!==n?n:"",group_id:null!==(a=null==e?void 0:e.group_id)&&void 0!==a?a:"",impr_id:null!=t?t:""},o))})}}};(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",d.c)],w.prototype,"dispose",void 0),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"setGeneralState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"setUserState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"setVideoState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"setLiveState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"setGeneralStateShowRSPanel",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"setUserStateShowRSPanel",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"setVideoStateShowRSPanel",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"setLiveStateShowRSPanel",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"getTopRSData",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"getVideoRSData",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"getUserRSData",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"getLiveRSData",null),w=(0,n.__decorate)([(0,r.nV)("RelatedSearch"),(0,n.__metadata)("design:paramtypes",[b,x.tq,k.fu])],w)},41471:(e,t,i)=>{"use strict";i.d(t,{U:()=>h});var n=i(72516),o=i(24643),a=i(72381),r=i(78751),s=i(26930),l=i(45027),d=i(80179),c=i(11675),u=i(69857),p=i(90976),g=i(27799),_=i(94568),m=i(68252);const h=e=>{const{items:t,detail:i,musicList:h}=e,v=(0,c.wW)(),f=(0,g.s)(),{language:y,appType:b}=(0,u.L$)((0,p.W)(()=>["language","appType"],[])),x=(0,l.w)(_.e),k=(0,d.useSetAtom)(r.b);return(0,s.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e,n;const{statusCode:o}=i;if(-1!==o){const r={language:y},s=Object.assign(Object.assign(Object.assign({},i),r),{musicList:h,statusCode:o,seoProps:{pageId:null!==(n=null===(e=i.userInfo)||void 0===e?void 0:e.user.id)&&void 0!==n?n:"",pageType:1,abtest:v},items:t,t:f}),l=yield(0,m.G)(s,a.f),{metaParams:d={},jsonldList:c=[]}=l;return k({metaParams:d,jsonldList:c}),x.setUserSharingMetaEffect({seoProps:l,response:i,appType:b})}}),[b,y,i]),(0,o.jsx)(o.Fragment,{})}},41928:(e,t,i)=>{"use strict";i.d(t,{AF:()=>g,AP:()=>h,CA:()=>p,a8:()=>m,hA:()=>u,uJ:()=>_});var n=i(95074),o=i(72355),a=i(25961),r=i(69857),s=i(2232),l=i(90976),d=i(20173);const c="abTestVersion",u=()=>{var e;const{abTestVersion:t}=(0,r.L$)((0,l.W)(()=>[c],[])),i=null!==(e=(0,s.qt)(t,"search_bar_style_opt"))&&void 0!==e?e:"v1",n="v2"===i,o="v3"===i;return{isSearchBarStyleV1:"v1"===i,isSearchBarStyleV2:n,isSearchBarStyleV3:o,withNewStyle:n||o}},p=()=>{var e;const{pathname:t}=(0,o.zy)(),{abTestVersion:i}=(0,r.L$)((0,l.W)(()=>[c],[])),n=null!==(e=(0,s.qt)(i,"search_remove_related_search"))&&void 0!==e?e:"v0";return{hasRelatedSearch:"v0"===n||(0,a.ie)(t),hasSugReport:!0,isNewSearchLayout:"v0"!==n}},g=()=>{var e;const{abTestVersion:t}=(0,r.L$)((0,l.W)(()=>[c],[]));return"v2"===(null!==(e=(0,s.qt)(t,"search_keep_sug_show"))&&void 0!==e?e:"v1")};function _(){var e;const{abTestVersion:t}=(0,r.L$)((0,l.W)(()=>[c],[])),i=null!==(e=(0,s.qt)(t,"search_add_non_personalized_switch"))&&void 0!==e?e:"v1",{user:o}=(0,n.P)(d.L,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),a=Boolean(o);return{hasPersonalizedSwitch:"v2"===i&&a}}function m(){var e;const{abTestVersion:t}=(0,r.L$)((0,l.W)(()=>[c],[]));return{shouldRecomReduceIconRisk:"v1"===(null!==(e=(0,s.qt)(t,"should_recom_reduce_icon_risk"))&&void 0!==e?e:"v0")}}function h(){var e;const{abTestVersion:t}=(0,r.L$)((0,l.W)(()=>[c],[]));return{notificationShouldBeClickable:"v1"===(null!==(e=(0,s.qt)(t,"webapp_moderation"))&&void 0!==e?e:"v0")}}},41935:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Ie});var n=i(24643),o=i(40099),a=i(72516),r=i(80179),s=i(61198),l=i(2460),d=i(35898),c=i(73739),u=i(75976),p=i(35757),g=i(42262),_=i(93731),m=i(16410),h=i(93584);const v=(0,m.default)("div",{target:"ecuxb6i0"})(({visible:e})=>({position:"absolute",left:0,bottom:0,opacity:e?1:0,transition:e?"opacity .3s ease-in .1s":"opacity .3s ease-in",width:"100%",height:40,marginBottom:"8px",zIndex:10,display:"flex",justifyContent:"space-between"}),"label:DivPlayerControls;"),f=(0,m.default)("div",{target:"ecuxb6i1"})({display:"flex",height:"40px",margin:"0px 4px"},"label:DivPlayerLeftGroup;"),y=(0,m.default)("div",{target:"ecuxb6i2"})(({theme:e})=>[{display:"flex",height:"40px",justifyContent:"center",alignItems:"center"},(0,h.mp)({direction:e.direction,marginEnd:6})],"label:DivPlayerVolumeIcon;");var b=i(3045),x=i(59083),k=i(20768);const w=(0,o.memo)(function(e){const{playing:t,playerIsPlaying:i,handleRetry:a,handleClickPlay:r,handleClickPause:s,xgplayer:l,visible:d=!0,mutedPlay:c=!1,isBrowserMode:u,defaultVolume:p=50,defaultMuted:g=!1,onMutedChange:_,onVolumeChange:m}=e,{PlayIcon:h,playIconProps:w}=(0,b.j)({defaultPlaying:t&&i,onPlay:r,onPause:s}),[S,C]=(0,o.useState)(p),[j,T]=(0,o.useState)(g),I=(0,o.useCallback)(e=>{C(t=>(e!==t&&(null==l?void 0:l.current)&&(l.current.volume=Number(e)/100,null==m||m(e)),e))},[m,l]),P=(0,o.useCallback)(e=>{T(t=>(e!==t&&(null==l?void 0:l.current)&&(null==_||_(e),l.current.muted=e),e))},[_,l]);return(0,o.useEffect)(()=>{c&&(T(!0),null==_||_(!0))},[c,_]),(0,o.useEffect)(()=>{I(p)},[I,p]),(0,o.useEffect)(()=>{P(g)},[P,g]),(0,n.jsxs)(v,{visible:d,children:[(0,n.jsxs)(f,{children:[(0,n.jsx)(h,Object.assign({},w,{hideTips:!0})),(0,n.jsx)(x.r,{onReplay:a,hideTips:!0})]}),(0,n.jsx)(y,{children:(0,n.jsx)(k.G4,{value:S,muted:j,isBrowserMode:u,onMutedClick:P,onVolumeChange:I})})]})}),S=(0,m.default)("div",{target:"e8t8kqt0"})(({playerControlsVisible:e})=>[{display:"flex",position:"absolute",width:"100%",zIndex:5,bottom:0,left:0,transition:"transform .3s ease-in",flexDirection:"column",justifyContent:"flex-end",alignItems:"flex-start",gap:8,padding:"0 12px 12px 12px"},e&&{transform:"translate3d(0, -40px, 0)"}],"label:DivBottomWrapper;"),C=(0,m.default)("div",{target:"e8t8kqt1"})({width:"100%",marginBottom:"66px"},"label:TipsBarWrapper;"),j=(0,m.default)("div",{target:"e8t8kqt2"})({display:"flex",gap:8},"label:DivLineWrapper;"),T=(0,m.default)("span",{target:"e8t8kqt3"})(({theme:e})=>[...(0,h.zy)({theme:e,typography:"H6",color:"ConstTextInverse",fontWeight:"medium"})],"label:SpanAnchorName;"),I=(0,m.default)("span",{target:"e8t8kqt4"})(({theme:e})=>[...(0,h.zy)({theme:e,typography:"H6",color:"ConstTextInverse",fontWeight:"normal"})],"label:SpanLiveTitle;"),P=(0,m.default)("span",{target:"e8t8kqt5"})(({theme:e})=>[...(0,h.zy)({theme:e,typography:"H6",color:"ConstTextInverse",fontWeight:"medium"}),{borderRadius:"4px",padding:"3px 5px",background:"rgba(255, 255, 255, 0.2)",textAlign:"center",fontFamily:"TikTokFont",fontSize:12,fontStyle:"normal",lineHeight:"130%",letterSpacing:"0.161px"}],"label:SpanToggleText;");var A=i(99625),M=i(94725);const L=(0,m.default)("div",{target:"e1izqf4z0"})(({theme:e})=>({display:"flex",boxSizing:"border-box",height:22,padding:"1px 5px",justifyContent:"center",alignItems:"center",borderRadius:"4px",backgroundColor:e.colors.ConstTextInverse}),"label:DivTagWrapper;"),D=(0,m.default)("span",{target:"e1izqf4z1"})(({theme:e})=>[...(0,h.zy)({theme:e,typography:"H6",color:"ConstBGInverse",fontWeight:"medium"})],"label:SpanTagText;");var O=i(27799);const R=(0,o.memo)(function(e){const{followStatus:t}=e,i=(0,O.s)(),a=(0,o.useMemo)(()=>{switch(t){case 1:return i("weblive_following_btn");case 2:return i("pm_mt_liveWeb_friend_tag");default:return""}},[t,i]);return a?(0,n.jsx)(L,{children:(0,n.jsx)(D,{children:a})}):null}),E=m.default.div`
  display: flex;
  align-items: center;
  width: 100%;
  gap: 4px;
`,F=(0,m.default)("div",{target:"e1fa9to00"})(({theme:e})=>[{color:e.colors.ConstTextInverse},{fontSize:"14px",fontWeight:400,lineHeight:"130%",letterSpacing:"0.67%"}],"label:DivTitle;"),B=m.default.div`
  width: 1px;
  height: 10px;
  background-color: rgba(255, 255, 255, 0.2);
`,z=(0,m.default)("div",{target:"e1tmphnx0"})(({theme:e,height:t,width:i})=>[{overflow:"hidden",position:"relative",height:t,width:i,background:"transparent",color:e.colors.ConstTextInverse,userSelect:"none"},{fontSize:"14px",fontWeight:400,lineHeight:"130%",letterSpacing:"0.67%"}],"label:MarqueeWrapper;"),U=m.default.div`
  display: flex;
  flex-direction: column;
  width: ${({width:e})=>e};
  transition: ${({isAnimating:e})=>e?"transform 0.3s cubic-bezier(.4,0,.2,1)":"none"};
  transform: ${({isAnimating:e,height:t})=>e?`translateY(-${t})`:"translateY(0)"};
`,N=m.default.div`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  height: ${({height:e})=>e};
  width: 100%;
  line-height: ${({height:e})=>e};
`,W=3e3,V=e=>{const{items:t,interval:i=W,height:a="18px",width:r="100%",className:s}=e,[l,d]=(0,o.useState)(0),[c,u]=(0,o.useState)(!1),p=(0,o.useRef)(null),g=t.length,_=(0,o.useCallback)(()=>{u(!0),setTimeout(()=>{d(e=>(e+1)%g),u(!1)},300)},[g]);(0,o.useEffect)(()=>{if(!(g<=1))return p.current=setInterval(_,i),()=>{p.current&&clearInterval(p.current)}},[i,_,g]);const m=t[l],h=t[(l+1)%g];return(0,n.jsx)(z,{height:a,width:r,className:s,"aria-label":"marquee",children:(0,n.jsxs)(U,{isAnimating:c,height:a,width:r,children:[(0,n.jsx)(N,{height:a,children:m}),(0,n.jsx)(N,{height:a,children:h})]})})};var H=i(57615);function q(e){const{previewCommentInfo:t,height:i="18px",width:a="100%"}=e,r=(0,o.useMemo)(()=>t.comment_list?t.comment_list.map(e=>e.content).filter(e=>"string"==typeof e&&e.length>0):[],[t.comment_list]);return(0,n.jsxs)(E,{"data-tux-color-scheme":"dark",children:[(0,n.jsx)(H.hCt,{size:"14px",color:"UIText1"}),(0,n.jsx)(F,{children:t.title}),(0,n.jsx)(B,{}),(0,n.jsx)(V,{items:r,height:i,width:a,interval:Number(t.polling_interval)})]})}const $=(0,o.memo)(function(e){var t,i,a,r,s,l,d;const{playerControlsVisible:u,liveInfo:p,handleEnterUserPage:g}=e,_=(0,c.MA)(),m=(0,o.useCallback)(e=>{e.stopPropagation(),null==g||g()},[g]);return(0,n.jsxs)(S,{playerControlsVisible:u,children:[(0,n.jsx)(C,{children:(0,n.jsx)(M.e,{useButtonStyle:!0})}),(0,n.jsxs)(j,{children:[(0,n.jsx)(A.D,{needViewer:!1,isSubOnlyLive:!!p.liveSubOnly}),!!p.followStatus&&(0,n.jsx)(R,{followStatus:p.followStatus})]}),(0,n.jsx)(j,{children:(0,n.jsx)(T,{onClick:e=>m(e),children:p.nickname})}),(0,n.jsx)(j,{children:(0,n.jsx)(I,{children:p.title})}),_&&(null===(t=p.previewCommentInfo)||void 0===t?void 0:t.title)&&!(null===(a=null===(i=p.toggleInfo)||void 0===i?void 0:i.bcToggleInfo)||void 0===a?void 0:a.bcToggleText)&&(0,n.jsx)(q,{previewCommentInfo:p.previewCommentInfo,width:"340px"}),(null===(s=null===(r=p.toggleInfo)||void 0===r?void 0:r.bcToggleInfo)||void 0===s?void 0:s.bcToggleText)&&(0,n.jsx)(j,{children:(0,n.jsx)(P,{children:null===(d=null===(l=p.toggleInfo)||void 0===l?void 0:l.bcToggleInfo)||void 0===d?void 0:d.bcToggleText})})]})}),G=(0,o.forwardRef)((e,t)=>{const{playing:i=!1,onClickPlay:a,onClickPause:r,onClickRetry:s,onOpenLiveClick:l,onEnterUserPage:d,defaultVolume:c,defaultMuted:u,onVolumeChange:m,onMutedChange:h,isBrowserMode:v=!1,showPlayControls:f=!1,liveInfo:y,isShowGuideBg:b=!1}=e,x=(0,o.useRef)(null),{xgplayer:k,playerIsPlaying:S,loading:C,mutedPlay:j,handlePlayerDestroy:T}=(0,g.F)(Object.assign(Object.assign({},e),{playerContainerRef:x,loop:!0})),I=(0,o.useCallback)(()=>{var e;null===(e=k.current)||void 0===e||e.retry(),null==s||s()},[k,s]);return(0,o.useImperativeHandle)(t,()=>({destroy:()=>{T()},retry:()=>{I()}})),(0,n.jsxs)(_.qq,{onClick:l,ref:x,children:[(0,n.jsx)(p.m,{loading:C}),e.children,!b&&(0,n.jsx)($,{playerControlsVisible:f,liveInfo:y,handleEnterUserPage:d}),(0,n.jsx)(w,{playing:i,playerIsPlaying:S,xgplayer:k,visible:f,defaultVolume:c,defaultMuted:u,mutedPlay:j,handleRetry:I,handleClickPause:r,handleClickPlay:a,onVolumeChange:m,onMutedChange:h,isBrowserMode:v})]})});var K=i(43629);const Y=(0,o.forwardRef)((e,t)=>{const{playing:i=!1,onClickPlay:a,onClickPause:r,onClickRetry:s,onOpenLiveClick:l,onEnterUserPage:d,defaultVolume:c,defaultMuted:u,onVolumeChange:g,onMutedChange:m,isBrowserMode:h=!1,showPlayControls:v=!1,liveInfo:f,isShowGuideBg:y}=e,b=(0,o.useRef)(null),{xgplayer:x,playerIsPlaying:k,loading:S,mutedPlay:C,handlePlayerDestroy:j}=(0,K.F)(Object.assign(Object.assign({},e),{playerContainerRef:b})),T=(0,o.useCallback)(()=>{var e;null===(e=x.current)||void 0===e||e.retry(),null==s||s()},[x,s]);return(0,o.useImperativeHandle)(t,()=>({destroy:()=>{j()},retry:()=>{T()}})),(0,n.jsxs)(_.qq,{onClick:l,ref:b,children:[(0,n.jsx)(p.m,{loading:S}),e.children,!y&&(0,n.jsx)($,{playerControlsVisible:v,liveInfo:f,handleEnterUserPage:d}),(0,n.jsx)(w,{playing:i,playerIsPlaying:k,xgplayer:x,visible:v,defaultVolume:c,defaultMuted:u,mutedPlay:C,handleRetry:T,handleClickPause:r,handleClickPlay:a,onVolumeChange:g,onMutedChange:m,isBrowserMode:h})]})});var Z=i(10509),J=i(45308),X=i(82175),Q=i(73506),ee=i(57944),te=i(38559),ie=i(43301),ne=i(47572),oe=i(43738),ae=i(87844);const re=(0,m.default)("div",{target:"e1bmbfjz0"})({position:"relative",boxSizing:"border-box",backgroundSize:"cover",cursor:"pointer",borderRadius:"16px",zIndex:1,overflow:"hidden"},({isBrowserMode:e,horizontal:t,isLiveHighlight:i})=>e?[Object.assign({width:"100%",height:"100%"},i&&{display:"flex",justifyContent:"center"})]:[{gridArea:"card-content",aspectRatio:t?""+1/.5625:"0.5625"},t&&{height:"unset",width:"100%"}],"label:DivRecommendLivePlayer;"),se=(0,m.default)("div",{target:"e1bmbfjz1"})({width:"100%",height:"100%",zIndex:50,position:"absolute",left:0,top:0},"label:DivPlayerStatus;"),le=(0,m.default)("div",{target:"e1bmbfjz2"})({width:"100%",height:"100%",zIndex:3,position:"absolute",pointerEvents:"none",top:0,left:0},"label:DivLivePlayerMultiGuestPanelWrapper;");var de=i(74967),ce=i(73137),ue=i(9656),pe=i(862),ge=i(51727),_e=i(82862),me=i(43050),he=i(13353),ve=i(25372),fe=i(70589),ye=i(60222),be=i(16788),xe=i(47307);const ke=(0,o.memo)(({requestId:e,liveInfo:t,isBrowserMode:i,active:p,autoplay:g=!1,loggerConfig:_,onPlayError:m,onLiveEndTimeoutStart:h,onLiveEndTimeoutEnd:v,volumeProps:f,pageType:y})=>{var b,x,k,w;const S=(0,o.useRef)(),C=(0,o.useMemo)(()=>null==t?void 0:t.roomID,[null==t?void 0:t.roomID]),[j,T]=(0,o.useState)(void 0),I=(0,o.useRef)(null),{sendH265Error:P}=(0,te.X)(),A=(0,de.C)({handleParentPlayError:(e,t)=>(0,a.__awaiter)(void 0,void 0,void 0,function*(){var i,n,o,a;try{const r=null===(a=null===(o=null===(n=null===(i=(yield(0,ye.N)({room_id:C})).data)||void 0===i?void 0:i.stream_url)||void 0===n?void 0:n.live_core_sdk_data)||void 0===o?void 0:o.pull_data)||void 0===a?void 0:a.stream_data;r&&T(r),P(e,t)}catch(i){null==m||m(e,t),console.error(i)}})}),M=(0,o.useMemo)(()=>(null==t?void 0:t.coverUrl)?[t.coverUrl]:[],[null==t?void 0:t.coverUrl]),L=(0,o.useMemo)(()=>(0,ce.iU)(null==t?void 0:t.landscape),[null==t?void 0:t.landscape]),{streamItemUrl:D,isLiveHighlight:O}=(0,o.useMemo)(()=>{var e;const i=j||(null==t?void 0:t.streamData);if((0,ce.Zh)(i))return{streamItemUrl:i,isLiveHighlight:!0};{const{deviceLevel:t,networkLevel:n}=(0,l.Ee)(),o=(0,d.Li)(t,n),a=i?d.WL.getAvailableStream({stream_data:i},{targetQuality:o,direction:"up"}):null;return{streamItemUrl:null===(e=null==a?void 0:a.url)||void 0===e?void 0:e.mainFLV,isLiveHighlight:!1}}},[null==t?void 0:t.streamData,j]),R=(0,o.useMemo)(()=>{if((null==t?void 0:t.streamData)&&!O)return d.WL.getStreamSecretKey({stream_data:t.streamData})},[null==t?void 0:t.streamData,O]),{visible:E,handleVoiceChatPanelSeiParsed:F,voiceChannelControllerProps:B}=(0,Q.q)({infoEnable:!1,playerContainerRef:I,roomInfo:{anchorId:null==t?void 0:t.ownerInfo.id,roomId:C,liveRoomMode:null==t?void 0:t.mode}}),[z]=(0,r.useAtom)(ue.J),{handleMultiGuestPanelShow:U}=(0,pe.P)({roomId:C,active:Boolean(p)}),{handleMultiGuestSeiParsedCallback:N,multiGuestMaskPanelProps:W,multiGuestPanelVisible:V}=(0,ge.$)({handleMultiGuestShow:U,linkedUsers:z.linkedUsers}),{handleMultiGuestSeiParsed:H}=(0,_e.n)({handleMultiGuestSeiParsedCallback:N,url:D,playMode:"fyp_preview"}),q=(0,o.useCallback)((e,t,i)=>{e&&t&&i&&H(e,t,i),e&&F(e)},[H,F]),{isFatal:$,isEnd:K,isPaused:ke,handlePlayError:we,handleStreamEnd:Se,handleRetry:Ce,handleStreamResume:je}=(0,ie.Z)({active:p,handleParentPlayError:m,roomId:C,roomStatus:null==t?void 0:t.status,playerRef:S}),{handleCancelPlay:Te,isShowGuideBg:Ie}=(0,be.e)({isFatal:$,isEnd:K}),{handleOpenLive:Pe,handleEnterUserPage:Ae}=(0,ae.z)({requestId:e,liveInfo:t,pageType:y,isLiveHighlight:O,isGuestConnection:V,isShowGuideBg:Ie}),Me=(0,c.MA)(),{handleLeaveReport:Le,handlePlayingReport:De,handlePauseReport:Oe,handlePlayReport:Re,handleLiveEntranceClickReport:Ee,handleLiveCancelClickReport:Fe,handleLiveGuideShowReport:Be,handleLiveEndReport:ze}=(0,ne.$)({active:p,isBrowserMode:i,requestId:e,liveInfo:t,pageType:y,isLiveHighlight:O,isLivePaused:ke,isGuestConnection:V,isShowGuideBg:Ie,aiTagShow:Me&&(null===(b=null==t?void 0:t.previewCommentInfo)||void 0===b?void 0:b.title)&&!(null===(k=null===(x=t.toggleInfo)||void 0===x?void 0:x.bcToggleInfo)||void 0===k?void 0:k.bcToggleText)?"1":"0"}),Ue=(0,o.useCallback)(()=>{Te(),Fe()},[Te,Fe]),Ne=(0,o.useCallback)(()=>{Pe(),Ee()},[Ee,Pe]);(0,o.useEffect)(()=>{K&&ze()},[ze,K]);const{playing:We,defaultVolume:Ve,defaultMuted:He,showPlayControls:qe,showVolumeIcon:$e,handleMouseEnter:Ge,handleMouseLeave:Ke,handlePlay:Ye,handlePause:Ze,handleClickPlay:Je,handleClickPause:Xe,handleClickRetry:Qe,handleVolumeChange:et,handleMutedChange:tt,handlePlaying:it}=(0,oe.$)({handlePlayReport:Re,handlePauseReport:Oe,handlePlayingReport:De,handleLeaveReport:Le,handleStreamResume:je,volumeProps:f,isFatal:$,isEnd:K,isBrowserMode:i,active:p}),{handleLoadedData:nt}=(0,he.k)(),ot=(0,o.useMemo)(()=>{var e,i,n;return{nickname:null===(e=null==t?void 0:t.ownerInfo)||void 0===e?void 0:e.nickname,liveSubOnly:Number(null!==(i=null==t?void 0:t.liveSubOnly)&&void 0!==i?i:0),followStatus:Number(null!==(n=null==t?void 0:t.followStatus)&&void 0!==n?n:0),title:null==t?void 0:t.title,previewCommentInfo:null==t?void 0:t.previewCommentInfo,toggleInfo:null==t?void 0:t.toggleInfo}},[null==t?void 0:t.liveSubOnly,null===(w=null==t?void 0:t.ownerInfo)||void 0===w?void 0:w.nickname,null==t?void 0:t.title,null==t?void 0:t.followStatus,null==t?void 0:t.previewCommentInfo,null==t?void 0:t.toggleInfo]),[at,{openContextMenu:rt}]=(0,ve.xx)(e=>e.contextMenuOpen,s.bN),{hasNonPersonalizedMenu:st}=(0,fe.cE)(),lt=(0,o.useCallback)(e=>{e.preventDefault();const t=[];st&&t.push("manage-feed"),rt({location:{x:e.clientX,y:e.clientY},menuOptions:t,mediaType:"video"})},[rt,st]);return(0,n.jsxs)(re,{isBrowserMode:i,horizontal:L,onMouseEnter:Ge,onMouseLeave:Ke,ref:I,isLiveHighlight:O,onContextMenu:lt,children:[M.length&&(0,n.jsx)(u.p,{urls:M}),Ie&&(0,n.jsx)(xe.y,{handleCancelPlay:Ue,handleOpenLiveClick:Ne,handleLiveGuideShowReport:Be}),!$&&!K&&(O?(0,n.jsx)(G,{isBrowserMode:i,liveInfo:ot,ref:S,loggerConfig:_,defaultVolume:Ve,defaultMuted:He,showPlayControls:qe,playing:We,autoMutedPlay:!0,autoplay:g,isShowGuideBg:Ie,url:D,drmSecretKey:R,onOpenLiveClick:Ne,onEnterUserPage:Ae,onPlayError:we,onVolumeChange:et,onMutedChange:tt,onClickPlay:Je,onClickPause:Xe,onPlay:Ye,onPause:Ze,onPlaying:it,onClickRetry:Qe,onLoadedData:nt}):(0,n.jsxs)(Y,Object.assign({isBrowserMode:i,liveInfo:ot,ref:S,loggerConfig:_,defaultVolume:Ve,defaultMuted:He,showPlayControls:qe,showVolumeIcon:$e,showClickTips:!0,showPlayIcon:!0,showReplayIcon:!0,playing:We,autoMutedPlay:!0,autoplay:g,isShowGuideBg:Ie,url:D,drmSecretKey:R,onOpenLiveClick:Ne,onEnterUserPage:Ae,onPlayError:we,onStreamEnd:Se,onVolumeChange:et,onMutedChange:tt,onClickPlay:Je,onClickPause:Xe,onPlay:Ye,onPause:Ze,onSeiParsed:q,onPlaying:it,onClickRetry:Qe},A,{children:[E&&(0,n.jsx)(ee.$,Object.assign({},B)),V&&(0,n.jsx)(le,{children:(0,n.jsx)(me.y,Object.assign({},W,{canShowUserInfo:!1}))})]}))),$&&(0,n.jsx)(se,{children:(0,n.jsx)(Z.f,{onRetryClick:Ce})}),K&&(0,n.jsx)(se,{children:(0,n.jsx)(J.Y,{isBrowserMode:i,onTimeoutStart:h,onTimeoutEnd:v,avatarList:M,onEnterUserPage:Ae})}),ke&&!V&&(0,n.jsx)(X.$,{onClick:Ne})]})});var we=i(13590),Se=i(10535),Ce=i(93459),je=i(31614),Te=i(12471);const Ie=(0,o.memo)(e=>{const{index:t=0,useNewCard:i}=e,o=(0,Se.b)(),{handlePlayErrorReport:a}=(0,je.Fb)(),r=(0,Ce.t4)(),s=(0,Te.FS)(t);return i?(0,n.jsx)(ke,Object.assign({},e,{loggerConfig:r,active:s,autoplay:!1,volumeProps:o,onPlayError:a})):(0,n.jsx)(we.C,Object.assign({},e,{loggerConfig:r,active:s,autoplay:!1,volumeProps:o,onPlayError:a}))})},42222:(e,t,i)=>{"use strict";i.d(t,{aL:()=>y});var n,o,a=i(72516),r=i(71450),s=i(4126),l=i(13356),d=i(23999),c=i(26324),u=i(95719),p=i(24451),g=i(62564),_=i(8536),m=i(66493),h=i(55867),v=i(1404),f=i(32242);!function(e){e.None="none",e.Mute="mute",e.Unmute="unmute",e.Play="play",e.Pause="pause"}(n||(n={})),function(e){e.Forward="forward",e.BackWard="backward",e.None="none"}(o||(o={}));let y=class extends r.E{constructor(e,t,i){super(),this.itemList=e,this.videoPlayerJotai=t,this.videoExperience=i,this.defaultState={currentIndex:{},disabled:!1,itemListKey:"foryou",onboardingShowing:!1,loginCTAShowing:!1,leavingModalShowing:!1,playbackRate:1,dimmer:!1,showBrowseMode:!1,needLeavingModal:!1,iconType:"none",seekType:"none"}}setItemListKey(e,t){e.itemListKey=t}setCurrentIndex(e,t){const{key:i,value:n}=t;e.currentIndex=Object.assign(Object.assign({},e.currentIndex),{[i]:n})}setDisabled(e,t){e.disabled=t}setNeedLeavingModal(e,t){e.needLeavingModal=t}setOnboardingShowing(e,t){e.onboardingShowing=t}setLoginCTAShowing(e,t){e.loginCTAShowing=t}setLeavingModalShowing(e,t){e.leavingModalShowing=t}setPlaybackRate(e,t){e.playbackRate=t}setDimmer(e,t){e.dimmer=t}setShowBrowseMode(e,t){e.showBrowseMode=t}setIconType(e,t){e.iconType=t}setSeekType(e,t){e.seekType=t}handleNextVideo(e){return e.pipe((0,u.M)(()=>{this.videoExperience.reportVideoInteractStart({startTime:Date.now(),situation:"swiper_slide_next"})}),(0,p.E)(this.state$,this.itemList.state$),(0,g.T)(([{playMode:e},{itemListKey:t,currentIndex:i},n])=>{var o,a,r,s;const l=null!==(a=null===(o=n[null!=t?t:""])||void 0===o?void 0:o.browserList)&&void 0!==a?a:[],d=Math.min((null!==(r=i[t])&&void 0!==r?r:0)+1,l.length-1);return{newIndex:d,isIndexInvalid:!(null==l?void 0:l.length)||d<0,newId:null!==(s=l[d])&&void 0!==s?s:"",playMode:e,itemListKey:t}}),(0,u.M)(({isIndexInvalid:e})=>{e&&console.warn("cannot switch to next video for some reasons")}),(0,_.Z)(e=>(0,d.of)(...this.updateVideoIndex(e))),(0,h.n)({}))}handlePrevVideo(e){return e.pipe((0,u.M)(()=>{this.videoExperience.reportVideoInteractStart({startTime:Date.now(),situation:"swiper_slide_prev"})}),(0,p.E)(this.state$,this.itemList.state$),(0,g.T)(([{playMode:e},{itemListKey:t,currentIndex:i},n])=>{var o,a,r,s;const l=null!==(a=null===(o=n[null!=t?t:""])||void 0===o?void 0:o.browserList)&&void 0!==a?a:[],d=Math.max((null!==(r=i[t])&&void 0!==r?r:0)-1,0);return{newIndex:d,isIndexInvalid:!(null==l?void 0:l.length)||d>l.length-1,newId:null!==(s=l[d])&&void 0!==s?s:"",playMode:e,itemListKey:t}}),(0,u.M)(({isIndexInvalid:e})=>{e&&console.warn("cannot switch to prev video for some reasons")}),(0,_.Z)(e=>(0,d.of)(...this.updateVideoIndex(e))),(0,h.n)({}))}updateVideoIndex({newIndex:e,isIndexInvalid:t,newId:i,playMode:n,itemListKey:o}){return t?[this.noop()]:[this.videoPlayerJotai.getActions().updateVideo({currentVideo:{index:e,id:i,mode:n},playProgress:0}),this.getActions().setCurrentIndex({key:o,value:e})]}};(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setItemListKey",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setCurrentIndex",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setDisabled",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setNeedLeavingModal",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setOnboardingShowing",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setLoginCTAShowing",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setLeavingModalShowing",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Number]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setPlaybackRate",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setDimmer",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setShowBrowseMode",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setIconType",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,String]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"setSeekType",null),(0,a.__decorate)([(0,s.Mj)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[c.c]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"handleNextVideo",null),(0,a.__decorate)([(0,s.Mj)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[c.c]),(0,a.__metadata)("design:returntype",void 0)],y.prototype,"handlePrevVideo",null),y=(0,a.__decorate)([(0,l.nV)("SwiperModeModule"),(0,a.__metadata)("design:paramtypes",[v.O,f.Q,m.AU])],y)},42262:(e,t,i)=>{"use strict";i.d(t,{F:()=>m});var n=i(40099),o=i(60031),a=i(48083),r=i(72516),s=i(71510),l=i.n(s),d=i(59243),c=i(93459),u=i(56581);const p={lang:"en",width:"100%",height:"100%",url:"",debug:0,autoplay:!0,autoplayMuted:!1,closeVideoClick:!0,closeVideoDblclick:!0,keyboard:{disable:!0},keyShortcut:!1,plugins:[]};var g=i(89009),_=i(27421);const m=e=>{const{url:t,defaultMuted:i,playing:s,autoplay:m=!1,autoMutedPlay:h=!1,loop:v=!1,loggerConfig:f,playerContainerRef:y,onPlaying:b,onMutedChange:x,onPlay:k,onLoadedData:w,onLoading:S,onPause:C,onPlayError:j}=e,T=(0,n.useRef)(),{mutedPlay:I,registerAutoplayPreventRef:P}=(0,a.P)({autoplay:m,autoMutedPlay:h}),{playerIsPlaying:A,loading:M,registerPlayerEventsRef:L}=(0,g.Z)({onPlay:k,onPlaying:b,onPause:C,onLoading:S,onLoadedData:w,onPlayError:j}),{isPlayerInit:D,handlePlayerDestroy:O}=(e=>{const{url:t,player:i,init:o=!0,autoplay:a=!1,loop:s=!1,defaultMuted:g,onAutoPlayMuted:_,playerContainerRef:m,onPlayerStartInit:h,onPlayerInited:v,onPlayerInitErr:f,registerPlayerErrorsRef:y,registerPlayerEventsRef:b,registerAutoplayPreventRef:x}=e,k=(0,n.useRef)(!1),w=(0,n.useRef)(""),S=(0,n.useRef)(null!=g&&g),[C,j]=(0,n.useState)(!1),T=(0,n.useCallback)(()=>(0,r.__awaiter)(void 0,void 0,void 0,function*(){if(!t||!m.current)return Promise.reject(new Error("lack of necessary parameters"));const e=yield Promise.resolve(!a||(0,c.O1)()),i=S.current||!e;return(e=>{if(!e.id&&!e.el)throw new Error("dom instance or id is required!");return l()({},p,e)})({url:t,autoplay:a,loop:s,autoplayMuted:i,el:m.current,plugins:[]})}),[t]),I=(0,n.useCallback)(()=>{i.current&&(i.current.destroy(),i.current=void 0,k.current=!1,j(!1))},[i]),P=(0,n.useCallback)(()=>{null==h||h()},[h]),A=(0,n.useCallback)(()=>{null==f||f()},[f]),M=(0,n.useCallback)(()=>{C||(null==v||v(),j(!0))},[v,C]),L=(0,n.useCallback)(()=>(0,r.__awaiter)(void 0,void 0,void 0,function*(){var e,n;if(t&&m.current&&!i.current){const t=yield T().catch(()=>{});if(t){const o=new d.Ay(t);i.current=o,w.current=t.url,null==x||x.current(o),null===(e=null==b?void 0:b.current)||void 0===e||e.call(b,o),null===(n=null==y?void 0:y.current)||void 0===n||n.call(y,o),t.autoplayMuted&&(null==_||_())}}}),[t,m,i,T,x,b]);return(0,n.useEffect)(()=>{i.current||k.current||!t||!o||C||(k.current=!0,P(),L().then(()=>{M(),j(!0)}).catch(e=>{console.error(e),k.current=!1,A()}))},[t,o,C,L]),(0,n.useEffect)(()=>()=>{var e;null===(e=i.current)||void 0===e||e.destroy(),i.current=void 0,j(!1)},[]),(0,u.S)(()=>{var e;null===(e=i.current)||void 0===e||e.destroy(),i.current=void 0}),{isPlayerInit:C,handlePlayerDestroy:I}})({url:t,autoplay:m,loop:v,defaultMuted:!!I||i,onMutedChange:x,player:T,playerContainerRef:y,registerPlayerEventsRef:L,registerAutoplayPreventRef:P});return(0,_.a)({player:T,isPlayerInit:D,autoplay:m,playing:s}),(0,o.i)({isPlayerInit:D,loggerConfig:f,player:T}),{playerIsPlaying:A,xgplayer:T,mutedPlay:I,loading:M,handlePlayerDestroy:O}}},42580:(e,t,i)=>{"use strict";i.d(t,{i:()=>N});var n,o=i(72516),a=i(24643),r=i(67518),s=i(40099),l=i(65476),d=i(54253),c=i(27799),u=i(45375),p=i(20434),g=i(25961),_=i(43703),m=i(69857),h=i(70589),v=i(16765),f=i(69831),y=i(61322),b=i(96330),x=i(76869),k=i(96406),w=i(16410),S=i(43280),C=i(93584),j=i(22797),T=i(92067);!function(e){e[e.OneColumn=0]="OneColumn",e[e.BrowserMode=1]="BrowserMode",e[e.KEP=2]="KEP",e[e.OneColumnWithAds=3]="OneColumnWithAds",e[e.VideoDetail=4]="VideoDetail",e[e.Channel=5]="Channel"}(n||(n={}));const I=e=>[(0,C.zy)({theme:e,typography:"P2",fontWeight:"semiBold"}),{marginTop:"2px",marginLeft:"2px"},{fontWeight:"400",fontSize:"14px"},(0,C.jJ)({max:767,style:{maxWidth:"250px"}})],P={0:e=>[...I(e)],3:e=>[...I(e),{"a:link, a:active, a:visited, a:hover":{textDecoration:"none"}}],1:e=>[(0,C.zy)({theme:e,typography:"P2",fontFamily:"TikTokFont",fontWeight:"bold"}),{fontWeight:"400",fontSize:"14px"},{marginTop:"8px",flex:"0 0 auto",marginLeft:"1px"}],4:e=>[(0,C.zy)({theme:e,typography:"P2",fontFamily:"TikTokFont",fontWeight:"normal"}),{fontWeight:"400",fontSize:"14px"},{marginTop:"8px",flex:"0 0 auto",marginLeft:"1px"}],2:e=>[(0,C.zy)({theme:e,typography:"P3",fontFamily:"TikTokFont",fontWeight:"normal"}),{display:"inline",color:e.colors.TextSecondary},{a:{color:e.colors.TextSecondary}},(0,C.mp)({direction:e.direction,marginStart:12})],5:e=>[(0,C.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",color:"TextPrimary"}),{fontSize:"17px",lineHeight:"20px",display:"inline-box",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:"8px"}]},A=(0,w.default)("h4",{target:"epjbyn0"})(({styleType:e,theme:t})=>P[e](t),"label:H4Link;"),M={0:{marginRight:"5px"},3:{marginRight:"5px"},1:{marginRight:"8px"},2:{marginRight:"4px"},4:{marginRight:"4px"},5:{marginRight:"7px"}},L=(0,w.default)(j.N_,{target:"epjbyn1"})({display:"flex",alignItems:"center"},"label:StyledLink;"),D=(0,w.default)("div",{target:"epjbyn3"})({WebkitLineClamp:"1",overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical"},"label:DivMusicText;"),O=(0,w.default)(S.A,{shouldForwardProp:e=>"styleType"!==e,target:"epjbyn4"})(({styleType:e,theme:{direction:t}})=>[{flexShrink:0,width:"14px",height:"14px"},(0,C.mp)({direction:t,marginEnd:M[e].marginRight})],"label:MusicNoteIcon;"),R=(0,w.default)(T.A,{shouldForwardProp:e=>"styleType"!==e,target:"epjbyn5"})(({styleType:e,theme:{direction:t}})=>[{flexShrink:0},(0,C.mp)({direction:t,marginEnd:M[e].marginRight})],"label:MusicUnavailableIcon;"),E=(0,w.default)("div",{target:"epjbyn6"})({display:"flex"},"label:TT2DSPButtonWrapper;");var F=i(45027),B=i(48156),z=i(72355);const U="Promoted Music",N=(0,s.memo)(function(e){var t,i,n,w,{item:S,styleType:C,e2eTag:j,teaParams:T={},onLinkClick:I,target:P="_self"}=e,M=(0,o.__rest)(e,["item","styleType","e2eTag","teaParams","onLinkClick","target"]);const{music:N,id:W,authorId:V,itemMute:H=!1,ad_info:q,item_control:$}=(0,m.L$)(S),G=!!q,K=(null==q?void 0:q.is_promotional_music)||!1===(null==$?void 0:$.can_music_redirect),Y=K?3:C,Z=null!==(t=null==N?void 0:N.title)&&void 0!==t?t:"",J=null!==(i=null==N?void 0:N.authorName)&&void 0!==i?i:"",X=(0,c.s)(),{page_name:Q}=k.f.commonParams,[{canUserTT2DSP:ee,canFYPTT2DSP:te}]=(0,b.zd)(),ie=(0,s.useMemo)(()=>ee&&N&&te[W],[ee,te,N,W]);let ne=Z===U?X(U):Z.replace(`- ${J}`,"")+(J?` - ${J}`:"");const oe=H?"":(0,u.pHc)({musicId:null!==(n=null==N?void 0:N.id)&&void 0!==n?n:"",musicName:null!==(w=null==N?void 0:N.title)&&void 0!==w?w:""}),ae=(0,s.useRef)(null),{isDesktopUiOptDebugOn:re}=(0,h.kb)();re&&(ne="TAEYANG – Shoong! (feat. LISA of BLACKPINK) – Sped Up - TAEYANGTAEYANG – Shoong! (feat. LISA of BLACKPINK) – Sped Up - TAEYANGTAEYANG – Shoong! (feat. LISA of BLACKPINK) – Sped Up - TAEYANGTAEYANG – Shoong! (feat. LISA of BLACKPINK) – Sped Up - TAEYANG");const se=(0,F.w)(f.k),le=(0,s.useCallback)(e=>{if(H)(0,p.Gu)(e);else{if(K)return(0,p.Gu)(e),B.F.destroy(),void B.F.open({content:X("ad_not_support"),duration:3});G&&l.pg.handleMusicClick(T),d.q.handleEnterMusicDetail(Object.assign(Object.assign({},T),{music_id:null==N?void 0:N.id,group_id:W,author_id:V,enter_method:"click_caption"})),se.addMlModelTrainData({id:W,action:"cover"}),null==I||I(e,oe,"music")}},[H,T,null==N?void 0:N.id,W,V,I,oe,se,K,X,G]),de=(0,s.useCallback)(e=>{var t;13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),le(e),null===(t=ae.current)||void 0===t||t.click())},[le]),{pathname:ce}=(0,z.zy)(),ue=(0,v.D)((0,g.M5)(ce)),{colors:pe}=(0,r.u)(),{isBot:ge}=(0,m.L$)((0,y.U)(()=>["isBot"],[])),_e=[1,4].includes(Y);if(!N&&!G)return(0,_.d)(["music"]);let me,he;return H?(me=X("music_detail_unavailable_1"),he=(0,a.jsx)(R,{fill:pe.Primary2,styleType:Y})):(me=(0,a.jsx)(D,{children:ne}),he=(0,a.jsx)(O,{fill:pe.Primary2,styleType:Y})),H&&ge?(0,a.jsxs)(A,{as:ue.music,styleType:Y,"data-e2e":j,children:[he,me]}):"homepage_hot"===Q&&ie&&!H?(0,a.jsx)(A,{as:ue.music,styleType:Y,"data-e2e":j,children:(0,a.jsxs)(E,{children:[(0,a.jsx)(x.f,{groupId:W,music:N}),(0,a.jsx)(L,Object.assign({target:P,to:oe,replace:_e,disabled:H,onClick:le,onKeyDown:de,ref:ae,rel:"opener",ariaLabel:H?X("music_detail_unavailable_1"):`Watch more videos with music ${ne}`},M,{children:me}))]})}):(0,a.jsx)(A,{as:ue.music,styleType:Y,"data-e2e":j,children:(0,a.jsxs)(L,Object.assign({target:P,to:oe,replace:_e,disabled:H,onClick:le,onKeyDown:de,ref:ae,rel:"opener",ariaLabel:H?X("music_detail_unavailable_1"):`Watch more videos with music ${ne}`},M,{children:[he,me]}))})})},43050:(e,t,i)=>{"use strict";i.d(t,{y:()=>U});var n=i(24643),o=i(40099),a=i(74908),r=i(29593),s=i(27799),l=i(97882),d=i(16410);const c=i.p+"2a76df5f1cb19fd2acf7.png",u=i.p+"b0b7e2c9a68bccf32083.png",p=i.p+"8c59c078e88d02be0a83.png",g=(0,d.default)("div",{target:"e1dhtgaw0"})({position:"absolute",left:0,top:0,display:"flex",justifyContent:"center",pointerEvents:"none",zIndex:3},"label:DivMultiGuestMaskPanelWrapper;"),_=(0,d.default)("div",{target:"e1dhtgaw1"})({position:"relative"},"label:DivMultiGuestMaskPanelContent;"),m=(0,d.default)("div",{target:"e1dhtgaw2"})({position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},"label:DivLinkedMicUserCardWrapper;"),h=(0,d.default)("div",{target:"e1dhtgaw3"})({position:"absolute",top:"-1px",left:"-1px",border:"2px solid #161823",borderRadius:"6px",zIndex:9},"label:DivLinkMicUserCardBorder;"),v=(0,d.default)("div",{target:"e1dhtgaw4"})({background:"linear-gradient(180deg, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.4) 100%)",maxHeight:"56px",height:"22.13%",position:"absolute",zIndex:2,left:"-1px",bottom:0},"label:DivBlurMask;"),f=(0,d.default)("div",{target:"e1dhtgaw5"})({width:"100%",height:"100%",position:"absolute",background:"rgba(22, 24, 35, 0.5)",zIndex:2,left:0,top:0},"label:DivGrayMask;"),y=(0,d.default)("div",{target:"e1dhtgaw6"})({width:"100%",height:"100%",textAlign:"center",position:"absolute",zIndex:3,left:0,top:0,overflow:"hidden"},"label:DivIconContainer;"),b=(0,d.default)("div",{target:"e1dhtgaw7"})({position:"relative",width:"100%",height:"100%",background:"linear-gradient(180deg, #372143 0%, #2D234D 100%)"},"label:DivIconBg;"),x=(0,d.default)("div",{target:"e1dhtgaw8"})({width:"100%",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1},"label:DivActicle;"),k=(0,d.default)("img",{target:"e1dhtgaw9"})({maxWidth:"188px",margin:"0 auto"},"label:ImgPng;"),w=(0,d.default)("div",{target:"e1dhtgaw10"})(({bgUrl:e})=>({backgroundImage:e?`url(${e})`:"unset",backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%",backgroundRepeat:"no-repeat",position:"absolute",top:"0px",left:"0px",zIndex:1,overflow:"hidden"}),"label:DivLinkMicUserCardBgWrapper;"),S=(0,d.default)("div",{target:"e1dhtgaw11"})({width:"101%",height:"100%",backdropFilter:"blur(15px)",backgroundColor:"rgba(22, 24, 35, 0.5)"},"label:DivLinkMicUserCardBg;"),C=(0,d.default)("div",{target:"e1dhtgaw12"})(({theme:e})=>({position:"absolute",top:"4px",left:"4px",height:"14px",borderRadius:"57px",backgroundColor:e.colors.ConstBGInverse3,padding:"2px",overflow:"hidden",display:"flex",alignItems:"center",zIndex:10}),"label:DivUserCoinWrapper;"),j=(0,d.default)("div",{target:"e1dhtgaw13"})({width:"10px",height:"10px",backgroundImage:`url(${u})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},"label:DivUserCoinIcon;"),T=(0,d.default)("div",{target:"e1dhtgaw14"})(({theme:e})=>({color:e.colors.ConstTextInverse,fontFamily:e.fontFamilies.TikTokFont,fontSize:"12px",lineHeight:"18px",fontWeight:600,marginLeft:"2px",marginRight:"2px"}),"label:DivUserCoinCount;"),I=(0,d.default)("div",{target:"e1dhtgaw15"})({height:"14px",borderRadius:"38px",padding:"1px 4px",overflow:"hidden",zIndex:10,position:"absolute",left:"4px",top:"4px",display:"flex",alignItems:"center",whiteSpace:"nowrap"},"label:DivHostIconWrapper;"),P=(0,d.default)("div",{target:"e1dhtgaw16"})(({theme:e})=>({backgroundColor:e.colors.Secondary2,position:"absolute",width:"100%",height:"100%",left:0,top:0,opacity:.6,zIndex:0}),"label:DivHostIconWrapperBg;"),A=(0,d.default)("div",{target:"e1dhtgaw17"})({position:"relative",width:"10px",height:"10px",backgroundImage:`url(${p})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",zIndex:1},"label:DivHostIcon;"),M=(0,d.default)("div",{target:"e1dhtgaw18"})(({theme:e})=>({position:"relative",color:e.colors.ConstTextInverse,fontFamily:e.fontFamilies.TikTokFont,fontSize:"12px",lineHeight:"18px",fontWeight:600,marginLeft:"2px",zIndex:1}),"label:DivHostText;"),L=(0,d.default)("div",{target:"e1dhtgaw19"})(({theme:e,showMuteIcon:t})=>({color:e.colors.ConstTextInverse,fontFamily:e.fontFamilies.TikTokFont,fontSize:"12px",lineHeight:"18px",fontWeight:400,position:"absolute",left:"4px",bottom:"4px",right:t?"22px":"4px",zIndex:10,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}),"label:DivUserName;"),D=(0,d.default)("div",{target:"e1dhtgaw20"})({backgroundImage:`url(${c})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",position:"absolute",bottom:"4px",right:"4px",width:"14px",height:"14px",zIndex:10},"label:DivUserAudioMuteIcon;"),O=i.p+"4f1f082fd98c7fc593f0.png",R=e=>{const{iconStyle:t,containerStyle:i}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(y,{style:i,children:[(0,n.jsx)(b,{}),(0,n.jsx)(x,{children:(0,n.jsx)(k,{style:t,src:O})})]})})},E=i.p+"6edb78772735dc3e70e4.png",F=e=>{const{iconStyle:t,containerStyle:i}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{style:i,children:(0,n.jsx)(x,{children:(0,n.jsx)(k,{style:t,src:E})})}),(0,n.jsx)(f,{style:i})]})},B=e=>{const{user:t,containerStyle:i,hideUserCoin:a,needMaskBg:d,isPanelFloatLinkedMicType:c,canShowUserInfo:u}=e,{avatarUrl:p,isAnchor:g,userName:_,isAudioMuted:f,isPause:y,isVideoMuted:b,coin:x,isEmpty:k}=t,O=(0,s.s)(),E=(0,o.useMemo)(()=>({width:`${t.width}px`,height:`${t.height}px`,top:`${t.top}px`,left:`${t.left}px`}),[t.height,t.left,t.top,t.width]),B=(0,o.useMemo)(()=>t.width<78||t.height<78||!u,[t.height,t.width,u]),z=(0,o.useMemo)(()=>{if(t.width<128||t.height<128){const e=Math.min(t.width,t.height)/2;return{width:`${e}px`,height:`${e}px`}}return{width:"80px",height:"80px"}},[t.width,t.height]),U=(0,o.useMemo)(()=>c&&!g&&t.isVideoMuted?{width:t.width-1+"px",height:t.height-2+"px",top:"1px",left:"1px"}:{},[g,c,t.height,t.isVideoMuted,t.width]),N=(0,o.useMemo)(()=>{const e=c&&!g?2:0;return e?{width:t.width-e+"px",height:t.height-e+"px)",left:"1px",top:"1px",borderRadius:"4px"}:{}},[g,c,t.height,t.width]),W=(0,o.useMemo)(()=>({width:`${t.width+2}px`,height:`${t.height+2}px`}),[t.height,t.width]),V=(0,o.useMemo)(()=>c&&!g?{borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",width:`${t.width+2}px`,bottom:"-1px"}:{width:`${t.width+2}px`},[g,c,t.width]);return(0,n.jsxs)(m,{style:Object.assign(Object.assign({},E),i),children:[d&&(b||y)&&(0,n.jsx)(w,{bgUrl:p,style:U,children:(0,n.jsx)(S,{})}),c&&!t.isAnchor&&!k&&(0,n.jsx)(h,{style:W}),k&&(0,n.jsx)(R,{containerStyle:N,iconStyle:z}),y&&(0,n.jsx)(F,{containerStyle:N,iconStyle:z}),!B&&g&&(0,n.jsxs)(I,{style:{maxWidth:t.width-8+"px"},children:[(0,n.jsx)(P,{}),(0,n.jsx)(A,{}),(0,n.jsx)(M,{children:O("pm_mt_multiguest_enlarge_host_tag")})]}),!a&&!B&&!g&&!k&&(0,n.jsxs)(C,{children:[(0,n.jsx)(j,{}),(0,n.jsx)(T,{children:(0,r.GQ)(x)})]}),!y&&b&&p&&(0,n.jsx)(l.I,{style:Object.assign(Object.assign({},z),{borderRadius:"80px",position:"absolute",transform:"translate(-50%, -50%)",left:"50%",top:"50%",zIndex:10}),src:p}),!B&&Boolean(_)&&(0,n.jsx)(L,{showMuteIcon:f,children:_}),!B&&f&&(0,n.jsx)(D,{}),!k&&(0,n.jsx)(v,{style:V})]})},z=e=>{const{containerStyle:t,contentStyle:i,users:a,isPanelFloatLinkedMicType:r,hideUserCoin:s,canShowUserInfo:l}=e,d=(0,o.useMemo)(()=>a.length||0,[a]);return(0,n.jsx)(g,{style:t,children:(0,n.jsx)(_,{style:i,children:a.map((e,t)=>(0,n.jsx)(B,{index:t,user:e,isPanelFloatLinkedMicType:r,needMaskBg:!(r&&e.isAnchor),hideUserCoin:s,canShowUserInfo:l},`${e.uidStr}_${d}`))})})},U=e=>{const{containerWidth:t,containerHeight:i,contentWidth:r,contentHeight:s,containerTop:l,containerLeft:d,grids:c,anchorLinkMicId:u,isPanelFloatLinkedMicType:p,hideUserCoin:g,appCanvas:_,regionBorder:m,linkedUsers:h,regionsFromDSL:v,canShowUserInfo:f}=e,y=(0,o.useMemo)(()=>({width:`${t}px`,height:`${i}px`,top:`${Math.ceil(l)}px`,left:`${Math.ceil(d)}px`}),[i,d,l,t]),b=(0,o.useMemo)(()=>({width:r,height:s}),[s,r]),x=(0,o.useMemo)(()=>{if(!c.length||!h)return{linkedMicUsersArr:[],linkedMicUsersMap:{}};const e=[],t={};return c.forEach(i=>{var n,o,l,d;const c=String(null!==(n=i.uid_str)&&void 0!==n?n:""),g=h[c];if(!g)return;const v=Object.assign(Object.assign({},(0,a.xU)({grid:i,contentStyle:{width:r,height:s},appCanvas:_,regionBorder:m,needFixSize:!p})),{userName:null!==(o=g.userName)&&void 0!==o?o:"",avatarUrl:null!==(l=g.avatarUrl)&&void 0!==l?l:"",isAnchor:i.uid_str===u,isPause:2===i.online_user_state,isAudioMuted:Boolean(i.mute_a),isVideoMuted:Boolean(i.mute_v),coin:Number(null!==(d=g.coin)&&void 0!==d?d:0),uidStr:c});e.push(v),void 0!==i.p&&(t[i.p]=v)}),{linkedMicUsersArr:e,linkedMicUsersMap:t}},[c,h,r,s,_,m,u,p]),k=(0,o.useMemo)(()=>{if(!c.length||!h)return[];const{linkedMicUsersArr:e,linkedMicUsersMap:t}=x;if(v.length&&e.length){const e=[];return v.forEach((i,n)=>{const o=t[n];o?e.push(o):e.push(Object.assign(Object.assign({},(0,a.xU)({grid:i,contentStyle:{width:r,height:s},appCanvas:_,regionBorder:m,needFixSize:!p})),{userName:"",avatarUrl:"",isAnchor:!1,isPause:!1,isAudioMuted:!1,isVideoMuted:!1,coin:0,uidStr:`${u}-${n}`,isEmpty:!0}))}),e}return e},[c,h,v,r,s,u,_,m,p,x]);return(0,n.jsx)(z,{containerStyle:y,isPanelFloatLinkedMicType:p,contentStyle:b,users:k,hideUserCoin:g,canShowUserInfo:f})}},43214:(e,t,i)=>{"use strict";i.d(t,{K:()=>r,r:()=>l});var n=i(72516),o=i(71111),a=i(60222);const r=(0,o.atom)({isLive:!1,isError:!1,isBlock:!1}),s=(0,o.atom)({isFatal:!1,isEnd:!1,roomInfo:null}),l=(0,o.atom)(e=>e(s),(e,t,i)=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){try{const e=yield(0,a.N)(i);if(!(null==e?void 0:e.data))throw Error("no data");t(s,{roomInfo:e.data,isFatal:!0,isEnd:!0})}catch(e){t(s,{roomInfo:null,isFatal:!0,isEnd:!0})}}))},43301:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(73580),o=i(40099),a=i(72916),r=i(23999),s=i(72516),l=i(7672),d=i(44094);let c=class{constructor(e){this.fetch=e,this.checkRoomAlive=e=>this.fetch.get("/webcast/room/check_alive/",{query:e,baseUrlType:4})}};c=(0,s.__decorate)([(0,l._)(),(0,s.__metadata)("design:paramtypes",[d.p])],c);var u=i(73137);const p=({active:e,roomId:t,roomStatus:i,playerRef:s,handleParentPlayError:l,noPreCheck:d})=>{const[p,g]=(0,o.useState)(!1),[_,m]=(0,o.useState)(!1),[h,v]=(0,o.useState)(!1),f=(0,n.Nj)(c),y=(0,o.useCallback)(e=>{f.checkRoomAlive({room_ids:t}).pipe((0,a.n)(i=>{var n,o;return(null===(n=i.data)||void 0===n?void 0:n.find(e=>e.alive&&e.room_id_str===t))?(g(!1),e&&(null===(o=s.current)||void 0===o||o.retry())):(m(!1),g(!0)),(0,r.of)()})).subscribe()},[f,t,s]),b=(0,o.useCallback)(()=>{t&&(m(!1),v(!1),y(!0))},[t,y]),x=(0,o.useCallback)((t,i)=>{null==l||l(t,i),e&&m(!0)},[e,l]),k=(0,o.useCallback)(()=>{null==l||l(-1,"stream end"),e&&v(!0)},[e,l]),w=(0,o.useCallback)(()=>{e&&v(!1)},[e]);return(0,o.useEffect)(()=>{d||!e||_||y(!1),e&&m(!1),e&&i&&(0,u.BS)(i)&&v(!0)},[e,t,i]),{isFatal:_,isEnd:p,isPaused:h,handleRetry:b,handlePlayError:x,handleStreamEnd:k,handleStreamResume:w}}},43521:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n,o=i(72516),a=i(7672),r=i(22889);!function(e){e.SendMediaFail="send_media_fail",e.LoadMediaFail="load_media_fail",e.ModerationTimeout="moderation_timeout"}(n||(n={}));let s=class{constructor(e){this._defaultMetrics={count:1},this.handleSendMediaFail=e=>{this._service.emitEvent(n.SendMediaFail,this._defaultMetrics,Object.assign(Object.assign({},e),{relation_tag:`${e.relation_tag}`,status_code:`${e.status_code}`}))},this.handleLoadMediaFail=e=>{this._service.emitEvent(n.LoadMediaFail,this._defaultMetrics,Object.assign(Object.assign({},e),{media_type:`${e.media_type}`}))},this.handleMediaModerationTimeout=e=>{this._service.emitEvent(n.ModerationTimeout,this._defaultMetrics,Object.assign(Object.assign({},e),{media_type:`${e.media_type}`}))},this._service=e}};s=(0,o.__decorate)([(0,a._)(),(0,o.__metadata)("design:paramtypes",[r.V$])],s)},43536:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>En});var n=i(24643),o=i(95074),a=i(45027),r=i(40099),s=i(67977),l=i(48980),d=i(65556),c=i(38470),u=i(26059),p=i(54622),g=i(98332),_=i(11229),m=i(21722),h=i(87529),v=i(44795),f=i(27090),y=i(41577),b=i(16327),x=i(65476),k=i(29645),w=i(48156),S=i(61198),C=i(50654),j=i(70589),T=i(34778),I=i(57190),P=i(20597),A=i(2049),M=i(92670),L=i(27799),D=i(50187),O=i(20434),R=i(16842),E=i(43703),F=i(60400),B=i(55765),z=i(76443),U=i(69857),N=i(2232),W=i(19664),V=i(65964),H=i(10114),q=i(19053),$=i(77849),G=i(22961),K=i(93363),Y=i(71754),Z=i(7180),J=i(52919),X=i(15914),Q=i(4287),ee=i(85879),te=i(72870),ie=i(49389),ne=i(1003),oe=i(16610),ae=i(90976),re=i(31382),se=i(41516),le=i(24298),de=i(22376),ce=i(81817),ue=i(69831),pe=i(29188),ge=i(72355),_e=i(23037),me=i(29547),he=i(16410),ve=i(93584);const fe=(0,he.default)("div",{target:"e19twy0g0"})(({theme:{colors:e}})=>({position:"relative",width:310,height:218,boxSizing:"content-box",borderRadius:8,backgroundColor:e.BGPrimary,textAlign:"center"}),"label:DivLeaveModalContainer;"),ye=(0,he.default)("div",{target:"e19twy0g1"})(({theme:e})=>[(0,ve.zy)({theme:e,color:"TextPrimary",typography:"H5"}),{position:"absolute",top:22,left:20,right:20}],"label:DivTitle;"),be=(0,he.default)("div",{target:"e19twy0g2"})(({theme:e})=>[(0,ve.zy)({theme:e,color:"TextSecondary",typography:"H6"}),{position:"absolute",top:60,left:20,right:20}],"label:DivSubTitle;"),xe=(0,he.default)("div",{target:"e19twy0g3"})({position:"absolute",top:118,left:20,right:20,height:100},"label:DivButtonContainer;"),ke=(0,he.default)("div",{target:"e19twy0g4"})(({theme:e})=>[(0,ve.zy)({theme:e,color:"ConstTextInverse",typography:"H6"}),{height:48,lineHeight:"48px",borderRadius:2,backgroundColor:e.colors.Primary,cursor:"pointer"}],"label:DivConfirmButton;"),we=(0,he.default)("div",{target:"e19twy0g5"})(({theme:e})=>[(0,ve.zy)({theme:e,color:"TextTertiary",typography:"H6"}),{height:48,lineHeight:"48px",cursor:"pointer",marginTop:2}],"label:DivCancelButton;"),Se=(0,r.memo)(function({needLeaveCheck:e,visible:t,onConfirmLeave:i,onCancelLeave:o}){const a=(0,L.s)(),s=(0,ge.W6)(),l=(0,r.useRef)(null),[d,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),g=(0,r.useCallback)(()=>{c(!1),p(!0),i()},[i]),_=(0,r.useCallback)(()=>{c(!1),l.current=null,o()},[o]),m=(0,r.useCallback)(t=>!(!u&&e&&(c(!0),l.current=t,1)),[u,e]);(0,r.useEffect)(()=>{const e=l.current;u&&e&&s.push(e)},[u,s]);const h=(0,_e.M)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ge.XG,{when:e,message:m}),(0,n.jsx)(me.aF,{parentRef:h,visible:t||d,maskCloseable:!1,children:(0,n.jsxs)(fe,{children:[(0,n.jsx)(ye,{children:a("comment_tray_exit_title")}),(0,n.jsx)(be,{children:a("comment_tray_exit_des")}),(0,n.jsxs)(xe,{children:[(0,n.jsx)(ke,{onClick:g,children:a("comment_tray_exit_leave")}),(0,n.jsx)(we,{onClick:_,children:a("comment_tray_exit_stay")})]})]})})]})});var Ce=i(5663),je=i(21002),Te=i(72073),Ie=i(27363),Pe=i(42580),Ae=i(95025),Me=i(63337),Le=i(45391),De=i(67518),Oe=i(73580),Re=i(29857),Ee=i(42434),Fe=i(19182),Be=i(24816),ze=i(52340),Ue=i(70616),Ne=i(16356),We=i(59835),Ve=i(76926);const He={id:"favorite-f29ef602",use:"favorite-f29ef602-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="favorite-f29ef602"><path fill="#FACE15" d="M4 4.5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v15.13a1 1 0 0 1-1.555.831l-6.167-4.12a.5.5 0 0 0-.556 0l-6.167 4.12A1 1 0 0 1 4 19.63z" /><path fill="black" fill-opacity=".03" d="M4.032 4.144Q4 4.317 4 4.5v15.13a1 1 0 0 0 1.555.831l6.167-4.12a.5.5 0 0 1 .41-.066l-.427-.198a1.49 1.49 0 0 0-1.377.063c-.581.339-1.45.85-2.25 1.339-.59.359-1.427.695-2.187.962-.929.325-1.86-.387-1.86-1.37zm8.251 12.202 6.162 4.115A1 1 0 0 0 20 19.63V4.5a2 2 0 0 0-1.123-1.798c.21.254.334.58.33.936a117 117 0 0 1-.896 13.408c-.124.99-1.17 1.553-2.076 1.133z" /></symbol>'};function qe(e){const t=(0,r.useContext)(Ve.X);return(0,r.useLayoutEffect)(()=>(t.add(He),()=>{t.remove("favorite-f29ef602")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#favorite-f29ef602"},void 0)}),void 0)}var $e=i(6985);const Ge={id:"uncollect-7652bb5c",use:"uncollect-7652bb5c-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="uncollect-7652bb5c"><path fill="currentColor" d="M4 4.5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v15.13a1 1 0 0 1-1.555.831l-6.167-4.12a.5.5 0 0 0-.556 0l-6.167 4.12A1 1 0 0 1 4 19.63z" /><path fill="currentColor" fill-opacity=".03" d="M4.032 4.144Q4 4.317 4 4.5v15.13a1 1 0 0 0 1.555.831l6.167-4.12a.5.5 0 0 1 .41-.066l-.427-.198a1.49 1.49 0 0 0-1.377.063c-.581.339-1.45.85-2.25 1.339-.59.359-1.427.695-2.187.962-.929.325-1.86-.387-1.86-1.37zm8.251 12.202 6.162 4.115A1 1 0 0 0 20 19.63V4.5a2 2 0 0 0-1.123-1.798c.21.254.334.58.33.936a117 117 0 0 1-.896 13.408c-.124.99-1.17 1.553-2.076 1.133z" /></symbol>'};function Ke(e){const t=(0,r.useContext)(Ve.X);return(0,r.useLayoutEffect)(()=>(t.add(Ge),()=>{t.remove("uncollect-7652bb5c")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#uncollect-7652bb5c"},void 0)}),void 0)}var Ye=i(43887),Ze=i(53054),Je=i(11365),Xe=i(34038),Qe=i(9242),et=i(99278),tt=i(72547),it=i(96637),nt=i(28986),ot=i(13910),at=i(1404),rt=i(26644),st=i(9408),lt=i(74367);const dt=(0,n.jsx)(Re.A,{width:20,height:20}),ct=(0,r.memo)(function(e){var t,i,o,s;const l=(0,De.u)(),d="rtl"===l.direction,c=(0,Oe.Nj)(Be.A),u=(0,L.s)(),{itemId:p,hideComment:g=!1,teaParams:_,onTabChange:h,activeTab:v}=e,f=(0,a.w)(ue.k),y=(0,ot.k)(p),{ad_info:b,item_control:k,stats:C,statsV2:T,digged:I,id:A="",collected:M}=(0,U.L$)(y),D=null!=T?T:C,O=!!b,R=!1===(null==k?void 0:k.can_share),E=!1===(null==k?void 0:k.can_comment),F=(0,et.AP)(p),B=(0,We.Eo)(),z=(0,a.w)(at.O),N=(0,Ne.nW)(e=>{var t;return e.users[null!==(t=null==y?void 0:y.author)&&void 0!==t?t:""]},S.bN),[W,V]=(0,r.useState)(!1),{shouldOptimizeCta:H}=(0,j.kb)(),q=H?24:20,$=(0,r.useMemo)(()=>(0,n.jsx)(qe,{width:q,height:q}),[q]),{uniqueId:G=""}=null!=N?N:{},K=(0,Ye._u)()(y),{wid:Z=""}=null!==(t=(0,ae.W)(()=>["wid"],[]))&&void 0!==t?t:{},J=`https://www.tiktok.com${K}?is_from_webapp=1&sender_device=pc&web_id=${Z}`,X=(0,r.useRef)(null),Q=(0,r.useMemo)(()=>e=>(0,tt.io)({platform:"copy",url:J,targetDOM:e}),[J]),ee=(0,r.useCallback)(()=>{const e=X.current;c.handleShare(Object.assign(Object.assign({},_),{platform:"copy",author_id:null==N?void 0:N.id,group_id:p,play_mode:"browser_mode",share_click_from:"short"})),O&&x.pg.handleShare(_),f.addMlModelTrainData({id:p,action:"share"}),Q(e)(),w.F.open({content:u("Copied"),duration:1.2,widthType:"half",getContainer:_e.M,getContainerPosition:"fixed"})},[Q,p,c,u,null==N?void 0:N.id,_,O]),{isAddToCollectionEnabled:te,popoverTriggerType:ie,toastTheme:ne,toastDuration:oe}=(0,j.Ge)(),re=(0,r.useCallback)(()=>{f.postLikeVideo(Object.assign(Object.assign({},_),{id:p,enter_method:"click",play_mode:"browser_mode"}))},[f,p,_,null==y?void 0:y.digged]),se=(0,Y.G)({actionWhenUserLoggedIn:re,reportClickEvent:()=>{m.O.handleGeneralClick("like",{scene:"video_feed",group_id:p,play_mode:"browser_mode"})},modalConfig:{query:{enter_method:"click_like",group_id:p}}});const le=(0,r.useCallback)(()=>{M&&z.removeItemListById({key:"favorites",groupId:p}),f.postCollectVideo({itemId:p})},[M,f,p,z]),de=(0,Y.G)({actionWhenUserLoggedIn:le,modalConfig:{query:{enter_method:"click_favorite",group_id:p}},reportClickEvent:()=>{m.O.handleGeneralClick("favorite",{group_id:A,play_mode:"browser_mode"})}}),ce=(0,r.useMemo)(()=>(0,n.jsx)($e.A,{fill:I?l.colors.Primary:l.colors.Primary2,width:q,height:q}),[I,q,l.colors.Primary,l.colors.Primary2]),pe=(0,r.useMemo)(()=>M?$:(0,n.jsx)(Ke,{style:{color:l.colors.Primary2},width:q,height:q}),[$,M,q,l.colors.Primary2]),ge=(0,r.useMemo)(()=>Object.assign(Object.assign({},_),{author_id:null==N?void 0:N.id,group_id:p,play_mode:"browser_mode"}),[_,p,null==N?void 0:N.id]),{active:me,handleMouseEnter:he,handleMouseLeave:ve,handleOtherModalOpen:fe,handleButtonShareOnBlur:ye,actionItemRef:be,buttonShareRef:xe}=(0,Je.K)(H?300:200),{expanded:ke}=(0,it.kw)(),we=(0,P.MA)(y),Se=(0,r.useCallback)(()=>{var e,t;c.handleSharePanelShow(Object.assign(Object.assign({},we),{group_id:p,author_id:null==N?void 0:N.id,share_option_type:ke,poi_id:null===(e=null==y?void 0:y.poi)||void 0===e?void 0:e.id,playlist_id:null!==(t=null==_?void 0:_.playlist_id)&&void 0!==t?t:"",popup_type:null==_?void 0:_.popup_type,is_sub_only_video:(null==y?void 0:y.subVideoMeta)?1:0,scene:"video_feed"})),he()},[c,p,null==N?void 0:N.id,ke,null===(i=null==y?void 0:y.poi)||void 0===i?void 0:i.id,null==_?void 0:_.playlist_id,null==y?void 0:y.subVideoMeta,null==_?void 0:_.popup_type,we,he]),Ce=(0,it.XF)();(0,r.useEffect)(()=>{Ce()},[Ce]);const je=(0,r.useCallback)(()=>{V(!0)},[V]),Te=(0,r.useCallback)(()=>{V(!1)},[V]),Ie=(0,r.useCallback)(e=>{27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),Te())},[Te]),{shouldShowCommentsCnt:Pe}=(0,j.kb)(),Ae=(0,r.useCallback)(e=>{var t,i;13===e.keyCode||32===e.keyCode?(e.stopPropagation(),e.preventDefault(),Se()):27===e.keyCode&&(e.stopPropagation(),e.preventDefault(),H?null===(t=be.current)||void 0===t||t.setFocus():null===(i=xe.current)||void 0===i||i.focus(),ve())},[be,xe,Se,ve,H]),Me=()=>{O&&x.pg.handleOtherclick(Object.assign(Object.assign({},_),{refer:ze.Hq.Share}))},Le=(0,P.mx)(y),Re=(null==N?void 0:N.isEmbedBanned)||Le,Ve=(0,r.useCallback)((e,t)=>{Ue.mr.handleChannelGeneralClick("share_video","video_feed",t)},[]),He=(0,n.jsx)(Xe.z,{placement:d?"bottomLeft":"bottomRight",active:me,margin:-12,arrowMargin:12,backgroundColor:l.colors.BGSecondary,children:(0,n.jsx)(rt.o8,{children:(0,n.jsx)(nt.SY,{videoId:A,uniqueId:G,mode:1,url:J,enabled:null==y?void 0:y.shareEnabled,embedCode:F,isEmbedBanned:Re,onEmbedModalVisibleChange:e.onEmbedModalVisibleChange,teaParams:ge,onSendMessagePanelOpen:je,from:3,onClickShare:H?Ve:void 0,onOtherModalOpen:H?fe:void 0})})}),Ge=!R&&!H&&(0,n.jsxs)(rt.i6,{children:[(0,n.jsx)(rt.jP,{children:J}),(0,n.jsx)(rt._E,{onClick:ee,children:u("copy_link")})]}),ct=!H&&!R&&(0,n.jsxs)(rt.eT,{"data-e2e":"browse-share-group",children:[(0,n.jsx)(nt.SY,{videoId:A,uniqueId:G,enabled:null==y?void 0:y.shareEnabled,mode:0,url:J,embedCode:F,isEmbedBanned:Re,onEmbedModalVisibleChange:e.onEmbedModalVisibleChange,teaParams:ge,onSendMessagePanelOpen:je,onClickShare:Ve}),(0,n.jsxs)(rt.ue,{"aria-expanded":me,"aria-label":`${u("webapp_share_btn")}`,onMouseEnter:Se,onMouseLeave:ve,onKeyDown:Ae,onBlur:ye,ref:xe,children:[(0,n.jsx)(Ee.A,{width:"16",height:"16",onClick:Me}),He]})]}),ut=(0,n.jsx)(Ze.A,{styleType:3,text:B?"":(0,U.D1)(Number(null!==(o=null==D?void 0:D.collectCount)&&void 0!==o?o:0)),Icon:pe,onClick:de}),pt=(0,n.jsxs)(n.Fragment,{children:[!O&&(te?(0,n.jsx)(Fe.e,{trigger:ut,itemId:p,playModeForTea:"browser_mode",popoverTriggerType:ie,toastTheme:ne,toastDuration:oe}):ut),H&&!R&&(0,n.jsx)(Ze.A,{style:{color:l.colors.Primary2},styleType:3,Icon:(0,n.jsx)(Ee.A,{width:24,height:24,onClick:Me}),e2eTag:"browse-share",text:(null==D?void 0:D.shareCount)&&!B?(0,U.D1)(null==D?void 0:D.shareCount):u("Share"),onMouseEnter:Se,onMouseLeave:ve,onBlur:ye,onKeyDown:Ae,ariaLabel:u("accessibilityLabels_forYou_btn_share",{number:(0,U.D1)(null==D?void 0:D.shareCount)}),ariaExpanded:me,ref:be,children:He})]}),gt=(0,r.useMemo)(()=>({isColor:!1,isStrong:!0,size:q,showTick:!1}),[q]),_t=(0,lt.g)({itemId:p,iconConfig:gt}),{handleClickRepost:mt,canRepost:ht,isReposted:vt}=(0,lt.l)({itemId:p,playMode:"browser_mode",playlistId:null!==(s=null==_?void 0:_.playlist_id)&&void 0!==s?s:""}),{repostActionVid:ft}=(0,j.hn)(),yt=ht&&"v1"===ft&&(0,n.jsx)(Ze.A,{style:{color:vt?l.colors.AssistColorYellow:l.colors.TextSecondary},styleType:3,text:B?"":(0,U.D1)(null==T?void 0:T.repostCount),Icon:_t,onClick:mt,e2eTag:"browse-repost",ariaLabel:`${(0,U.D1)(null==T?void 0:T.repostCount)} ${u("pcWeb_repostTab")}`,ariaPressed:vt});return(0,n.jsxs)(rt.Le,{ref:X,children:[(0,n.jsxs)(rt.d4,{shouldOptimizeCta:H,children:[(0,n.jsxs)(rt.eT,{style:{gap:"20px"},children:[(0,n.jsx)(Ze.A,{styleType:3,text:B?"":(0,U.D1)(null==D?void 0:D.diggCount),Icon:ce,onClick:se,e2eTag:"browse-like",ariaLabel:`${(0,U.D1)(null==D?void 0:D.diggCount)} ${u("fixed_likes")}`,ariaPressed:I}),!g&&!H&&(0,n.jsx)(Ze.A,{styleType:3,text:B?"":(0,U.D1)(E?0:null==D?void 0:D.commentCount),Icon:dt,disabled:!0,e2eTag:"browse-comment"}),pt,yt]}),ct]}),Ge,Pe&&(0,n.jsx)(st.r,{itemId:p,onTabChange:h,activeTab:v,isCommentDisabled:E}),W&&(0,n.jsx)(Qe.k,{visible:W,videoId:A,onClose:Te,onKeyDown:Ie})]})});var ut=i(67476),pt=i(62738),gt=i(22006),_t=i(22993),mt=i(14952),ht=i(48384),vt=i(90886),ft=i(13720),yt=i(79697),bt=i(24479),xt=i(20173),kt=i(20957),wt=i(58995),St=i(58262),Ct=i(15403);const jt=function({author:e,video:t,videoReportParams:i}){var a;const s=(0,o.P)(xt.L,{selector:t=>{var i,n;return(null===(n=null===(i=t.appContext)||void 0===i?void 0:i.user)||void 0===n?void 0:n.uniqueId)===e.uniqueId},dependencies:[e.uniqueId]}),l=null==t?void 0:t.ad_info,d=(0,_.n5)({ad_info:l,play_mode:"browser_mode"}),c=(0,Y.K)({query:{enter_method:"click_follow",group_id:null==t?void 0:t.id}}),{text:u,handleFollow:p,isFollowing:g,relation:m}=(0,re.Tu)({uniqueId:e.uniqueId,onNeedLogin:c,teaParams:Object.assign(Object.assign(Object.assign({},i),d),{group_id:null==t?void 0:t.id,play_mode:"browser_mode"})}),h=(0,r.useMemo)(()=>(0,n.jsx)(n.Fragment,{children:2===m?(0,n.jsx)(pt.A,{}):null}),[m]);if(null==t?void 0:t.scheduleTime)return(0,n.jsx)(wt.D,{video:t});if(s)return(0,n.jsx)(Ct.KE,{videoId:null!==(a=null==t?void 0:t.id)&&void 0!==a?a:""});const v=g?"secondary":"primary";return(0,n.jsx)(St.xV,{children:(0,n.jsx)(ut.I0,{onClick:p,label:u,variant:v,icon:h})})},Tt=(0,r.memo)(function(e){const{uniqueId:t,nicknameEllipsis:i=!1,videoId:o,teaParams:a,target:s="_self"}=e,l=(0,Ne.nW)(e=>e.users[t],S.bN),d=(0,ot.k)(o),{ad_info:c,item_control:u}=(0,U.L$)(d),{nickname:p,secUid:g,verified:_,stateControlledMedia:h}=(0,U.L$)(l),{shouldAvatarShowNickName:v}=(0,j.kb)(),{t:f,timeTranslator:y}=(0,ht.T)(),b=!!c,x=null==c?void 0:c.is_normal,k=!1===(null==u?void 0:u.can_creator_redirect),w=b&&!x||k,{secret:C,forFriend:T,createTime:I,adAuthorization:P}=null!=d?d:{},{showing:A,handleCardEnter:M,handleCardLeave:L,handleItemEnter:D,handleItemLeave:O}=(0,ft.C)(),R=(0,kt.r$)(l),{isShowLive:F}=R;(0,kt.Fu)({isShowLive:F,reportTrigger:F,user:l,enterMethod:F?"video_head_browser":"creator",autoReport:!0,reportValidator:()=>void 0!==(null==l?void 0:l.relation),once:!0});const B=(0,r.useCallback)(()=>{m.O.handleGeneralClick("user",{scene:"video_feed"})},[]),z=(0,kt.AL)(Object.assign({user:l,enterMethod:F?"video_head_browser":"creator",playMode:"browser_mode"},a)),N=(0,r.useMemo)(()=>Object.assign(Object.assign({},z),{author_id:z.to_user_id,group_id:o,ttamRefer:b?ze.Hq.Photo:void 0}),[z,o,b]),W=(0,r.useMemo)(()=>{if(l)return Object.assign(Object.assign({},z),{author_id:l.id,to_user_id:l.id,group_id:o,enterMethod:"creator",ttamRefer:b?ze.Hq.Name:void 0})},[l,z,o,b]),V=(0,r.useMemo)(()=>({margin:"-11px 0 6px 52px"}),[]),{colors:H}=(0,De.u)();if(!l)return(0,E.d)(["authorInfo"]);const q=(0,St.CH)(F),$={uniqueId:t,secUid:g,onMouseEnter:D,onMouseLeave:O,isInBrowserMode:!0,onClick:e.onClick,onLinkClick:e.onLinkClick},G=v?p:t,K=v?t:p,Y={shouldAvatarShowNickName:v},Z=v?(0,n.jsx)(St.M8,{}):(0,n.jsx)("span",{style:{margin:"0 4px"},children:" · "});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(St.D_,{children:[(0,n.jsx)(({children:e})=>(0,n.jsx)(q,Object.assign({rel:"opener",target:s,teaParams:N,"data-e2e":"browse-user-avatar"},$,{adInfo:c,children:e})),{children:(0,n.jsx)(vt.i,Object.assign({needAnimation:!0,liveTheme:2,size:40},R))}),(0,n.jsxs)(({children:e})=>(0,n.jsx)(St.ah,Object.assign({target:s,rel:"opener",teaParams:W},$,{adInfo:c,children:e})),{children:[(0,n.jsxs)(St.HI,Object.assign({},Y,{children:[i?(0,n.jsx)(St.IW,{children:G}):G,_&&(0,n.jsx)(mt.s,{width:14,height:14,"data-e2e":"browse-bluev"})]})),(0,n.jsx)("br",{}),(0,n.jsxs)(St.ap,Object.assign({},Y,{children:[i?(0,n.jsx)(St.IW,{children:K}):K,Z,(0,n.jsx)("span",{children:y(1e3*Number(I))}),C&&!P&&(0,n.jsxs)(n.Fragment,{children:[Z,(0,n.jsx)(gt.A,{width:16,height:16,style:{fill:H.TextPrimary,opacity:.5,margin:"0 4px"}}),(0,n.jsx)("span",{children:f("video_label_private")})]}),T&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:" · "}),(0,n.jsx)(_t.A,{style:{margin:"0 4px"},width:20,height:20}),(0,n.jsx)("span",{className:"friend",children:f("Friends only")})]})]}))]}),!w&&(0,n.jsx)(jt,{author:l,video:d,videoReportParams:a}),A&&!w&&(0,n.jsx)(yt.t,{top:30,fixedLeft:32,onMouseEnter:M,onMouseLeave:L,uniqueId:t,onClick:B})]}),(0,n.jsx)(bt.w,{style:V,stateControlledMedia:h,labelType:0})]})});var It=i(70158),Pt=i(36677),At=i(90494),Mt=i(8076),Lt=i(89610);const Dt=(0,he.default)("div",{target:"e1mgfe70"})({width:"100%",position:"relative",flexWrap:"wrap",display:"flex"},"label:DivVideoListSkeletonContainer;"),Ot=(0,he.default)("div",{target:"e1mgfe71"})(({theme:e})=>[(0,ve.mp)({marginEnd:"7.5px",direction:e.direction}),{width:"160px",height:"240px",marginBottom:"8px",background:e.colors.BGPlaceholderDefault,borderRadius:"4px"}],"label:DivVideoItemSkeletonWrapper;"),Rt=(0,r.memo)(function({rowNum:e=3}){const t=Array.from({length:3*e},(e,t)=>t);return(0,n.jsx)(Dt,{children:t.map(e=>(0,n.jsx)(Ot,{},e))})}),Et=(0,he.default)("div",{target:"e1o3lsy80"})(({theme:{colors:e}})=>({width:"100%",boxSizing:"border-box",overflowY:"hidden",overflowX:"hidden",flexGrow:1,position:"relative",display:"flex",flexDirection:"column",background:e.BGCreation3,borderTop:`1px solid ${e.LineSecondary}`}),"label:DivListContainer;"),Ft=(0,he.default)("div",{target:"e1o3lsy81"})({width:"100%",overflowY:"auto",overflowX:"hidden",position:"relative",":first-of-type":{paddingTop:"20px"},paddingInlineStart:"23.5px",flexWrap:"wrap",display:"flex"},"label:DivVideoListContainer;");var Bt=i(63099),zt=i(71334),Ut=i(39001),Nt=i(52155),Wt=i(97177),Vt=i(91842),Ht=i(92726);const qt=(0,he.default)("img",{target:"eadndt60"})(({theme:{colors:e}})=>({width:"100%",height:"100%",objectFit:"cover",background:e.BGPlaceholderDefault}),"label:ImgCover;"),$t=(0,he.default)("img",{target:"eadndt61"})({width:"100%",height:"100%",objectFit:"cover",transition:"transform 150ms linear",":hover":{transform:"scale(1.1)"}},"label:ImgPoster;"),Gt=(0,he.default)("div",{target:"eadndt62"})({width:"100%",height:"239px",position:"relative",borderRadius:"4px",marginBottom:"8px",overflow:"hidden"},"label:DivCoverContainer;"),Kt=(0,he.default)("div",{target:"eadndt63"})({width:"100%",height:"100%",position:"absolute",left:"0",top:"0"},"label:DivPlayerWrapper;"),Yt=(0,he.default)("div",{target:"eadndt64"})({position:"absolute",bottom:0,left:0,right:0},"label:DivWarnInfoPosition;"),Zt=(0,he.default)("div",{target:"eadndt65"})(({theme:{direction:e}})=>[Object.assign({position:"absolute",top:"12px",color:"#fff"},(0,Ht.I)()),(0,ve.mp)({direction:e,end:"12px"})],"label:DivPhotoIconContainer;"),Jt=(0,he.default)("div",{target:"eadndt66"})(({theme:e})=>(0,ve.mp)({marginEnd:"7.5px",direction:e.direction}),{width:"160px",height:"239px",marginBottom:"8px",cursor:"pointer"},"label:DivItemContainer;"),Xt=(0,he.default)("div",{target:"eadndt67"})(({theme:e,hasSolidBackground:t,hasGradientBackground:i})=>({width:"100%",height:"100%",left:"0",top:"0",backdropFilter:t?"none":"blur(50px)",background:t?e.colors.ConstBGInverse:i?"linear-gradient(180deg, #2b2b2b 0%, #000000 90%)":e.colors.SDSecondary,position:"absolute",borderRadius:"4px"}),"label:DivMask;"),Qt=(0,he.default)("div",{target:"eadndt68"})(({theme:e})=>({position:"absolute",top:"50%",left:"50%",color:e.colors.ConstTextInverse,transform:"translate(-50%, -50%)",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",background:e.colors.ConstBGContainer,borderRadius:"50px"}),"label:DivMaskContainer;"),ei=(0,he.default)("div",{target:"eadndt69"})(({theme:e})=>({position:"absolute",height:"40px",left:0,right:0,bottom:0,background:"linear-gradient(180deg, rgba(22, 24, 35, 0.0001) 2.92%, rgba(22, 24, 35, 0.3) 98.99%)",color:e.colors.ConstTextInverse,fontSize:"13px",lineHeight:"17px",padding:"12px 8px 8px 8px",display:"flex",alignItems:"center"}),"label:DivPlayCount;"),ti=(0,he.default)(Vt.A,{target:"eadndt610"})(({theme:e})=>(0,ve.mp)({direction:e.direction,marginEnd:4}),"label:StyledPlay;"),ii=(0,r.memo)((0,r.forwardRef)(({item:e,index:t,playing:i,handleClickCreatorVid:s},l)=>{var d,c;const{video:u,authorId:p="",stats:g,statsV2:_,warnInfo:m}=(0,U.L$)(e),v=null!=_?_:g,{cover:f,playAddr:y="",zoomCover:b,bitrate:x}=(0,U.L$)(u),k=(0,Oe.Nj)(Ut.Gs),[w,S]=(0,T.BI)(e=>e.isCreatorBrowserMode),C=(0,r.useRef)(null),[I,A]=(0,r.useState)(!1),M=(0,We.Eo)(),{withNoBG:L,withLinearGradientBG:D}=(0,j.KS)();(0,r.useEffect)(()=>{var e,t,i,n;I&&C.current?null===(t=(e=C.current).play)||void 0===t||t.call(e):C.current&&(null===(n=(i=C.current).pause)||void 0===n||n.call(i))},[I]);const O=(0,r.useCallback)(i=>{s&&s(i),w?S.handleCreatorModeVideoClick({creatorFeedIndex:t}):(S.handleEnterCreatorMode({creatorFeedIndex:t}),h.G.handleCreatorPageShow({group_id:e.id,author_id:p}))},[s,S,t,w,p,e.id]),{showVideoMask:R}=(0,le.d)({item:null!=e?e:{},playMode:6}),E=(0,j.tj)(),F=(0,P.mx)(e),{hideMaskTempVideoId:N}=(0,o.P)(se.w),W=R&&N!==e.id,V=(0,a.w)(B.hf),H=(0,a.w)(z.y7),q=(0,r.useMemo)(()=>{var t,i,n;return{itemId:e.id,authorId:null!==(t=e.authorId)&&void 0!==t?t:"",isScheduled:!1,autoplayStatus:0,playMode:6,isReposted:Number(null!==(n=null===(i=e.statsV2)||void 0===i?void 0:i.repostCount)&&void 0!==n?n:0)>0,enterMethod:"creator_tab"}},[e.id,e.authorId,null===(d=e.statsV2)||void 0===d?void 0:d.repostCount]),G=(0,r.useCallback)(()=>{var e;const{currentTime:t=0,duration:i=0}=(0,U.L$)(null===(e=C.current)||void 0===e?void 0:e.getPlayerAttributes());return Object.assign(Object.assign({},q),{currentTime:t,duration:i})},[q]),K=(0,r.useCallback)(()=>{k.handleEndedForSideCards(G())},[k,G]),Y=(0,r.useCallback)(()=>{k.handlePause(G())},[k,G]),Z=(0,r.useCallback)(()=>{k.handleWaiting(G())},[k,G]),J=(0,r.useCallback)(()=>{A(!0),k.handleTimeUpdateForSideCards(G())},[k,G]),X=(0,r.useCallback)(()=>{A(!1),k.handlePause(G())},[k,G]),Q=(0,r.useCallback)(t=>{W||(t.preventDefault(),t.stopPropagation(),e&&(V.removeBlockVideo(e.id),H.removeBlockVideo(e.id)))},[V,H,e,W]),ee=(0,o.P)(B.hf,{selector:e=>e.blockedVideos||[],dependencies:[]}),te=(0,o.P)(z.y7,{selector:e=>e.blockedVideos||[],dependencies:[]}),ne=W||ee.includes((null==e?void 0:e.id)||"")||te.includes((null==e?void 0:e.id)||""),oe=!ne&&i;return(0,n.jsx)(Jt,{onClick:O,ref:l,children:(0,n.jsxs)(Gt,{onMouseEnter:J,onMouseLeave:X,children:[(0,n.jsx)(qt,{src:(null==b?void 0:b[480])||f}),!I||ne||oe?null:(0,n.jsx)(Kt,{children:F?(0,n.jsx)($t,{src:null!==(c=null==b?void 0:b[480])&&void 0!==c?c:f}):(0,n.jsx)(Wt.e,{ref:C,horizontal:!1,itemMute:!0,muteSetting:$.T5[6].forceMute,defaultMute:$.T5[6].defaultMute,playProgress:0,src:y,onEnded:K,onPause:Y,onWaiting:Z,bitrate:Number(x)})}),!E&&(null==m?void 0:m[0])&&(0,n.jsx)(Yt,{children:(0,n.jsx)(ie.Q,{needExtraBottom:!0,info:null==m?void 0:m[0]})}),F&&(0,n.jsx)(Zt,{children:(0,n.jsx)(Bt.N,{size:20})}),oe&&(0,n.jsx)(Nt.h,{}),ne&&(0,n.jsx)(Xt,{hasSolidBackground:L,hasGradientBackground:D,children:(0,n.jsx)(Qt,{onClick:Q,children:(0,n.jsx)(zt.A,{width:"24",height:"24"})})}),!M&&(0,n.jsxs)(ei,{children:[(0,n.jsx)(ti,{width:20,height:20,fill:"#fff"}),(0,U.D1)(null==v?void 0:v.playCount)]})]})})}));var ni=i(46083);const oi=(0,r.memo)((0,r.forwardRef)(({itemList:e,onLoadMore:t,onLoadMoreBefore:i,hasMoreLatest:a,hasMorePrevious:s,hasMore:l,isLoading:d,currentItemId:c,currentAuthorId:u,handleClickCreatorVid:p},g)=>{const _=(0,T.JD)(e=>e.currentIndex),[m,v]=(0,r.useState)(!1),[f,y]=(0,r.useState)(!0),[b,x]=(0,r.useState)(!1),k=(0,r.useMemo)(()=>(null==e?void 0:e.length)>0,[e]),w=(0,r.useRef)(null),S=(0,r.useRef)(0),C=(0,r.useRef)(null),{currentId:j=""}=(0,U.L$)((0,At.Og)({currentIndex:_})),I=(0,U.L$)((0,o.P)(ue.k,{selector:e=>e[j],dependencies:[j]}));(0,r.useEffect)(()=>{k&&h.G.handleCreatorTabLoadComplete({group_id:c,author_id:u})},[k]),(0,r.useEffect)(()=>{y(!0)},[j]),(0,Mt.O9)({elemRef:w,onHitBottom:t,isFirstRender:f}),(0,Mt.yE)({elemRef:w,scrollTopRef:S,onHitTop:i,isFirstRender:f});const P=(0,r.useCallback)(()=>{var e;C.current&&(v(!1),null===(e=w.current)||void 0===e||e.scrollTo({top:C.current.offsetTop,behavior:"smooth"}))},[]),A=(0,r.useCallback)(()=>{h.G.handleClickPlayNow({group_id:c,author_id:u}),P()},[c,u,P]);let M;w.current&&(M=w.current.getBoundingClientRect()),(0,Lt.B)({intersectionHandler:()=>{v(!1),f&&y(!1)},outerSectionHandler:()=>{if(f)y(!1),P();else if(C.current){v(!0);const{top:e,bottom:t}=C.current.getBoundingClientRect();t-47.800000000000004<M.top?x(!0):e+47.800000000000004>M.bottom&&x(!1)}},element:C,threshold:[f?.9:.2]});const L=3-e.length%3,D=Array.from({length:3===L?0:L},(e,t)=>t);return(0,n.jsxs)(Et,{ref:g,children:[(0,n.jsxs)(Ft,{ref:w,children:[!e.length&&d?(0,n.jsx)(Rt,{rowNum:3}):null,d&&e.length>0&&a?(0,n.jsx)(Rt,{rowNum:1}):null,e.map((e,t)=>((e,t,i)=>e?(0,n.jsx)(ii,{ref:(null==I?void 0:I.id)===e.id?i:null,playing:(null==I?void 0:I.id)===e.id,index:t,item:e,handleClickCreatorVid:p},e.id):null)(e,t,C)),d&&e.length>0&&l&&0!==L&&D.map(e=>(0,n.jsx)(Ot,{},e)),d&&e.length>0&&(s||l)?(0,n.jsx)(Rt,{rowNum:1}):null]}),m&&(0,n.jsx)(ni.x,{onClick:A,isUp:b})]})}));var ai=i(72741),ri=i(98461),si=i(10907),li=i(43650),di=i(45287),ci=i(74842);const ui=(0,r.memo)(function(e){var t,i,o,s,l,d,c,u;const{item:p,itemListKey:g,prefetchId1:_="",prefetchId2:h="",teaParams:v,videoReportParams:f,onBrowserModeClose:y,handleClickCreatorVid:b,videoCount:x=0}=e,{id:k,author:I="",scheduleTime:P,music:A,ad_info:M,item_control:D}=p,R=(0,re.yS)(null==p?void 0:p.author),{user:E,abTestVersion:F}=null!==(t=(0,ae.W)(()=>["user","language","abTestVersion"],[]))&&void 0!==t?t:{},{allowRightPanelScroll:B,shouldOptimizeCta:z,shouldShowCommentsCnt:U}=(0,j.kb)(),{isOpenNewTab:W}=(0,j.M4)(),V=(0,C.MQ)(),H=null!==(i=(0,N.qt)(F,"browser_mode_encourage_login"))&&void 0!==i?i:"v1",{isCreatorBrowserMode:q,currentIndex:$}=(0,T.JD)(e=>({isCreatorBrowserMode:e.isCreatorBrowserMode,currentIndex:e.currentIndex}),S.bN),{creatorTabVidList:G,hasMoreLatest:K,hasMorePrevious:Z,creatorTabLoading:X,statusCode:Q,listLength:ee}=(0,ri.ag)(e=>{var t,i,n;return{creatorTabVidList:e.browserList,hasMorePrevious:null!==(t=e.hasMorePrevious)&&void 0!==t&&t,hasMoreLatest:null!==(i=e.hasMoreLatest)&&void 0!==i&&i,creatorTabLoading:e.loading,statusCode:e.statusCode,listLength:null!==(n=null==e?void 0:e.list.length)&&void 0!==n?n:0}},S.bN),[{creatorTabItemList:te}]=(0,a.S)(ue.k,{selector:e=>({creatorTabItemList:G.filter(t=>{var i;return(null===(i=e[t])||void 0===i?void 0:i.authorId)===(null==R?void 0:R.id)}).map(t=>e[t])}),dependencies:[G]}),ie=(0,L.s)(),{prefixText:ne,loginText:oe,endText:se}=(0,At.ih)(),le=(0,si.M)(p.id)&&V,de=(0,si.sX)(p.id),ce=(0,r.useRef)(k),[pe,ge]=(0,r.useState)(!1),[_e,me]=(0,r.useState)(0),he=Boolean(E),ve=g?li.FB[g]:999,{nickname:fe=""}=null!=R?R:{},ye=!!M,be=!1===(null==D?void 0:D.can_comment),xe=W?"_blank":"_self",ke=(0,di.V)({item:p,showTranslation:de}),we=(0,r.useMemo)(()=>{var e;if((null===(e=p.event)||void 0===e?void 0:e.event_id)&&p.event.event_start_time)return{eventId:p.event.event_id,eventStartTime:Number(p.event.event_start_time),authorId:I,groupId:k}},[p]),Se=(0,r.useMemo)(()=>3===(null==p?void 0:p.itemCommentStatus)||3===(null==R?void 0:R.commentSetting),[(null==R||R.commentSetting,null==p?void 0:p.itemCommentStatus)]),De=(0,r.useMemo)(()=>(0,je.qY)(R,null==E?void 0:E.uid),[R,null==E?void 0:E.uid]),Oe=!1===(null==D?void 0:D.can_creator_redirect),Re=te[te.length-1],Ee=te[0],Fe=`${ne}${oe}${se}`,Be=0===_e,ze=1===_e,Ue=B&&!Se&&!ze,Ne=ie("pcWeb_login_browserMode"),We=(0,r.useMemo)(()=>({author_id:I,group_id:k}),[I,k]),Ve=(0,r.useMemo)(()=>{var e;return{author_id:I,group_id:k,music_id:null!==(e=null==A?void 0:A.id)&&void 0!==e?e:""}},[I,k,null==A?void 0:A.id]),He=(0,r.useCallback)(()=>{ge(!0)},[]),qe=(0,r.useCallback)(()=>{ge(!1)},[]),$e=(0,At.V0)({id:k,authorId:null!==(o=null==E?void 0:E.uid)&&void 0!==o?o:"",playMode:"browser_mode",needDispose:!1,handleCommentScrollDown:He,handleCommentHitTop:qe}),Ge=(0,At.rw)(null!==(s=null==R?void 0:R.secUid)&&void 0!==s?s:"",1e3*Number(null!==(l=null==Re?void 0:Re.createTime)&&void 0!==l?l:0),!1),Ke=(0,At.rw)(null!==(d=null==R?void 0:R.secUid)&&void 0!==d?d:"",1e3*Number(null!==(c=null==Ee?void 0:Ee.createTime)&&void 0!==c?c:0),!0),Ye=(0,r.useCallback)(()=>{(null==$e?void 0:$e.current)&&$e.current.scrollTo({top:0,behavior:"smooth"})},[$e]),Ze=(0,r.useCallback)(e=>{me(e)},[]),Je=(0,Y.G)({modalConfig:{query:{enter_method:"click_comment",group_id:k}},reportClickEvent:()=>{m.O.handleGeneralClick("post_comment",{group_id:k,play_mode:"browser_mode"})}});(0,r.useEffect)(()=>{q||me(0)},[k,q]),(0,r.useEffect)(()=>{q&&0===_e&&0===Q&&Z&&ee-$<=3?Ge():q&&0===_e&&0===Q&&K&&$<=1&&Ke()},[q,$,_e,Ge,Ke,Z,K,ee,Q]),(0,r.useEffect)(()=>{ce.current!==k&&$e&&$e.current&&($e.current.scrollTop=0),ce.current=k},[k,$e]);const Xe=(0,n.jsx)(Tt,{target:xe,onClick:e=>{M||!1!==(null==D?void 0:D.can_creator_redirect)||(w.F.destroy(),w.F.open({content:ie("ad_not_support"),duration:3}),(0,O.Gu)(e))},onLinkClick:e.onLinkClick,uniqueId:I,videoId:k,teaParams:v,nicknameEllipsis:!0}),Qe=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Te.k,{onlyKey:k,lineClamp:2,overflowLineNum:12,showTranslation:de,children:(0,n.jsx)(Ie.g,{onBrowserModeClose:y,target:xe,onLinkClick:e.onLinkClick,item:p,showTranslation:de,e2eTag:"browse-video-desc",reportParams:v})}),le&&(0,n.jsx)(ci.G,{itemId:k,authorId:null!==(u=p.authorId)&&void 0!==u?u:""})]}),et=(0,r.useMemo)(()=>(0,n.jsx)(Pe.i,{onLinkClick:e.onLinkClick,styleType:1,item:p,target:xe,e2eTag:"browse-music",teaParams:v}),[p,e.onLinkClick,xe,v]);if(P){const e=(0,n.jsxs)(n.Fragment,{children:[Xe,(0,n.jsxs)(ai.Mi,{children:[Qe,(0,n.jsxs)(ai.qF,{children:[(0,n.jsx)(Le.P,{target:xe,item:p}),(0,n.jsx)(Ae.a,{item:p})]}),(0,n.jsx)(ai.Ys,{scheduledTime:Number(P),height:22,fontSize:16,iconSize:20,iconMargin:4})]})]});return(0,n.jsxs)(ai.wV,{children:[(0,n.jsx)(ai.ex,{shouldShowCommentsCnt:U,children:e}),(0,n.jsx)(ai.pp,{}),(0,n.jsx)(ai.hJ,{children:(0,n.jsx)(ai.rb,{children:ie("scheduled_video_comment_unavailable")})})]})}const tt=(0,n.jsxs)(n.Fragment,{children:[ke&&(0,n.jsx)(ai.a_,{children:ke}),Qe,we&&(0,n.jsx)("div",{style:{marginTop:"8px"},children:(0,n.jsx)(Ce._,{eventList:[we]})}),et,(0,n.jsx)(Me.gF,{item:p,target:xe,playMode:2,poiTeaParams:We,capcapAnchorTeaParams:Ve,onLinkClick:e.onLinkClick,pageType:ve})]}),it=(0,n.jsx)(ct,{itemId:k,onEmbedModalVisibleChange:e.onEmbedVisibleChange,teaParams:v,onTabChange:Ze,activeTab:_e}),nt=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ai.ex,{children:[Xe,(0,n.jsx)(ai.Mi,{shouldOptProfile:!0,children:tt})]}),(0,n.jsx)(ai.Mi,{shouldOptimizeCta:z,children:it})]}),ot=x>1?(0,n.jsx)(ut.I0,{variant:"primary",size:"medium",label:Ne}):(0,n.jsx)(ai.VW,{children:Ne}),at="v1"===H?(0,n.jsx)(ai.hJ,{onClick:Je,children:(0,n.jsx)(ai.mB,{children:Fe})}):(0,n.jsx)(ai.oH,{onClick:Je,children:"v2"===H?(0,n.jsx)(ai.VW,{children:Ne}):ot});return(0,n.jsx)(J.t,{isMobile:!1,componentName:"browser-mode-content",children:(0,n.jsxs)(ai.wV,{optDescription:!0,noPaddingTop:Ue,children:[Ue?null:nt,Be&&(Se&&!be?(0,n.jsx)(ai.rb,{"data-e2e":"comment-turned-off",children:ie("comment_off")}):(0,n.jsx)(J.t,{isMobile:!1,componentName:"browser-mode-comment-list",children:(0,n.jsx)(It.QM,{itemId:k,onClose:e.onClose,prefetchId1:_,prefetchId2:h,disableReply:De,creatorTabDisabled:ye||Oe,ref:$e,teaParams:v,profileContent:Ue?nt:null,onClickScrollToTop:Ye,showScrollToTop:pe,onTabChange:Ze,adsCommentDisabled:be})})),Be&&(0,n.jsxs)(n.Fragment,{children:[he&&!Se&&!be&&(0,n.jsx)(ai.hJ,{children:De?(0,n.jsx)("div",{children:ie("comment_disable_notfollow").replace("%@",fe)}):(0,n.jsx)(Pt.gi,{itemId:k,teaParams:f})}),!he&&at]}),ze&&(0,n.jsx)(J.t,{isMobile:!1,componentName:"browser-mode-creator-tab",children:(0,n.jsx)(oi,{itemList:te,hasMorePrevious:Z,hasMoreLatest:K,isLoading:X,onLoadMore:Ge,onLoadMoreBefore:Ke,currentPlayingItemListKey:g,currentItemId:k,currentAuthorId:I,handleClickCreatorVid:b})})]})})});var pi=i(86984),gi=i(1491),_i=i(21363);const mi=(0,r.memo)(function({adInfo:e}){const{button_color:t="",button_text:i,ad_id:o}=e,[a,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{s(!1)},[o]),(0,n.jsxs)(_i.OV,{"data-e2e":"ttam-ads-cta",onAnimationEnd:()=>{s(!0)},toBackground:t,animationEnd:a,children:[`${i} `," ",(0,n.jsx)(_i.tj,{fontSize:16})]})}),hi=(0,r.memo)(function(e){const{adInfo:t,author:i,desc:o}=e,{ad_id:a}=t,s=(0,_.n5)({ad_info:t,play_mode:"browser_mode"});return(0,r.useEffect)(()=>{x.pg.handleOthershow(Object.assign(Object.assign({},s),{refer:ze.Hq.Button}))},[a]),(0,n.jsxs)(_i.hr,{onClick:e=>{(0,q.Zy)({adInfo:t,refer:ze.Hq.Button,tag:ze.xY.BrowserMode}),e.preventDefault(),e.stopPropagation()},children:[(0,n.jsxs)(_i.WH,{children:[(0,n.jsx)(_i.G5,{src:null==i?void 0:i.avatarThumb}),(0,n.jsxs)(_i.k7,{children:[(0,n.jsx)(_i.m0,{"data-e2e":"ttam-ads-popup-title",children:null==i?void 0:i.uniqueId}),(0,n.jsx)(_i.Qp,{"data-e2e":"ttam-ads-popup-description",children:o})]})]}),(0,n.jsx)(mi,{adInfo:t})]})});var vi=i(79415),fi=i(43664),yi=i(64207);const bi=(0,he.default)("div",{target:"e1exqkaz0"})({width:"28px",height:"96px",margin:"8px 6px",display:"block",position:"relative",background:"rgba(255, 255, 255, 0.12)",borderRadius:"32px"},({theme:e})=>(0,ve.oO)({theme:e,isUiOptimise:!0}),"label:DivVolumeControlContainer;"),xi=(0,he.default)("div",{target:"e1exqkaz1"})(({theme:{colors:e}})=>({width:"4px",height:"80px",backgroundColor:e.ConstTextInverse5,position:"absolute",left:"12px",top:"8px",bottom:"8px",cursor:"pointer"}),"label:DivVolumeControlProgress;"),ki=(0,he.default)("div",{target:"e1exqkaz2"})(({theme:{colors:e}})=>({width:"4px",height:"80px",backgroundColor:e.ConstTextInverse,position:"absolute",left:"12px",bottom:"8px",cursor:"pointer",transform:"scaleY(0)",transformOrigin:"bottom"}),"label:DivVolumeControlBar;"),wi=(0,he.default)("div",{target:"e1exqkaz3"})({width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",left:"6px",bottom:"0",cursor:"pointer",zIndex:1},"label:DivVolumeControlCircle;"),Si=(0,r.memo)((0,r.forwardRef)(function({teaParams:e,setVolumeDragging:t},i){const o=(0,r.useRef)(null),a=(0,r.useRef)(null),s=(0,r.useRef)(null),l=(0,r.useRef)(!0),{mute:d,volume:c,setVolume:u}=(0,H.rq)(),p=(0,r.useCallback)((t,i)=>{fi.p.handleSwitchSound(Object.assign(Object.assign({},e),{playMode:2,volume_from:t,volume_to:i})),fi.p.handleVolumeChange({volume_to:c,click_mute:!0})},[c,e]),g=(0,r.useRef)(d);(0,r.useEffect)(()=>{g.current=d},[d]);const{percent:_,bindDrag:m,seek:h,seekByDelta:v,update:f}=(0,yi.M)({direction:"vertical",progressRef:o,circleRef:a,barRef:s,initialPercent:c,draggingStateCb:t,progressReportCallback:p}),y=(0,R._g)(e=>{l.current?l.current=!1:u(e,g.current)},[u],160);(0,r.useEffect)(()=>y(_),[_]),(0,r.useEffect)(()=>{d||c!==$.Lj||f($.Lj)},[d,c,f]);const b=d?0:_,x=0===b?8:72*b;return(0,r.useImperativeHandle)(i,()=>({seekByDelta:v})),(0,n.jsxs)(bi,{onClick:O.dG,children:[(0,n.jsx)(xi,{ref:o,onClick:h,onMouseDown:m}),(0,n.jsx)(wi,{ref:a,style:{transform:`translateY(-${x}px)`},onMouseDown:m}),(0,n.jsx)(ki,{ref:s,style:{transform:`scaleY(${b})`},onClick:h,onMouseDown:m})]})}));var Ci=i(57969),ji=i(7125);const Ti=(0,he.default)("div",{target:"e12q9uh50"})(({theme:{colors:e}})=>({flex:"1 0 600px",maxWidth:"100%",background:e.ConstBGInverse,position:"relative",overflow:"hidden",padding:"0 80px"}),"label:DivMiniPlayerPlaceHolder;"),Ii=(0,he.default)("div",{target:"e12q9uh51"})({position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(18, 18, 18, 1)",borderRadius:"8px",overflow:"hidden"},"label:DivMiniPlayerCoverContainer;"),Pi=(0,he.default)("div",{target:"e12q9uh52"})({position:"absolute",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",alignItems:"center"},"label:DivReturnContentContainer;"),Ai=(0,he.default)(Ci.A,{target:"e12q9uh53"})({width:"56px",height:"56px",marginBottom:"24px",color:"rgba(255, 255, 255, .9)",zIndex:1},"label:IconPIPReturn;"),Mi=(0,he.default)("p",{target:"e12q9uh54"})(({theme:e})=>[(0,ve.zy)({theme:e}),(0,ve.mp)({direction:e.direction,end:"16px"}),{fontSize:"24px",fontWeight:"500",lineHeight:"21.55px",color:"rgba(255, 255, 255, .9)",marginBottom:"24px",zIndex:1}],"label:PReturnText;"),Li=(0,he.default)(ut.I0,{target:"e12q9uh55"})(({theme:e})=>[(0,ve.mp)({direction:e.direction}),{fontSize:"16px",fontWeight:"500",lineHeight:"20.8px",padding:"13.5px 24px",minWidth:"56px",zIndex:1,height:"48px",borderRadius:"8px"}],"label:ButtonReturn;"),Di=(0,he.default)(ji.x,{target:"e12q9uh56"})({position:"absolute",filter:"blur(5px)",opacity:"0.3"},"label:StyledVideoBlurBackground;"),Oi=(0,r.memo)(function(e){var t;const i=(0,I.Dy)(),{playMode:o,item:a}=e,{originCover:s=""}=null!==(t=null==a?void 0:a.video)&&void 0!==t?t:{},l=(0,r.useMemo)(()=>({cover:s,quality:"720"}),[s]),d=(0,L.s)(),c=(0,r.useCallback)(e=>{(0,O.Gu)(e),i.closeMiniPlayer({playMode:o,enter_method:"click_button"})},[i,o]);return(0,n.jsx)(Ti,{children:(0,n.jsxs)(Ii,{children:[(0,n.jsx)(Di,{video:l,objectFit:"contain"}),(0,n.jsxs)(Pi,{children:[(0,n.jsx)(Ai,{}),(0,n.jsx)(Mi,{children:d("pcWeb_floatingPlayer_on")}),(0,n.jsx)(Li,{label:d("pcWeb_miniPlayer_turnOff_cta"),variant:"const",onClick:c,size:"medium"})]})]})})});var Ri=i(98447),Ei=i(92511),Fi=i(25372),Bi=i(47910),zi=i(18433),Ui=i(98042),Ni=i(96406),Wi=i(94701),Vi=i(70461),Hi=i(70576),qi=i(57693),$i=i(75431);const Gi=(0,he.default)("div",{target:"eegjxd40"})(({theme:{colors:e}})=>({flex:"1 0 600px",maxWidth:"100%",background:e.ConstBGInverse,position:"relative",overflow:"hidden",padding:"0 80px"}),"label:DivEndCardContainer;"),Ki=(0,he.default)("div",{target:"eegjxd41"})({position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",alignContent:"center",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(18, 18, 18, 1)",borderRadius:"8px",overflow:"hidden"},"label:DivEndCardInnerContainer;"),Yi=(0,he.default)("div",{target:"eegjxd42"})(({responsiveUi:e=!1,isAuthorMask:t=!1})=>[{position:"absolute",width:"100%",height:e||t?"100%":"80%",minHeight:"600px",left:0,top:0,borderRadius:"4px",display:"flex",justifyContent:"center",flexDirection:"column",zIndex:"initial",alignItems:e?"center":"unset","&.mask-exit":{opacity:1},"&.mask-exit-active":{opacity:0,transition:"opacity 233ms cubic-bezier(0.25, 0, 0.25, 1)"}}],"label:DivVideoCountdown;"),Zi=(0,he.default)("div",{target:"eegjxd43"})(({index:e})=>({cursor:"pointer",margin:"0 auto",animation:`0.3s cubic-bezier(0.25, 0, 0.25, 1) ${.066*e}s backwards show-card`,"@keyframes show-card":{"0%":{transform:"scale(0.8)",opacity:"0"},"100%":{transform:"scale(1)",opacity:"1"}}}),"label:DivItemContainer;"),Ji=(0,he.default)("div",{target:"eegjxd44"})({width:"100%",position:"relative",borderRadius:"8px",marginBottom:"8px",overflow:"hidden",boxSizing:"border-box"},"label:DivCoverContainer;"),Xi=(0,he.default)("img",{target:"eegjxd45"})(({theme:{colors:e}})=>({width:"100%",height:"100%",objectFit:"cover",background:e.BGPlaceholderDefault}),"label:ImgCover;"),Qi=(0,he.default)("div",{target:"eegjxd46"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"label:DivPlayIcon;"),en=(0,he.default)("div",{target:"eegjxd47"})(({theme:e})=>(0,ve.zy)({theme:e,fontWeight:"semiBold",color:"ConstTextInverse"}),(0,ve.m4)(2),{position:"absolute",left:"8px",bottom:"40px",wordBreak:"break-word",fontSize:"16px",lineHeight:"24px"},"label:DivTitle;"),tn=(0,he.default)("div",{target:"eegjxd48"})({position:"absolute",height:"90px",left:"0",bottom:"0",width:"100%",background:"linear-gradient(180deg, rgba(22, 24, 35, 0.0001) 2.92%, rgba(22, 24, 35, 0.5) 98.99%)"},"label:DivMask;"),nn=(0,he.default)("div",{target:"eegjxd49"})(({theme:e})=>({position:"absolute",height:"40px",left:0,right:0,bottom:0,background:"linear-gradient(180deg, rgba(22, 24, 35, 0.0001) 2.92%, rgba(22, 24, 35, 0.3) 98.99%)",color:e.colors.ConstTextInverse,fontSize:"16px",fontWeight:"500",lineHeight:"17px",padding:"12px 8px 8px 8px",display:"flex",alignItems:"center"}),"label:DivPlayCount;"),on=(0,he.default)(qi.A,{target:"eegjxd410"})(({theme:e})=>[(0,ve.mp)({direction:e.direction,marginEnd:"4px"})],"label:StyledHeart;"),an=(0,he.default)("div",{target:"eegjxd411"})({display:"flex",alignItems:"start",justifyContent:"center",flexWrap:"wrap",minHeight:"347px",overflow:"hidden"},"label:DivRecommendCountListContainer;"),rn=((0,$i.i7)({"0%":{strokeDasharray:"283",strokeDashoffset:"0"},"100%":{strokeDasharray:"283",strokeDashoffset:"283"}}),(0,he.default)("div",{target:"eegjxd414"})({color:"#FFF",marginBottom:"32px",fontSize:"20px",fontWeight:700},"label:DivVideoCountdownTitle;")),sn=(0,he.default)("div",{target:"eegjxd415"})({display:"flex",padding:"12.5px 46.5px",marginTop:"24px",justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:" 32px",background:"rgba(255, 255, 255, 0.20)",color:" #FFF",fontSize:"15px",fontWeight:"500",cursor:"pointer"},"label:DivVideoPlayNowBtn;"),ln=he.default.div`
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 90px;
  height: 90px;
  font-size: 24px;
  font-weight: bold;
  color: #ffffff;
  z-index: 100;
  cursor: pointer;
`,dn=he.default.svg`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);

  circle {
    fill: none;
    stroke-linecap: round;
    stroke-width: 4;
  }

  .circle-background {
    stroke: #ffffff;
    opacity: 0;
  }

  .circle-progress {
    stroke: #ffffff;
    stroke-dasharray: ${()=>2*Math.PI*48};
    stroke-dashoffset: ${e=>2*(1.125-e.timeRemaining/e.duration)*Math.PI*48};
    transition: stroke-dashoffset 1s linear;
  }
`,cn={id:"X_Mark_Smallcross-679e3513",use:"X_Mark_Smallcross-679e3513-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="X_Mark_Smallcross-679e3513"><path fill="white" d="M33.193 36.02a1 1 0 0 0 1.414 0l1.414-1.415a1 1 0 0 0 0-1.414l-9.192-9.193 9.192-9.192a1 1 0 0 0 0-1.414l-1.414-1.415a1 1 0 0 0-1.414 0L24 21.17l-9.192-9.193a1 1 0 0 0-1.414 0l-1.415 1.415a1 1 0 0 0 0 1.414l9.193 9.192-9.193 9.193a1 1 0 0 0 0 1.414l1.415 1.414a1 1 0 0 0 1.414 0L24 26.827z" /></symbol>'};function un(e){const t=(0,r.useContext)(Ve.X);return(0,r.useLayoutEffect)(()=>(t.add(cn),()=>{t.remove("X_Mark_Smallcross-679e3513")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#X_Mark_Smallcross-679e3513"},void 0)}),void 0)}const pn=(0,r.memo)(({onFinish:e,onTimeUpdate:t,itemInfo:i,onCountClick:o,duration:a})=>{const[s,l]=(0,r.useState)(a),[d,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),g=(0,r.useRef)(null),_=(0,Wi.TU)();return(0,r.useEffect)(()=>{let i=null;return!d&&_&&(i=setInterval(()=>{const n=s-1e3;n<=0?(clearInterval(i),e(),null==t||t(0),l(0)):(null==t||t(n),l(n))},1e3)),()=>{i&&clearInterval(i)}},[d,e,t,i,s,_]),(0,r.useEffect)(()=>{!_&&s<=3e3&&p(!0),_&&u&&(l(a),p(!1))},[_,s,a,u]),(0,Lt.B)({element:g,threshold:[0],intersectionHandler:()=>{c(!1)},outerSectionHandler:()=>{!d&&s<=3e3?(l(8e3),c(!1)):c(!0)}}),(0,n.jsxs)(ln,{ref:g,duration:a,timeRemaining:s,onClick:o,children:[(0,n.jsxs)(dn,{duration:a,timeRemaining:s,children:[(0,n.jsx)("circle",{className:"circle-background",cx:"45",cy:"45",r:"43"}),(0,n.jsx)("circle",{className:"circle-progress",cx:"45",cy:"45",r:"43"})]}),(0,n.jsx)(un,{width:48,height:48,fill:"#fff"})]})});var gn;!function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Big=2]="Big"}(gn||(gn={}));const _n={0:{iconSize:48,cardWidth:224,cardHeight:299},1:{iconSize:48,cardWidth:260,cardHeight:347},2:{iconSize:48,cardWidth:336,cardHeight:447}},mn=(0,r.memo)(e=>{const{item:t,size:i,index:o=0}=e,{video:{cover:a,zoomCover:s},desc:l}=t,{diggCount:d}=(0,Ei.D)(t),c=_n[i],u=c.cardWidth,p=c.cardHeight,[g,_]=(0,r.useState)({width:u,animation:""});(0,r.useEffect)(()=>{_(e=>Object.assign(Object.assign({},e),{animation:`0.3s cubic-bezier(0.25, 0, 0.25, 1) ${.066*o}s backwards show-card`})),window.setTimeout(()=>{_(e=>Object.assign(Object.assign({},e),{animation:"none"}))},300+66*o+1)},[t.id,o]);const m=(0,r.useRef)(null);return(0,n.jsx)(Zi,{index:o,style:g,onClick:e.onClick,ref:m,children:(0,n.jsxs)(Ji,{style:{height:p},isSmallCard:0===i,children:[(0,n.jsx)(Xi,{src:(null==s?void 0:s[480])||a}),(0,n.jsx)(Qi,{}),(0,n.jsx)(tn,{}),0!==i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(en,{children:l}),(0,n.jsxs)(nn,{children:[(0,n.jsx)(on,{width:16,height:16,fill:"#fff"}),(0,U.D1)(d)]})]})]})})}),hn=(0,r.memo)(e=>{var t;const{itemList:i,isFullScreen:o,onVideoCardClick:a}=e,s=(0,r.useCallback)(e=>()=>{a(e)},[]);return(0,n.jsx)(an,{isFullScreen:o,isResponsiveUi:!0,children:null===(t=[i[0]])||void 0===t?void 0:t.map((e,t)=>(0,n.jsx)(mn,{index:t,onClick:s(e.id),item:e,size:2},t))})}),vn=(0,r.memo)(({showRelated:e,onCloseRelatedMask:t,onCountClick:i,item:o})=>{const{isFYP:a}=(0,j.FT)(),{responsiveUi:s}=(0,j.yl)(),[l,d]=(0,r.useState)(8e3),c=(0,ge.W6)(),u=null==o?void 0:o.author,p=null==o?void 0:o.id,g=(0,r.useCallback)(()=>{if(a)return t(),void c.push("/foryou");t()},[c,a,t]),_=(0,r.useCallback)(e=>{d(e)},[]),m=(0,r.useCallback)(()=>{(0,Wi.Eo)(),i(),u&&p&&Hi.a.handleCountdownExit({author_id:u,group_id:p})},[i,u,p]),h=(0,r.useCallback)(()=>{g(),u&&p&&Hi.a.handlePlayNowClick({author_id:u,group_id:p})},[g,u,p]);(0,r.useEffect)(()=>{u&&p&&e&&Hi.a.handleCountdownStart({author_id:u,group_id:p})},[u,p,e]);const v=(0,L.s)();return o?(0,n.jsx)(Vi.A,{in:e,unmountOnExit:!0,timeout:223,classNames:"mask",children:(0,n.jsxs)(Yi,{responsiveUi:s,children:[(0,n.jsx)(rn,{children:v("Web_exploreFYFRedirect_opening",{},"Opening For You feed in...%s").replace("%s",String(l/1e3))}),(0,n.jsx)(pn,{duration:8e3,itemInfo:o,onFinish:h,onTimeUpdate:_,onCountClick:m}),(0,n.jsx)(hn,{isFullScreen:!1,onVideoCardClick:g,itemList:[o]}),(0,n.jsx)(sn,{onClick:h,children:v("Web_exploreFYFRedirect_goToFYF",{},"Go to For You feed now")})]})}):null});var fn=i(46090),yn=i(59475);const bn=(0,r.memo)(({item:e})=>{const{disableEndCard:t}=(0,fn.$c)(),i=(0,yn.g1)(),o=(0,r.useCallback)(()=>{t(),(null==e?void 0:e.id)&&i(e.id)},[t,e.id,i]);return(0,n.jsx)(Gi,{children:(0,n.jsx)(Ki,{children:(0,n.jsx)(vn,{showRelated:!0,onCloseRelatedMask:o,onCountClick:t,item:e})})})});var xn=i(44228),kn=i(88860),wn=i(85633),Sn=i(9581),Cn=i(33274),jn=i(20572),Tn=i(82480),In=i(5701),Pn=i(44193);const An=(0,r.memo)(function(e){var t,i;const o=(0,r.useRef)(null),a=(0,r.useRef)(null),s=(0,r.useRef)(null),l=(0,r.useRef)(null),[d,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!0),{direction:g}=(0,De.u)(),_=(0,r.useRef)("0"),{user:m}=null!==(t=(0,ae.W)(()=>["user"],[]))&&void 0!==t?t:{},{hasAutoScrollButton:h}=(0,j.iz)(),{enableMiniPlayer:v}=(0,Ri.D)(),{vid:f,seek:y,videoRef:b,progressReportCallback:x,extraBottomSpace:k=!1,isXgPlayer:w,isBrowserMode:S}=e;(0,r.useEffect)(()=>{_.current=f},[f]);const{bindDrag:C,seek:T,seekByDelta:I,videoPercent:P,duration:A,currentTime:M}=(0,yi.u)({direction:g,progressRef:a,circleRef:s,videoId:e.vid,barRef:l,initialPercent:0,draggingStateCb:c,draggingPercentCb:y,progressReportCallback:x}),L=(0,r.useCallback)(()=>{(0,Pn.X)(`${null==m?void 0:m.uid}`)},[null==m?void 0:m.uid]),D=(0,r.useCallback)(()=>{(0,Pn.W)(`${null==m?void 0:m.uid}`)||L(),u||p(!0)},[null==m?void 0:m.uid,L,u]),R=(0,r.useCallback)((e,t)=>i=>{if(9===i.keyCode)return;i.preventDefault(),i.stopPropagation();const n=$.cb/(e||100);38===i.keyCode||39===i.keyCode?I(n,!0,t):40===i.keyCode||37===i.keyCode?I(-1*n,!0,t):36===i.keyCode?I(-1,!1,t):35===i.keyCode&&I(1,!1,t)},[I]);if(0===M||!(null===(i=null==b?void 0:b.current)||void 0===i?void 0:i.currentCanPlay)&&w&&S)return null;const E="ltr"===g?{left:`calc(${100*P}%)`}:{right:`calc(${100*P}%)`};return(0,n.jsx)(In.c,{visible:!u,text:"webapp_seekbar_tooltip",onShow:L,children:(0,n.jsxs)(vi.ht,{isNarrow:h,show:d,extraBottomSpace:k,onMouseDown:O.dG,onClick:D,useFullWideInNarrow:v,isDisplayForAnyWidth:!0,children:[(0,n.jsxs)(vi.gt,{ref:o,children:[(0,n.jsx)(vi.AK,{ref:a,onClick:T,onMouseDown:C,tabIndex:0,role:"slider","aria-label":"progress bar","aria-valuenow":P,"aria-valuetext":(0,Tn.Az)(M),onKeyDown:R(A,P)}),(0,n.jsx)(vi.n9,{ref:s,style:E,onMouseDown:C}),(0,n.jsx)(vi.Vi,{ref:l,style:{transform:`scaleX(${P}) translateY(-50%)`},onClick:T,onMouseDown:C})]}),(0,n.jsx)(vi.l5,{children:"ltr"===g?`${(0,Tn.Az)(M)}/${(0,Tn.Az)(A)}`:`${(0,Tn.Az)(A)}/${(0,Tn.Az)(M)}`})]})})});var Mn=i(13283),Ln=i(17164),Dn=i(45473);const On=(0,r.memo)(function(e){var t,i;const{itemListKey:a,currentIndex:s,videoPlayerRef:l,nextVideoPlayerRef:d,videoReportParams:c,adjacentVideoIds:u=[],noEditingContent:p,photoVideoRef:g,isShowPhoto:_,pauseRef:m,setPause:h,teaParamsRef:v,handleNext:f}=e,{currentId:y=""}=(0,U.L$)((0,At.Og)({currentIndex:s})),b=(0,U.L$)((0,o.P)(ue.k,{selector:e=>e[y],dependencies:[y]})),{video:x,id:k,itemMute:w=!1,warnInfo:S,scheduleTime:T,ad_info:I}=(0,U.L$)(b),{playAddr:A="",width:M=1,height:L=1,duration:D,bitrateInfo:O,bitrate:R,volumeInfo:E,originCover:F}=(0,U.L$)(x),B=null!==(t=null==b?void 0:b.id)&&void 0!==t?t:"",z=`xgwrapper-2-${k}`,N=l,{isUseNativePlayer:W}=(0,j.Sc)(),{withMultiInstance:V}=(0,j.re)(),H=(0,Ln.hy)(),q=(0,Ui.eu)(),$=(0,P.mx)(b),G=(0,P.Q4)(b),{subtitleList:Y,curSubtitle:Z,handleSubtitleCallback:J}=(0,C.ck)(b,"browser_mode"),{seekingTips:X}=(0,kn.r)(),{handleResolutionReady:Q}=(0,wn.mc)(b),ee=(0,At.HK)(s,2,B),te=(0,r.useRef)(),ie=(0,r.useRef)(-1),ne=(0,r.useRef)(jn.zC),oe=s+1,ae=(0,U.L$)((0,ot.k)(u[1])),{video:re,id:se,itemMute:le=!1,ad_info:de}=(0,U.L$)(ae),ce=(0,P.mx)(ae),pe=(0,P.Q4)(ae),{subtitleList:ge,curSubtitle:_e,handleSubtitleCallback:me}=(0,C.ck)(ae,"browser_mode"),{handleResolutionReady:he}=(0,wn.mc)(ae),ve=(0,At.HK)(oe,2,se),{playAddr:fe="",width:ye=1,height:be=1,duration:xe,bitrateInfo:ke,bitrate:we,volumeInfo:Se,originCover:Ce}=(0,U.L$)(re),je=!!I,Te=!$&&!G,Ie=V&&se&&!ce&&!pe,Pe=null==I?void 0:I.vast,Ae=!(!I||!Pe),{handleVideoEndShowEndCard:Me}=(0,Wi.V7)({currentIndex:s,itemListKey:a,nextItem:ae}),Le=(0,r.useMemo)(()=>({cover:F,quality:"720"}),[F]),De=(0,r.useMemo)(()=>({cover:Ce,quality:"720"}),[Ce]),Oe=(M/L||1)>=1,Re=(ye/be||1)>=1,Ee=Boolean(null==S?void 0:S[0])||Boolean(T),{playbackRate:Fe}=(0,K.C7)({isActive:!0,group_id:k,author_id:null!==(i=null==b?void 0:b.authorId)&&void 0!==i?i:"",playModeForTea:"browser_mode"}),Be=(0,r.useCallback)(()=>{h(!0),m.current=!0},[]),ze=(0,r.useCallback)(e=>{var t,i;null===(i=null===(t=N.current)||void 0===t?void 0:t.seek)||void 0===i||i.call(t,e)},[N]),Ue=(0,r.useCallback)((e,t)=>{var i,n;Mn.$.handleSeekBarClick(Object.assign({fromPercent:e,toPercent:t,video_length:null!==(n=null===(i=N.current)||void 0===i?void 0:i.duration)&&void 0!==n?n:0,is_pause:m.current,play_mode:"browser_mode"},v.current))},[N]),Ne=(0,r.useCallback)(e=>{var t,i,n,o,a,r,s,l,d,c,u,p,g,_,m;const h=null===(t=N.current)||void 0===t?void 0:t.duration;H.setVideoInfo({itemId:B,videoPercent:e,currentTime:null!==(n=null===(i=N.current)||void 0===i?void 0:i.currentTime)&&void 0!==n?n:0,duration:h});const v=te.current;if(v){const t=ie.current;t<0&&e>=0?(null===(a=null===(o=ne.current)||void 0===o?void 0:o.sendImpressionEvent)||void 0===a||a.call(o,v),null===(s=null===(r=ne.current)||void 0===r?void 0:r.sendVideoEvent)||void 0===s||s.call(r,v,"start",{duration:h,mediaPlayerVolume:null==v?void 0:v.volume})):t<.25&&e>=.25?null===(d=null===(l=ne.current)||void 0===l?void 0:l.sendVideoEvent)||void 0===d||d.call(l,v,"firstQuartile"):t<.5&&e>=.5?null===(u=null===(c=ne.current)||void 0===c?void 0:c.sendVideoEvent)||void 0===u||u.call(c,v,"midpoint"):t<.75&&e>=.75?null===(g=null===(p=ne.current)||void 0===p?void 0:p.sendVideoEvent)||void 0===g||g.call(p,v,"thirdQuartile"):t<1&&e>=1&&(null===(m=null===(_=ne.current)||void 0===_?void 0:_.sendVideoEvent)||void 0===m||m.call(_,v,"complete"))}ie.current=Number.isNaN(e)?-1:e},[B,H,N,te]),We=(0,r.useCallback)(()=>{var e;if(Ae&&(te.current=null===(e=null===document||void 0===document?void 0:document.getElementById(z))||void 0===e?void 0:e.querySelector("video"),te.current)){const e=new jn.yy(Pe),t=te.current;e.getVASTInfo().then(e=>{var i,n;null===(n=null===(i=ne.current)||void 0===i?void 0:i.createAdContext)||void 0===n||n.call(i,{adElement:t,adVerifications:e.adVerifications,enableContentUrl:e.enableContentUrl,itemIds:u})}).catch(e=>console.log(e))}},[te,Ae,z,u]),Ve=(0,r.useCallback)(()=>{var e,t;const i=te.current;i&&(null===(t=null===(e=ne.current)||void 0===e?void 0:e.sendLoadEvent)||void 0===t||t.call(e,i))},[te,ne]),He=(0,r.useCallback)(()=>{var e,t;h(!1),m.current=!1,(null==te?void 0:te.current)&&(null===(t=null===(e=ne.current)||void 0===e?void 0:e.sendVideoEvent)||void 0===t||t.call(e,te.current,"resume"))},[h,te,ne]),qe=(0,r.useCallback)(()=>{q&&p?f():Me()},[q,f,p,B,b.authorId]),$e=(0,r.useCallback)(()=>{var e,t;(null==te?void 0:te.current)&&(null===(t=null===(e=ne.current)||void 0===e?void 0:e.sendVideoEvent)||void 0===t||t.call(e,te.current,"pause"))},[te,ne]),Ge=(0,r.useCallback)(e=>{var t,i;const n=te.current;null===(i=null===(t=ne.current)||void 0===t?void 0:t.sendVideoEvent)||void 0===i||i.call(t,n,"volumeChange",{mediaPlayerVolume:e})},[ne]),Ke=(0,r.useCallback)(()=>{var e;const t=te.current;t&&(null===(e=ne.current)||void 0===e||e.sendVideoEvent(t,"skipped"),setTimeout(()=>{var e,t;null===(t=null===(e=ne.current)||void 0===e?void 0:e.adSessionFinished)||void 0===t||t.call(e,te.current)},3e3))},[te,ne]),Ye=(0,r.useCallback)(()=>{var e,t;const i=te.current;i&&(null===(t=null===(e=ne.current)||void 0===e?void 0:e.sendVideoEvent)||void 0===t||t.call(e,i,"adUserInteraction"))},[te,ne]);return Te?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Sn.K,{videoCover:Le,horizontal:Oe,mode:2,ref:l,desc:b.desc,id:k,playUrl:A,index:s,itemMute:Boolean(w),duration:D,bitrateInfo:O,bitrate:Number(R),teaParams:c,onVideoError:Be,onTimeUpdate:Ne,onVideoEnded:qe,onVideoPlay:He,onLoadStart:We,onLoadedData:Ve,onVideoPause:$e,onVolumeChange:Ge,onVideoUnmount:Ke,onUserHandlePlayVideo:Ye,onUserHandlePauseVideo:Ye,e2eTag:"browse-video",volumeInfo:E,isPaidPartnership:2===(null==b?void 0:b.adLabelVersion),playbackRate:Fe,itemListKey:a,adInfo:I,subtitleList:Y,curSubtitle:Z,onSubtitleCallback:J,onResolutionReady:Q,renderState:ee,videoInfo:x},k),!je&&(0,n.jsx)(An,{seek:ze,videoRef:N,vid:k,progressReportCallback:Ue,extraBottomSpace:Ee,isXgPlayer:!W,isBrowserMode:!0,playbackRate:Fe}),Ie&&(0,n.jsx)(Sn.K,{videoCover:De,horizontal:Re,mode:2,ref:d,desc:ae.desc,id:se,playUrl:fe,index:oe,itemMute:Boolean(le),duration:xe,bitrateInfo:ke,bitrate:Number(we),teaParams:c,onVideoError:Be,onTimeUpdate:Ne,onVideoEnded:qe,onVideoPlay:He,onLoadStart:We,onLoadedData:Ve,onVideoPause:$e,onVolumeChange:Ge,onVideoUnmount:Ke,onUserHandlePlayVideo:Ye,onUserHandlePauseVideo:Ye,e2eTag:"browse-video",volumeInfo:Se,isPaidPartnership:2===(null==ae?void 0:ae.adLabelVersion),playbackRate:Fe,itemListKey:a,adInfo:de,subtitleList:ge,curSubtitle:_e,onSubtitleCallback:me,onResolutionReady:he,renderState:ve,videoInfo:re},se),X]}):_?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Cn.Y,{ref:g,playMode:2,item:b,teaParams:c,index:s,onTimeUpdate:Ne,onFinish:f}),(0,n.jsx)(Dn._,{photoVideoRef:g,item:b})]}):null}),Rn=(0,r.memo)(function({itemListKey:e,currentIndex:t,needUrlDelegate:i=!0,onCloseBrowserMode:ge,onNextVideo:_e,onPrevVideo:me,teaParams:he,onJumpSamePage:ve,zIndex:fe=3e3,openFocusLock:ye=!0,disableUpdate:be=!1,adjacentVideoIds:xe=[]}){var ke,we,Ce,je,Te,Ie;const{currentId:Pe="",prefetchId1:Ae="",prefetchId2:Me="",listLength:Le=0}=(0,U.L$)((0,At.Og)({currentIndex:t})),De=(0,U.L$)((0,o.P)(ue.k,{selector:e=>e[Pe],dependencies:[Pe]})),{video:Oe,id:Re,itemMute:Ee=!1,warnInfo:Fe,scheduleTime:Be,subVideoMeta:ze,ad_info:Ue,desc:Ne,video:{duration:We}={},logId:Ve}=(0,U.L$)(De),{diggCount:He,collectCount:qe,playCount:$e,commentCount:Ge,shareCount:Ke,isReposted:Ye}=(0,Ei.D)(De),{originCover:Ze}=(0,U.L$)(Oe),Je=null!==(ke=null==De?void 0:De.id)&&void 0!==ke?ke:"",Xe=(0,re.yS)(null==De?void 0:De.author),Qe=null!==(we=null==De?void 0:De.downloadSetting)&&void 0!==we?we:0,et=null!==(Ce=null==De?void 0:De.authorPrivate)&&void 0!==Ce&&Ce,tt=t<Le-1,{user:it,language:nt,abTestVersion:at}=null!==(je=(0,ae.W)(()=>["user","language","abTestVersion"],[]))&&void 0!==je?je:{},{isPlayerErrorOrUnsupported:rt}=(0,G.w)(),{enabledClosedCaption:st,isEntranceInMoreMenu:lt}=(0,C.vN)(),{enableMiniPlayer:dt}=(0,Ri.D)(),{hasAutoScrollButton:ct}=(0,j.iz)(),{useAutoScrollModelResult:ut}=(0,j.Hh)(),{hasNonPersonalizedMenu:pt}=(0,j.cE)(),gt=(0,j.Kj)(),_t=(0,j.eu)(),mt="v1"!==(null!==(Te=(0,N.qt)(at,"creator_center_reverse"))&&void 0!==Te?Te:"v2")?`/tiktokstudio/analytics/${Re}?from=invideo_button`:`/analytics/video/posted/${Re}?lang=${nt}`,{withBlurBG:ht,withNoBG:vt,withLinearGradientBG:ft,withLinearGradientBlueBG:yt,withLinearGradientBlackBG:bt}=(0,j.KS)(),{defaultAuto:xt}=(0,j.lZ)(),{isBrowserDetailClearMode:kt}=(0,j.yV)(),wt=(0,a.w)(ue.k),St=(0,At.Dk)(),[{photoSensitiveVideosSetting:Ct,hideMaskTempVideoId:jt},Tt]=(0,a.S)(se.w),[It,{openContextMenu:Pt}]=(0,Fi.xx)(e=>e.contextMenuOpen,S.bN),[Mt,Lt]=(0,T.BI)(e=>e.isCreatorBrowserMode),{showToast:Dt,dismissToast:Ot}=(0,xn.n)("top"),Rt=(0,Ui.J3)(),{actualResolution:Et}=(0,Bi.qW)(),Ft=(0,W.nr)(),Bt=(0,Bi.VL)(),{isDocumentPipSupporting:zt,isMiniPlayerShowing:Ut}=(0,I.mE)(),{showModal:Nt,hideModal:Wt}=(0,V.g9)(),Vt=(0,P.Q4)(De),Ht=(0,o.P)(B.hf,{selector:e=>e.blockedVideos||[],dependencies:[]}),qt=(0,o.P)(z.y7,{selector:e=>e.blockedVideos||[],dependencies:[]}),$t=(0,o.P)(z.y7,{selector:e=>e.showing||!1,dependencies:[]}),Gt=(0,L.s)(),{mute:Kt,setMute:Yt}=(0,H.ah)({playMode:2,itemMute:Ee}),{isMacElectronApp:Zt,isElectronApp:Jt}=(0,oe.B)(),Xt=(0,pe.uR)(),Qt=(0,At.DX)(e),{handleLightenVideoControls:ei}=(0,K.XY)(),{showVideoMask:ti,maskType:ii,videoMaskTitle:ni,videoMaskDesc:oi,icon:ai,videoMaskFirstButtonText:ri,videoMaskSecondButtonText:si}=(0,le.d)({playMode:2,item:null!=De?De:{}}),{showAnalyticsButton:li}=(0,At.WQ)(De),[di,ci]=(0,r.useState)(!1),[_i,mi]=(0,r.useState)(!0),[fi,yi]=(0,r.useState)(!1),bi=(0,r.useRef)(!1),xi=(0,r.useRef)(null),ki=(0,r.useRef)(!1),wi=(0,r.useRef)(null),Ci=(0,r.useRef)(!1),ji=(0,r.useRef)(null),Ti=(0,r.useRef)(null),Ii=(0,r.useRef)(!1),Pi=(0,r.useRef)(-1),Ai=(0,r.useRef)(void 0),Mi=(0,r.useRef)(-1),Li=(0,r.useRef)(0),Di=(0,r.useRef)(!1),Vi=(0,r.useRef)(null),Hi=(0,r.useRef)(0),qi=(0,r.useRef)(-1),$i=(0,r.useRef)((new Date).getTime()),Gi=(0,r.useRef)(""),Ki=(0,r.useRef)([]),Yi=(0,r.useRef)(null),Zi=(0,r.useRef)(null),[Ji,Xi]=(0,r.useState)(!0),[Qi,en]=(0,r.useState)(!1),[tn,nn]=(0,r.useState)(!1),[on,an]=(0,r.useState)(!1),[rn,sn]=(0,r.useState)(0),ln=(0,U.L$)((0,ot.k)(xe[0])),dn=(0,U.L$)((0,ot.k)(xe[1])),cn=e=>{var t;if(!e)return{};const i=(0,zi.Jl)(e);return{contentType:i?"live":"video",itemId:i?"":e.id,roomId:i?null===(t=e.liveRoomInfo)||void 0===t?void 0:t.roomID:""}},un=!!Ue,pn=(0,_.n5)({ad_info:Ue,play_mode:"browser_mode"}),gn=un&&!!(null==Ue?void 0:Ue.web_url)&&-1!==(null==Ue?void 0:Ue.animation_type),_n=(0,q.M2)(Pe,t),mn=(0,q.A5)(Pe),hn=!Mt&&"foryou"===e,vn=Yi,fn=(0,r.useMemo)(()=>{const t=["foryou","following"];return gt&&t.push("explore"),t.includes(e)},[e]),yn=`/promote/web/delivery?item_id=${Re}&enter_from=video`,kn=!!De.HasPromoteEntry,wn=ti&&jt!==Je,Sn=(0,P.mx)(De),Cn=(0,P.MA)(De),jn=li&&!Be,Tn=st&&!lt&&!un&&!Be&&!Sn&&!Vt,In=zt&&dt&&!un&&!Sn&&!Vt,Pn=Ee||Kt?c.A:u.A,An=(0,r.useMemo)(()=>!(ye&&!Xt&&!$t&&Qt),[Qt,ye,Xt,$t]),Mn=(0,r.useMemo)(()=>{const{video:{bitrate:e=-1,encodedType:i="",format:n="",videoQuality:o="",encodeUserTag:a="",codecType:r="",definition:s=""}={},authorId:l="",id:d="",scheduleTime:c,adLabelVersion:u,poi:p,subVideoMeta:g,logId:_,isAd:m}=null!=De?De:{},h=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},he),pn),{author_id:l,group_id:d,is_scheduled:Boolean(c),bitrate:Number(e),encodedType:i,format:n,videoQuality:o,encodeUserTag:a,codecType:r,definition:s,isPaidPartnership:2===u,poi_id:null==p?void 0:p.id,is_sub_only_video:g?1:0,isReposted:Ye,log_id:_,isAd:m}),Mt&&{enter_method:"creator_tab"}),he&&void 0!==he.index_from_just_watched&&{is_just_watched:he.index_from_just_watched===t}),he&&void 0!==he.index_from_just_watched&&{index_from_just_watched:he.index_from_just_watched-t});return xi.current=h,h},[De,he]),Ln=(0,r.useMemo)(()=>{var e;return Object.assign(Object.assign(Object.assign(Object.assign({},he),Cn),pn),{poi_id:null===(e=null==De?void 0:De.poi)||void 0===e?void 0:e.id,is_sub_only_video:(null==De?void 0:De.subVideoMeta)?1:0})},[he,De,Cn]),Dn=(0,r.useMemo)(()=>({cover:Ze,quality:"720"}),[Ze]),Rn=Boolean(null==Fe?void 0:Fe[0])||Boolean(Be),En=Sn?"photo":"video",{showEndCard:Fn}=(0,Wi.V7)({currentIndex:t,itemListKey:e,nextItem:dn}),Bn=(0,r.useCallback)(e=>{var t,i,n,o;9!==e.keyCode&&(e.preventDefault(),e.stopPropagation(),13===e.keyCode||32===e.keyCode?Yt(!Kt):38===e.keyCode||39===e.keyCode?null===(t=ji.current)||void 0===t||t.seekByDelta($.QI,!1):40===e.keyCode||37===e.keyCode?null===(i=ji.current)||void 0===i||i.seekByDelta(-1*$.QI,!1):36===e.keyCode?null===(n=ji.current)||void 0===n||n.seekByDelta(1,!1):35===e.keyCode&&(null===(o=ji.current)||void 0===o||o.seekByDelta(-1,!1)))},[Kt,Yt]),zn=(0,r.useCallback)((e="click",t)=>{wt.postLikeVideo(Object.assign({id:Je,enter_method:e,media_type:t},he))},[wt,Je,he]),Un=(0,Y.G)({actionWhenUserLoggedIn:zn,modalConfig:{query:{enter_method:"click_like",group_id:Je}},reportClickEvent:()=>{m.O.handleGeneralClick("like",{group_id:Je,play_mode:"browser_mode"})}}),Nn=(0,r.useCallback)(()=>{nn(!0)},[]),Wn=(0,r.useCallback)(()=>{nn(!1)},[]),Vn=(0,r.useCallback)(()=>{en(!0)},[]),Hn=(0,r.useCallback)(()=>{en(!1)},[]),qn=(0,r.useCallback)((e,t="click")=>{e.preventDefault(),e.stopPropagation(),Yt(!Kt,t,Cn)},[Kt,Cn,Yt]),{handleLinkClick:$n,handleClose:Gn,handleCloseCreatorMode:Kn,handleNext:Yn,handlePrev:Zn,togglePlay:Jn,noEditingContent:Xn,showLeaveModal:Qn,handleConfirmLeave:eo,handleCancelLeave:to,handleClickCreatorVid:io}=(0,At.JE)({onCloseBrowserMode:ge,onNextVideo:_e,onPrevVideo:me,pause:di,shouldPause:wn,setPause:e=>{ci(e),bi.current=e},embedVisibleRef:ki,group_id:Je,handleLikeClick:Un,author_id:null==De?void 0:De.authorId,itemListKey:e,onJumpSamePage:ve,isPhotoMode:Sn,photoVideoRef:Ti,photoTeaParams:Cn,setIsShowPhoto:e=>{mi(e)},itemMute:Ee,playerRef:vn}),no=(0,r.useCallback)(()=>{Ii.current=!0,setTimeout(()=>{Ii.current=!1},500)},[]),oo=(0,r.useCallback)(()=>{Ii.current&&(Jn("click_pause"),Ii.current=!1)},[Jn]),ao=(0,Y.G)({actionWhenUserLoggedIn:(0,r.useCallback)(e=>{if(!Ii.current)return;const{clientX:t,clientY:i}=e;new Z.m(t,i).emit(),wt.postLikeVideo(Object.assign(Object.assign({id:Je,forceLike:!0},he),{enter_method:"double_tap"})),Ii.current=!1},[Je,wt,he]),modalConfig:{query:{enter_method:"click_like",group_id:Je}},reportClickEvent:()=>{m.O.handleGeneralClick("like",{group_id:Je,play_mode:"browser_mode"})}}),ro=(0,D.R)(()=>({onClick:oo,onDoubleClick:ao}),[ao,oo]),so=(0,ce.v)({item:De,onShow:O.Gu,useAd:un,play_mode:"browser_mode"}),lo=(0,r.useCallback)(e=>{ki.current=e},[]),co=(0,At.FQ)({handleNext:Yn,handlePrev:Zn,hasNext:tt,currentIndex:t,itemListKey:e,isUiOptimise:!0,isClearModeAB:kt}),uo=(0,r.useCallback)(()=>{clearTimeout(Mi.current),Li.current=0},[]),po=(0,r.useCallback)(e=>{Gn(e),uo()},[Gn,uo]),go=(0,r.useCallback)(e=>{var t;Kn(e),uo(),h.G.handleExitCreatorPage({group_id:Je,author_id:null!==(t=null==Xe?void 0:Xe.id)&&void 0!==t?t:""}),ci(!1)},[Kn,uo,null==Xe?void 0:Xe.id,Je,ci]),_o=(0,r.useCallback)(e=>{if((0,O.Gu)(e),"general_sensitive"===ii){if(Di.current)return;tt?Yn(e):Le>1?Zn(e):Gn(e),v._.handleMaskLayerClickSkip({scenario:"general",group_id:Je}),w.F.open({content:Gt("photosensitive_skepped_toast"),duration:3,widthType:"half"}),Di.current=!0}else Tt.setSkipPhotoSensitive({skip:!1,hasLogin:Boolean(it)}),uo(),v._.handleMaskLayerClickWatch({scenario:"photosensitive",group_id:Je})},[ii,tt,Le,Gt,Yn,Zn,Gn,Tt,uo,Je,it]),mo=(0,r.useCallback)(e=>{if((0,O.Gu)(e),"general_sensitive"===ii)Tt.setHideMaskTempVideoId(Je),uo(),v._.handleMaskLayerClickWatch({scenario:"general",group_id:Je});else{if(Di.current)return;tt?Yn(e):1===Le?(null==it?void 0:it.uid)===(null==De?void 0:De.authorId)&&Gn(e):Zn(e),Tt.setSkipPhotoSensitive({skip:!0,hasLogin:Boolean(it)}),v._.handleMaskLayerClickSkip({scenario:"photosensitive",group_id:Je}),w.F.open({content:Gt("photosensitive_skepped_toast"),duration:3,widthType:"half"}),Di.current=!0}},[ii,Tt,Je,uo,tt,Gt,Yn,Le,null==De?void 0:De.authorId,Gn,Zn,it]),ho=(0,R._g)(e=>{if(Gi.current===Pe)return;e.stopPropagation(),qi.current&&clearTimeout(qi.current),qi.current=window.setTimeout(()=>{Hi.current=0},100);const t=(new Date).getTime(),i=e.wheelDelta||-e.deltaY||-e.detail,n=Math.max(-1,Math.min(1,i)),o=t-$i.current;Hi.current=Hi.current+1,$i.current=t,o>100&&1===Hi.current&&(n<0?Yn(e,"scroll"):Zn(e,"scroll"),Gi.current=Pe)},[Pe,Yn,Zn],20),vo=(0,r.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||so(e)},[]),fo=(0,r.useCallback)(e=>{if(e.preventDefault(),un)return w.F.destroy(),void w.F.open({content:Gt("ad_not_support"),duration:3});const t=[];(null==De?void 0:De.isReviewing)||t.push("link"),Sn?t.push("photo"):(t.push("details"),et||0!==Qe||ze||Ee||Vt||t.push("download"),!document.pictureInPictureEnabled||dt&&zt||t.push("pip")),pt&&fn&&t.push("manage-feed"),it&&!(null==it?void 0:it.hasIMPermission)||(null==De?void 0:De.isReviewing)||t.push("share"),f.Z.handleContextMenu({media_type:En}),Pt({location:{x:e.clientX,y:e.clientY},menuOptions:t,itemId:Je,mediaType:En,videoElement:e.target,playModeForTea:"browser_mode"})},[Je,De,un,Vt,Sn,pt,fn]),yo=(0,r.useCallback)(e=>{var t;Ci.current||9!==e.keyCode||(null===(t=wi.current)||void 0===t||t.setAttribute("tabindex","-1"),Ci.current=!0)},[]),bo=(0,r.useCallback)(e=>{if(!It){if(Vt){const e=Dt(Gt("web_player_TTshopVid_toast"),{durationMs:1e4});return void Ki.current.push(e)}ro(e)}},[It,Vt,ro]),xo=(0,r.useCallback)(e=>{var t;null===(t=vn.current)||void 0===t||t.changeResolution(e),xt?Ft.setDefaultResolution(e.resolution):Ft.setDefaultResolutionAndUpdateLocalStorage(e.resolution),Bt.setVideoActualResolution(e.resolution),y.Y.resolutionChange({play_mode:"browser_mode",group_id:Je,author_id:null==De?void 0:De.authorId},Et,e.resolution)},[vn]),ko=(0,r.useCallback)(()=>{var e;An||null===(e=document.querySelector(`#${Qt}-${t}`))||void 0===e||e.focus()},[t,Qt,An]),wo=(0,r.useCallback)(()=>b.d.handleClickAnalyticsVideoCover(Je),[Je]),So=(0,r.useCallback)(()=>{Ni.f.sendEvent("Promote_entrance_click",{enter_from:"video"})},[]),Co=(0,r.useCallback)(()=>{ci(!0),bi.current=!0},[]),jo=(0,r.useCallback)(e=>{var t;wt.postDislikeVideo({id:Je,author_id:null!==(t=null==De?void 0:De.authorId)&&void 0!==t?t:"",play_mode:"browser_mode"}),Lt.updateDeleteVideo(Je),ci(!1),(0,O.Gu)(e)},[Je,null==De?void 0:De.authorId,wt,Lt,ci]),To=(0,Y.G)({actionWhenUserLoggedIn:jo,modalConfig:{query:{enter_method:"click_dislike",redirect_url:"https://www.tiktok.com",group_id:De.id}},reportClickEvent:()=>{m.O.handleGeneralClick("dislike",{group_id:Je,play_mode:"browser_mode"})}}),Io=(0,r.useCallback)(()=>{w.F.open({content:Gt("Sorry, something went wrong, please try again later"),duration:3}),ge()},[]),{active:Po,handleDismissPanel:Ao,handleMouseMouseEnter:Mo,handleMouseLeave:Lo}=(0,K.rY)();(0,r.useEffect)(()=>{var i;if(un&&"foryou"===e){const e=cn(De),t=cn(ln),n=cn(dn);x.pg.handleShow(Object.assign(Object.assign({},pn),{ad_extra_data:Object.assign(Object.assign({},pn.ad_extra_data),{item_id:Pe,author_id:null!==(i=De.authorId)&&void 0!==i?i:"",start_pos:mn,ad_gap:_n,content_type:e.contentType,room_id:e.roomId,before_content_type:t.contentType,before_item_id:t.itemId,before_room_id:t.roomId,after_content_type:n.contentType,after_item_id:n.itemId,after_room_id:n.roomId})}))}if(Pe&&"foryou"===e){const e=(0,pi.bE)(St,t);k.j.handleVideoContentShow({item_id:Pe,group_id:Oe.id,play_mode:"browser_mode",is_ad:un,duration:We,like_cnt:He.toString(),collect_cnt:qe.toString(),play_cnt:$e.toString(),comment_cnt:Ge.toString(),share_cnt:Ke.toString(),request_id:Ve||"",order:t,following_items:JSON.stringify(Array.isArray(e)?e:[])})}},[Pe,De,ln,dn,t]),(0,At.dD)({author:Xe,item:De,currentIndex:t,itemListKey:e,needUrlDelegate:i,onCloseBrowserMode:ge,disableUpdate:be}),(0,At.Oz)({showLeaveModal:Qn,group_id:Je}),(0,H.Ux)(2),(0,r.useEffect)(()=>{ct||Rt.setAutoScroll(!1)},[ct,ut]),(0,r.useEffect)(()=>(Nt(!0),()=>{Wt()}),[Wt,Nt]),(0,r.useEffect)(()=>{var e,t,i,n,o,a,r,s;De&&(Ht.includes(De.id)||qt.includes(De.id))&&(Sn?(null===(i=null===(t=null===(e=Ti.current)||void 0===e?void 0:e.audio)||void 0===t?void 0:t.pause)||void 0===i||i.call(t),null===(a=null===(o=null===(n=Ti.current)||void 0===n?void 0:n.swiper)||void 0===o?void 0:o.pause)||void 0===a||a.call(o,"other"),ci(!di)):null===(s=null===(r=vn.current)||void 0===r?void 0:r.pause)||void 0===s||s.call(r))},[Ht,qt,Sn,De,di,vn]),(0,r.useEffect)(()=>{var e;(null==De?void 0:De.video)&&!(null==De?void 0:De.isContentClassified)||(ge({fromPopState:be,playProgress:null===(e=vn.current)||void 0===e?void 0:e.currentTime}),(null==De?void 0:De.isContentClassified)&&(w.F.destroy(),w.F.open({content:Gt("cc_webapp_age_video_details_body"),duration:3,widthType:"half"})))},[De,ge,vn,be,Gt]),(0,r.useEffect)(()=>{var e,i,n,o;wn||(null===(i=null===(e=vn.current)||void 0===e?void 0:e.play)||void 0===i||i.call(e),uo()),t!==Pi.current&&(-1!==Pi.current&&(Tt.setHideMaskTempVideoId(""),Ji&&Xi(!1),Di.current=!1),uo(),void 0===Ct&&"photo_sensitive"===Ai.current&&Tt.setSkipPhotoSensitive({skip:!1,hasLogin:Boolean(it)}),ti?("photo_sensitive_denied"===ii?v._.handleShowPhotosensitiveRemoved({group_id:Je}):v._.handleShowMaskLayer({scenario:"general_sensitive"===ii?"general":"photosensitive",group_id:Je}),Mi.current=window.setInterval(()=>{var e,t,i;Li.current++>100&&uo(),(null===(e=Yi.current)||void 0===e?void 0:e.currentCanPlay)&&(null===(i=(t=Yi.current).pause)||void 0===i||i.call(t),uo())},50)):null===(o=null===(n=vn.current)||void 0===n?void 0:n.play)||void 0===o||o.call(n),Pi.current=t,Ai.current=ii)},[ti,wn,Yi,t,ii,Tt,Ct,uo,Ji,jt,Je,Rt,it]),(0,r.useEffect)(()=>{sn(rn+1)},[Re]),(0,r.useEffect)(()=>{kn&&Ni.f.sendEvent("Promote_entrance_show",{enter_from:"video"})},[kn]),(0,r.useEffect)(()=>{ei()},[]),(0,r.useEffect)(()=>{if(Vt){mi(!1);const e=Dt(Gt("web_player_TTshopVid_toast"),{durationMs:1e4});Ki.current.push(e)}return()=>{Ki.current.forEach(e=>{Ot(e)})}},[Vt,Re]),(0,r.useEffect)(()=>{if(!kt)return;yi(!1);const e=setTimeout(()=>{yi(!0)},3e3);return()=>clearTimeout(e)},[kt,t]);const Do=(0,r.useMemo)(()=>(0,n.jsx)(gi.Mu,{onClick:po,onMouseDown:O.dG,needOffset:Zt,isClearModeAB:kt,role:"button","aria-label":Gt("Close"),children:(0,n.jsx)(p.A,{width:18,height:18,fill:"#fff"})}),[po,O.dG,Zt,Gt]);return(null==De?void 0:De.video)?(0,n.jsx)(s.Ay,{disabled:An||Xt,onDeactivation:ko,children:(0,n.jsx)(J.t,{isMobile:!1,onCatchError:Io,componentName:"browser-mode",children:(0,n.jsxs)(gi._P,{tabIndex:0,ref:wi,onKeyDown:yo,role:"dialog","aria-modal":!0,style:{zIndex:fe},children:[Fn&&(0,n.jsx)(bn,{item:dn}),Ut&&(0,n.jsx)(Oi,{playMode:2,item:De}),rt&&(0,n.jsxs)(X.I,{playMode:2,item:De,children:[co,Do]}),!Ut&&!rt&&!Fn&&(0,n.jsxs)(gi.Ii,{withLinearGradientBlueBG:yt,withLinearGradientBlackBG:bt,onWheel:ho,ref:Vi,onClick:bo,onMouseDown:no,onMouseMove:ei,isFullUIVisible:kt&&(di||!fi),children:[(0,n.jsxs)(gi.sh,{useNarrowSearchBar:Mt,isClearModeAB:kt,children:[(0,n.jsx)(gi.TP,{useNarrowSearchBar:Mt}),(0,n.jsx)(F.v,{onBrowserModeClose:Gn,isBrowserMode:!0})]}),!vt&&(0,n.jsx)(gi.cR,{video:Dn,withBlurBG:ht,withLinearGradientBG:ft}),(0,n.jsxs)(gi.iH,{onContextMenu:fo,children:[(0,n.jsx)(On,{itemListKey:e,currentIndex:t,videoPlayerRef:Yi,nextVideoPlayerRef:Zi,videoReportParams:Mn,adjacentVideoIds:xe,noEditingContent:Xn,photoVideoRef:Ti,isShowPhoto:_i,pauseRef:bi,setPause:ci,teaParamsRef:xi,handleNext:Yn}),(0,n.jsx)(vi.Zx,{onMouseDown:O.dG,widerBottom:Rn,children:(0,n.jsx)(gi.II,{children:(0,n.jsx)(Q.S,{playMode:2,item:De})})}),(0,n.jsx)(vi.p5,{onMouseDown:O.dG}),Ht.includes(De.id||"")||qt.includes(De.id||"")?(0,n.jsx)(ee.X,{item:De,zIndex:1,styleContainer:gi.O8,styleMaskTitle:gi.CY,styleMaskDetail:gi.$2,onClickShowVideo:Co}):null,wn&&(0,n.jsx)(de.u,{playMode:2,icon:ai,title:ni,desc:oi,firstButtonText:ri,secondButtonText:si,onClickFirstButton:_o,onClickSecondButton:mo})]}),(di||Vt)&&(0,n.jsx)(gi.rh,{width:70,height:70,fill:"#fff"}),un&&gn&&(0,n.jsx)(hi,{adInfo:Ue,author:Xe,desc:Ne}),!Mt&&Do,Mt&&(0,n.jsx)(gi.Jr,{onClick:go,onMouseDown:O.dG,needOffset:Zt,role:"button","aria-label":Gt("Close"),children:(0,n.jsxs)(gi.F3,{children:[(0,n.jsx)(p.A,{width:18,height:18,fill:"#fff"}),(0,n.jsx)(gi.QN,{children:Gt("pc_web_browser_creatorVid_exit")})]})}),Tn&&(0,n.jsx)(gi.Rq,{onMouseDown:O.dG,widerBottom:Rn,showMiniPlayer:In,children:(0,n.jsx)(A.k,{playMode:"browser_mode",useLargeToggle:!0,item:De})}),In&&(0,n.jsx)(gi.xS,{onMouseDown:O.dG,widerBottom:Rn,isClearModeAB:kt,children:(0,n.jsx)(M.W,{videoId:Re,itemListKey:Mt?"creator_tab":e,useLargeToggle:!0,playMode:2,playModeForTea:"browser_mode",index:t,prevPlayerRef:Yi})}),(0,n.jsxs)(gi.oK,{widerBottom:Rn,isClearModeAB:kt,onMouseEnter:Vn,onMouseLeave:Hn,onMouseDown:O.dG,children:[!Ee&&(Qi||on||tn)?(0,n.jsx)(Si,{teaParams:Cn,setVolumeDragging:an,ref:ji}):null,(0,n.jsx)(gi.kn,{onClick:qn,onKeyDown:Bn,onFocus:Nn,onBlur:Wn,widerBottom:Rn,tabIndex:0,role:"button","aria-label":Gt("pc_web_volume_btn"),children:(0,n.jsx)(Pn,{width:40,height:40,fill:"none"})})]}),co,hn||_t?(0,n.jsxs)(gi.es,{tabIndex:0,onMouseEnter:Mo,onMouseLeave:Lo,onClick:O.dG,isClearModeAB:kt,children:[(0,n.jsx)(l.A,{width:24,height:24}),(0,n.jsx)(te._,{itemId:Je,authorId:null!==(Ie=null==De?void 0:De.authorId)&&void 0!==Ie?Ie:"",active:Po,isBrowserMode:!0,playModeForTea:"browser_mode",showNotInterested:hn,onDismissPanel:Ao,onClickReport:so,onClickNotInterested:hn?To:void 0,onSelectResolution:xo})]}):(0,n.jsxs)(gi.lG,{onClick:so,role:"button","aria-label":Gt("pc_web_report_btn"),tabIndex:0,onKeyDown:vo,id:"browser-mode-report-btn",children:[(0,n.jsx)(gi.fJ,{width:16,height:15}),Gt("Report")]}),(0,n.jsxs)(gi.RK,{children:[jn&&(0,n.jsxs)(gi.jc,{href:mt,target:Jt?"_blank":"_self",onClick:wo,children:[(0,n.jsx)(g.A,{width:20,height:20,fill:"#fff",style:{marginInlineEnd:"6px"}}),Gt("view_analytics")]}),kn&&(0,n.jsxs)(gi.jc,{href:yn,target:Jt?"_blank":"_self",onClick:So,children:[(0,n.jsx)(d.A,{width:20,height:20,fill:"#fff",style:{marginInlineEnd:"6px"}}),Gt("Promote_web_entrance_video")]})]}),(null==Fe?void 0:Fe[0])&&(0,n.jsx)(gi.zm,{children:(0,n.jsx)(ie.Q,{info:Fe[0]})}),Boolean(Be)&&(0,n.jsx)(gi.zm,{children:(0,n.jsx)(ne.Z,{isTextAlignStart:!0,scheduledTime:Number(Be),height:56,fontSize:14,iconSize:18.33,iconMargin:4.83})})]}),(0,n.jsx)(ui,{item:De,onBrowserModeClose:Gn,prefetchId1:Ae,prefetchId2:Me,teaParams:Ln,onLinkClick:$n,onEmbedVisibleChange:lo,videoReportParams:Mn,onClose:Gn,itemListKey:e,handleClickCreatorVid:io,videoCount:rn}),(0,n.jsx)(Se,{visible:Qn,needLeaveCheck:!Xn,onConfirmLeave:eo,onCancelLeave:to})]})})}):(0,E.d)(["item.video"])}),En=Rn},43629:(e,t,i)=>{"use strict";i.d(t,{F:()=>w});var n,o=i(40099),a=i(60031),r=i(48083),s=i(72516),l=i(71510),d=i.n(l),c=i(59243),u=i(93459),p=i(56581),g=i(67083),_=i(24806),m=i(98390);!function(e){e.Flv="flvlive",e.Hls="hlslive"}(n||(n={}));var h=i(36478);class v extends h.Ay{static get pluginName(){return"live-error"}static get defaultConfig(){return{retryDelay:2e3,retryCount:3}}afterCreate(){let e=!1;const t=function(e,t){var i,n;const o=null!==(i=t.config.retryDelay)&&void 0!==i?i:3e3,a=null!==(n=t.config.retryCount)&&void 0!==n?n:3;let r=!1;return()=>(0,s.__awaiter)(this,void 0,void 0,function*(){if(r)return;r=!0;let t=a;for(;t>0&&(t--,yield new Promise(e=>window.setTimeout(e,o)),!(yield e())););r=!1})}(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){return!!e||(this.player.retry(),!1)}),this.player);this.player.on(g.PLAYING,()=>{e=!0}),this.player.on(g.PAUSE,()=>{e=!1}),this.player.on(g.LOADED_DATA,()=>{e=!0}),this.player.on(g.ENDED,t)}}const f={lang:"en",width:"100%",height:"100%",url:"",debug:0,autoplay:!0,autoplayMuted:!1,closeVideoClick:!0,closeVideoDblclick:!0,keyboard:{disable:!0},keyShortcut:!1,plugins:[],flvlive:{seamlesslyReload:!0,retryDelay:1,retryCount:2}};var y=i(89009),b=i(27421),x=i(74908),k=i(78223);const w=e=>{const{url:t,drmSecretKey:n,defaultMuted:l,playing:h,autoplay:w=!1,autoMutedPlay:S=!1,loggerConfig:C,playerContainerRef:j,enableH265ErrorDetected:T=!1,onHEVCDecodeError:I,onPlaying:P,onMutedChange:A,onPlay:M,onLoadedData:L,onLoading:D,onPause:O,onPlayError:R,onSeiParsed:E,onStreamEnd:F}=e,B=(0,o.useRef)(),{mutedPlay:z,registerAutoplayPreventRef:U}=(0,r.P)({autoplay:w,autoMutedPlay:S}),{handlePlayerSeiParsed:N}=function(e){const{player:t,containerRef:i,handleSeiParsed:n}=e,a=(0,o.useRef)();return{handlePlayerSeiParsed:(0,o.useCallback)(e=>{var o;if(n&&100===(null==e?void 0:e.code))try{a.current||(a.current=new TextDecoder("utf-8"));let r=a.current.decode(e.content);(0,x.JN)(r,"seiString"),r=(0,k.Sh)(r);const s=JSON.parse(r),l=Object.assign(Object.assign({},s),{app_data:s.app_data?JSON.parse(s.app_data):null});(0,x.JN)(l,"parsedSeiContent"),null==n||n(l,i.current,null===(o=t.current)||void 0===o?void 0:o.video)}catch(e){(0,x.JN)(e,"parsedSeiContentError","error"),console.error(e)}},[i,n,t])}}({player:B,containerRef:j,handleSeiParsed:E}),{playerIsPlaying:W,loading:V,registerPlayerEventsRef:H}=(0,y.Z)({onPlay:M,onPlaying:P,onPause:O,onLoading:D,onLoadedData:L,onPlayError:R,onStreamEnd:F,onSeiParsed:N}),{isPlayerInit:q,handlePlayerDestroy:$}=function(e){const{url:t,drmSecretKey:n,player:a,init:r=!0,autoplay:l=!1,defaultMuted:h,e2eLowDelay:y,e2eLowDelayPreloadTime:b,enableH265ErrorDetected:x=!1,onAutoPlayMuted:k,playerContainerRef:w,onHEVCDecodeError:S,onPlayerStartInit:C,onPlayerInited:j,onPlayerInitErr:T,registerPlayerErrorsRef:I,registerPlayerEventsRef:P,registerAutoplayPreventRef:A}=e,M=(0,o.useRef)(!1),L=(0,o.useRef)(""),D=(0,o.useRef)(null!=h&&h),[O,R]=(0,o.useState)(!1),E=(0,o.useRef)(null),{loadPlayerPlugin:F}=function(e){const{player:t,dynamicBg:n,url:a,e2eLowDelay:r}=e,l=(0,o.useMemo)(()=>null==a?void 0:a.includes(".flv"),[a]),d=(0,o.useMemo)(()=>null==a?void 0:a.includes(".m3u8"),[a]),c=(0,o.useMemo)(()=>"undefined"!=typeof navigator&&/(iPad|iPhone|iPod)/g.test(navigator.userAgent),[]),u=(0,o.useRef)(0),p=(0,o.useCallback)(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){if(n)return(yield i.e(895).then(i.bind(i,53453))).default}),[n]),g=(0,o.useCallback)(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){return d&&!c?(yield i.e(5817).then(i.bind(i,31146))).default:m.Ay}),[d,c]),_=(0,o.useCallback)(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){if(null==r?void 0:r.openLowDelay){const{Adaptive:e}=yield i.e(5383).then(i.bind(i,45627));return e}}),[r]),h=(0,o.useCallback)(e=>{const i=t.current;if(i&&(i.plugins.hlsLive||i.plugins.flvLive)){const t=i.registerPlugin(e);t.beforePlayerInit(),t.autoPlayStarted=!0}},[t]),v=(0,o.useCallback)(e=>{const i=t.current;(null==i?void 0:i.plugins[e])&&i.unRegisterPlugin(e)},[t]),f=(0,o.useCallback)(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){const e=t.current,i=Boolean(null==e?void 0:e.plugins.hlslive),n=Boolean(null==e?void 0:e.plugins.flvlive);if(n&&l||i&&d)return;const o=yield g();return i?v("hlslive"):n&&v("flvlive"),yield new Promise(e=>{u.current&&clearTimeout(u.current),u.current=window.setTimeout(()=>{o&&h(o),e()})})}),[t,l,d,g,v,h]);return{loadDynamicBgPlugin:p,loadPlayerPlugin:g,loadAdaptivePlugin:_,switchPlugin:f}}({player:a,url:t,e2eLowDelay:y}),{loadBlackscreenPlugin:B,registerDetectEvents:z}=function(e){const{onHEVCDecodeError:t}=e,n=e=>{t&&(e.on("detectedblackscreen",()=>{console.error("[player] detectedblackscreen hevc error"),t("-11","detectedblackscreen error")}),e.on(g.ERROR,e=>{var i,n,o,a;const r=null!==(i=null==e?void 0:e.message)&&void 0!==i?i:e.ex,s=null!==(a=null!==(o=null===(n=null==e?void 0:e.mediaError)||void 0===n?void 0:n.code)&&void 0!==o?o:null==e?void 0:e.code)&&void 0!==a?a:null==e?void 0:e.name;(0,_.$l)(Number(s))&&(console.error("[player] hevc error",e),t(s,r))}))},a=(0,o.useRef)(n);return a.current=n,{loadBlackscreenPlugin:()=>(0,s.__awaiter)(this,void 0,void 0,function*(){var e;if(null===(e=navigator.userAgent.match(/Chrom[e|ium]\/([0-9]+)/))||void 0===e?void 0:e[1]){const{BlackScreenProbe:e}=yield i.e(5383).then(i.bind(i,45627));return e}return null}),registerDetectEvents:a}}({onHEVCDecodeError:S}),U=(0,o.useCallback)(e=>(0,s.__awaiter)(this,void 0,void 0,function*(){e&&!E.current&&(E.current=(yield i.e(5383).then(i.bind(i,26299))).default)}),[]),N=(0,o.useCallback)(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){if(!t||!w.current)return Promise.reject(new Error("lack of necessary parameters"));const e=[l?(0,u.O1)():Promise.resolve(!0),U(n),x?B():Promise.resolve(null),Promise.resolve(v),F()],[i,...o]=yield Promise.all(e),a=D.current||!i,r=o.filter(e=>Boolean(e));return(e=>{if(!e.id&&!e.el)throw new Error("dom instance or id is required!");return d()({},f,e)})({url:(0,u.X$)((null==y?void 0:y.openLowDelay)?(0,u.SX)(t,y.urlParams):t),autoplay:l,autoplayMuted:a,el:w.current,plugins:r,retryDelay:2e3,retryCount:3,flvlive:Object.assign(Object.assign({},b),{loadTimeout:1e4,seiOnDemand:!0,seamlesslyReload:!0})})}),[t,n]),W=(0,o.useCallback)(()=>{a.current&&(a.current.destroy(),a.current=void 0,M.current=!1,R(!1))},[a]),V=(0,o.useCallback)(()=>{null==C||C()},[C]),H=(0,o.useCallback)(()=>{null==T||T()},[T]),q=(0,o.useCallback)(()=>{O||(null==j||j(),R(!0))},[j,O]),$=(0,o.useCallback)(()=>(0,s.__awaiter)(this,void 0,void 0,function*(){var e,i;if(t&&w.current&&!a.current){const t=yield N().catch(()=>{});if(n&&t&&(t.flvlive?(t.flvlive.keyStr=n,t.flvlive.Decryptor=E.current):t.flvlive={keyStr:n,Decryptor:E.current}),t){const n=new c.Ay(t);a.current=n,L.current=t.url,z.current(n),null==A||A.current(n),null===(e=null==P?void 0:P.current)||void 0===e||e.call(P,n),null===(i=null==I?void 0:I.current)||void 0===i||i.call(I,n),t.autoplayMuted&&(null==k||k())}}}),[t,n,w,a,N,A,P]);return(0,o.useEffect)(()=>{a.current||M.current||!t||!r||O||(M.current=!0,V(),$().then(()=>{q(),R(!0)}).catch(e=>{console.error(e),M.current=!1,H()}))},[t,r,O,$]),(0,o.useEffect)(()=>()=>{var e;null===(e=a.current)||void 0===e||e.destroy(),a.current=void 0,R(!1)},[]),(0,p.S)(()=>{var e;null===(e=a.current)||void 0===e||e.destroy(),a.current=void 0}),(0,o.useEffect)(()=>{var e,i;if(!O)return void(L.current="");let o=!1;const r=a.current;let l=(0,u.X$)((null==y?void 0:y.openLowDelay)?(0,u.SX)(null!=t?t:"",null==y?void 0:y.urlParams):t);if(L.current=null!==(e=L.current)&&void 0!==e?e:null==r?void 0:r.config.url,L.current&&l&&(o=(0,u.Kd)(l,L.current)),r&&!o&&l){const e=null===(i=r.plugins)||void 0===i?void 0:i.flvlive;if(n?(()=>{(0,s.__awaiter)(this,void 0,void 0,function*(){yield U(n),e.config.keyStr=n,e.config.Decryptor=E.current})})():e.config.keyStr="",!n&&(0,u.i7)(l,L.current))return L.current=l,void(r.src=l);a.current?(a.current.destroy(),a.current=void 0,M.current=!1,R(!1)):(L.current=l,r.src=l)}},[O,a,t,n,y]),{isPlayerInit:O,handlePlayerDestroy:W}}({url:t,drmSecretKey:n,autoplay:w,defaultMuted:!!z||l,enableH265ErrorDetected:T,onHEVCDecodeError:I,onMutedChange:A,player:B,playerContainerRef:j,registerPlayerEventsRef:H,registerAutoplayPreventRef:U});return(0,b.a)({player:B,isPlayerInit:q,autoplay:w,playing:h}),(0,a.i)({isPlayerInit:q,loggerConfig:C,player:B}),{playerIsPlaying:W,xgplayer:B,mutedPlay:z,loading:V,handlePlayerDestroy:$}}},43736:(e,t,i)=>{"use strict";i.d(t,{w:()=>a});var n=i(40099),o=i(72355);function a(){const e=(0,o.W6)();return(0,n.useCallback)((t,{href:i,state:n,shouldUsePush:o})=>{o&&(t.preventDefault(),e.push(i,n))},[e])}},43738:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var n=i(40099),o=i(20434),a=i(38559);function r({active:e,isBrowserMode:t,isFatal:i,isEnd:r,handlePauseReport:s,handlePlayReport:l,handlePlayingReport:d,handleLeaveReport:c,volumeProps:u,handleStreamResume:p}){const{volume:g,mute:_,onGlobalVolumeChange:m,onGlobalMuteChange:h}=u,[v,f]=(0,n.useState)(100*g),[y,b]=(0,n.useState)(_),[x,k]=(0,n.useState)(!1),[w,S]=(0,n.useState)(null!=e&&e),C=(0,n.useRef)(w),[j,T]=(0,n.useState)(t),I=(0,n.useMemo)(()=>Boolean(x||j)||Boolean(t),[j,t,x]),P=(0,n.useMemo)(()=>Boolean(x),[x]),{recordingInitTime:A,sendFirstFrameDuration:M}=(0,a.T)(),L=(0,n.useCallback)(()=>{k(!0),T(!1)},[]),D=(0,n.useCallback)(()=>{i||r||S(!0)},[r,i]),O=(0,n.useCallback)(()=>{i||r||setTimeout(()=>S(!0),200)},[r,i]),R=(0,n.useCallback)(()=>{i||r||S(!1)},[r,i]),E=(0,n.useCallback)(()=>{l(),C.current=!0},[l]),F=(0,n.useCallback)(()=>{s(),C.current=!1},[s]),B=(0,n.useCallback)(()=>{d(),p(),M()},[d]);(0,n.useEffect)(()=>{i||r||(e&&!C.current?(S(!0),A()):!e&&C.current&&(c(),S(!1)))},[e,c,r,i]);const z=(0,n.useCallback)(()=>{_&&T(!0),k(!1)},[_]),U=(0,n.useCallback)(e=>{b(e),T(e),null==h||h(e)},[h]),N=(0,n.useCallback)(e=>{f(e),T(0===e),null==m||m(e/100)},[m]);return(0,n.useEffect)(()=>{if(e){const e=(0,o.Gz)(()=>{S(!1)},()=>{S(!0)});return()=>{e()}}},[e]),(0,n.useEffect)(()=>()=>{e&&C.current&&c()},[e,c]),(0,n.useEffect)(()=>{e&&(f(100*g),b(_))},[e,_]),{playing:w,defaultVolume:v,defaultMuted:y,showPlayControls:P,showVolumeIcon:I,handlePlay:E,handlePause:F,handleClickRetry:O,handleClickPlay:D,handleClickPause:R,handleMouseEnter:L,handleMouseLeave:z,handleMutedChange:U,handleVolumeChange:N,handlePlaying:B}}},43775:(e,t,i)=>{"use strict";i.d(t,{RW:()=>m,TF:()=>b,eX:()=>h,lV:()=>x,yT:()=>d});var n=i(71111),o=i(64388),a=i(35626),r=i.n(a),s=i(64765),l=i(20434);const d=5e3,c=(0,n.atom)(JSON.parse((0,l.Hd)("fyp_live_survey")||"{}")),u=(0,n.atom)(e=>e(c),(e,t,i)=>{const n=e(c),o="function"==typeof i?i(n):Object.assign(Object.assign({},n),i);var a;r()(n,o)||(t(c,o),a=o,(0,l.J2)("fyp_live_survey",JSON.stringify(a)))});u.debugLabel="LiveSurveyPersistedAtom";const p=(0,n.atom)(!1),g=(0,n.atom)(e=>e(p),(e,t,i)=>{const n=e(p);if(!r()(n,i)){t(p,i);const n=(0,s.ev)();e(p)?(n.changeCurrentType(s.RD.LiveSurvey),t(u,{hasShownLiveSurvey:!0})):n.changeCurrentType(s.RD.None)}});g.debugLabel="liveSurveyShowAtom";const{useAtomService:_,useServiceDispatchers:m,useServiceState:h,getStaticApi:v}=(0,o.i)(g,(e,t)=>({handleShowLiveSurvey(e){t(g,e)}})),{useAtomService:f,useServiceDispatchers:y,useServiceState:b,getStaticApi:x}=(0,o.i)(u,(e,t)=>({handleSkipLive(i){const{anchorId:n,roomId:o}=i,{hasShownLiveSurvey:a=!1,skippedLiveCount:r=0,skippedLiveAnchorId:s=[],skippedLiveRoomId:l=[]}=e(u);a||r>=2||l.includes(o)||(t(u,{skippedLiveCount:r+1,skippedLiveAnchorId:[...s,n],skippedLiveRoomId:[...l,o]}),1===r&&v().handleShowLiveSurvey(!0))}}))},43799:(e,t,i)=>{"use strict";i.d(t,{DL:()=>_,HW:()=>m,dp:()=>p,sk:()=>g});var n=i(40099),o=i(96406),a=i(73995),r=i(17947),s=i(37783),l=i(30641),d=i(16356),c=i(61198),u=i(89768);function p({itemId:e,cid:t,onShow:i}){var n;const{language:o}=(0,u.x)(),a=(0,s.F3)(t=>{var i,n;return null!==(n=null===(i=t[e])||void 0===i?void 0:i.author)&&void 0!==n?n:""},c.bN),p=(0,l.Tq)(e=>e[t],c.bN),g=(0,d.nW)(e=>{var t,i;return null===(i=e.users[null!==(t=null==p?void 0:p.user)&&void 0!==t?t:""])||void 0===i?void 0:i.secUid},c.bN),_=(0,s.F3)(t=>t[e],c.bN),m=(0,d.nW)(e=>{var t;return e.users[null!==(t=null==_?void 0:_.author)&&void 0!==t?t:""]},c.bN),{handleShowReport:h}=(0,r.Ah)({onShow:i,reportTarget:{lang:o,report_type:"comment",comment_with_emoji:/\[(\w+)\]/g.test(null!==(n=null==p?void 0:p.text)&&void 0!==n?n:"")?1:0,object_id:t,owner_id:null!=g?g:"",object_owner_id:null!=g?g:"",video_owner_id:a,video_id:e,video_owner:m}});return h}function g(){return{handleShowReport:(0,n.useCallback)(({word:e,id:t,wordId:i,logId:n,searchPosition:r,enterFrom:s})=>{const l={search_position:r,video_page_type:"browser_mode",enter_group_id:t,enter_from:s,words_source:"comment_related_search",previous_page:o.f.commonParams.previous_page,impr_id:null!=n?n:""};a.$G.handleTrendingShow(Object.assign({words_num:1,raw_query:""},l)),a.$G.handleTrendingWordsShow(Object.assign({words_content:e,words_position:0,group_id:i,words_type:""},l))},[]),handleClickReport:(0,n.useCallback)(({word:e,id:t,wordId:i,logId:n,searchPosition:r,enterFrom:s})=>{a.$G.handleTrendingWordsClick({enter_from:s,words_source:"comment_related_search",words_content:e,previous_page:o.f.commonParams.previous_page,words_position:0,enter_group_id:t,group_id:i,impr_id:null!=n?n:"",words_type:"",search_position:r,video_page_type:"browser_mode"})},[])}}function _(){return{handleShowReport:(0,n.useCallback)(({id:e,word:t,wordId:i})=>{a.$G.handleCommentRelatedSearchBoardShow({enter_group_id:e,board_type:"pc",group_id:i,words_content:t})},[]),handleClickReport:(0,n.useCallback)(({id:e,word:t,wordId:i,detail:n})=>{a.$G.handleCommentRelatedSearchBoardClick({enter_group_id:e,board_type:"pc",group_id:i,words_content:t,click_detail:n})},[])}}function m(){return{handleShowReport:(0,n.useCallback)(e=>{const{words_content:t,comment_id:i,enter_group_id:n,video_page_type:r,impr_id:s,group_id:l,search_position:d,enter_from:c}=e;a.$G.handleTrendingWordsShow({enter_from:c,search_position:d,words_source:"comment_highlighted_words",words_content:t,previous_page:o.f.commonParams.previous_page,comment_id:i,enter_group_id:n,video_page_type:r,page_name:o.f.commonParams.page_name,impr_id:s,group_id:l})},[]),handleClickReport:(0,n.useCallback)(e=>{const{words_content:t,comment_id:i,enter_group_id:n,video_page_type:r,impr_id:s,group_id:l,search_position:d,enter_from:c}=e;a.$G.handleTrendingWordsClick({enter_from:c,search_position:d,video_page_type:r,words_source:"comment_highlighted_words",words_content:t,enter_group_id:n,previous_page:o.f.commonParams.previous_page,comment_id:i,page_name:o.f.commonParams.page_name,impr_id:s,group_id:l})},[])}}},43887:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>_,Rj:()=>g,_u:()=>m});var n=i(40099),o=i(52409),a=i.n(o),r=i(98885),s=i.n(r),l=i(28638),d=i(45375),c=i(90976),u=i(69857),p=i(89768);const g=150;function _(e,t){var i,n,o,a,r,c,u,m;const{defaultPath:h="",featureParams:v}=null!=t?t:{};if(s()(e))return h;const f="v1"===(null==v?void 0:v.photomodeVid);if(null===(i=e.author)||void 0===i?void 0:i.uniqueId){const i=e;return _({uniqueId:null===(n=i.author)||void 0===n?void 0:n.uniqueId,secUid:null===(o=i.author)||void 0===o?void 0:o.secUid,videoId:i.id,isPhotomode:void 0!==i.imagePost},t)}if(e.authorId){const i=e;return _({uniqueId:i.author,secUid:i.authorSecId,videoId:i.id,isPhotomode:void 0!==i.imagePost},t)}if(e.at){const t=e,i=(null===(a=t.at.aweme)||void 0===a?void 0:a.aweme_type)===g&&f?"photo":"video";return`/@${null===(r=t.at.aweme)||void 0===r?void 0:r.author.uid}/${i}/${null===(c=t.at.aweme)||void 0===c?void 0:c.aweme_id}`}if(e.comment){const t=e,i=(null===(u=t.comment.aweme)||void 0===u?void 0:u.aweme_type)===g&&f?"photo":"video";return`/@${t.comment.aweme.author.uid}/${i}/${t.comment.aweme.aweme_id}`}if(e.digg){const t=e,i=(null===(m=t.digg.aweme)||void 0===m?void 0:m.aweme_type)===g&&f?"photo":"video";return`/@${t.digg.aweme.author.uid}/${i}/${t.digg.aweme.aweme_id}`}if(e.template_notice){const t=function(e){var t,i,n,o,a,r;const s=null===(t=e.template_notice.extra_data)||void 0===t?void 0:t.nudge_info,l=e.template_notice.notice;let{aweme_id:d,author_id:c,cover_url:u,aweme_type:_}=null!=s?s:{};if(u||(u=null===(n=null===(i=null==l?void 0:l.image_url)||void 0===i?void 0:i.url_list)||void 0===n?void 0:n[0]),d||(d=null===(a=null===(o=null==l?void 0:l.right_schema_url)||void 0===o?void 0:o.match(/\/detail\/(\d+)/))||void 0===a?void 0:a[1]),!c&&302===e.type){const{user:e}=(0,p.x)();c=null==e?void 0:e.uid}return{isPhotoMode:_===g||null!==(r=null==u?void 0:u.includes("photomode"))&&void 0!==r&&r,awemeId:d,authorId:c,coverUrl:u}}(e),i=t.isPhotoMode&&f?"photo":"video";return`/@${t.authorId}/${i}/${t.awemeId}`}if(e.owner_id&&e.object_id){const i=e;return _({uniqueId:i.owner_id,videoId:i.object_id,isPhotomode:i.aweme_type===g},t)}const{uniqueId:y,secUid:b,videoId:x,isPhotomode:k}=e,w=(0,d.l3z)({uniqueId:y,secUid:b});return w&&x?k&&f?l.Lj.photo({uniqueId:w,id:x}):l.Lj.video({uniqueId:w,id:x}):h}function m(){const e=function(){var e,t;const{abTestVersion:i,botType:n}=(0,u.L$)((0,c.W)(()=>["abTestVersion","botType"],[]));return"others"===n?null!==(t=null===(e=null==i?void 0:i.parameters.webapp_seo_photomode_user_exp)||void 0===e?void 0:e.vid)&&void 0!==t?t:"v0":"v1"}();return(0,n.useCallback)((t,i)=>_(t,a()({featureParams:{photomodeVid:e}},i)),[e])}},44181:(e,t,i)=>{"use strict";i.d(t,{q:()=>w});var n=i(69857),o=i(90976),a=i(70589),r=i(29188),s=i(21115),l=i(40099),d=i(86599),c=i(57304),u=i(74298),p=i(20434);i(97517);const g="webapp_popup_ppf_personalization_toast";var _=i(72516),m=i(71111),h=i(64388),v=i(35762);const f={isPPFInitialized:!1,isNonPersonalized:!1},y=(0,m.atom)(f);y.debugLabel="ppfAtom";const{useAtomService:b,useServiceState:x,useServiceDispatchers:k}=(0,h.i)(y,(e,t)=>({setPPFState(e){t(y,t=>Object.assign(Object.assign({},t),e))},setIsNonPersonalization(e){t(y,t=>Object.assign(Object.assign({},t),{isNonPersonalized:e}))},setIsPPFInitialized(e){t(y,t=>Object.assign(Object.assign({},t),{isPPFInitialized:e}))}})),w=()=>{(0,c.E)();const e=(0,n.L$)((0,o.W)(()=>["user","abTestVersion"],[])),t=(0,d.Qi)(),i=(0,a.BI)(),[{isNonPersonalized:m,isPPFInitialized:h}]=(()=>{const e=x(),t=k(),i=(0,n.L$)((0,o.W)(()=>["user","abTestVersion"],[])),{user:{uid:r=""}={}}=i,s=(0,a.BI)();return(0,l.useEffect)(()=>{r&&!e.isPPFInitialized&&(s||(0,_.__awaiter)(void 0,void 0,void 0,function*(){const e=yield((e,t)=>(0,_.__awaiter)(void 0,void 0,void 0,function*(){const i=yield(e=>(0,_.__awaiter)(void 0,void 0,void 0,function*(){return v.h.post("/tiktok/ppf/api/eligibility/v1",{body:JSON.stringify({uid:e}),baseUrlType:2,headers:{}})}))(e),n=0===i.status_code&&"object"==typeof i.eligibility_list&&i.eligibility_list.length>0&&i.eligibility_list.some(e=>"ca_no_personalized_go_rule"===e.id_value&&e.is_eligible);return Object.assign(Object.assign({},t),{isNonPersonalized:n})}))(r,f);t.setPPFState(Object.assign(Object.assign({},e),{isPPFInitialized:!0}))}))},[r,e.isPPFInitialized,t,s]),[e]})(),y=!1===(0,c._K)("personalized_feeds"),b=(0,u.$)(),w=i?b:h,S=i?y:m,{abTestVersion:C,user:{uid:j=""}={}}=e,T=(0,r.Vq)(!0),I=(0,r.Vq)(),P=(0,r.Vq)(void 0,!0),A=(e,i=!0)=>{const n=!e;i&&(T(n),I(n),P(n)),t.setIsSearchPersonalized(n),t.setIsFeedPersonalized(n)},M=((e,t)=>{const i=(0,r.o0)(!t);return(0,l.useEffect)(()=>{e&&(0,p.Hd)(g,void 0)&&((0,p.X)(g),i())},[e,i]),()=>{e&&(0,p.J2)(g,"1")}})(Boolean(j&&w),S);(0,l.useEffect)(()=>{if(!j||!w)return;const e=(0,s.Sw)(j),t=(0,s.mx)(C,j);S!==e?(A(S),setTimeout(()=>{M(),window.location.reload()},100)):e&&t&&A(t,!1)},[j,C,S,w])}},44193:(e,t,i)=>{"use strict";i.d(t,{W:()=>o,X:()=>a});var n=i(13657);const o=e=>{var t;return-1!==(null!==(t=n.v7.getItem("has_use_seek_bar"))&&void 0!==t?t:[]).indexOf(e)},a=e=>{var t;const i=null!==(t=n.v7.getItem("has_use_seek_bar"))&&void 0!==t?t:[];-1===i.indexOf(e)&&i.push(e),n.v7.setItem("has_use_seek_bar",i)}},44344:(e,t,i)=>{"use strict";i.d(t,{gw:()=>P,uU:()=>I,xP:()=>T});var n=i(40099),o=i(23542),a=i(69857),r=i(90976),s=i(61322),l=i(61198),d=i(70589),c=i(20434),u=i(71111),p=i(64388),g=i(35626),_=i.n(g),m=i(64765);const h=1/0,v=(0,u.atom)(JSON.parse((0,c._S)("PC_APP_SURVEY")||"{}")),f=(0,u.atom)(e=>e(v),(e,t,i)=>{const n=e(v),o="function"==typeof i?i(n):Object.assign(Object.assign({},n),i);var a;_()(n,o)||(t(v,o),a=o,(0,c.AP)("PC_APP_SURVEY",JSON.stringify(a)))});f.debugLabel="surveyPersistedAtom";const y=(0,u.atom)(!1),b=(0,u.atom)(-1),x=(0,u.atom)(!1),k=(0,u.atom)({link:"",shouldShowSurvey:!1}),w=(0,u.atom)(e=>({surveyPopActive:e(y),surveyConfig:e(k),initialized:e(x)}),(e,t,i)=>{const n=(0,m.ev)();t(y,i),e(y)?(o.o.handleSurveyPopupShow(),n.changeCurrentType(m.RD.SurveyEntrance),t(f,e=>{var t;return{count:(null!==(t=e.count)&&void 0!==t?t:0)+1,hasShown:!0}})):n.changeCurrentType(m.RD.None)});w.debugLabel="surveyAtom";const{useAtomService:S,useServiceDispatchers:C,useServiceState:j}=(0,p.i)(w,(e,t)=>({startTimeout(){e(x)||(t(x,!0),o.o.handleSurveyIconShow());const i=e(b),{hasShown:n,count:a=0}=e(f);!n&&-1===i&&a<h&&t(b,window.setTimeout(()=>t(w,!0),3e4))},clearTimeout(){const i=e(b);window.clearTimeout(i),t(b,-1)},setSurveyPopActive(e){t(w,e)},setSurveyConfig(e){t(k,e)}}));function T(){const[{surveyPopActive:e},{setSurveyPopActive:t,startTimeout:i,clearTimeout:a}]=S(e=>({surveyPopActive:e.surveyPopActive}),l.bN),r=(0,n.useCallback)(()=>{o.o.handleSurveyCloseClick(),t(!1)},[]),s=(0,n.useCallback)(()=>{o.o.handleSurveyIconClick(),t(e=>!e),a()},[]),d=(0,n.useCallback)(()=>{o.o.handleSurveyCtaClick(),t(!1)},[]);return(0,n.useEffect)(()=>{i()},[]),{surveyPopActive:e,handleToggleShow:s,handleHideSurvey:r,handleClickCTA:d}}function I(){var e,t;const{user:i}=(0,a.L$)((0,r.W)(()=>["user"],[])),o=null!==(e=null==i?void 0:i.hasLivePermission)&&void 0!==e&&e,{config:l}=(0,a.L$)((0,s.U)(()=>["config"],[])),{desktopWebSurveyLink:c}=(0,a.L$)(l),u=C(),{shouldShowSurvey:p,isNewUser:g}=(0,d.wX)(),_=null!==(t=null==c?void 0:c[g?"new":"old"])&&void 0!==t?t:"",m=p&&o;return(0,n.useEffect)(()=>{u.setSurveyConfig({link:_,shouldShowSurvey:m})},[u,_,m]),{link:_,shouldShowSurvey:m}}const P=()=>j(e=>e.surveyConfig.link,l.bN)},44955:(e,t,i)=>{"use strict";i.d(t,{T:()=>C});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(340),l=i(8536),d=i(62564),c=i(24451),u=i(23999),p=i(74690),g=i(80339),_=i(26324),m=i(28439),h=i(98923),v=i(7672),f=i(77194),y=i.n(f),b=i(20259),x=i(44094);let k=class{constructor(e){this.fetch=e}getComplianceSettings(){return this.fetch.get("/api/compliance/settings/",{query:{aid:1988,fromWeb:1}}).pipe(this.errorHandler)}validateAge(e,t){return this.fetch.post("https://www.tiktok.com/api/v3/register/verification/age/",Object.assign({body:y().stringify({fromWeb:1,source:"web",session_registered:1,update_birthdate_type:1,birthday:e,tt_csrf_token:this.fetch.csrfToken})},t&&{query:{reg_store_region:t}})).pipe(this.errorHandler)}errorHandler(e){return e.pipe((0,b.W)(e=>(0,u.of)(Object.assign({error_code:e.error_code||-1},e))))}};var w,S;k=(0,n.__decorate)([(0,v._)(),(0,n.__metadata)("design:paramtypes",[x.p])],k),function(e){e[e.PASS=0]="PASS",e[e.FTC=1]="FTC",e[e.NormalThreshold=2]="NormalThreshold"}(w||(w={})),function(e){e[e.YoungerThan1=3008010]="YoungerThan1",e[e.YoungerThan2=3008012]="YoungerThan2",e[e.YoungerThan3=3008008]="YoungerThan3",e[e.OlderThan123=3008011]="OlderThan123",e[e.Empty=3008009]="Empty"}(S||(S={}));let C=class extends o.E{constructor(e,t,i){super(),this.service=e,this.pnsReport=t,this.t=i,this.defaultState={ageGateAction:2,registerLimited:!1,initial:!1,birthday:"",checkAgeLoading:!1,ageEligible:!1,showFeedbackModal:!1}}setYear(e,t){e.year=t}setMonth(e,t){e.month=t}setDate(e,t){e.date=t}setBirthday(e,t){const{year:i,month:n,date:o}=t,a=`${i}-${n<10?`0${n}`:n}-${o<10?`0${o}`:o}`;a!==e.birthday&&(e.birthday=a,e.ageEligible=!1,e.ageErrorMsg="",e.showAgeConfirm=!1,e.showErrorByToast=!1)}setAgeGateSetting(e,t){e.initial=!0,e.ageGateAction=t.action,e.registerLimited=t.registerLimited}setCheckAgeLoading(e,t){e.checkAgeLoading=t}setAgeCheckResult(e,t){e.ageErrorMsg=t.ageErrorMsg,e.ageEligible=t.ageEligible,e.showErrorByToast=Boolean(t.showErrorByToast),e.errorCode=t.errorCode,t.showFeedbackModal&&(e.showFeedbackModal=t.showFeedbackModal,e.feedbackModal=t.feedbackModal)}setShowAgeConfirm(e,t){e.showAgeConfirm=t}setShowFeedbackModal(e,t){e.showFeedbackModal=t}getComplianceSettings(e){return e.pipe((0,l.Z)(()=>this.service.getComplianceSettings().pipe((0,d.T)(e=>{if(0===(null==e?void 0:e.status_code)){const{age_gate_info:t={},device_limit_register_expired:i=!0}=e,{register_age_gate_action:n=2}=t;return this.getActions().setAgeGateSetting({registerLimited:!i,action:n})}return this.noop()}))))}validateAge(e){return e.pipe((0,c.E)(this.state$),(0,l.Z)(([{canSkip:e,checkPassCallback:t,region:i},{birthday:n,ageEligible:o,ageGateAction:a}])=>e||o||0===a?(null==t||t(),(0,u.of)(this.getActions().setCheckAgeLoading(!1),this.noop())):n?this.service.validateAge(n,i).pipe((0,d.T)(e=>{const{is_eligible:i,status_code:n,status_msg:o,register_age_gate_post_action:a,feedback:r}=e;this.pnsReport.handleAgeGateResponse(i,n);const s=!!(null==r?void 0:r.dialog),l=s?{modal:null==r?void 0:r.dialog,business:null==r?void 0:r.business}:void 0;if(i)return null==t||t(s),this.getActions().setAgeCheckResult({ageErrorMsg:"",ageEligible:!0,errorCode:n,showFeedbackModal:s,feedbackModal:l});if(i||1!==a){const e=[3008010,3008012,3008008,3008011].includes(n);return this.getActions().setAgeCheckResult({ageErrorMsg:o||"Sorry, something went wrong, please try again later",ageEligible:!1,showErrorByToast:e,errorCode:n})}return null==t||t(),this.getActions().setShowAgeConfirm(!0)}),(0,p.Z)(this.getActions().setCheckAgeLoading(!0)),(0,g.q)(this.getActions().setCheckAgeLoading(!1))):(0,u.of)(this.getActions().setAgeCheckResult({ageErrorMsg:this.t("birthday_error_invaliddate"),ageEligible:!1,showErrorByToast:!0,errorCode:3008009}))))}};(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",_.c)],C.prototype,"dispose$",void 0),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"setYear",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"setMonth",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"setDate",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"setBirthday",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"setAgeGateSetting",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"setCheckAgeLoading",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"setAgeCheckResult",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"setShowAgeConfirm",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"setShowFeedbackModal",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[_.c]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"getComplianceSettings",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[_.c]),(0,n.__metadata)("design:returntype",void 0)],C.prototype,"validateAge",null),C=(0,n.__decorate)([(0,r.nV)("AgeGateModule"),(0,n.__param)(2,(0,s.y)(m.hp)),(0,n.__metadata)("design:paramtypes",[k,h.W,Function])],C)},44970:(e,t,i)=>{"use strict";i.d(t,{V:()=>z});var n=i(40099),o=i(15574),a=i(72516),r=i(90976),s=i(2232),l=i(70589);const d={onRetry:()=>console.log("click retry"),title:"",subTitle:"",dismissBtn:"",retryBtn:""};var c=i(24643),u=i(18499),p=i(13715),g=i(95501),_=i(73635),m=i(27799),h=i(20434);const v=i.p+"83022377a2a799953d8c.png";var f=i(16410);const y=(0,f.default)("div",{target:"e1w0vvzq0"})({background:"white",width:326,borderRadius:12,paddingTop:40,display:"flex",flexDirection:"column",alignItems:"center",gap:16,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"label:DivContainer;"),b=(0,f.default)("img",{target:"e1w0vvzq1"})({width:130,minHeight:96},"label:ImgWifi;"),x=(0,f.default)("div",{target:"e1w0vvzq2"})({display:"flex",flexDirection:"column",alignItems:"center",gap:12,padding:"0 24px"},"label:DivHeader;"),k=(0,f.default)("div",{target:"e1w0vvzq3"})({fontFamily:"TikTokFont",fontWeight:700,fontSize:20,color:"black"},"label:DivTitle;"),w=(0,f.default)("div",{target:"e1w0vvzq4"})({fontFamily:"TikTokFont",fontSize:14,color:"rgba(0, 0, 0, .65)",textAlign:"center"},"label:DivSubTitle;"),S=(0,f.default)("div",{target:"e1w0vvzq5"})({height:48,width:140,padding:"8px 14px",borderRadius:4,backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:"TikTokFont",fontSize:15,fontWeight:600,lineHeight:"32px",textAlign:"center",color:"black"},"label:DivButton;"),C=(0,f.default)(S,{target:"e1w0vvzq6"})({backgroundColor:"#FE2C55",color:"white"},"label:StyledRetry;"),j=(0,f.default)("div",{target:"e1w0vvzq7"})({display:"flex",justifyItems:"center",alignItems:"center",gap:12,padding:16},"label:DivButtons;"),T=(0,f.default)("div",{target:"e1w0vvzq8"})({position:"absolute",top:14,right:14},"label:DivClose;"),I=({timeout:e=2e3,retryCount:t=10})=>{const[i,o]=(0,n.useState)(!1),a=(0,n.useRef)(1),r=(0,m.s)();(0,n.useEffect)(()=>{const t=setTimeout(()=>{p.b.handleRetryPopupShow(),o(!0)},e);return()=>clearTimeout(t)},[]);const s=(0,n.useCallback)(()=>{p.b.handleRetryPopupClick(),o(!1),d.onRetry(),a.current<t?(a.current+=1,setTimeout(()=>{p.b.handleRetryPopupShow(),o(!0)},e)):setTimeout(()=>{M.hide()},e)},[o,e,t]),l=(0,n.useCallback)(()=>{p.b.handleRetryPopupDismiss(),M.hide()},[]);return i?(0,c.jsxs)(y,{onClick:h.Gu,children:[(0,c.jsx)(T,{onClick:l,children:(0,c.jsx)(_.A,{height:24,width:24})}),(0,c.jsx)(b,{src:v}),(0,c.jsxs)(x,{children:[(0,c.jsx)(k,{children:d.title||r("sharing_notRespond_popup_header",{},"Not Responding? Try again.")}),(0,c.jsx)(w,{children:d.subTitle||r("sharing_notRespond_popup_body",{},"Your request could not be completed at this time.")})]}),(0,c.jsxs)(j,{children:[(0,c.jsx)(S,{onClick:l,children:d.dismissBtn||r("sharing_notRespond_popup_notNow",{},"Not Now")}),(0,c.jsx)(C,{onClick:s,children:d.retryBtn||r("sharing_notRespond_popup_retry",{},"Retry")})]})]}):null},P=({retry:e,retryTimeout:t,retryCount:i})=>(0,c.jsxs)("div",{children:[(0,c.jsx)(g.R,{id:"nav-loading",center:!0,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),e&&(0,c.jsx)(I,{timeout:t,retryCount:i})]});let A=null;const M={show:e=>u.render((0,c.jsx)(P,{retry:null==e?void 0:e.retry,retryTimeout:null==e?void 0:e.retryTimeout,retryCount:null==e?void 0:e.retryCount}),(A||(A=document.createElement("div"),A.id=L,A.style.cssText="position: fixed; z-index: 4000; top: 0; right: 0; bottom: 0; left:0;background-color: rgba(0,0,0,0.5); box-sizing: border-box",document.body.appendChild(A),A.addEventListener("click",e=>{e.target.getAttribute("id")===L&&(p.b.handleMaskDismiss(),M.hide())})),A)),hide:()=>{A&&(document.body.removeChild(A),A=null)}},L="navigation-loading",D=(e,t)=>function(i,n){const{showLoading:o}=t,r=(0,a.__rest)(t,["showLoading"]),s=["slience_awaken","swipe_slide"].some(e=>-1!==i.indexOf(e));o&&!s&&((e=>{(e=>{M.show(e)})(e),document.addEventListener("visibilitychange",()=>{M.hide()})})(r),d.onRetry=()=>e(i,n)),e(i,n)},O=e=>{location.href=e},R=(e=O,t)=>{var i,o;const d=null!=t?t:{},{showLoading:c}=d,u=(0,a.__rest)(d,["showLoading"]),{abTestVersion:p}=null!==(i=(0,r.W)(()=>["abTestVersion"],[]))&&void 0!==i?i:{},{showLoading:g}=(0,l.X$)(),_=null!==(o=(0,s.qt)(p,"nav_loading"))&&void 0!==o?o:"v0";return(0,n.useMemo)(()=>D(e,Object.assign({showLoading:g||c||"v0"!==_},u)),[e,_,g])};var E=i(52635);const F="https://www.tiktok.com/download-link/ol",B={[`${F}/bIdt`]:"https://snssdk1233.onelink.me/bIdt",[`${F}/BAuo`]:"https://snssdk1180.onelink.me/BAuo",[`${F}/4P4E`]:"https://snssdk473824.onelink.me/4P4E",[`${F}/EGgf`]:"https://snssdk473824.onelink.me/EGgf"},z=()=>{const{af:e}=(0,o.rN)(),t=B,i=(0,n.useCallback)((e,i)=>{var n;let o=e;Object.keys(t).forEach(e=>{o=o.replace(e,t[e])});const a=new URL(o);if(a.searchParams.has("scheme_url")){const e=a.searchParams.get("scheme_url");a.searchParams.delete("scheme_url");const t=["af_dp","tt_target","deep_link_value"];for(const i of t)a.searchParams.has(i)&&""===a.searchParams.get(i)&&a.searchParams.set(i,e)}const r=new URLSearchParams(a.search);for(const e of["dl","short_dl"]){let i=null!==(n=r.get(e))&&void 0!==n?n:"";i&&(Object.keys(t).forEach(e=>{i=i.replace(e,t[e])}),r.set(e,i))}var s;a.search=r.toString(),s=a.toString(),i?i(s):(0,E.OD)(s)},[t]),a=R(i);if(e)return a}},45308:(e,t,i)=>{"use strict";i.d(t,{Y:()=>v});var n=i(24643),o=i(67518),a=i(40099),r=i(98124),s=i(27799),l=i(97882),d=i(75976),c=i(16410),u=i(57615);const p=(0,c.default)("div",{target:"e11gvri20"})({width:"100%",height:"100%",position:"relative",zIndex:100},"label:DivLiveEndContainer;"),g=(0,c.default)("h2",{target:"e11gvri21"})(({theme:e})=>({fontSize:17,lineHeight:"20px",fontFamily:e.fontFamilies.TikTokFont,margin:"20px 0"}),"label:H2LiveTitle;"),_=(0,c.default)("div",{target:"e11gvri22"})({width:"48px",height:"48px",borderRadius:"50%",overflow:"hidden"},"label:DivAvatar;"),m=(0,c.default)("div",{target:"e11gvri23"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",position:"relative",color:e.colors.Primary2,zIndex:2}),"label:DivContent;"),h=(0,c.default)(u.I05,{target:"e11gvri24"})({backgroundColor:"rgba(255, 255, 255, 0.13) !important",color:"rgba(246, 246, 246, 1) !important","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.19) !important"}},"label:StyledTuxButton;"),v=({isBrowserMode:e,avatarList:t,onTimeoutStart:i,onTimeoutEnd:c,onEnterUserPage:u})=>{const v=(0,r.O4)({isDark:!0,isMobile:!1}),[f,y]=(0,a.useState)(3),b=(0,s.s)(),x=(0,a.useRef)(0),k=(0,a.useCallback)(()=>{x.current=window.setTimeout(()=>{y(e=>0===e?(null==c||c(),0):e-1),k()},1e3)},[c]);return(0,a.useEffect)(()=>{e&&(null==i||i(),y(3),k())},[e,k,i]),(0,n.jsx)(o.a,{theme:v,children:(0,n.jsxs)(p,{children:[(0,n.jsxs)(m,{children:[(0,n.jsx)(_,{children:(0,n.jsx)(l.I,{src:t,style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,n.jsx)(g,{children:(0,n.jsx)("span",{children:b("live_ending_title")})}),e?b("pm_mt_livecard_end_subtitle_1").replace("%d",String(f)):(0,n.jsx)(h,{label:b("pm_web_fyp_homePage_entry"),size:"medium",shape:"default",variant:"secondary",onClick:u})]}),(0,n.jsx)(d.p,{urls:t})]})})}},45391:(e,t,i)=>{"use strict";i.d(t,{P:()=>f});var n=i(24643),o=i(40099),a=i(72355),r=i(59842),s=i(54253),l=i(27799),d=i(45375),c=i(90976),u=i(74042),p=i(22797),g=i(61322),_=i(64541),m=i(16410),h=i(93584);const v=(0,m.default)("p",{target:"ejymp3n0"})(({theme:e,theme:{colors:t},isMobile:i,isMiniPlayer:n})=>i?[(0,h.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3"}),{display:"inline-block",alignSelf:"flex-start",marginTop:"-4px",marginBottom:"8px",fontSize:"15px",fontWeight:400},{padding:"1px 5px",background:"rgba(255, 255, 255, 0.34)",borderRadius:"2px",fontWeight:600,textShadow:"0 0 16px rgba(0, 0, 0, .34)"}]:n?[(0,h.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3"}),{color:"#FFF",display:"inline-block",alignSelf:"flex-start",fontSize:"10px",fontWeight:500,padding:"1.5px 4px",background:"rgba(255, 255, 255, 0.34)",borderRadius:"4px",textShadow:"0 0 16px rgba(0, 0, 0, .34)"}]:[(0,h.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2"}),{display:"inline-block",alignSelf:"flex-start",marginTop:"8px",marginBottom:"unset",fontSize:"16px",padding:"1px 4px",background:t.BGPlaceholderDefault,borderRadius:"2px",color:t.TextTertiaryAlt,fontWeight:600}],"label:PPaidPartnership;"),f=(0,o.memo)(function({item:e,style:t,target:i="_self",isSharing:m=!1,playMode:h,isMiniPlayer:f=!1}){var y,b,x;const k=(0,l.s)(),{region:w=""}=null!==(y=(0,c.W)(()=>["region"],[]))&&void 0!==y?y:{},{id:S,authorId:C,BAInfo:j,adLabelVersion:T,brandOrganicType:I=0,isECVideo:P}=e,A=j&&!m,M=2===T,L=Number(I)>0,{isMobile:D}=null!==(b=(0,g.U)(()=>["isMobile"],[]))&&void 0!==b?b:{},O=(0,o.useCallback)(()=>{r.P.handleClickPartnershipTag({group_id:null!=S?S:"",author_id:null!=C?C:"",partnership_tag:null!=j?j:""}),s.q.handleEnterUser({to_user_name:null!=j?j:"",enter_method:"click_partnership_tag"})},[S,C,j]),R=!D&&!f,E=(0,a.zy)(),F=(0,u.FR)({to:{pathname:(0,d.fJR)({uniqueId:null!==(x=null==e?void 0:e.BAInfo)&&void 0!==x?x:""})},location:E}),B=(0,o.useMemo)(()=>{if(M&&P){if("US"===w)return"bc_disclosure_tag_ecommerce_us";if("GB"===w)return"bc_disclosure_tag_ecommerce_uk"}return M?"bc_new_disclosure":"tcm_closedLoop_commercialContent_brandOrganic_videoTag"},[M,P,w]),z=(0,o.useCallback)(e=>R?(0,n.jsx)(_.ZN,{shouldOptProfile:R,playMode:h,isTag:!0,children:e}):(0,n.jsx)(v,{isMobile:D,isMiniPlayer:f,style:t,children:e}),[D,f,h,R,t]);if(M&&P&&"US"!==w&&"GB"!==w)return null;if(M&&A){const e=`${k(B)} @${j}`;return(0,n.jsx)(p.N_,{target:i,rel:"opener",to:F,onClick:O,style:{textDecoration:"none",color:"inherit"},children:z(e)})}return M&&!A||L?z(k(B)):null})},45473:(e,t,i)=>{"use strict";i.d(t,{_:()=>m,Y:()=>_});var n=i(24643),o=i(93817),a=i(6862),r=i(67518),s=i(40099),l=i(20434),d=i(24443),c=i(4352);const u=(e,t)=>(e-t)*c.Hg+"px",p=({originIndex:e,startIndex:t,maxShowNum:i,num:n})=>0===e||e===n-1||e>t&&e<t+i-1?{width:"6px",height:"6px"}:{width:"4px",height:"4px"},g=(0,s.memo)(({photoVideoRef:e,item:t,maxShowNum:i=6})=>{var g,_;const m=(null!==(_=null===(g=null==t?void 0:t.imagePost)||void 0===g?void 0:g.images)&&void 0!==_?_:[]).length,[h,v]=(0,s.useState)(0),{direction:f}=(0,r.u)(),y=(e=>{const[t,i]=(0,s.useState)(0);return(0,s.useEffect)(()=>{var t,n;null===(n=null===(t=e.current)||void 0===t?void 0:t.swiper)||void 0===n||n.onActiveIndexChange(e=>{i(e.realIndex)})},[e]),t})(e),{disabledLeft:b,disabledRight:x}=(0,s.useMemo)(()=>({disabledLeft:0===y,disabledRight:y===m-1}),[y,m]),{handleSwitchLeft:k,handleSwitchRight:w}=(({photoVideoRef:e,disabledLeft:t,disabledRight:i})=>{const n=(0,d.mZ)(e=>e.isOpen),o=(0,s.useCallback)(i=>()=>{var n,o,a;t||null===(a=null===(o=null===(n=e.current)||void 0===n?void 0:n.swiper)||void 0===o?void 0:o.slidePrev)||void 0===a||a.call(o,"keyboard"===i?"keyboard":"manual_click")},[t,e]),a=(0,s.useCallback)(t=>()=>{var n,o,a;i||null===(a=null===(o=null===(n=e.current)||void 0===n?void 0:n.swiper)||void 0===o?void 0:o.slideNext)||void 0===a||a.call(o,"keyboard"===t?"keyboard":"manual_click")},[i,e]),r=(0,s.useMemo)(()=>{const e=new Map;return e.set(37,o("keyboard")),e.set(39,a("keyboard")),e},[o,a]),l=(0,s.useCallback)(e=>{const t=Number(e.keyCode);27!==t&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||n||(e.preventDefault(),!r.has(t))||r.get(t)()},[n,r]);return(0,s.useEffect)(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[l]),{handleSwitchLeft:o,handleSwitchRight:a}})({photoVideoRef:e,disabledLeft:b,disabledRight:x});(0,s.useEffect)(()=>{m<i||(y-h>=i-1?v(y-i+(y===m-1?1:2)):y<=h&&0!==h&&v(y-(0===y?0:1)))},[y,i,m,h]);const S=(0,s.useCallback)(()=>{if(m>=i){const e="ltr"===f?"left":"right";return(0,n.jsx)(c.DM,{children:(0,n.jsx)(c.Te,{dynamic:!0,num:i,children:Array.from({length:m}).map((t,o)=>(0,n.jsx)(c.AS,{index:o,style:{[e]:u(o,h)},children:(0,n.jsx)(c.pv,{active:y===o,style:Object.assign({},p({originIndex:o,startIndex:h,maxShowNum:i,num:m}))})},o))})})}return(0,n.jsx)(c.DM,{children:(0,n.jsx)(c.Te,{num:m,children:Array.from({length:m}).map((e,t)=>(0,n.jsx)(c.AS,{index:t,children:(0,n.jsx)(c.pv,{active:y===t})},t))})})},[y,m,h,f,i]);return(0,n.jsxs)(c.NY,{onClick:l.Gu,children:[(0,n.jsx)(c.q5,{disabled:b,onClick:k("slide"),children:(0,n.jsx)(o.p,{size:20})}),S(),(0,n.jsx)(c.f4,{disabled:x,onClick:w("slide"),children:(0,n.jsx)(a.a,{size:20})})]})}),_=g,m=(0,s.memo)(e=>(0,n.jsx)(c.bI,{children:(0,n.jsx)(c.wB,{children:(0,n.jsx)(g,Object.assign({},e))})}))},45609:(e,t,i)=>{"use strict";i.d(t,{S:()=>C});var n=i(24643),o=i(57432),a=i.n(o),r=i(40099),s=i(51404),l=i(59061),d=i(35877),c=i(33958),u=i(42891),p=i(38155),g=i(73635),_=i(27238),m=i(27799),h=i(70589),v=i(90976),f=i(25961),y=i(35938),b=i(92704),x=i(85528);const k={width:24,height:24},w=[{content:"desktop_kb_shortcuts_tooltip_previous",icon:(0,n.jsx)(s.A,Object.assign({},k))},{content:"desktop_kb_shortcuts_tooltip_next",icon:(0,n.jsx)(l.A,Object.assign({},k))},{content:"desktop_kb_shortcuts_tooltip_like_vid",icon:(0,n.jsx)(d.A,Object.assign({},k))},{content:"desktop_kb_shortcuts_tooltip_mute_unmute_vid",icon:(0,n.jsx)(c.A,Object.assign({},k))}],S=[{content:"pc_web_playpause_btn",icon:(0,n.jsx)(u.A,Object.assign({},k))},{content:"pc_web_skip_forward_5_sec_btn",icon:(0,n.jsx)(x.rW,Object.assign({},k))},{content:"pc_web_skip_back_5_sec_btn",icon:(0,n.jsx)(x.BT,Object.assign({},k))},{content:"pc_web_fullscreen_btn",icon:(0,n.jsx)(p.A,Object.assign({},k))}],C=(0,r.memo)(function({isModal:e=!1,onClose:t=a()}){const i=(0,m.s)(),{isVideoDetailPlayerExperiment:o}=(0,h.ac)(),s=(0,r.useMemo)(()=>o?[...w,...S]:w,[o]),l=(0,v.W)(()=>["abTestVersion","wid"],[]),{showKeyboardShortcut:d,handleClose:c}=((e=!1,t,i)=>{const n=y.Bv.getItem("webid"),[o,a]=(0,r.useState)(!0),[s,l]=(0,r.useState)(e),d=(0,b.cz)(),{isInKeyboardShortcutTreatment:c}=(0,h.fy)(),u=(0,r.useCallback)(()=>{e?t():(y.Bv.setItem("hasCloseKeyboardShortcut",!0),a(!1))},[e,t]);return(0,r.useEffect)(()=>{var t;if(!e)if((null==i?void 0:i.wid)!==n)l(!0),y.Bv.setItem("webid",null!==(t=null==i?void 0:i.wid)&&void 0!==t?t:""),y.Bv.setItem("hasCloseKeyboardShortcut",!1),c&&y.Bv.setItem("hasSeenKeyboardShortcut",!0);else{const e=y.Bv.getItem("hasCloseKeyboardShortcut");if(l(!e),c){const t=y.Bv.getItem("hasSeenKeyboardShortcut");l(!e&&!t),y.Bv.setItem("hasSeenKeyboardShortcut",!0)}}},[]),(0,r.useEffect)(()=>{const{pathname:t=""}=location;e||(0,f.tO)(t)||(0,f.K8)(t)||t.startsWith("/following")||/^\/@.*\/video\/\d+/.test(t)||l(!1)},[]),{showKeyboardShortcut:o&&s&&(d.shouldShow||!c),handleClose:u}})(e,t,l),{isInKeyboardShortcutV2:u}=(0,h.fy)();let p=i(e?"desktop_kb_shortcuts_modal":u?"desktop_kb_shortcuts_menu":"desktop_kb_shortcuts_tooltip_title");const k=(0,r.useMemo)(()=>s.map(({content:t,icon:o})=>(0,n.jsxs)(x.TM,{isModal:e,children:[i(t),o]},t)),[e,s,i]);return(0,r.useEffect)(()=>{d&&_.U.handlePopupShow({enter_method:"keyboard_shortcut_pop"})},[d]),d?(0,n.jsxs)(x.IK,{isModal:e,children:[e?(0,n.jsx)(x.Nl,{onClick:c,children:(0,n.jsx)(g.A,{width:20,height:20})}):(0,n.jsx)(x.Mt,{onClick:c,children:(0,n.jsx)(g.A,{width:20,height:20})}),(0,n.jsx)(x.Xm,{isModal:e,children:p}),(0,n.jsx)(x.wP,{children:k})]}):null});C.defaultProps=Object.assign(Object.assign({},C.defaultProps),{"data-e2e":"keyboard-shortcut"})},46083:(e,t,i)=>{"use strict";i.d(t,{x:()=>g});var n=i(24643),o=i(40099),a=i(75543),r=i(98882),s=i(16410),l=i(93584);const d=(0,s.default)("div",{target:"e1hknyby0"})(({theme:{direction:e,colors:t},isInComment:i})=>Object.assign({position:i?"fixed":"absolute",minWidth:"60px",padding:"0 10px",height:"40px",bottom:i?"114px":"20px",background:t.BGSecondary,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.06)",borderRadius:"52px",cursor:"pointer",zIndex:i?1:""},(0,l.mp)({direction:e,end:"16px"})),"label:DivScrollToButtonContainer;"),c=(0,s.default)("div",{target:"e1hknyby1"})(({theme:{colors:e}})=>({display:"flex",flexDirection:"row",height:"100%",alignItems:"center",justifyContent:"center",color:e.TextPrimary}),"label:DivButton;"),u=(0,s.default)("div",{target:"e1hknyby2"})(({theme:e})=>[(0,l.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",fontWeight:"semiBold"}),{lineHeight:"24px",textAlign:"center",fontSize:"16px"},(0,l.mp)({direction:e.direction,paddingEnd:"6px"})],"label:DivTextContainer;");var p=i(27799);const g=(0,o.memo)(function({onClick:e,isUp:t,isInComment:i=!1}){const o=(0,p.s)();return(0,n.jsx)(d,{onClick:e,isInComment:i,children:(0,n.jsxs)(c,{children:[(0,n.jsx)(u,{children:o(i?"pcWeb_detailPage_backTop_btn":"pc_web_browser_nowPlaying")}),t?(0,n.jsx)(a.d,{size:14}):(0,n.jsx)(r.g,{size:14})]})})})},46090:(e,t,i)=>{"use strict";i.d(t,{$c:()=>s,GE:()=>l});var n=i(71111),o=i(64388);const a=(0,n.atom)({vvCount:0,showEndCard:!1,disableEndCard:!1}),{useAtomService:r,useServiceDispatchers:s,useServiceState:l,getStaticApi:d}=(0,o.i)(a,(e,t)=>({increaseVVCount(){t(a,t=>Object.assign(Object.assign({},t),{vvCount:e(a).vvCount+1}))},resetVVCount(){t(a,e=>Object.assign(Object.assign({},e),{vvCount:0}))},setShowEndCard(){t(a,e=>Object.assign(Object.assign({},e),{showEndCard:!0}))},disableEndCard(){t(a,e=>Object.assign(Object.assign({},e),{showEndCard:!1,disableEndCard:!0}))}}))},46219:(e,t,i)=>{"use strict";i.d(t,{ke:()=>o,t3:()=>n});const n=(e,t,i=!0,n=!1)=>{const{keyCode:o,altKey:a,ctrlKey:r,metaKey:s,key:l}=e;if(!t&&[13,32,38,40].includes(o))return 2;if(!t&&n&&27===o)return 13;if(8===o||144===o||1===l.length&&32!==o&&!a&&!r&&!s)return t?10:2;if(t)switch(o){case 38:return a?4:1;case 40:return a?12:0;case 27:return 3;case 13:case 32:return 4;case 33:return 8;case 34:return 7;case 36:return 5;case 35:return 6;case 9:return i?11:4;default:return 12}return 12},o=e=>{try{const t=e.querySelectorAll('a[href], button, input, textarea, details, [tabindex]:not([tabindex="-1"])');return Array.from(t).filter(e=>!e.hasAttribute("disabled")&&!e.getAttribute("aria-hidden")&&e.clientWidth>0)}catch(e){return console.warn("[A11y] no focusable element found: ",e),[]}}},46221:(e,t,i)=>{"use strict";i.d(t,{H:()=>r,v:()=>a});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"etnnns70"})(({theme:{colors:e},useLargeToggle:t})=>({width:t?"40px":"24px",height:t?"40px":"24px",background:t?e.ConstBGInverse4:"transparent",borderRadius:t?"50%":"unset",":hover":{background:t?e.ConstBGInverse3:"transparent"},display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"}),({theme:{direction:e}})=>(0,o.mp)({direction:e,end:"66px"}),"label:DivAutoScrollButtonContainer;"),r=(0,n.default)("div",{target:"etnnns71"})({marginInlineStart:"14px",display:"flex"},"label:DivSwitchContainer;")},46389:(e,t,i)=>{"use strict";i.d(t,{p:()=>_});var n=i(24643),o=i(40099),a=i(77272),r=i(16410),s=i(93584);const l=(0,r.default)("div",{target:"e15xwfub0"})(({needPaddingBottom:e})=>({display:"flex",width:"100%",overflow:"hidden",position:"relative",paddingBottom:e?"26px":"unset"}),"label:DivWrapper;"),d=(0,r.default)("div",{target:"e15xwfub1"})(({lineClamp:e,lineHeight:t,marginTop:i,theme:{colors:n}})=>({width:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:e,display:"-webkit-box","-webkit-box-orient":"vertical",span:{display:"inline"},"*":{fill:n.Primary2},":before":{content:'""',height:`calc(100% - ${t}px)`,float:"right",width:0,marginTop:`${i}px`}}),"label:DivText;"),c=({theme:e})=>[(0,s.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"semiBold",typography:"P3",color:"TextSecondary"}),{border:"none",outline:"none",background:"none",cursor:"pointer",paddingLeft:"4px"}],u=(0,r.default)("button",{target:"e15xwfub2"})(c,"label:ButtonExpand;"),p=(0,r.default)("div",{target:"e15xwfub3"})(({btnShow:e,lineHeight:t,theme:{direction:i}})=>({float:"rtl"===i?"left":"right",clear:"both",cursor:"pointer",display:e?"flex":"none",alignItems:"center",lineHeight:`${t}px`}),"label:DivBtnWrapper;"),g=(0,r.default)("span",{target:"e15xwfub4"})(c,{display:"inline"},"label:SpanBtnInline;"),_=(0,o.memo)(({children:e,lineClamp:t=2,btnOnClick:i,lineHeight:r=22,btnStyle:s,btnText:c})=>{const[_,m]=(0,o.useState)(!1),[h,v]=(0,o.useState)(t),[f,y]=(0,o.useState)("unset"),b=(0,o.useRef)(null),x=(0,o.useCallback)(()=>{setTimeout(()=>{var e,i,n;if(null==b?void 0:b.current){const o=null!==(e=b.current.scrollHeight)&&void 0!==e?e:0,a=null!==(i=b.current.clientHeight)&&void 0!==i?i:0,s=null!==(n=b.current.offsetHeight)&&void 0!==n?n:0,l=o-a>15||o>=r*t+15||s>=r*t+15;m(l),l&&y(t*r+"px")}},0)},[r,t]);return(0,o.useEffect)(()=>(b.current&&a.P.bind(b.current,x),()=>{b.current&&a.P.remove(b.current,x)}),[x]),(0,o.useEffect)(()=>{v(t),m(!1),x()},[]),(0,n.jsx)(l,{needPaddingBottom:!1,children:(0,n.jsxs)(d,{ref:b,lineClamp:h,lineHeight:r,marginTop:0,style:{maxHeight:f},children:[(0,n.jsx)(p,{btnShow:_,lineHeight:r,children:(0,n.jsx)(u,{style:s,type:"button",onClick:i,children:c})}),e,!_&&(0,n.jsx)(g,{onClick:i,children:c})]})})})},47256:(e,t,i)=>{"use strict";i.d(t,{t:()=>l,u:()=>s});var n=i(26930),o=i(10589),a=i(61198),r=i(40099);const s=(e=[],t,i)=>{const[{transcriptList:n={},transcriptLoading:s=!1},l]=(0,o.nJ)(e=>({transcriptList:e.transcriptList,transcriptLoading:e.loading}),{equalityFn:a.bN});return(0,r.useEffect)(()=>{t||n[i]||l.setTranscript(e)},[l,t,i]),{transcriptList:n,isFetching:s}},l=(e=[],t,i=!1)=>{const a=(0,o.c$)();(0,n.o)(()=>{if(t&&e.length>0&&!i)return a.setTranscript(e)},[a,t,i])}},47285:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>d,rF:()=>l,sZ:()=>c,yf:()=>s});var n=i(73580),o=i(40099),a=i(22889),r=i(81026);function s(){const{enable:e=!0,enableHeadComponent:t,enableInlineScript:i,enableUseSlardarPageViewHook:n}=(0,o.useContext)(r.ug);return{enable:e,enableHeadComponent:null!=t?t:e,enableInlineScript:null!=i?i:e,enableUseSlardarPageViewHook:null!=n?n:e}}function l({pid:e}){const t=(0,n.Nj)(a.V$),{enableUseSlardarPageViewHook:i}=s();(0,o.useEffect)(()=>{i&&(t.config({pid:e}),t.start(e))},[e,t,i])}function d(){return(0,n.Nj)(a.V$)}function c(){const{enable:e}=s();return e}},47307:(e,t,i)=>{"use strict";i.d(t,{y:()=>g});var n=i(24643),o=i(40099),a=i(16410);const r=(0,a.default)("div",{target:"e1kibae30"})({width:"100%",height:"100%",zIndex:10,position:"absolute",top:0,left:0,overflow:"hidden",background:"rgba(0, 0, 0, 0.6)",cursor:"default"},"label:DivGuideBg;"),s=(0,a.default)("div",{target:"e1kibae31"})({width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},"label:DivGuideContainer;"),l=(0,a.default)("div",{target:"e1kibae32"})({fontSize:14,lineHeight:"18.2px",textAlign:"center",color:"#FFFFFF"},"label:DivGuideText;"),d=(0,a.default)("div",{target:"e1kibae33"})({display:"flex",flexDirection:"column",padding:"16px 32px 0 32px"},"label:DivGuideButton;"),c=(0,a.default)("div",{target:"e1kibae34"})({cursor:"pointer",marginTop:"16px",color:"#FFFFFF",fontSize:14,lineHeight:"18.2px",fontWeight:600,textAlign:"center"},"label:DivGuideCancelButton;");var u=i(57615),p=i(27799);const g=(0,o.memo)(function(e){const t=(0,p.s)(),{handleCancelPlay:i,handleOpenLiveClick:a,handleLiveGuideShowReport:g}=e;return(0,o.useEffect)(()=>{g()},[]),(0,n.jsx)(r,{children:(0,n.jsxs)(s,{children:[(0,n.jsx)(l,{children:t("ttlive_web_previewLIVE_desc")}),(0,n.jsxs)(d,{children:[(0,n.jsx)(u.I05,{onClick:a,variant:"primary",size:"large",label:t("ttlive_web_previewLIVE_watchNow_btn")}),(0,n.jsx)(c,{onClick:i,children:t("ttlive_web_previewLIVE_notNow_btn")})]})]})})})},47342:(e,t,i)=>{"use strict";i.d(t,{C:()=>P});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(23999),l=i(26324),d=i(95719),c=i(62564),u=i(55907),p=i(31014),g=i(24451),_=i(72916),m=i(8536),h=i(74690),v=i(80339),f=i(96406),y=i(73995),b=i(32242),x=i(55867),k=i(20173),w=i(83692),S=i(81378),C=i(16618),j=i(7672),T=i(44094);let I=class{constructor(e){this.fetch=e}getSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/user/preview/",{query:t,baseUrlType:2})}getGeneralSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/general/preview/",{query:t,baseUrlType:2})}getMobileGeneralSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/general/sug/",{query:t,baseUrlType:2})}};I=(0,n.__decorate)([(0,j._)(),(0,n.__metadata)("design:paramtypes",[T.p])],I);let P=class extends o.E{constructor(e,t,i,n,o,a){super(),this.service=e,this.home=t,this.biz=i,this.videoPlayerJotai=n,this.search=o,this.personalization=a,this.defaultState={sugList:[],mobileSugList:[],loading:!1,activeIndex:-1,searchValue:"",previousSearchValue:"",inputFocus:!1,newSugSessionTimeStamp:void 0,queryId:void 0,videoPageType:""}}setVideoPageType(e,t){e.videoPageType=t}setSearchValue(e,t){e.searchValue=t}setPreviousSearchValue(e,t){e.previousSearchValue=t}setInputFocus(e,t){e.inputFocus=t}handleInputFocusChange(e){return e.pipe((0,d.M)(e=>{e&&y.$G.handleSearchEntry({enter_method:"enter"})}),(0,c.T)(this.getActions().setInputFocus))}setNewSugSessionTimeStamp(e,t){e.newSugSessionTimeStamp=t}setList(e,t){e.sugList=t}setMobileList(e,t){e.mobileSugList=t}setLoading(e,t){e.loading=t}setActiveIndex(e,t){e.activeIndex=t}setActiveUp(e){e.activeIndex=Math.max(0,e.activeIndex-1)}setActiveDown(e){const{sugList:t,activeIndex:i}=e;e.activeIndex=Math.min(t.length,i+1)}setQueryId(e,t){e.queryId=t}getSugList(e){return e.pipe((0,u.w)("keyword"),(0,p.B)(500),(0,g.E)(this.state$,this.home.state$,this.biz.state$,this.videoPlayerJotai.state$,this.search.state$,this.personalization.state$),(0,c.T)(([e,t,{appContext:i},{bizContext:n},{currentVideo:o},{searchGlobalParams:a},{isSearchPersonalized:r}])=>({payload:e,inputFocus:t.inputFocus,isLogin:Boolean(null==i?void 0:i.user),searchVideoForLoggedin:null==n?void 0:n.searchVideoForLoggedin,currentVideo:o,rootEnterFrom:null==a?void 0:a.rootEnterFrom,nonPersonalized:r?void 0:1})),(0,_.n)(({payload:e,inputFocus:t,isLogin:i,searchVideoForLoggedin:n,currentVideo:o,rootEnterFrom:a,nonPersonalized:r})=>e.keyword?(i||!n?this.service.getGeneralSugList({keyword:e.keyword,app_language:e.app_language,is_non_personalized_search:r}):this.service.getSugList(Object.assign(Object.assign({},e),{is_non_personalized_search:r}))).pipe((0,c.T)(e=>{const{status_code:t,sug_list:i=[],log_pb:n}=e;let o=[];return 0===t&&i.length&&(o=i.map(e=>{var t;return Object.assign(Object.assign({},e),{impr_id:null!==(t=null==n?void 0:n.impr_id)&&void 0!==t?t:""})})),Object.assign(Object.assign({},e),{sug_list:o})}),(0,d.M)(({sug_list:i,words_query_record:n,log_pb:r})=>{var s,l;if(t){const t="browser_mode"===this.state.videoPageType,d={impr_id:null!==(s=null==r?void 0:r.impr_id)&&void 0!==s?s:"",enter_from:a,raw_query:e.keyword,search_position:t?"video_detail":f.f.commonParams.page_name,video_page_type:this.state.videoPageType,enter_group_id:null!==(l=null==o?void 0:o.id)&&void 0!==l?l:""};y.$G.handleSugGroupImpression(Object.assign({words_source:"sug",words_num:String(i.length)},d)),i.forEach((e,t)=>{var i;y.$G.handleSugImpression(Object.assign({words_source:"sug",words_position:t,words_content:e.content,sug_type:e.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!==(i=null==n?void 0:n.query_id)&&void 0!==i?i:"",group_id:e.word_record.group_id},d))})}}),(0,m.Z)(e=>{var t;return(0,s.of)(this.getActions().setList(e.sug_list),this.getActions().setQueryId(null===(t=null==e?void 0:e.words_query_record)||void 0===t?void 0:t.query_id))}),(0,h.Z)(this.getActions().setLoading(!0),this.getActions().setActiveIndex(-1)),(0,v.q)(this.getActions().setLoading(!1))):(0,s.of)(this.getActions().setList([]))))}getMobileSugList(e){return e.pipe((0,p.B)(500),(0,g.E)(this.state$,this.personalization.state$),(0,_.n)(([{keyword:e,app_language:t},{newSugSessionTimeStamp:i},{isSearchPersonalized:n}])=>e?this.service.getMobileGeneralSugList({keyword:e,app_language:t,is_non_personalized_search:n?void 0:1}).pipe((0,c.T)(e=>{const{status_code:t,sug_list:i=[],log_pb:n}=e;let o=[];return 0===t&&i.length&&(o=i.map(e=>{var t;return Object.assign(Object.assign({},e),{impr_id:null!==(t=null==n?void 0:n.impr_id)&&void 0!==t?t:""})})),Object.assign(Object.assign({},e),{sug_list:o})}),(0,d.M)(({sug_list:t,words_query_record:n,log_pb:o,extra:a})=>{y.$G.handleSugGroupImpression({words_source:"sug",words_num:String(t.length),raw_query:e,search_position:f.f.commonParams.previous_page}),t.forEach((t,r)=>{var s,l;y.$G.handleSugImpression({impr_id:null!==(s=null==o?void 0:o.impr_id)&&void 0!==s?s:"",words_source:"sug",words_position:r,words_content:t.content,raw_query:e,sug_type:t.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!==(l=null==n?void 0:n.query_id)&&void 0!==l?l:"",group_id:t.word_record.group_id,search_position:f.f.commonParams.previous_page,new_sug_session_id:String(null!=i?i:null==a?void 0:a.now)})})}),(0,m.Z)(e=>{var t;return(0,s.of)(this.getActions().setMobileList(e.sug_list),this.getActions().setNewSugSessionTimeStamp(String(null!=i?i:null===(t=e.extra)||void 0===t?void 0:t.now)))}),(0,x.n)({})):(0,s.of)(this.getActions().setMobileList([]),this.getActions().setNewSugSessionTimeStamp(void 0))))}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setVideoPageType",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setSearchValue",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setPreviousSearchValue",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setInputFocus",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[l.c]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"handleInputFocusChange",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setNewSugSessionTimeStamp",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setMobileList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setLoading",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setActiveIndex",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setActiveUp",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setActiveDown",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setQueryId",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[l.c]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"getSugList",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[l.c]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"getMobileSugList",null),P=(0,n.__decorate)([(0,r.nV)("Sug"),(0,n.__metadata)("design:paramtypes",[I,k.L,w.$,b.Q,S.tq,C.fu])],P)},47389:(e,t,i)=>{"use strict";i.d(t,{j:()=>k});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(340),l=i(23999),d=i(26324),c=i(35572),u=i(62564),p=i(74690),g=i(80339),_=i(24451),m=i(8536),h=i(48156),v=i(55867),f=i(28439),y=i(6418),b=i(50726),x=i(67114);let k=class extends o.E{constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={reportDetail:{isLoading:!1,data:null},reportList:{data:[],hasNextPage:!0,pageCount:0},activeReport:null,refreshReport:null,loggedOutCode:void 0}}setLoggedOutCode(e,t){e.loggedOutCode=t}setReportDetail(e,t){e.reportDetail.data=t}setRefreshReport(e,t){e.refreshReport=t}setReportDetailLoading(e,t){e.reportDetail.isLoading=t}setReportListData(e,t){e.reportList.data.push(...t.data),e.reportList.hasNextPage=t.hasNextPage,e.reportList.pageCount=t.pageCount}setActiveReport(e,t){e.activeReport=t}getDeleteReport(e){return e.pipe((0,c.p)(({reportId:e})=>this.service.getDeleteReport({report_id:e}).pipe((0,u.T)(({body:{}})=>this.noop()))))}getBlockUser(e){return e.pipe((0,c.p)(({toolsType:e,processedUserId:t})=>this.service.getBlockUser({processed_user_id:t,tools_type:e}).pipe((0,u.T)(({body:{status_code:t}})=>0===t?this.getActions().setRefreshReport({type:e===x.B8.BLOCK_USER?"webapp_mig_blocked":"webapp_mig_unblocked"}):((0,v.n)({callback:this.commonToastError}),this.noop())))))}getReportDetail(e){return e.pipe((0,c.p)(({reportId:e,reportType:t})=>this.service.getReportDetail(Object.assign({report_id:e,report_type:t},this.state.loggedOutCode&&{verification_code:this.state.loggedOutCode})).pipe((0,u.T)(({body:{detail:e}})=>e?this.getActions().setReportDetail(e):this.noop()),(0,p.Z)(this.getActions().setReportDetailLoading(!0)),(0,g.q)(this.getActions().setReportDetailLoading(!1)),(0,v.n)({callback:this.commonToastError}))))}getReportList(e){return e.pipe((0,_.E)(this.state$),(0,c.p)(([e,{reportList:{pageCount:t,hasNextPage:i}}])=>i?this.service.getReportList({start:t,count:15}).pipe((0,u.T)(({body:{status_code:e,list:i,has_more:n}})=>0!==e?this.noop():this.getActions().setReportListData({data:null!=i?i:[],hasNextPage:n,pageCount:t+15})),(0,v.n)({callback:this.commonToastError})):(0,l.of)(this.noop())))}setActiveReportLoggedOut(e){return e.pipe((0,m.Z)(e=>[this.getActions().setLoggedOutCode(e.code),this.getActions().setActiveReport(e)]))}updateActiveReport(e){return e.pipe((0,m.Z)(e=>[this.getActions().setActiveReport(e)]))}commonToastError(){h.F.destroy(),h.F.open({content:this.t(y.z$),duration:3,widthType:"half"})}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"setLoggedOutCode",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"setReportDetail",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"setRefreshReport",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"setReportDetailLoading",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"setReportListData",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"setActiveReport",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"getDeleteReport",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"getBlockUser",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"getReportDetail",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"getReportList",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"setActiveReportLoggedOut",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[d.c]),(0,n.__metadata)("design:returntype",void 0)],k.prototype,"updateActiveReport",null),k=(0,n.__decorate)([(0,r.nV)("ReportInbox"),(0,n.__param)(1,(0,s.y)(f.hp)),(0,n.__metadata)("design:paramtypes",[b.o,Function])],k)},47572:(e,t,i)=>{"use strict";i.d(t,{$:()=>l,O:()=>s});var n=i(40099),o=i(61317),a=i(43775),r=i(73137);const s=e=>e&&11===e?{enter_method:"live_cover_preview",enter_from_merge:"homepage_follow",entrance_detail:"homepage_follow"}:{};function l({active:e,isBrowserMode:t,liveInfo:i,requestId:l,pageType:d,isLiveHighlight:c,isGuestConnection:u,isLivePaused:p,isShowGuideBg:g,aiTagShow:_}){const m=(0,n.useRef)(0),h=(0,n.useRef)(!1),v=(0,n.useMemo)(()=>{var e;return Object.assign(Object.assign({room_id:null==i?void 0:i.roomID,anchor_id:null===(e=null==i?void 0:i.ownerInfo)||void 0===e?void 0:e.id,follow_status:null==i?void 0:i.ownerInfo.relation,play_mode:t?"browser_mode":"one_column",request_id:l,live_room_mode:null==i?void 0:i.mode,enter_method:"live_cell",enter_from_merge:"homepage_hot",entrance_detail:"homepage_hot_live_cell"},s(d)),{is_landscape:(0,r.iU)(null==i?void 0:i.landscape)?"1":"0",is_highlight:c?"1":"0",is_live_paused:p?"1":"0",is_guest_connect:u?"1":"0",ai_tag_show:_})},[t,l,i,d,c,p,u,g]),f=(0,n.useCallback)(()=>{m.current=Date.now()},[]),y=(0,n.useCallback)(()=>{if(h.current){const e=Date.now()-m.current;e>0&&(o.YH.handleLiveDuration(Object.assign({duration:e},v)),f())}},[]),b=(0,n.useCallback)(()=>{f()},[f]),x=(0,n.useCallback)(()=>{y()},[y]),k=(0,n.useCallback)(()=>{var e;!t&&h.current&&Date.now()-m.current<a.yT&&(0,a.lV)().handleSkipLive({anchorId:(null===(e=null==i?void 0:i.ownerInfo)||void 0===e?void 0:e.id)||"",roomId:(null==i?void 0:i.roomID)||""})},[]),w=(0,n.useCallback)(()=>{k(),y(),h.current=!1},[y]),S=(0,n.useCallback)(()=>{h.current||(h.current=!0,o.YH.handleStartPlay(v),f())},[v,f]),C=(0,n.useCallback)(()=>{o.YH.handleLiveEntranceClick(v)},[v]),j=(0,n.useCallback)(()=>{o.YH.handleLiveCancelGuideClick(v)},[v]),T=(0,n.useCallback)(()=>{o.YH.handleLiveGuideShow(v)},[v]),I=(0,n.useCallback)(()=>{o.YH.handleLiveEnd(v)},[v]);return(0,n.useEffect)(()=>{e&&o.YH.handleLiveShow(Object.assign({},v))},[e]),{handleLeaveReport:w,handlePlayReport:b,handlePauseReport:x,handlePlayingReport:S,handleLiveEntranceClickReport:C,handleLiveCancelClickReport:j,handleLiveGuideShowReport:T,handleLiveEndReport:I}}},47594:(e,t,i)=>{"use strict";i.d(t,{x:()=>ye});var n=i(24643),o=i(72516),a=i(40099),r=i(78695),s=i(71111),l=i(64388);const d=(0,r._)((0,s.atom)({popupType:null,open:!1,popupUI:{}}),{rehydrationKey:"stm_revamp_key"}),{useServiceState:c,useServiceDispatchers:u,useAtomService:p,getStaticApi:g}=(0,l.i)(d,(e,t)=>({openPopup(e,i){t(d,{popupType:e,open:!0,popupUI:i||{}})},closePopup(){t(d,{popupType:null,open:!1,popupUI:{}})}}));var _;!function(e){e.DailyScreenTimeLimit="daily_screen_time",e.SleepHours="sleep_hour"}(_||(_={}));var m,h=i(35762);function v(e,t){if("post"===e)return e=>(0,o.__awaiter)(this,void 0,void 0,function*(){return h.h.post(t,{body:JSON.stringify(e),query:e,baseUrlType:2,headers:{"content-type":"application/json"}})});if("get"===e)return e=>(0,o.__awaiter)(this,void 0,void 0,function*(){return h.h.get(t,{query:e,baseUrlType:2,headers:{}})});if("delete"===e)return e=>(0,o.__awaiter)(this,void 0,void 0,function*(){return h.h.delete(t,{query:e,baseUrlType:2,headers:{}})});throw new Error("Invalid method value")}!function(e){e[e.OK=1]="OK",e[e.SNOOZE=2]="SNOOZE",e[e.BUTTON_ID_SKIP_FOR_1HOUR=30]="BUTTON_ID_SKIP_FOR_1HOUR",e[e.BUTTON_ID_SKIP_FOR_15MINS=31]="BUTTON_ID_SKIP_FOR_15MINS"}(m||(m={}));const f={triggerTime:v("post","/tiktok/v1/screen_time/upload/"),uploadAppOpenTimes:v("post","/tiktok/v1/app_open_times/upload/"),uploadDailySTMPopupSuccess:v("post","/tiktok/v1/screen_time/popup/complete/"),uploadDailySTMTeenPinSuccess:v("post","/aweme/v2/guardian/platform/verify/password/"),stmInitialCall:v("post","/tiktok/v1/stm-revamp/stmInitialCall/"),dailyScreenTimeOK:()=>v("post","/tiktok/v1/screen_time/action/")({button_id:m.OK,action_id:_.DailyScreenTimeLimit}),getSTMDashboard:v("get","/tiktok/v1/screen_time/list/"),sleepHoursExtend1Hour:()=>v("post","/tiktok/v1/screen_time/action/")({button_id:m.BUTTON_ID_SKIP_FOR_1HOUR,action_id:_.SleepHours}),sleepHoursExtend15Min:()=>v("post","/tiktok/v1/screen_time/action/")({button_id:m.BUTTON_ID_SKIP_FOR_15MINS,action_id:_.SleepHours}),sleepHoursDismiss:()=>v("post","/tiktok/v1/screen_time/action/")({button_id:m.OK,action_id:_.SleepHours})},y=()=>{const{openPopup:e,closePopup:t}=u(),i=c(),n=(0,a.useCallback)(()=>{i.open&&i.popupType&&t()},[t,i.open,i.popupType]);return{openPopup:(0,a.useCallback)((t,i)=>{e(t,i)},[e]),closePopup:n,popupState:i}},b=()=>({popupState:y(),api:f});i(96266);var x,k=i(96406);!function(e){e[e.Default=101]="Default",e[e.OpenDailyScreenTimeLimit=102]="OpenDailyScreenTimeLimit",e[e.OpenSleepHoursFirst=103]="OpenSleepHoursFirst",e[e.OpenSleepHoursFirstMinor=104]="OpenSleepHoursFirstMinor",e[e.OpenSleepHoursSecond=105]="OpenSleepHoursSecond"}(x||(x={}));const w=()=>{const{openPopup:e}=y();return(0,a.useCallback)(t=>{switch((e=>{var t,i,n;let o;if(e&&"object"==typeof e&&(o=e.action_id),k.f.event("pns_uc_action_trigger",{action_id:o}),o===_.DailyScreenTimeLimit)return x.OpenDailyScreenTimeLimit;if(o===_.SleepHours){if(0===(null===(t=null==e?void 0:e.ui_config)||void 0===t?void 0:t.sleep_hours_type))return Boolean((null===(i=null==e?void 0:e.ui_config)||void 0===i?void 0:i.sleep_hours_minor)||0)?x.OpenSleepHoursFirstMinor:x.OpenSleepHoursFirst;if(1===(null===(n=null==e?void 0:e.ui_config)||void 0===n?void 0:n.sleep_hours_type))return x.OpenSleepHoursSecond}return x.Default})(t)){case x.OpenDailyScreenTimeLimit:e(_.DailyScreenTimeLimit);break;case x.OpenSleepHoursFirst:e(_.SleepHours,{sleep_hours_type:0});break;case x.OpenSleepHoursFirstMinor:e(_.SleepHours,{sleep_hours_type:0,sleep_hours_minor:1});break;case x.OpenSleepHoursSecond:e(_.SleepHours,{sleep_hours_type:1});case x.Default:}},[e])};var S=i(85650),C=i(66712);const j="STM_TAB_ID_KEY",T="STM_TAB_ID_KEY";class I{constructor(){this.api=f,this.interval=3e5,this.activeInterval=3e4,this._tabId=(()=>{const e=sessionStorage.getItem(j);if(e)return e;const t=crypto.getRandomValues(new Uint32Array(1))[0].toString(16);return sessionStorage.setItem(j,t),t})(),this._tabVisible=!0,this._appOpenTracked=!1,this._timeUsageToday=0,this._activeTimeUsage=0,this.start=this.start.bind(this),this.end=this.end.bind(this),this.trackTime=this.trackTime.bind(this),this.shouldTrackTime=this.shouldTrackTime.bind(this),this.markTime=this.markTime.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.onTabUnload=this.onTabUnload.bind(this)}get tabID(){return this._tabId}get tabVisible(){return this._tabVisible}set tabVisible(e){this._tabVisible=e}get appOpenTracked(){return this._appOpenTracked}get timeUsageToday(){return this._timeUsageToday}get activeTimeUsage(){return this._activeTimeUsage}incrementActiveTime(){this._activeTimeUsage+=this.activeInterval}clearActiveTime(){this._activeTimeUsage=0}get totalUsageToday(){const e=this._activeTimeUsage+this._timeUsageToday;return Math.floor(e/1e3)}markAppOpenTracked(){this._appOpenTracked=!0}shouldTrackTime(){if(!this.tabVisible)return!1;const e=(()=>{const e=localStorage.getItem(T);if(!e)return;let t;try{const i=JSON.parse(e);i.tabID&&i.time&&(t=i)}catch(e){}return t})();return!e||e.tabID===this.tabID||(e.time,this.interval,Date.now(),!0)}markTime(){var e;e={tabID:this.tabID,time:Date.now()},localStorage.setItem(T,JSON.stringify(e))}trackTime(e,t){return(0,o.__awaiter)(this,void 0,void 0,function*(){if(!e&&!this.shouldTrackTime())return;const i=Math.floor(this.activeTimeUsage/1e3);if(!i&&!t)return;const n=new Date,o=(0,C.$n)(n),a=(0,C.BX)(n),r=(0,C.zk)(n);yield this.api.triggerTime({upload_timestamp:a,upload_type:3,time_usage:[{upload_date:r,day_usage:o?0:i,night_usage:o?i:0}]}),this._timeUsageToday+=1e3*i,this.clearActiveTime(),this.markTime()})}init(){return(0,o.__awaiter)(this,void 0,void 0,function*(){this.addEventListeners(),this.uploadAppOpenTimes(),this.getTodayUsage()})}destruct(){this.removeEventListeners()}start(){return(0,o.__awaiter)(this,void 0,void 0,function*(){(this.timerKey||this.activeTimerKey)&&this.end(),this.timerKey=setInterval(()=>(0,o.__awaiter)(this,void 0,void 0,function*(){yield this.trackTime()}),this.interval),this.activeTimerKey=setInterval(()=>(0,o.__awaiter)(this,void 0,void 0,function*(){this.incrementActiveTime()}),this.activeInterval)})}end(){this.timerKey&&(clearInterval(this.timerKey),this.timerKey=void 0),this.activeTimerKey&&(clearInterval(this.activeTimerKey),this.activeTimerKey=void 0),this.trackTime(!0)}uploadAppOpenTimes(){return(0,o.__awaiter)(this,void 0,void 0,function*(){if(!this.appOpenTracked){const e=new Date,t=(0,C.BX)(e),i=e.getTime(),n=(0,C.$n)(i),o=(0,C.zk)(e);yield this.api.uploadAppOpenTimes({upload_timestamp:t,upload_type:1,app_open_times:[{upload_date:o,day_open_times:n?0:1,night_open_times:n?1:0}]}),yield this.trackTime(!0,!0),this.markAppOpenTracked()}})}addEventListeners(){document.addEventListener("visibilitychange",this.onVisibilityChange),window.addEventListener("beforeunload",this.onTabUnload)}removeEventListeners(){document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("beforeunload",this.onTabUnload)}onVisibilityChange(){const e="visible"===document.visibilityState;this.tabVisible=e,this.tabVisible?this.start():this.end()}onTabUnload(){}getTodayUsage(){const e=new Date,t=Math.floor((e.getTime()-6e4*e.getTimezoneOffset())/864e5);return this.api.getSTMDashboard({count:1,date:t}).then(e=>{const t=1e3*(0,C.b$)(e);return this.clearActiveTime(),this._timeUsageToday=t,t})}}let P;const A=()=>(P||(P=new I),P);var M=i(68316),L=i(27799),D=i(45027);const O=({popup:e})=>{const[t]=(0,D.S)(S.z),i=A(),o=b(),r=(0,a.useMemo)(()=>Math.floor(i.totalUsageToday/3600),[i.totalUsageToday]),s=(0,a.useMemo)(()=>Math.round(i.totalUsageToday%3600/60),[i.totalUsageToday]),l=(0,a.useMemo)(()=>!0,[]),d=(0,a.useMemo)(()=>"1234",[]),c=(0,a.useMemo)(()=>t.isFpTeenOpenDailySTM,[t.isFpTeenOpenDailySTM]),u=(0,a.useMemo)(()=>t.parentUsername,[t.parentUsername]),p=(0,L.s)(),g=(0,a.useMemo)(()=>{if(s&&r){const e=(0,C.gO)(p("dailyscreentime_notifreminder_desc_hoursminutes",{hours:String(r),minutes:String(s)},"You’ve spent {hours}h {minutes}m on TikTok today. Close it to stay within your daily time, or enter the passcode <b>1234</b> to return to TikTok."),{hours:String(r),minutes:String(s)}).split("<b>1234</b>");return[e[0],(0,n.jsx)("b",{children:"1234"},"passwcode"),e[1]]}if(r){const e=(0,C.gO)(p(M.A.STM_DESC_HOURS,{hours:String(r)},"You’ve spent {hours}h on TikTok today. Close it to stay within your daily time, or enter the passcode <b>1234</b> to return to TikTok."),{hours:String(r)}).split("<b>1234</b>");return[e[0],(0,n.jsx)("b",{children:"1234"},"passwcode"),e[1]]}const e=(0,C.gO)(p(M.A.STM_DESC_MINUTES,{minutes:String(s)},"You’ve spent {minutes}m on TikTok today. Close it to stay within your daily time, or enter the passcode <b>1234</b> to return to TikTok."),{minutes:String(s)}).split("<b>1234</b>");return[e[0],(0,n.jsx)("b",{children:"1234"},"passwcode"),e[1]]},[p,r,s]),_=(0,a.useMemo)(()=>s&&r?(0,C.gO)(p(M.A.STM_DESC_HOURS_MINUTES_FP,{minutes:String(s),hours:String(r),username:u},"You’ve spent {hours}h {minutes}m on TikTok today. Close it to stay within your daily time, or enter a passcode from {username} to return to TikTok."),{minutes:String(s),hours:String(r),username:u}):r?(0,C.gO)(p(M.A.STM_DESC_HOURS_FP,{hours:String(r),username:u},"You’ve spent {hours}h on TikTok today. Close it to stay within your daily time, or enter a passcode from {username} to return to TikTok."),{hours:String(r),username:u}):(0,C.gO)(p(M.A.STM_DESC_MINUTES_FP,{minutes:String(s),username:u},"You’ve spent {minutes}m on TikTok today. Close it to stay within your daily time, or enter a passcode from {username} to return to TikTok."),{minutes:String(s),username:u}),[p,u,r,s]),m=(0,a.useMemo)(()=>c?_:g,[c,g,_]),h=(0,a.useMemo)(()=>p(c?M.A.STM_TITLE_FP:M.A.STM_TITLE,{},"Ready to close TikTok?"),[c,p]),v=(0,a.useCallback)(()=>{o.api.dailyScreenTimeOK(),o.popupState.closePopup()},[o.api,o.popupState]);return(0,n.jsx)(e,{parentName:"",isFP:c,passcode:d,title:h,desc:m,isOpen:l,onDismiss:v})};var R=i(10114),E=i(79742),F=i(48156);const B=({popup:e,isMobile:t,popupType:i,isMinor:o,header:r})=>{const{mute:s,setMute:l}=(0,R.ah)({playMode:0,itemMute:!1}),{mobileDefaultMute:d}=(0,E.bn)(),{setMobileDefaultMute:c}=(0,E._B)(),[u]=(0,D.S)(S.z),p=(0,L.s)(),g=(0,a.useCallback)(e=>{F.F.destroy(),F.F.open({content:e,duration:3,style:{maxWidth:t?"194px":void 0,borderRadius:"12px"}})},[t]),{popupState:{closePopup:_},api:{sleepHoursExtend15Min:m,sleepHoursExtend1Hour:h,sleepHoursDismiss:v}}=b();(0,a.useEffect)(()=>{t&&!d?c(!0):t||s||l(!0)},[t,d,s,c,l]),(0,a.useEffect)(()=>{k.f.event("show_sleep_hours_popup",{popup_type:"revamp"})},[]);const f=(0,a.useCallback)(()=>{1===i?(k.f.event("sleep_hours_extend_time",{popup_type:"revamp",extend_time:15,platform:t?"mobile":"pc"}),m(),g(p("privacy_projectS_sleepHours_remindYou15Min_confirmation_toast",{},"We'll remind you about your sleep hours in 15 minutes"))):(k.f.event("sleep_hours_extend_time",{popup_type:"revamp",extend_time:60,platform:t?"mobile":"pc"}),h(),g(p("privacy_projectS_sleepHours_remindYou_confirmation_toast",{},"We'll remind you again after 1 hour on TikTok"))),_()},[_,t,i,m,h,p,g]),y=(0,a.useCallback)(()=>{k.f.event("sleep_hours_dismiss",{popup_type:"revamp",platform:t?"mobile":"pc"}),v(),_(),g(p("privacy_projectS_sleepHours_turnOffToday_confirmation_toast",{s_startTime:(0,C.Tx)(u.sleepTimeSettings,p("nightscreentimemgmt_setsleeptime_halfsheet_am_desc",{},"AM"),p("nightscreentimemgmt_setsleeptime_halfsheet_pm_desc",{},"PM"))},"Your sleep hours will resume tomorrow at {s_startTime}"))},[u.sleepTimeSettings,_,t,v,p,g]);return(0,a.useEffect)(()=>{if(!u.initialized)return;const e=()=>{const e=u.sleepTimeSettings;e&&(0,C.eR)(e)||(_(),k.f.event("sleep_hours_client_close",{popup_type:"revamp",platform:t?"mobile":"pc"}))};setTimeout(e,5e3);const i=setInterval(()=>{e()},3e4);return()=>{clearInterval(i)}},[u.initialized,u.sleepTimeSettings,_,t]),(0,n.jsx)(e,{popupType:0===i?"first":"second",isMinor:1===o,onDismiss:y,onExtendTime:f,header:r})};B.defaultProps={popupType:0};var z=i(54990),U=i(60568);class N extends U.Yg{constructor(e){super(),this._config=e}getActionType(){return U.W9.SCREEN_TIME}processData(e){const t=JSON.parse(e);this.dataModel=t,"object"==typeof t&&Object.keys(t).length?this.messageInfo=t:this.messageInfo=void 0}executeAction(){const e=this.messageInfo;e&&this._config.onMessageProcessor(e),setTimeout(()=>{this.completeAction()},3e3)}destruct(){super.destruct(),this.messageInfo=void 0}}class W extends U.tL{constructor(e){super(),this._config=e}createAction(){return new N(this._config)}}var V=i(90976),H=i(2232),q=i(58364);const $=({dailyLimit:e,sleepHours:t,header:i,isMobile:r})=>{var s,l;const{popupState:{popupType:d,open:c,popupUI:u}={}}=y(),[p,g]=(0,a.useState)(!1),{abTestVersion:m}=null!==(s=(0,V.W)(()=>["abTestVersion"],[]))&&void 0!==s?s:{},h="v1"===(null!==(l=(0,H.qt)(m,"stm_web_revamp"))&&void 0!==l?l:"v0"),v=w(),f=(0,q.gK)();return(()=>{const{initCommunicationServiceSDK:e}=(0,z.v)(),t=w();(0,a.useEffect)(()=>{e(),U.Ay.registerActionFactory([{key:U.W9.SCREEN_TIME,instance:new W({onMessageProcessor:t})}])},[e,t])})(),(0,a.useEffect)(()=>{p||(0,o.__awaiter)(void 0,void 0,void 0,function*(){}).then(()=>{g(!0)})},[p,v]),(0,a.useEffect)(()=>{const e=A();return h?(e.init(),e.start()):e.end(),()=>{e.destruct()}},[h]),c&&h?d===_.DailyScreenTimeLimit?(0,n.jsx)(O,{popup:e}):f&&d===_.SleepHours?(0,n.jsx)(B,{popup:t,popupType:null==u?void 0:u.sleep_hours_type,isMinor:null==u?void 0:u.sleep_hours_minor,header:i,isMobile:r}):null:null};var G=i(67476),K=i(67518),Y=i(68932),Z=i(70126),J=i(9015);const X=e=>{var t;const{isOpen:i,passcode:o,isFP:r,desc:s,title:l,onDismiss:d}=e,c=b();(0,a.useEffect)(()=>{i&&k.f.event("web_stm_pop_up",{popup_type:"revamp",platform:"pc"})},[i]);const u=(0,L.s)(),{isDark:p}=(0,K.u)(),[g,_]=(0,a.useState)(""),m=!g,h=(0,G.Ab)({zIndex:999999}),[v,f]=(0,a.useState)(""),{user:y}=null!==(t=(0,V.W)(()=>["user"],[]))&&void 0!==t?t:{},x=()=>{h.open({id:"stmPasscodeSuccess",message:u(M.A.STM_CONFIRM_TOAST,{},"You've returned to Tiktok"),durationMS:3e3,hasTickIcon:!0}),c.api.uploadDailySTMPopupSuccess({date:(0,C.zk)(new Date),screen_time_limit_type:r?3:1}),k.f.event("web_users_return_tt",{popup_type:"revamp",platform:"pc"}),d()},w=()=>{f(u(M.A.STM_INCORRECT_PASSCODE,{},"The passcode you entered is incorrect. Please try again.")),k.f.event("web_dstime_passcode_error",{popup_type:"revamp",platform:"pc"})};return(0,n.jsx)(G.Mw,{isOpen:i,size:"Small",children:(0,n.jsxs)(J._w,{children:[(0,n.jsx)(J.lZ,{src:p?Y:Z,height:"145px"}),(0,n.jsx)(J.hE,{children:l}),(0,n.jsx)(J.VY,{children:s}),(0,n.jsx)(J.bK,{children:(0,n.jsx)(G.R8,{errorText:v,maxLength:4,value:g,onChange:e=>{const t=e.target.value.replace(/[^\d]/g,"");_(t),f("")},block:!0})}),(0,n.jsx)(J.ST,{children:(0,n.jsx)(G.I0,{disabled:m,onClick:()=>{try{if(k.f.event("web_dstime_enter_passcode",{popup_type:"revamp",platform:"pc"}),r){if(r){const e=(0,C.Zf)(g,(null==y?void 0:y.uid)||"");c.api.uploadDailySTMTeenPinSuccess({pass_code:e}).then(e=>{0===e.status_code?x():w()}).catch(()=>{w()})}}else g!==o?w():x()}catch(e){console.error(e),w()}},label:u(M.A.STM_RETURN_TIKTOK,{},"Return to Tiktok"),variant:"primary",size:"large",block:!0})})]})})};var Q=i(16410);const ee=(0,Q.default)("div",{target:"e1s6q08d0"})(({isMobile:e})=>({textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",padding:e?40:32,gap:"40px",width:e?void 0:"100%",paddingTop:"200px",justifyContent:e?"space-between":void 0,paddingBottom:e?"150px":void 0,height:"fit-content"}),"label:SleepHoursContainer;"),te=(0,Q.default)("div",{target:"e1s6q08d1"})(({isMobile:e})=>({textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:e?"16px":"12px",width:"100%"}),"label:SleepHoursInfo;"),ie=(0,Q.default)("div",{target:"e1s6q08d2"})(({isMobile:e})=>({textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:e?"8px":"12px",width:"100%"}),"label:SleepHoursInfoText;"),ne=(0,Q.default)("div",{target:"e1s6q08d3"})(({isMobile:e})=>({color:"rgba(246, 246, 246, 1)",fontSize:e?"40px":"80px",lineHeight:e?"48px":"96px",textAlign:"center",fontWeight:700,padding:e?"5px":void 0}),"label:Title;"),oe=(0,Q.default)("div",{target:"e1s6q08d4"})(({isMobile:e})=>({fontWeight:500,color:"rgba(255, 255, 255, 0.88)",fontSize:e?"16px":"20px",lineHeight:e?"20px":"25px",textAlign:"center",letterSpacing:e?"0%":"1.5%",maxWidth:"640px",padding:e?"5px 15px 5px 15px":void 0}),"label:Subtitle;"),ae=(0,Q.default)("div",{target:"e1s6q08d5"})([{position:"fixed",backgroundColor:"rgba(0, 0, 0, 1)",bottom:0,zIndex:3001,left:0,top:0,right:0,width:"100vw",height:"var(--vhstm)",overflow:"hidden"}],"label:ModalContainer;"),re=(0,Q.default)("div",{target:"e1s6q08d6"})(({isMobile:e})=>({position:"absolute",top:0,left:0,height:e?void 0:"100%",width:"100%",display:"flex",justifyContent:"center",opacity:.5}),"label:BackgroundImageContainer;"),se=(0,Q.default)("img",{target:"e1s6q08d7"})([{height:"100%",objectFit:"cover"}],"label:BackgroundImage;"),le=(0,Q.default)("img",{target:"e1s6q08d8"})(({isMobile:e})=>({height:e?"40px":"50px",width:e?"40px":"50px"}),"label:MoonImage;"),de=(0,Q.default)("div",{target:"e1s6q08d9"})([{display:"flex",position:"relative",zIndex:1,height:"100%",flexDirection:"column"}],"label:ModalContent;"),ce=(0,Q.default)("div",{target:"e1s6q08d10"})(({isMobile:e})=>({display:"flex",flexDirection:e?"column":"row",gap:"16px",position:e?"absolute":void 0,bottom:e?"40px":void 0,width:"fit-content"}),"label:SettingButtonsContainer;"),ue=(0,Q.default)("button",{target:"e1s6q08d11"})(({isMobile:e,noBackground:t})=>({backgroundColor:e&&t?"transparent":e?"rgba(255, 255, 255, 0.19)":"white",padding:e?"8px 10px 8px 10px":"8px 0px 8px 0px",width:e?"100%":"244px",borderRadius:e?"20px":"6px"}),"label:SettingButton;"),pe=(0,Q.default)("div",{target:"e1s6q08d12"})(({isMobile:e})=>({color:e?"white":"black",gap:"4px",marginRight:"10px",marginLeft:"10px",fontWeight:500,fontSize:"16px",textAlign:"center"}),"label:SettingButtonText;");var ge=i(97102);const _e=i.p+"8772a650bbb9054ce2ba.png",me=i.p+"22d054cb8e61038805e4.png",he=e=>{const{onExtendTime:t,popupType:i,isMobile:o,onDismiss:a,isMinor:r}=e,s=(0,L.s)();return"first"===i?(0,n.jsxs)(ee,{isMobile:o,children:[(0,n.jsxs)(te,{isMobile:o,children:[(0,n.jsx)(le,{src:me,isMobile:o}),(0,n.jsxs)(ie,{isMobile:o,children:[(0,n.jsx)(ne,{isMobile:o,children:s("privacy_projectS_sleepHours_intervention_headline",{},"Sleep hours")}),(0,n.jsx)(oe,{isMobile:o,children:s("privacy_projectS_sleepHours_body",{},"Unwind with a breathing exercise for a good night’s sleep.")})]})]}),(0,n.jsx)(ce,{isMobile:o,children:(0,n.jsx)(ue,{onClick:()=>r?t():a(),isMobile:o,children:(0,n.jsx)(pe,{isMobile:o,children:s("privacy_projectS_sleepHours_v2_editReturnForNow_intervention_return_btn",{},"Return for now")})})})]}):(0,n.jsxs)(ee,{isMobile:o,children:[(0,n.jsxs)(te,{isMobile:o,children:[(0,n.jsx)(le,{src:me,isMobile:o}),(0,n.jsxs)(ie,{isMobile:o,children:[(0,n.jsx)(ne,{isMobile:o,children:s("privacy_projectS_sleepHours_intervention_headline",{},"Sleep hours")}),(0,n.jsx)(oe,{isMobile:o,children:s("privacy_projectS_sleepHours_body",{},"Unwind with a breathing exercise for a good night’s sleep.")})]})]}),(0,n.jsxs)(ce,{isMobile:o,children:[(0,n.jsx)(ue,{onClick:a,isMobile:o,children:(0,n.jsx)(pe,{isMobile:o,children:s("privacy_projectS_sleepHours_manageSleepHours_sheet_skip_option",{},"Skip for today")})}),(0,n.jsx)(ue,{onClick:()=>t(),isMobile:o,noBackground:!0,children:(0,n.jsx)(pe,{isMobile:o,children:s("privacy_projectS_sleepHours_15minsReminder",{},"Remind me in 15 minutes")})})]})]})},ve=e=>{const{isOpen:t,children:i,id:o,isMobile:r}=e;return(e=>{const[t,i]=(0,a.useState)(window.innerHeight);(0,a.useEffect)(()=>{if(!e)return;const t=()=>{i(window.innerHeight)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e]),(0,a.useEffect)(()=>{document.documentElement.style.setProperty("--vhstm",`${t}px`)},[t])})(t),t?(0,n.jsxs)(ae,{id:o,children:[(0,n.jsx)(re,{isMobile:r,children:(0,n.jsx)(se,{src:r?_e:ge})}),(0,n.jsx)(de,{children:i})]}):null},fe=e=>(0,n.jsx)(G.Mw,{isOpen:!0,size:"Small",children:(0,n.jsx)(ve,{isOpen:!0,children:(0,n.jsxs)(n.Fragment,{children:[e.header,(0,n.jsx)(he,{isMobile:!1,popupType:e.popupType,onDismiss:e.onDismiss,onExtendTime:e.onExtendTime,isMinor:e.isMinor})]})})}),ye=({header:e})=>(0,n.jsx)($,{dailyLimit:X,sleepHours:fe,header:e,isMobile:!1})},47696:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var n=i(24643),o=i(40099);function a(e){return function(t){const[i,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>a(!0),[]),i?(0,n.jsx)(e,Object.assign({},t)):null}}},47887:(e,t,i)=>{"use strict";i.d(t,{ct:()=>r});var n=i(40099),o=i(47263),a=i(95778);const r=(e,t,i=!1,r=!0)=>{const{zoomCover:s,cover:l="",dynamicCover:d}=e,c=null==s?void 0:s[null!=t?t:"720"],u=()=>{const{supportWebp:e,supportAvif:t}=(0,o.PD)(),n=(0,a.G)(c);return i&&d&&(1!==(0,a.G)(d)||e)?d:!c||1===n&&!e||2===n&&!t?l:c},[p,g]=(0,n.useState)(r?i&&d?d:c||l:u());return(0,n.useEffect)(()=>{g(u())},[e]),p}},48083:(e,t,i)=>{"use strict";i.d(t,{P:()=>a});var n=i(40099),o=i(67083);function a(e){const{autoplay:t,autoMutedPlay:i,onAutoPlayPrevent:a}=e,[r,s]=(0,n.useState)(!1),[l,d]=(0,n.useState)(!1),c=(0,n.useRef)(),u=(0,n.useRef)(e=>{c.current=e,t&&e.once(o.AUTOPLAY_PREVENTED,()=>{null==a||a(),s(!0)})});return(0,n.useEffect)(()=>{c.current&&i&&r&&t&&(c.current.muted=!0,d(!0))},[i,r,t,c]),(0,n.useEffect)(()=>{c.current&&l&&c.current.play()},[l,c]),{mutedPlay:l,registerAutoplayPreventRef:u}}},48145:(e,t,i)=>{"use strict";i.d(t,{g:()=>f});var n=i(72516),o=i(24643),a=i(49160),r=i(70859),s=i(78751),l=i(26930),d=i(45027),c=i(80179),u=i(61322),p=i(11675),g=i(69857),_=i(90976),m=i(27799),h=i(94568),v=i(68252);const f=e=>{var t,i,f;const{detail:y,query:b,transcriptContent:x,translatedLang:k}=e,w=(0,p.wW)(),S=(0,m.s)(),{language:C,appType:j}=(0,g.L$)((0,_.W)(()=>["language","appType"],[])),T=null!==(f=null===(i=null===(t=null==y?void 0:y.itemInfo)||void 0===t?void 0:t.itemStruct)||void 0===i?void 0:i.id)&&void 0!==f?f:"",{isBot:I}=(0,g.L$)((0,u.U)(()=>["isBot","isMobile"],[])),[P,A]=(0,r._G)(),{itemCustomTDK:M}=P;(0,l.o)(()=>{var e,t;return T&&I?[A.fetchData(null!==(t=null===(e=null==y?void 0:y.itemInfo)||void 0===e?void 0:e.itemStruct)&&void 0!==t?t:{id:""}),()=>{A.reset()}]:Promise.resolve()},[A,T]);const L=(0,d.w)(h.e),D=(0,c.useSetAtom)(s.b);return(0,l.o)(()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e,t,i,n,o,r,s,l,d;const{statusCode:c}=y;if(-1!==c){const c={language:C},u=null!==(i=null===(t=null===(e=null==y?void 0:y.itemInfo)||void 0===e?void 0:e.itemStruct)||void 0===t?void 0:t.id)&&void 0!==i?i:"",p=null!==(l=null===(s=null===(r=null===(o=null===(n=null==y?void 0:y.itemInfo)||void 0===n?void 0:n.itemStruct)||void 0===o?void 0:o.author)||void 0===r?void 0:r.bioLink)||void 0===s?void 0:s.link)&&void 0!==l?l:"",g=Object.assign(Object.assign(Object.assign({},y),c),{transcriptContent:x,bioLink:p,seoProps:{pageId:u,translatedLang:k,pageType:0,abtest:w,customTDK:M?{title:M.title,description:M.desc,keywords:null===(d=M.keywords)||void 0===d?void 0:d.slice(0,10),article:M.article}:void 0},t:S}),_=yield(0,v.G)(g,a.z),{metaParams:m={},jsonldList:h=[]}=_;return D({metaParams:m,jsonldList:h}),L.setVideoSharingMetaEffect({seoProps:_,response:y,appType:j,query:b})}}),[j,C,y,M]),(0,o.jsx)(o.Fragment,{})}},48926:(e,t,i)=>{"use strict";i.d(t,{Q:()=>l});var n=i(24643),o=i(40099),a=i(43269),r=i(67476),s=i(70716);const l=({label:e,description:t,hintText:i,value:l,onChange:d,onClick:c,disabled:u,selection:p,showArrow:g=!0,isSelected:_=!1,width:m})=>{const h="webapp-scroll-list",v=`${h}_input`,f=`${h}_description`,y=(0,r.Yk)(),b=(0,o.useRef)(null),x=(0,o.useRef)(null),k=(0,o.useRef)(null),w=[b,x,k],[S,C]=l,j=l.map((e,t)=>p[t].options),T=e=>{if(b.current){const t=j[0].findIndex(e=>e.value===S);b.current.scrollTo({top:32*t,behavior:e})}},I=e=>{if(x.current){const t=j[1].findIndex(e=>e.value===C);x.current.scrollTo({top:32*t,behavior:e})}},P=e=>{if(k.current){const t=1;k.current.scrollTo({top:32*t,behavior:e})}};return(0,o.useLayoutEffect)(()=>{I("auto"),T("auto"),P("auto")},[y.isExpanded]),(0,o.useLayoutEffect)(()=>{T("smooth"),P("smooth")},[S]),(0,o.useLayoutEffect)(()=>{I("smooth")},[C]),(0,n.jsxs)("div",{children:[t?(0,n.jsx)(r.uC,{id:f,text:t,marginBlockStart:"4px"}):null,(0,n.jsxs)(s.Uq,{onClick:()=>{c&&c()},children:[(0,n.jsxs)(s.W,Object.assign({id:v,type:"button",disabled:u,isSelected:_,width:m},y.anchorProps,{children:[(0,n.jsx)(r.Fm,{type:"P3-Regular",truncate:!0,children:"string"==typeof e?e:e(l)}),g?(0,n.jsx)(r.Ft,{icon:a.A,size:16}):null]})),(0,n.jsx)(r.Xw,Object.assign({},y.popoverProps,{children:(0,n.jsx)(s.xm,{children:p.map((e,t)=>(0,n.jsx)(s.T0,{ref:w[t],children:e.options.map(e=>(0,n.jsx)(s.ln,{isSelected:e.value===l[t],isDisabled:!1,onClick:()=>((e,t)=>{const i=[...l];i[t]=e,d(i)})(e.value,t),children:e.label},e.label))},`scroll-input-${t}`))})}))]}),i?(0,n.jsx)(r.DW,{text:i,marginBlockStart:"4px"}):null]})}},48973:(e,t,i)=>{"use strict";i.d(t,{y:()=>g});var n=i(24643),o=i(70716),a=i(64267),r=i(62398),s=i(83563),l=i(9668),d=i(67476),c=i(45027),u=i(27799),p=i(85650);const g=()=>{const[e]=(0,c.S)(p.z),t=(0,u.s)(),i=[t("screentimedash_digitalwellbeing_summary_day_label_mon",{},"Mon").replace("&rlm;",""),t("screentimedash_digitalwellbeing_summary_day_label_tue",{},"Tue").replace("&rlm;",""),t("screentimedash_digitalwellbeing_summary_day_label_wed",{},"Wed").replace("&rlm;",""),t("screentimedash_digitalwellbeing_summary_day_label_thu",{},"Thu").replace("&rlm;",""),t("screentimedash_digitalwellbeing_summary_day_label_fri",{},"Fri").replace("&rlm;",""),t("screentimedash_digitalwellbeing_summary_day_label_sat",{},"Sat").replace("&rlm;",""),t("screentimedash_digitalwellbeing_summary_day_label_sun",{},"Sun").replace("&rlm;","")],g=(()=>{const n=new Map,o=e.FPSTMManagementDaySetting;return null==o||o.forEach((e,a,r)=>{let s="";const l=Math.floor(e.screen_time_limit/60),d=e.screen_time_limit-60*Math.floor(e.screen_time_limit/60);let c="";c=0===l?t("customizeSTM_screenTimeLimit_selectTime_minutes",{minutes:d},"{minutes}m"):d>0?t("customizeSTM_screenTimeLimit_selectTimeActionSheet",{hours:l,minutes:d},"{hours}h {minutes}m"):t("customizeSTM_screenTimeLimit_selectTime_hours",{hours:l},"{hours}h"),n.has(c)?(s=`${n.get(c)}, ${i[o[e.day-1].day-1]}`,n.set(c,s)):n.set(c,i[o[r[a].day-1].day-1])}),[...n]})().map((e,t)=>(0,n.jsxs)("div",{className:"w-full flex flex-row mt-16 ml-16",children:[(0,n.jsx)("div",{style:{flex:7},className:"text-color-TextPrimary H4-Regular mr-32",children:e[1]}),(0,n.jsx)("div",{style:{marginRight:-32,flex:3},className:"flex-grow text-color-TextPrimary H4-Regular",children:e[0]})]},t)),_=[{title:t("customizeSTM_dailyScreenTimeOn_header_notified",{},"Get notified"),text:t("customizeSTM_dailyScreenTimeOn_desc_notified",{username:e.parentUsername},"If you reach your time, you’ll get notified and you’ll need to enter a passcode from {username} to keep using the app."),iconComponent:(0,n.jsx)(a.A,{})},{title:t("customizeSTM_dailyScreenTimeOn_header_discuss",{},"Discuss your settings with your parent or guardian"),text:t("customizeSTM_dailyScreenTimeOn_desc_discuss",{username:e.parentUsername},"Your daily screen time settings are managed by {username} in Family Pairing."),iconComponent:(0,n.jsx)(r.A,{})}],m=[{title:(()=>{const i=Math.floor(e.userSTMLimit/60),n=e.userSTMLimit-60*i;return 0===i?t("customizeSTM_dailyScreenTimeOn_header_time_minutes",{minutes:n},"{minutes}m"):0===n?t("customizeSTM_dailyScreenTimeOn_header_time_hours",{hours:i},"{hours}h"):t("customizeSTM_dailyScreenTimeOn_header_time_hoursMinutes",{hours:i,minutes:n},"{hours}h {minutes}m")})(),text:"",iconComponent:(0,n.jsx)(s.A,{})},{title:t("customizeSTM_dailyScreenTimeOn_header_notified",{},"Get notified"),text:t("customizeSTM_dailyScreenTimeOn_desc_notified",{username:e.parentUsername},"If you reach your time, you’ll get notified and you’ll need to enter a passcode from {username} to keep using the app."),iconComponent:(0,n.jsx)(a.A,{})},{title:t("customizeSTM_dailyScreenTimeOn_header_discuss",{},"Discuss your settings with your parent or guardian"),text:t("customizeSTM_dailyScreenTimeOn_desc_discuss",{username:e.parentUsername},"Your daily screen time settings are managed by {username} in Family Pairing."),iconComponent:(0,n.jsx)(r.A,{})}],h=[{title:t("customizeSTM_teenDailyScreenTimeOn_header"),text:(0,n.jsx)("div",{children:g}),iconComponent:(0,n.jsx)(s.A,{})},{title:t("customizeSTM_dailyScreenTimeOn_header_notified",{},"Get notified"),text:t("customizeSTM_dailyScreenTimeOn_desc_notified",{username:e.parentUsername},"If you reach your time, you’ll get notified and you’ll need to enter a passcode from {username} to keep using the app."),iconComponent:(0,n.jsx)(a.A,{})},{title:t("customizeSTM_dailyScreenTimeOn_header_discuss",{},"Discuss your settings with your parent or guardian"),text:t("customizeSTM_dailyScreenTimeOn_desc_discuss",{username:e.parentUsername},"Your daily screen time settings are managed by {username} in Family Pairing."),iconComponent:(0,n.jsx)(l.A,{})}],v=2===e.STMManagementRepeatType?h:m,f=e.isFpTeenOpenDailySTM?v:_;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.bP,{isPopup:!0,children:[(0,n.jsx)(d.zm,{color:"LineSecondary"}),f.map(e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.w2,{children:[e.iconComponent,(0,n.jsx)(o.PZ,{children:e.title})]}),e.text?(0,n.jsx)(o.up,{children:e.text}):null]})),(0,n.jsx)(d.zm,{color:"LineSecondary"})]})})}},49389:(e,t,i)=>{"use strict";i.d(t,{Q:()=>h});var n=i(24643),o=i(67518),a=i(40099),r=i(68652),s=i(12527),l=i(36970),d=i(16410),c=i(93584);const u=(0,d.default)("div",{target:"e7o5pyu0"})({display:"flex",alignItems:"start",justifyContent:"center",padding:"8px",backgroundColor:"rgba(0, 0, 0, 0.6)"},"label:DivContainer;"),p=(0,d.default)("div",{target:"e7o5pyu1"})(({useSmallSize:e=!1})=>({flex:e?"unset":"0 0 22px",width:e?12:22,padding:e?"unset":"4px 0",fontSize:e?"12px":"16px"}),"label:DivIconContainer;"),g=(0,d.default)(p,{target:"e7o5pyu2"})(({theme:{direction:e},useSmallSize:t})=>Object.assign({textAlign:(0,c.t7)(e,"start")},{useSmallSize:t}),"label:StyledWarningIconContainer;"),_=(0,d.default)(p,{target:"e7o5pyu3"})(({theme:{direction:e}})=>({textAlign:(0,c.t7)(e,"start")}),"label:StyledArrowIconContainer;"),m=(0,d.default)("div",{target:"e7o5pyu4"})(({theme:e,useSmallSize:t=!1})=>[(0,c.zy)({theme:e,fontWeight:"semiBold",color:"ConstTextInverse"}),{flex:"0 1 auto",fontSize:t?"10px":"16px",lineHeight:t?"12px":"24px",wordBreak:"break-word",verticalAlign:"text-top",textAlign:(0,c.t7)(e.direction,"start")}],"label:DivWarnInfoContent;"),h=(0,a.memo)(function({info:{text:e,url:t},needExtraBottom:i=!1,useSmallSize:d=!1}){const{direction:c,colors:{ConstTextInverse:p}}=(0,o.u)(),h=(0,a.useMemo)(()=>"ltr"===c?(0,n.jsx)(r.A,{fill:p}):(0,n.jsx)(s.A,{fill:p}),[p,c]),v=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t&&window.open(t,"_blank","noopener,noreferrer")},[t]);return(0,n.jsxs)(u,{onClick:v,style:{cursor:t?"pointer":"unset",paddingBottom:i?"44px":void 0},children:[(0,n.jsx)(g,{useSmallSize:d,children:(0,n.jsx)(l.A,{fill:p})}),(0,n.jsx)(m,{useSmallSize:d,children:e}),t&&(0,n.jsx)(_,{children:h})]})})},49580:(e,t,i)=>{"use strict";i.d(t,{c:()=>d});var n=i(24643),o=i(28591),a=i(72355),r=i(27799),s=i(14869),l=i(68252);const d=()=>{const e=(0,r.s)(),{pathname:t}=(0,a.zy)(),i=[e("seoOptimization_downloadTikTok_web_keyword",{},"TikTok"),e("seoOptimization_downloadTikTok_web_keyword2",{},"Download TikTok"),e("seoOptimization_downloadTikTok_web_keyword3",{},"Android"),e("seoOptimization_downloadTikTok_web_keyword4",{},"iOS"),e("seoOptimization_downloadTikTok_web_keyword5",{},"iPhone")].join(",");return(0,n.jsxs)(o.mg,{children:[(0,n.jsx)("title",{children:e("seoOptimization_downloadTikTok_web_metaTitle")}),(0,n.jsx)("meta",{name:"robots",content:"index, follow"}),(0,n.jsx)("meta",{name:"description",content:e("seoOptimization_downloadTikTok_web_metaDescription")}),(0,n.jsx)("meta",{name:"keywords",content:i}),(0,n.jsx)("link",{rel:"canonical",href:`${s.C}${t}`},"canonical"),(0,l.T)(`${s.C}/download`,"path")]})}},50167:(e,t,i)=>{"use strict";i.d(t,{Hi:()=>a,oe:()=>n});const n="ecom_email";var o;!function(e){e.OrderDetails="ecom_email_redesign_order_details_page",e.LogisticsDetails="ecom_email_redesign_logistics_page",e.OrderRating="ecom_email_redesign_write_review_page",e.RefundDetails="ecom_email_redesign_refund_detail_page",e.RequestRefund="ecom_email_redesign_request_refund",e.Orders="ecom_email_redesign_orders",e.Vouchers="ecom_email_redesign_vouchers",e.ShoppingCart="ecom_email_redesign_shopping_cart",e.CustomerMsg="ecom_email_customer_inbox_chat_detail",e.CustomerMute="ecom_email_customer_inbox_chat_mute",e.CustomerMuteAll="ecom_email_customer_inbox_chat_mute_all",e.ShopTabHomepage="ecom_email_shopping_mall_home_page",e.HalfScreenPDP="ecom_email_shopping_mall_home_pdp",e.HalfScreenDealPage="ecom_email_shopping_mall_channel",e.PDP="ecom_email_product_detail_page",e.CouponAddOnPage="ecom_email_redesign_vouchers_detail",e.PromotionProductList="ecom_email_promotion_products_list",e.SnsDetailPage="ecom_email_subscription_and_save"}(o||(o={}));const a={title:{ecom_email_redesign_order_details_page:"email_redesign_webapp_order_details_page_title",ecom_email_redesign_logistics_page:"email_redesign_webapp_logistics_page_title",ecom_email_redesign_write_review_page:"email_redesign_webapp_write_review_page_title",ecom_email_redesign_refund_detail_page:"email_redesign_webapp_refund_detail_page_title",ecom_email_redesign_request_refund:"email_redesign_webapp_request_refund_title",ecom_email_redesign_orders:"email_redesign_webapp_orders_title",ecom_email_redesign_vouchers:"email_redesign_webapp_vouchers_title",ecom_email_redesign_shopping_cart:"email_redesign_webapp_shopping_cart_title",ecom_email_customer_inbox_chat_detail:"seller_messages_email_webapp_reply_title",ecom_email_customer_inbox_chat_mute:"seller_messages_email_webapp_mute_title",ecom_email_customer_inbox_chat_mute_all:"seller_messages_email_webapp_setting_title",ecom_email_shopping_mall_home_page:"Ecom_email_pc_shoptab_homepage_title",ecom_email_shopping_mall_home_pdp:"Ecom_email_pc_pdp_shoptab_homepage_title",ecom_email_shopping_mall_channel:"Ecom_email_pc_deal_page_shoptab_homepage_title",ecom_email_product_detail_page:"Ecom_email_pc_pdp_title",ecom_email_redesign_vouchers_detail:"Ecom_email_pc_coupon_add_on_title",ecom_email_promotion_products_list:"Ecom_email_pc_free_shipping_add_on_page_title",ecom_email_subscription_and_save:"SNS_QR_code_instructions1"},desc:{ecom_email_redesign_order_details_page:"email_redesign_webapp_order_details_page_context",ecom_email_redesign_logistics_page:"email_redesign_webapp_logistics_page_context",ecom_email_redesign_write_review_page:"email_redesign_webapp_write_review_page_context",ecom_email_redesign_refund_detail_page:"email_redesign_webapp_refund_detail_page_context",ecom_email_redesign_request_refund:"email_redesign_webapp_request_refund_context",ecom_email_redesign_orders:"email_redesign_webapp_orders_context",ecom_email_redesign_vouchers:"email_redesign_webapp_vouchers_context",ecom_email_redesign_shopping_cart:"email_redesign_webapp_shopping_cart_context",ecom_email_customer_inbox_chat_detail:"seller_messages_email_webapp_reply_desc",ecom_email_customer_inbox_chat_mute:"seller_messages_email_webapp_mute_desc",ecom_email_customer_inbox_chat_mute_all:"seller_messages_email_webapp_setting_desc",ecom_email_shopping_mall_home_page:"Ecom_email_pc_shoptab_homepage_description",ecom_email_shopping_mall_home_pdp:"Ecom_email_pc_pdp_shoptab_homepage_description",ecom_email_shopping_mall_channel:"Ecom_email_pc_deal_page_shoptab_homepage_description",ecom_email_product_detail_page:"Ecom_email_pc_pdp_description",ecom_email_redesign_vouchers_detail:"Ecom_email_pc_coupon_add_on_description",ecom_email_promotion_products_list:"Ecom_email_pc_free_shipping_add_on_page_description",ecom_email_subscription_and_save:"SNS_QR_code_instructions2"}}},50181:(e,t,i)=>{"use strict";i.d(t,{I:()=>p,d:()=>u});var n=i(72516),o=i(40099),a=i(73976),r=i(16356),s=i(90976),l=i(61198);const d=90,c=30;function u(){const[{hasMoreFollowing:e,isFollowingLoading:t,isRecentChatsLoading:i},r]=(0,a.D1)(e=>({hasMoreFollowing:e.followingUser.hasMore,isFollowingLoading:e.isFollowingLoading,isRecentChatsLoading:e.isListLoading}),l.bN),s=(0,o.useCallback)((i=c)=>(0,n.__awaiter)(this,void 0,void 0,function*(){e&&!t&&(yield r.getFollowingUserListWithCanShare({count:i}))}),[e,t,r]);return{hasMoreFollowing:e,isFollowingLoading:t,isRecentChatsLoading:i,loadMoreFollowing:s}}function p(){var e;const{user:t}=null!==(e=(0,s.W)(()=>["user"],[]))&&void 0!==e?e:{},i=(0,r.nW)(e=>new Set(Object.keys(e.users)),l.bN),{recentUsers:c,followingUsers:p}=(0,a.VB)(e=>{const n=e.recentUidList.map((t,i)=>({uid:t,uniqueId:e.recentUserList[i],nickname:e.recentUserNameList[i]})).filter(e=>i.has(e.uniqueId));return t&&!n.some(e=>e.uid===t.uid)&&n.unshift({uid:t.uid,uniqueId:t.uniqueId,nickname:t.nickName}),{recentUsers:n,followingUsers:e.followingUser.uidList.map((t,i)=>({uid:t,uniqueId:e.followingUser.list[i],nickname:e.followingUser.nicknameList[i]}))}},l.bN),g=(0,r.eI)(),{hasMoreFollowing:_,loadMoreFollowing:m}=u(),h=(0,o.useCallback)((e=d)=>{if(!t||p.length||!_)return;const{uid:i,avatarUri:o,nickName:a}=t,r=(0,n.__rest)(t,["uid","avatarUri","nickName"]),s=Object.assign({id:i,nickname:a,verified:!1,relation:0,avatarThumb:o[0],avatarMedium:o[0],avatarLarger:o[0]},r);g.setUser(s,!1),m(e)},[t,p.length,_,m,g]);return{recentUsers:c,followingUsers:p,initShareUsers:h}}},50187:(e,t,i)=>{"use strict";i.d(t,{R:()=>a});var n=i(40099);const o=300;function a(e,t){const{onClick:i,onDoubleClick:a,onIntervalAction:r}=e(),s=(0,n.useRef)(0),l=(0,n.useRef)(!1);return(0,n.useCallback)(e=>{s.current&&window.clearTimeout(s.current),l.current?null==a||a(e):(null==r||r(),l.current=!0,window.setTimeout(()=>{l.current=!1},o),s.current=window.setTimeout(()=>{null==i||i(e)},o))},t)}},50622:(e,t,i)=>{"use strict";i.d(t,{G:()=>f});var n=i(24643),o=i(57432),a=i.n(o),r=i(40099),s=i(7607),l=i(27799),d=i(99411),c=i(16410),u=i(93584);const p=(0,c.default)("p",{target:"e1qpteip0"})(({theme:e})=>(0,u.zy)({theme:e,typography:"H4",fontWeight:"bold"}),{padding:"36px 32px",textAlign:"center",width:"332px"},"label:PDeleteTitle;"),g=(0,c.default)("button",{target:"e1qpteip1"})(u.WA,({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer",color:e.TextSecondary}),"label:ButtonConfirm;"),_=(0,c.default)(g,{target:"e1qpteip2"})(({theme:{colors:e}})=>({color:e.TextSecondary}),"label:StyledButtonCancel;");var m=i(34778),h=i(42186),v=i(4975);const f=function(e){const{visible:t,onClose:i=a(),videoId:o,isScheduled:c=!1}=e,u=(0,l.s)(),{isImmersivePlayerOpen:f}=(0,h.Z9)(e=>({isImmersivePlayerOpen:e.isOpen})),y=(0,v.Qw)(),b=(0,m.YZ)(),x=f?y:b,k=(0,r.useCallback)(()=>{c?x.postScheduleDelete(o):x.postVideoDelete({aweme_id:o,target:o}),null==i||i()},[c,x,i,o]),w=(0,r.useCallback)(()=>{c?s.y.handleScheduleDelete("cancel"):s.y.handleVideoDelete("cancel"),null==i||i()},[c,i]);return(0,n.jsxs)(d.i,{e2eData:"video-delete-modal",isOpen:t,compact:!0,onClose:i,closeOnBackdropClick:!0,closeOnEsc:!0,children:[(0,n.jsx)(p,{children:u("delete_confirm")}),(0,n.jsx)(g,{"data-e2e":"video-modal-delete",type:"button",onClick:k,children:u("delete")}),(0,n.jsx)(_,{"data-e2e":"video-modal-cancel",type:"button",onClick:w,children:u("cancel_settings")})]})}},50654:(e,t,i)=>{"use strict";i.d(t,{MQ:()=>x,Vi:()=>b,WH:()=>w,ck:()=>k,vN:()=>y});var n=i(69857),o=i(20434),a=i(50399),r=i(2232),s=i(90976),l=i(42123),d=i(11706),c=i(6473),u=i(10907),p=i(40485),g=i(37783),_=i(79749),m=i(40099),h=i(73899),v=i(89768),f=i(61198);const y=()=>{var e;const{abTestVersion:t}=(0,n.L$)((0,s.W)(()=>["abTestVersion"],[])),i=null!==(e=(0,r.qt)(t,"video_closed_caption"))&&void 0!==e?e:"v0",a="v0"!==i,d="v1"===i||"v2"===i;return"v0"===i&&(0,o.sc)(l.N),{enabledClosedCaption:a,isEntranceInMoreMenu:d}},b=()=>{var e;const{abTestVersion:t}=(0,n.L$)((0,s.W)(()=>["abTestVersion"],[])),i=null!==(e=(0,a.S)(t,"video_closed_caption_v2"))&&void 0!==e?e:"v0",r=(0,d.U1)();(0,m.useEffect)(()=>{"-1"===(0,o._S)(l.N,"-1")&&r.setIsCaptionOn("v1"===i,"",!1)},[i])},x=()=>{var e;const{abTestVersion:t}=(0,n.L$)((0,s.W)(()=>["abTestVersion"],[]));return"v0"!==(null!==(e=(0,r.qt)(t,"enable_post_translation"))&&void 0!==e?e:"v0")},k=(e,t)=>{var i;const{id:o="",video:a}=(0,n.L$)(e),{claInfo:r}=(0,n.L$)(a),{enabledClosedCaption:s}=y(),l=x(),p=(0,c.K)(),{selectedTranslationLanguage:g,isReady:h}=(0,d.RD)(e=>({selectedTranslationLanguage:e.selectedTranslationLanguage,isReady:e.isReady})),v=(0,u.xr)(),f=(0,u.sX)(o),b=(0,u.xL)(o),k=(0,u.Vk)(o),w=(0,u.xJ)(o),S=null===(i=null==r?void 0:r.originalLanguageInfo)||void 0===i?void 0:i.languageCode,C=f?g:S,j=(0,m.useMemo)(()=>{if(!r||!r.captionInfos)return[];const e=r.captionInfos.map(e=>{var t,i,n,o;return{id:null!==(t=e.languageID)&&void 0!==t?t:"",language:null!==(i=e.languageCode)&&void 0!==i?i:"",url:null!==(n=e.urlList)&&void 0!==n?n:[],urlExpire:null!==(o=e.expire)&&void 0!==o?o:""}});return w&&e.push(w),e},[r,w]),T=(0,m.useMemo)(()=>j.filter(e=>e.language===C),[j,C]),I=(0,m.useMemo)(()=>{var e,t;return null===(t=null===(e=null==r?void 0:r.captionInfos)||void 0===e?void 0:e.filter(e=>e.isOriginalCaption)[0])||void 0===t?void 0:t.claSubtitleID},[r]),P=(0,m.useMemo)(()=>0===j.length?null:T[0],[j,T]),A=(0,m.useCallback)(e=>{const{type:i,texts:n=[],error:a}=e;if("update"===i)if(n.length>0){const{text:e}=n[0];p.setCurrentCaption(e.join(""))}else p.setCurrentCaption("");else a&&_.lN.handleCaptionError({error_msg:a.message,group_id:o,play_mode:t,caption_url:null==P?void 0:P.url})},[p,o,t,P]);return(0,m.useEffect)(()=>{l&&b&&k&&0===T.length&&I&&h&&v.getSubtitleTranslation({target_language:g,item_id:o,subtitle_id:I})},[l,b,k,T,I,o,v,g,h]),s||l?{subtitleList:j,curSubtitle:P,handleSubtitleCallback:A}:{}},w=e=>{const t=(0,p.l)(e),i=(0,g.F3)(t=>t[e]),{language:n}=(0,v.x)(),{captionOptions:o,captionLanguage:a}=(0,h.g)(i),{translationDisableLanguages:r,selectedTranslationLanguage:s,isMasterTranslationOn:l,isReady:c}=(0,d.RD)(e=>({translationDisableLanguages:e.translationDisableLanguages,selectedTranslationLanguage:e.selectedTranslationLanguage,isMasterTranslationOn:e.isMasterTranslationOn,isReady:e.isReady}),f.bN),_=(0,u.sX)(e),m=(0,u.M)(e);return{caption_mode:t?"on":"off",caption_options:o,caption_language:a,always_translate_post_mode:l?"on":"off",do_not_translate_mode:0===r.length?"no_selection":"has_selection",translate_into_mode:s===n?"default_language":"user_selected_language",see_original_show:_&&m&&c?"yes":"no",see_translation_show:!_&&m&&c?"yes":"no"}}},50700:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=i(24643),o=i(67518),a=i(28333),r=i(40099),s=i(46221),l=i(20434),d=i(98042),c=i(91126),u=i(84128),p=i(27799),g=i(72995);const _=(0,r.memo)(function(e){const{useLargeToggle:t=!1,tooltipOffset:i=-11,videoId:_,playMode:m,isVideoEnded:h,handleNextVideo:v,hideTooltip:f,iconSize:y}=e,{colors:b}=(0,o.u)(),x=(0,p.s)(),k=(0,d.eu)(),w=(0,d.J3)(),S="rgba(255, 255, 255, 1)",C=(0,r.useMemo)(()=>({background:t?b.ConstBGInverse3:b.ConstBGInverse1,paddingInlineStart:"12px",paddingInlineEnd:"12px",fontWeight:500,fontSize:"14px",lineHeight:"18px",display:f?"none":""}),[t,b.ConstBGInverse3,b.ConstBGInverse1]),j=(0,r.useCallback)(()=>{g.p.handleClickAutoScroll({play_mode:m,group_id:_},!k),w.toggleAutoScroll(),h&&v&&v()},[m,_,k,w,v]),T=(0,r.useCallback)(()=>{g.p.handleHoverAutoScroll({play_mode:m,group_id:_},null!=k&&k)},[m,_,k]);return(0,n.jsx)(a.m,{fullscreenAdjust:!0,overlay:x(k?"pcWeb_autoScroll_on":"pcWeb_autoScroll_off"),overlayInnerStyle:C,arrow:!1,align:{offset:[0,i]},children:(0,n.jsx)(s.v,{onClick:j,onMouseDown:l.dG,onMouseEnter:T,useLargeToggle:t,children:k?(0,n.jsx)(c.A,{fontSize:null!=y?y:t?20:21,style:{fill:S}}):(0,n.jsx)(u.A,{fontSize:null!=y?y:t?20:21,style:{fill:S}})})})})},50726:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});var n=i(72516),o=i(7672),a=i(44094);let r=class{constructor(e){this.fetch=e}getReportNotices(e){return this.fetch.get("/aweme/v1/report/inbox/notice",{query:e,baseUrlType:2})}getReportList(e){return this.fetch.get("/node/report/inbox/list",{query:e,baseUrlType:2})}getDeleteReport(e){return this.fetch.get("/tns-api/report/delete",{query:e,baseUrlType:2})}getBlockUser(e){return this.fetch.get("/tns-api/report/block",{query:e,baseUrlType:2})}getReportDetail(e){return this.fetch.get("/node/report/inbox/detail",{query:e,baseUrlType:2})}};r=(0,n.__decorate)([(0,o._)(),(0,n.__metadata)("design:paramtypes",[a.p])],r)},50841:(e,t,i)=>{"use strict";i.d(t,{c:()=>T});var n,o,a=i(72516),r=i(40099),s=i(95074),l=i(57432),d=i.n(l),c=i(9953),u=i.n(c),p=i(72355),g=i(60433),_=i(35762),m=i(20434),h=i(33923),v=i(20173),f=i(59725);!function(e){e.IMCloud="5",e.WatchOnPC="134217786",e.KickOffline="3001"}(n||(n={})),function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(o||(o={}));var y=i(59178),b=i(45375),x=i(6418);const k=e=>{((e,t,i)=>{if(window.SlardarClient)try{window.SlardarClient("sendEvent",{name:"livesdk_open_on_computer_process",categories:i,metrics:{}})}catch(e){}})(0,0,e)},w=({uniqueId:e})=>{try{y.S.handleLiveMobileRelayProcess({action_type:y.l.OpenLiveRoomStart}),k({action_type:y.l.OpenLiveRoomStart});const t=(0,b.G2o)({uniqueId:e});window.location.href=t,(0,m.J2)(x.Nj,JSON.stringify({time:Date.now(),isFromMobileRelay:"1",uniqueId:e}))}catch(e){y.S.handleLiveMobileRelayProcess({action_type:y.l.OpenLiveRoomFailed,error_msg:JSON.stringify(e)}),k({action_type:y.l.OpenLiveRoomFailed,error_msg:JSON.stringify(e)})}};let S;var C=i(58573);let j;const T=()=>{const e=(0,g.V)(),{user:t,encryptedWebid:l,lang:c,env:b,wid:T,$wsUrl:I}=(0,s.P)(v.L,{dependencies:[],selector:t=>{var i,n,o,a;return{user:null===(i=t.appContext)||void 0===i?void 0:i.user,wid:null===(n=t.appContext)||void 0===n?void 0:n.wid,encryptedWebid:null===(o=t.appContext)||void 0===o?void 0:o.encryptedWebid,lang:t.lang,env:null===(a=t.appContext)||void 0===a?void 0:a.env,$wsUrl:e.imFrontier.replace(/\/ws\/v\d+/,"")}}}),P=(0,r.useRef)(),A=(0,h.OW)("webapp_push_init_url",{}).disable_url,{pathname:M}=(0,p.zy)(),L=(0,r.useMemo)(()=>!!A&&Boolean((0,p.B6)(M,{path:A,exact:!0})),[A,M]),D=(0,r.useCallback)((e,t)=>(0,a.__awaiter)(void 0,void 0,void 0,function*(){const{FWS:o}=yield i.e(4563).then(i.t.bind(i,85885,23)),a=new o(Object.assign({},e));P.current=a,a.onmessage=e=>{((e,t)=>{var i,o;try{const a=String(null!==(o=null===(i=e.message)||void 0===i?void 0:i.service)&&void 0!==o?o:"0");if(a===n.WatchOnPC)return void(({event:e,uid:t})=>{y.S.handleLiveMobileRelayProcess({action_type:y.l.MessageReceived}),k({action_type:y.l.MessageReceived});try{const i=(0,f.l)(e),n=i.UserID.toString(),o=i.DisplayID.toString();if(String(n)!==t)throw new Error("uid not match");"visible"===document.visibilityState?(w({uniqueId:o}),S&&clearTimeout(S),S=setTimeout(()=>{(0,m.sc)(x.S0),clearTimeout(S)},500)):(0,m.AP)(x.S0,JSON.stringify({time:Date.now(),payload:i}))}catch(e){y.S.handleLiveMobileRelayProcess({action_type:y.l.MessageParseFailed,error_msg:JSON.stringify(e)}),k({action_type:y.l.MessageParseFailed,error_msg:JSON.stringify(e)})}})({event:e,uid:t});if(a===n.KickOffline)return void(0,C.f)({event:e,uid:t})}catch(e){console.log("[dev] frontier onmessage error",JSON.stringify(e))}})(e,t)}}),[]),O=(0,r.useCallback)(()=>{if(!P.current||L)return;const e=P.current.readyState;[o.closed,o.closing].includes(e)&&P.current.reconnect()},[P,L]);(0,r.useEffect)(()=>{var e;const i=_.h.getRiskParams(0),n=(0,f.R)("msToken")||"";Object.keys(i).forEach(e=>{void 0!==i[e]?i[e]=String(i[e]):i[e]=""}),i.referer||(i.referer=window.location.href);const o={fpID:"9",aID:"1459",accessKey:u()(`9e1bd35ec9db7b8d846de66ed140b1ad9${T}f8a69f1719916z`).toString(),ttwID:window.decodeURIComponent(null!=l?l:""),url:I,payloadEncoding:{encoding:"",force:!0},payloadType:{type:"application/json",force:!0},enableTransformTextPayload:!0,enableAutoAck:!0,headers:Object.assign(Object.assign({},i),{from_appID:"1988",app_language:c,app_name:"tiktok_web",channel:"web",user_agent:navigator.userAgent,"Web-Sdk-Ms-Token":n}),whaleQueryParams:{aid:"1988",version_code:"1.0.0",app_name:"tiktok_web",device_platform:"web_pc"},"Web-Sdk-Ms-Token":n};Object.assign(o,{debug:!1}),(null==t?void 0:t.uid)&&l&&!(null==P?void 0:P.current)&&!L&&(j&&clearTimeout(j),j=setTimeout(()=>{D(o,t.uid)},5e3)),L&&(null===(e=null==P?void 0:P.current)||void 0===e||e.close(),j&&clearTimeout(j))},[null==b?void 0:b.name,c,T,l,I,D,L]),(0,r.useEffect)(()=>{const e=()=>{const e=JSON.parse((0,m._S)(x.S0)||"{}");if(e&&e.time&&e.payload)if(Date.now()-e.time<=6e4){if("visible"===document.visibilityState){const{DisplayID:t}=e.payload;(0,m.sc)(x.S0),w({uniqueId:t})}}else(0,m.sc)(x.S0),y.S.handleLiveMobileRelayProcess({action_type:y.l.MessageParseFailed,error_msg:"message expired"}),k({action_type:y.l.MessageParseFailed,error_msg:"message expired"})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[]),(0,r.useEffect)(()=>{const e=(0,m.Gz)(d(),O);return()=>{var t;null==e||e(),null===(t=null==P?void 0:P.current)||void 0===t||t.close(),j&&clearTimeout(j)}},[])}},50852:(e,t,i)=>{"use strict";var n,o,a;i.d(t,{qt:()=>r}),function(e){e[e.On=1]="On",e[e.Off=2]="Off"}(n||(n={})),function(e){e[e.init=0]="init",e[e.connect=1]="connect",e[e.stop=8]="stop"}(o||(o={})),function(e){e.LD="ld",e.SD="sd",e.HD="hd",e.HD60="hd_60",e.UHD="uhd",e.UHD60="uhd_60",e.ORIGIN="origin",e.AUTO="auto"}(a||(a={}));const r={origin:"Original",uhd_60:"1080p60",uhd:"1080p",hd_60:"720p60",hd:"720p",sd:"540p",ld:"360p"};var s,l,d;!function(e){e.H264="h264",e.Bytevc1="bytevc1",e.H265="h265"}(s||(s={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.OBS=1]="OBS",e[e.MEDIA=2]="MEDIA",e[e.AUDIO=3]="AUDIO",e[e.SCREEN=4]="SCREEN",e[e.SOCIAL_LIVE=5]="SOCIAL_LIVE",e[e.STUDIO=6]="STUDIO"}(l||(l={})),function(e){e.Normal="normal",e.PoorConnection="poor_connection",e.Offline="offline"}(d||(d={}))},50874:(e,t,i)=>{"use strict";i.d(t,{r:()=>s});var n=i(24643),o=i(40099),a=i(20434),r=i(28357);const s=(0,o.memo)(e=>{const{style:t,icon:i,title:s,desc:l,canClickPropagation:d=!1,horizontal:c=!1}=e,u=(0,o.useCallback)(e=>{!d&&(0,a.Gu)(e)},[d]);return(0,n.jsx)(r.NL,{onClick:u,style:t,children:(0,n.jsxs)(r.Cm,{horizontal:c,children:[Boolean(i)&&(0,n.jsx)(r.P3,{children:i}),Boolean(s)&&(0,n.jsx)(r.T_,{children:s}),Boolean(l)&&(0,n.jsx)(r.Ox,{children:l})]})})})},51726:(e,t,i)=>{"use strict";i.d(t,{i:()=>d});var n=i(57432),o=i.n(n),a=i(40099),r=i(46219);const s=(e,t)=>{if(null===t||-1===t||null===e.current)return;const i=34*t,n=34*(t+1),o=e.current.clientHeight,{scrollTop:a}=e.current;i<a?e.current.scrollTop=i:n>o+a&&(e.current.scrollTop=n-o)};function l(e=[],t,i=[]){return e.filter(e=>0===String(e.key).toLowerCase().indexOf(t.toLowerCase())&&i.indexOf(e)<0)}const d=({panelOpen:e,options:t,initialFocusIndex:i=-1,setPanelShow:n,panelContainerRef:d,onSelect:c,onOpen:u=o(),onClose:p=o(),stopPropagation:g=!0,isModal:_=!1,setModalShow:m=o(),trapFocusWhenPanelOpen:h=!0})=>{const[v,f]=(0,a.useState)(i),y=(0,a.useRef)(),b=(0,a.useRef)(""),x=(0,a.useCallback)(o=>{g&&o.stopPropagation();const a=(0,r.t3)(o,e,h,_);switch(a){case 2:n(!0),i>-1&&f(i),null==u||u();break;case 3:e&&n(!1),null==p||p();break;case 13:m(!1),null==p||p();break;case 4:v>-1&&(c(t[v]),n(!1),null==p||p());break;case 11:o.preventDefault();break;case 1:case 0:case 8:case 7:case 5:case 6:{const e=function(e,t,i){switch(i){case 5:return 0;case 6:return t;case 1:return Math.max(0,e-1);case 0:return Math.min(t,e+1);case 8:return Math.max(0,e-10);case 7:return Math.min(t,e+10);default:return e}}(v,t.length-1,a);f(e),s(d,e);break}case 10:try{"number"==typeof y.current&&window.clearTimeout(y.current),y.current=window.setTimeout(()=>{b.current=""},500),b.current+=o.key;const e=function(e=[],t,i=0){const n=[...e.slice(i),...e.slice(0,i)],o=l(n,t)[0];if(o)return e.indexOf(o);if((a=t.split("")).every(e=>e===a[0])){const i=l(n,t[0]);return e.indexOf(i[0])}return-1;var a}(t,b.current,v+1);e>-1?(f(e),s(d,e)):(window.clearTimeout(y.current),b.current="")}catch(e){console.warn("[Role=select] Type Error: ",e)}break;default:return}},[i,_,p,u,c,t,d,e,m,n,g,h,v]);return{keyboardHandler:x,visualFocusIndex:v,setVisualFocusIndex:f}}},51727:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});var n=i(40099),o=i(74908),a=i(56581);function r(e){const{handleMultiGuestShow:t,linkedUsers:i}=null!=e?e:{},r=(0,n.useRef)(),[s,l]=(0,n.useState)([]),[d,c]=(0,n.useState)([]),[u,p]=(0,n.useState)({w:0,h:0}),[g,_]=(0,n.useState)(""),[m,h]=(0,n.useState)({width:0,height:0,top:0,left:0}),[v,f]=(0,n.useState)({width:0,height:0}),[y,b]=(0,n.useState)(!1),x=(0,n.useRef)(1),k=(0,n.useRef)(""),w=(0,n.useRef)(""),S=(0,n.useRef)(0),C=(0,n.useRef)({maxX:1,maxY:1,minX:0,minY:0}),[j,T]=(0,n.useState)(!1),I=(0,n.useCallback)(e=>{const{scaleRatio:t,canvas:i,transformX:n,transformY:o,container:a,isCalcBaseWidth:r}=e,{clientWidth:s,clientHeight:l}=a,d=s*t,c=l*t,u=-(t-1)/2;let g=l*u+c*(null!=o?o:0)/2;const _=s*u+d*(null!=n?n:0)/2;let m=0,v=0,y=s,b=l;r?(m=d,v=i.h*d/i.w,g+=(c-v)/2,b=i.h*y/i.w):(v=c,m=Math.min(i.w*v/i.h,d),y=Math.min(i.w*b/i.h,s)),p({w:y,h:b}),h({width:d,height:c,top:g,left:_}),f({width:m,height:v})},[]),P=(0,n.useCallback)(()=>{r.current="",x.current=1,w.current="",k.current="",S.current=0,l([]),T(!1),c([]),p({w:0,h:0}),h({width:0,height:0,top:0,left:0}),f({width:0,height:0})},[]),A=(0,n.useCallback)(e=>{var i,n,a,s,d,u,p,g,m,h,v,f,y,j,A,M,L,D;const{seiContent:O,scaleRatio:R,videoContainerRef:E,transformX:F,transformY:B,isPanelFloatLinkedMicType:z,isContainerSizeChange:U,isNeedFixStyle:N,isCalcBaseWidth:W,regionBorder:V,regionsFromDSL:H}=e,q=5===(null===(i=O.app_data)||void 0===i?void 0:i.ver);if(!E.current)return;if(!N||!q)return void(r.current&&P());const $=function(e){var t,i,n,a;return(null===(i=null===(t=e.app_data)||void 0===t?void 0:t.grids)||void 0===i?void 0:i.length)?null===(a=null===(n=e.app_data)||void 0===n?void 0:n.grids)||void 0===a?void 0:a.reduce((e,t)=>`${e}${e?",":""}${(0,o.Si)(t.x)}_${(0,o.Si)(t.y)}_${(0,o.Si)(t.w)}_${(0,o.Si)(t.h)}_${t.uid_str}_${t.online_user_state}_${Boolean(t.mute_a)}_${Boolean(t.mute_v)}`,""):""}(O),G=null!==(s=null===(a=null===(n=O.app_data)||void 0===n?void 0:n.DSLData)||void 0===a?void 0:a.layoutId)&&void 0!==s?s:"0";if($===r.current&&k.current===G&&!U)return;const K=function(e){var t,i;return null!==(i=null===(t=null==e?void 0:e.app_data)||void 0===t?void 0:t.grids)&&void 0!==i?i:[]}(O);null==t||t(O),k.current=G,T((0,o.F$)(G)),S.current=0,x.current=R,C.current=V,r.current=$,w.current=null!==(u=null===(d=O.app_data)||void 0===d?void 0:d.channel_id)&&void 0!==u?u:"",b(null!=z&&z);const Y=null!==(v=null!==(g=null===(p=null==O?void 0:O.canvas)||void 0===p?void 0:p.w)&&void 0!==g?g:null===(h=null===(m=O.app_data)||void 0===m?void 0:m.canvas)||void 0===h?void 0:h.width)&&void 0!==v?v:0,Z=null!==(M=null!==(y=null===(f=null==O?void 0:O.canvas)||void 0===f?void 0:f.h)&&void 0!==y?y:null===(A=null===(j=O.app_data)||void 0===j?void 0:j.canvas)||void 0===A?void 0:A.height)&&void 0!==M?M:0;I({scaleRatio:R,canvas:{w:Y,h:Z},transformX:F,transformY:B,container:E.current,isCalcBaseWidth:W}),_(null!==(D=null===(L=O.app_data)||void 0===L?void 0:L.anchor_link_mic_id)&&void 0!==D?D:""),l(null!=K?K:[]),c(null!=H?H:[])},[t,I,P]),M=(0,n.useMemo)(()=>({grids:s,anchorLinkMicId:g,contentWidth:v.width,contentHeight:v.height,containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,isPanelFloatLinkedMicType:y,hideUserCoin:null==e?void 0:e.hideUserCoin,channelId:w.current,appCanvas:u,regionBorder:C.current,regionsFromDSL:d,canShowUserInfo:!(j&&Object.entries(Object.assign({},i)).length<2),linkedUsers:i}),[g,m.height,m.left,m.top,m.width,v.height,v.width,s,y,null==e?void 0:e.hideUserCoin,u,d,j,i]),L=(0,n.useCallback)(()=>{P(),r.current=void 0},[P]),D=(0,n.useCallback)(()=>{l([])},[]);return(0,a.S)(D),{multiGuestMaskPanelProps:M,isGuestConnection:void 0!==r.current?Boolean(s.length>1):void 0,isMultiGuestRoom:void 0!==r.current?Boolean(s.length):void 0,multiGuestPanelVisible:void 0!==r.current?Boolean(s.length):void 0,grids:s,layoutId:k.current,handleMultiGuestSeiParsedCallback:A,resetMultiGuestData:L}}},51900:(e,t,i)=>{"use strict";i.d(t,{d:()=>l});var n=i(24643),o=i(40099),a=i(43629),r=i(26401),s=i(93731);const l=(0,o.forwardRef)((e,t)=>{const{defaultVolume:i,defaultMuted:l,onVolumeChange:d,onMutedChange:c,showVolumeIcon:u}=e,p=(0,o.useRef)(null),{xgplayer:g,mutedPlay:_,handlePlayerDestroy:m}=(0,a.F)(Object.assign(Object.assign({},e),{playerContainerRef:p}));return(0,o.useImperativeHandle)(t,()=>({destroy:()=>{m()},retry:()=>{var e;null===(e=g.current)||void 0===e||e.retry()}})),(0,n.jsx)(s.S1,{ref:p,children:(0,n.jsx)(s.jw,{children:(0,n.jsx)(r.b,{xgplayer:g,visible:u,defaultVolume:i,defaultMuted:l,mutedPlay:_,onVolumeChange:d,onMutedChange:c})})})})},52065:(e,t,i)=>{"use strict";i.d(t,{c:()=>l});var n=i(24643),o=i(40099),a=i(72355),r=i(97065),s=i(51426);function l(e){return function(t){const i=i=>{const{selfFocusable:r=!1}=i,{pathname:l}=(0,a.zy)(),d=(0,o.useMemo)(()=>null!=e?e:(0,s.N2)(l),[l]),c=(0,o.useMemo)(()=>"unknown"===d?void 0:`main-content-${d}`,[d]),u=(0,o.useMemo)(()=>r?0:void 0,[r]),p=(0,o.useMemo)(()=>Object.assign(Object.assign({},i),{tabIndex:u,containerID:c}),[i,u,c]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(t,Object.assign({},p))})};return i.displayName=`WithA11yFocusManagerHOC(${(0,r.x)(t)})`,i}}},52155:(e,t,i)=>{"use strict";i.d(t,{h:()=>g});var n=i(24643),o=i(40099),a=i(27799),r=i(37617);const s=JSON.parse('{"v":"5.6.2","fr":60,"ip":0,"op":81,"w":29,"h":22,"nm":"ic_playing now","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":1,"nm":"s 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[1.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"t":80}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":0,"op":81,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":1,"nm":"s","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[27.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,2.01],[12.969,3.541],[12.969,18.487],[14.5,20.018],[16.031,18.487],[16.031,3.541]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.997],[12.969,9.528],[12.969,12.486],[14.5,14.018],[16.031,12.486],[16.031,9.528]],"c":true}]},{"t":80}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":0,"op":81,"st":0,"bm":0},{"ddd":0,"ind":3,"ty":1,"nm":"m 2","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[8.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":-14,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":10,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":30,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":50,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":70,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":90,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"t":130}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":-2,"op":83,"st":-14,"bm":0},{"ddd":0,"ind":4,"ty":1,"nm":"m","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[21.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":-9,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":11,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":31,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":51,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":71,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":91,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":111,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.956],[12.969,9.487],[12.969,12.468],[14.5,14],[16.031,12.468],[16.031,9.487]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,4.018],[12.969,5.549],[12.969,16.492],[14.5,18.023],[16.031,16.492],[16.031,5.549]],"c":true}]},{"t":151}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":-9,"op":126,"st":7,"bm":0},{"ddd":0,"ind":5,"ty":1,"nm":"l","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[14.5,10.969,0],"ix":2},"a":{"a":0,"k":[14.5,10.969,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":1,"k":[{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":0,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":20,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":40,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}]},{"i":{"x":0.833,"y":0.833},"o":{"x":0.167,"y":0.167},"t":60,"s":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,7.022],[12.969,8.554],[12.969,12.495],[14.5,14.026],[16.031,12.495],[16.031,8.554]],"c":true}],"e":[{"i":[[0.846,0],[0,-0.846],[0,0],[-0.846,0],[0,0.846],[0,0]],"o":[[-0.846,0],[0,0],[0,0.846],[0.846,0],[0,0],[0,-0.846]],"v":[[14.5,-0.062],[12.969,1.469],[12.969,20.469],[14.5,22],[16.031,20.469],[16.031,1.469]],"c":true}]},{"t":80}],"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"sw":29,"sh":22,"sc":"#ffffff","ip":0,"op":81,"st":0,"bm":0}],"markers":[]}'),l=(0,o.memo)(({width:e=29,height:t=22,autoplay:i=!0})=>(0,n.jsx)(r.H,{width:e,height:t,autoplay:i,loop:!0,animationData:s}));var d=i(16410);const c=(0,d.default)("div",{target:"e1ahl3210"})({background:"rgba(0, 0, 0, 0.2)",backdropFilter:"blur(15px)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0},"label:DivPlayingMaskContainer;"),u=(0,d.default)("div",{target:"e1ahl3211"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},"label:DivPlayingMaskWrapper;"),p=(0,d.default)("span",{target:"e1ahl3212"})(({theme:e})=>({marginTop:"4px",fontSize:"13px",lineHeight:"17px",color:e.colors.ConstTextInverse,wordBreak:"break-word",textAlign:"center"}),"label:SpanText;"),g=(0,o.memo)(()=>{const e=(0,a.s)();return(0,n.jsx)(c,{children:(0,n.jsxs)(u,{children:[(0,n.jsx)(l,{}),(0,n.jsx)(p,{children:e("pc_web_playing_now")})]})})})},52165:(e,t,i)=>{"use strict";i.d(t,{g:()=>v,m:()=>f});var n=i(72516),o=i(45027),a=i(57432),r=i.n(a),s=i(40099),l=i(4519),d=i(61198),c=i(28058),u=i(18433),p=i(69857),g=i(71413),_=i(69831),m=i(90494),h=i(34778);const v=(0,l.$)("BrowserContext@tiktok/fe-shared")({isLiveBrowserShowing:!1,isBrowserModeShowing:!1,showBrowserMode:r(),closeBrowserMode:r()});function f(){const[e,t]=(0,s.useState)(!1),[i,a]=(0,s.useState)({}),[r,l]=(0,s.useState)(),[{showingBrowserMode:v,itemListKey:f,currentIndex:y,enterWindowTimeSec:b},x]=(0,h.BI)(e=>({showingBrowserMode:e.showingBrowserMode,itemListKey:e.itemListKey,currentIndex:e.currentIndex,enterWindowTimeSec:e.enterWindowTimeSec}),d.bN),k=(0,s.useRef)(0),w=(0,s.useRef)(0),S=(0,s.useRef)(0),C=(0,s.useRef)(0),j=(0,s.useRef)(0),T=(0,s.useRef)(null),I=(0,s.useRef)(null),{authorId:P,groupId:A}=(0,m.hL)({currentIndex:y}),{currentId:M=""}=(0,p.L$)((0,m.Og)({currentIndex:y})),[L]=(0,o.S)(_.k,{selector:e=>e[M],dependencies:[M]}),D=(0,s.useMemo)(()=>({author_id:P,group_id:A}),[P,A]),O=(0,s.useCallback)(()=>{const e=Math.floor((Number(new Date)-w.current)/1e3),t=Object.assign(Object.assign(Object.assign(Object.assign({},c.L.getScreenRatio()),{duration:e}),D),{play_mode:"browser_mode"});c.L.handleExitBrowser(t)},[D]),R=()=>{null!==I.current&&window.removeEventListener("resize",I.current)};(0,s.useEffect)(()=>{let t;const i=()=>{if(!e)return;const{height_max:t,width_max:i,width:n,height:o,height_ratio:a,width_ratio:r}=c.L.getScreenRatio(),s=Number(new Date),l=Object.assign({height_ratio_after:a,width_ratio_after:r,height_ratio:C.current/t,width_ratio:j.current/i,height_after:o,width_after:n,height:C.current,width:j.current,height_max:t,width_max:i,duration:(s-S.current)/1e3},D);S.current=s,C.current=o,j.current=n,c.L.handleAdjustBrowserSize(l)};if(R(),e){const e=()=>{clearTimeout(t),t=setTimeout(i,500)};window.addEventListener("resize",e),I.current=e}if(0===k.current){const e=Number(new Date);k.current=e,w.current=e,S.current=e}return()=>{R()}},[e,D]);const E=(0,s.useMemo)(()=>({capture:!0}),[]),F=(0,s.useCallback)(()=>{null!==T.current&&window.removeEventListener("beforeunload",T.current,E)},[E]);(0,s.useEffect)(()=>{const t=()=>{const t=Math.floor((Number(new Date)-b)/1e3),i=Object.assign(Object.assign(Object.assign({},c.L.getScreenRatio()),{duration:t}),e?D:{});c.L.handleCloseWindow(i),e&&O()};return F(),T.current=t,window.addEventListener("beforeunload",t,E),()=>{F()}},[F,b,e,E,O,D]);const B=(0,g.J)(),z=(0,s.useCallback)(e=>{if(B())return;const{teaParams:i,reportTeaParams:o,enterFrom:r}=e,s=(0,n.__rest)(e,["teaParams","reportTeaParams","enterFrom"]);document.activeElement instanceof HTMLElement&&document.activeElement.blur(),x.showBrowserMode(s),t(!0),a(null!=i?i:{}),l(r);const d=c.L.getScreenRatio(),u=Object.assign(Object.assign(Object.assign({},null!=o?o:i),d),{play_mode:"browser_mode"}),{width:p,height:g}=d;C.current=g,j.current=p;const _=Number(new Date);w.current=_,S.current=_,c.L.handleEnterBrowserOpt(u)},[x,B]),U=(0,s.useCallback)(e=>{t(!1),x.closeBrowserMode(e),O()},[x,O]),N=(0,s.useMemo)(()=>{const e=new Set(["foryou","following"]);return Boolean(v)&&(0,u.Jl)(L)&&e.has(f)},[v,f,L]);return{itemListKey:f,currentIndex:y,showBrowserMode:z,isLiveBrowserShowing:N,closeBrowserMode:U,isBrowserModeShowing:v,disableUpdate:!e,teaParams:i,enterFrom:r}}},52414:(e,t,i)=>{"use strict";i.d(t,{mE:()=>y});var n=i(72355),o=i(14869),a=i(96406),r=i(54133),s=i(40099),l=i(20434),d=i(90976),c=i(61322),u=i(11675),p=i(6418),g=i(94353),_=i(69857);const m={m:"835599320",t:"1235601864"},h={keyword_expansion_page:"kep",find_web:"find",channel_web:"channel",others_homepage:"user"},v={},f=e=>{let t=g.fe.Web;return"paid"===e?t=g.fe.WebSem:"referral_amp"===e||"organic"===e?t=g.fe.SEO:"samsung_quick_access"===e&&(t=g.fe.SamsungQuickAccess),t},y=({downloadType:e,enterMethod:t="",id:i,search_keyword:g,search_sug_type:y,pre_click_id:b,page_id:x,defaultPid:k,referrer_url:w})=>{const{wid:S,region:C,abTestVersion:j,appType:T}=(0,_.L$)((0,d.W)(()=>["wid","region","abTestVersion","appType"],[])),{isAndroid:I,isIOS:P}=(0,_.L$)((0,c.U)(()=>["isAndroid","isIOS"],[])),{previous_page:A,page_name:M}=a.f.commonParams,{search:L}=(0,n.zy)(),D=(0,l.Hd)("webapp_launch_mode"),O=(0,u.wW)(),R=`click_wap_${e}`,E=(({page_name:e,page_id:t,id:i})=>t?`${e}_${t}`:`${e}${i?`_${i}`:""}`)({page_name:M,page_id:x,id:i});return{schemeParams:(0,s.useMemo)(()=>(({pageName:e,gdLabel:t,launchMode:i,id:n,wid:o,region:a,search_keyword:r,previous_page:s,enterMethod:l="",search_sug_type:d,pre_click_id:c,abTestVersion:u,seoABTestVersion:g,referrer_url:_})=>{var m,h;const v={page_name:e,gd_label:t,refer:i,referer:i,utm_campaign:f(i)};return n&&(v.id=n),o&&(v.wid=o),a&&p.Nd.includes(a)&&(v.awedp_require_login="normal"),r&&(v.keyword=encodeURIComponent(r),v.search_keyword=encodeURIComponent(r),v.search_type="general",v.enter_from=`${s}_web`,v.enter_method=l,v.search_sug_type=null!=d?d:"",v.pre_click_id=null!=c?c:"",v.vidab=encodeURIComponent(null!==(m=null==u?void 0:u.versionName)&&void 0!==m?m:""),v.seo_vidab=encodeURIComponent((null!==(h=null==g?void 0:g.vidList)&&void 0!==h?h:[]).join(",")),v.release=encodeURIComponent(null!=="1.0.2.7577"?"1.0.2.7577":""),"general_search"===e&&"discover_kw"===s&&(v.enter_from_sub="app_outside")),_&&(v.referrer_url=_),v})({pageName:E,gdLabel:R,launchMode:D,id:i,wid:S,region:C,search_keyword:g,previous_page:A,enterMethod:t,search_sug_type:y,pre_click_id:b,abTestVersion:j,seoABTestVersion:O,referrer_url:w}),[E,R,D,i,S,C,g,A,t,y,b,j,O,w]),onelinkParams:(0,s.useMemo)(()=>(({search:e,url:t,launchMode:i,gdLabel:n,defaultPid:a,appType:s,pageName:d,pageNamePrefix:c,abTestVersion:u,seoABTestVersion:p,wid:g,trafficType:_,isIOS:y,isAndroid:b,previous_page:x})=>{var k,w;let S,C,j;if("undefined"!=typeof window&&e){const t=(0,r.parse)(e);j=t.utm_campaign,S=t.utm_source,C=t.utm_medium}else if(t)try{const e=new URL(t),i=new URLSearchParams(e.search);S=i.get("source"),C=i.get("medium"),j=i.get("url_campaign")}catch(e){}const T=null!=_?_:(0,l.Hd)("webapp_original_traffic_type"),I=(0,l.Hd)("referer_url"),P=(0,l.Hd)("referer_video_id"),A=f(i),M=(({pid:e,pageName:t,previousPage:i})=>{var n,o;return"general_search"===t?`${e}_gs_${i}`:"homepage_hot"===t?`${e}_fyp_${i}`:`${e}_${null!==(o=null!==(n=h[null!=t?t:""])&&void 0!==n?n:t)&&void 0!==o?o:"unknown"}`})({pid:A,pageName:c,previousPage:x}),L=y?(({appType:e,campaignName:t})=>{var i;if(!e||!m[e]||!["m","t"].includes(e))return v;const n="https://apps.apple.com/app/apple-store/id{iosAppid}?pt=118874049&ct={ct}&mt=8".replace(/{iosAppid}/g,null!==(i=m[e])&&void 0!==i?i:"").replace(/{ct}/g,t);return n?{af_ios_url:n,af_param_forwarding:"false"}:v})({abTestVersion:u,appType:s,campaignName:M}):{},D=b?{utm_campaign:M}:{},O=`${S?`source:${S};`:""}${C?`medium:${C};`:""}${j?`campaign:${j};`:""}`,R=`${I?`referer_url:${I}};`:""}${P?`referer_video_id:${P};`:""}`,E=Object.assign(Object.assign({af_ad:n,af_siteid:"mobile",pid:null!=a?a:A,c:d,af_adset:i,af_ad_id:T,vidab:encodeURIComponent(null!==(k=null==u?void 0:u.versionName)&&void 0!==k?k:""),seo_vidab:encodeURIComponent((null!==(w=null==p?void 0:p.vidList)&&void 0!==w?w:[]).join(",")),release:encodeURIComponent("1.0.2.7577")},L),D);if("undefined"!=typeof window)E.canonical=`${o.C}${decodeURIComponent(location.pathname)}`;else if(t){const e=new URL(t),i=decodeURIComponent(e.pathname);E.canonical=`${o.C}${i}`}return g&&(E.wid=g),O&&(E.af_adset_id=O),R&&(E.af_channerl=R),e&&"true"===(0,r.parse)(e).is_retargeting&&(E.is_retargeting="true"),Object.keys(E).forEach(e=>{E[e]="string"==typeof E[e]?encodeURIComponent(E[e]):E[e]}),E})({search:L,launchMode:D,gdLabel:R,defaultPid:k,pageName:E,pageNamePrefix:M,abTestVersion:j,seoABTestVersion:O,wid:S,isAndroid:I,isIOS:P,appType:T,previous_page:A}),[L,D,R,k,E,M,j,O,S,I,P,T,A])}}},52635:(e,t,i)=>{"use strict";i.d(t,{cA:()=>g,Ze:()=>_,OD:()=>m});var n=i(54133),o=i(14869),a=i(14539),r=i(80619),s=i(59142),l=i(94332),d=i(72180),c=i(57354),u=i(20434),p=i(69857);const g=({pid:e,downloadLink:t="",appType:i,pageName:r,enterMethod:s,samsung:l=!1,wid:d,utmCampaign:c,activationAd:g,region:_,config:m,modalType:h,extraOnelinkParams:v})=>{const{samsungEnableRegion:f}=(0,p.L$)(m),{region:y=[],isFull:b}=(0,p.L$)(f),x=l||navigator.userAgent.indexOf("SamsungBrowser")>-1&&(b||y.includes(_)),k="1"===(0,u.Hd)("is_from_samsung_quick_access");t||(t=x?"https://snssdk1233.onelink.me/bIdt":"t"===i?"https://www.tiktok.com/download-link/ol/BAuo":"https://www.tiktok.com/download-link/ol/bIdt");const w=(0,u.Hd)("webapp_launch_mode"),S=(0,u.Hd)("webapp_original_traffic_type");let C="tiktokwebother";e?C=e:"paid"===w?C="tiktokwebsem":("referral_amp"===w||"organic"===w)&&(C="tiktokwebseo");const j=(0,a.qu)(navigator.userAgent)||(0,a.KJ)(navigator.userAgent)?"mobile":"pc",T=r,I=null!=g?g:`${s?`enter_method:${s};`:""}${h?`modal_type:${h};`:""}`,P={jump_time:Date.now(),af_adset:w,pid:C,af_siteid:j,c:T,af_ad:I,web_id:d,wid:d,af_ad_id:S};"paid"===w&&(P.is_retargeting=!0,P.af_click_lookback="1d");const A=(0,u.Hd)("utm_source"),M=(0,u.Hd)("utm_medium"),L=(0,u.Hd)("utm_campaign"),D=(0,u.Hd)("utm_term"),O=(0,u.Hd)("utm_content"),R=c?`${c},${L}`:L,E=(0,u.Hd)("referer_url"),F=(0,u.Hd)("referer_video_id"),B=`${A?`source:${A};`:""}${M?`medium:${M};`:""}${R?`campaign:${R};`:""}${D?`term:${D};`:""}${O?`content:${O};`:""}`,z=`${E?`referer_url:${E}};`:""}${F?`referer_video_id:${F};`:""}`;if(B&&(P.af_adset_id=B),z&&(P.af_channel=z),x&&k&&(P.pid="samsungbrowser",P.c=`samsungbrowser_${null==_?void 0:_.toLowerCase()}`,P.af_click_lookback="1d",P.af_android_url="https://apps.samsung.com/appquery/appDetail.as?appId=com.zhiliaoapp.musically",P.af_dp="snssdk1233://"),"undefined"!=typeof window){P.canonical=encodeURIComponent(`${o.C}${decodeURIComponent(location.pathname)}`);const e=n.parse(location.search);e.embed_source&&(P.embed_source=e.embed_source)}return v&&Object.assign(P,v),`${t}?${n.stringify(P)}`},_=e=>{const t=navigator.userAgent&&-1!==navigator.userAgent.indexOf("CriOS")?"_self":"_blank",i=window.open(e,t);i&&(i.opener=null)},m=e=>{var t,i,n,o,u,p;const g=(0,d.YI)(s.Ow),_=null!==(n=null===(i=null===(t=null==g?void 0:g.abTestVersion)||void 0===t?void 0:t.parameters.kep_popup_opt)||void 0===i?void 0:i.vid)&&void 0!==n?n:"v0",m=null!==(p=null===(u=null===(o=null==g?void 0:g.abTestVersion)||void 0===o?void 0:o.parameters.mobile_popup_opt)||void 0===u?void 0:u.vid)&&void 0!==p?p:"v0",h=["v1","v2","v3"].includes(_)||(()=>{var e,t,i;const{strategy:n}=null!==(e=(0,d.YI)(l.gA.reflowVideoUiStrategy))&&void 0!==e?e:{};if(!(null==n?void 0:n.length))return!1;const o=n.find(e=>"7517581085023158279"===e.template_id);if(!o)return!1;try{const e=JSON.parse(null!==(t=null==o?void 0:o.schema_content)&&void 0!==t?t:"");return!0===(null===(i=null==e?void 0:e.jumpSetting)||void 0===i?void 0:i.windowOpenJump)}catch(e){return!1}})()||"v0"!==m,v=(()=>{const{userAgent:e,referrer:t}=(0,c.T6)(),i=(0,a.R0)(e),n=(0,r.Y0)(e,t),o=[r.mC["Samsung Browser"],r.mC["Chrome Mobile"],r.mC["Chrome Mobile iOS"]],s=n===r.mC["Opera Mobile"]&&"android"===i,l=n===r.mC["Google Search App"]&&"ios"===i;return o.includes(n)||s||l})(),f=!/^https?:/.test(e);if(v&&!f&&h){const t=document.createElement("a");return t.href=e,t.target="_blank",void t.click()}window.location.href=e}},52919:(e,t,i)=>{"use strict";i.d(t,{t:()=>g});var n=i(24643),o=i(94999),a=i(40099),r=i(71615),s=i(70873),l=i(28439),d=i(22889),c=i(51426),u=i(49858);const p=(0,i(16410).default)("div",{target:"e1dc6dvj0"})({height:"100vh",display:"flex",flexDirection:"column"},"label:DivErrorBoundaryContainer;");class g extends a.Component{constructor(){super(...arguments),this.state={isNetOffline:!1,hasError:!1},this._slardar=o.l.getInstance(d.V$),this.handleOnlineStatusChange=()=>{this.setState({isNetOffline:!navigator.onLine})}}get iconElem(){const{hasError:e}=this.state;return e?(0,n.jsx)(r.A,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"}):(0,n.jsx)(s.A,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"})}get text(){const{hasError:e}=this.state;return e?{title:"server_error_title",desc:"server_error_sub",button:"try_again_btn"}:{title:"network_error_title",desc:"network_error_sub",button:"try_again_btn"}}componentDidMount(){window.addEventListener("online",this.handleOnlineStatusChange),window.addEventListener("offline",this.handleOnlineStatusChange)}componentWillUnmount(){window.removeEventListener("online",this.handleOnlineStatusChange),window.removeEventListener("offline",this.handleOnlineStatusChange)}handleRetry(){window.location.reload()}componentDidCatch(e,t){const{onCatchError:i,componentName:n}=this.props,o=window.location.pathname,a=(0,c.oN)(o);i&&i(e);try{this._slardar.captureMessage(`Component render Error: ${e.message}`,"fatal",{page:a,component:null!=n?n:""})}catch(e){console.error("Error occurs when reporting error:",e)}this.setState({hasError:!0})}render(){const{isNetOffline:e,hasError:t}=this.state,{children:i,isMobile:o,customTitle:a,customDesc:r,customButtonText:s,onClickRetry:l,useButton:d=!1,containerStyle:c}=this.props,{t:g}=this.context;if(e||t){const{title:e,desc:t,button:i}=this.text;return o?(0,n.jsx)(p,{children:(0,n.jsx)(u.W,{brightness:0,isFullScreen:!0,iconElem:this.iconElem,title:null!=a?a:g(e),desc:null!=r?r:g(t),buttonText:d?null!=s?s:g(i):void 0,onButtonClick:null!=l?l:this.handleRetry})}):(0,n.jsx)(u.W,{isFullScreen:!0,onButtonClick:null!=l?l:this.handleRetry,iconElem:this.iconElem,title:null!=a?a:g(e),desc:null!=r?r:g(t),buttonText:d?null!=s?s:g(i):void 0,style:c})}return i}}g.contextType=l.Ss},53054:(e,t,i)=>{"use strict";i.d(t,{A:()=>h});var n,o=i(24643),a=i(40099),r=i(16410),s=i(22873),l=i(93584);!function(e){e[e.OneColumn=0]="OneColumn",e[e.OneColumnDarkOnly=1]="OneColumnDarkOnly",e[e.OneColumnShare=2]="OneColumnShare",e[e.BrowserMode=3]="BrowserMode"}(n||(n={}));const d=(e,t)=>1===e?s.J:t;function c({styleType:e,shouldOptimizeCta:t,colors:i,disabled:n}){switch(e){case 0:case 1:case 2:return{flexDirection:"column"};case 3:return[{flexDirection:"row"},t&&[{borderRadius:"40px",padding:"8px 12px 8px 12px",height:"40px",backgroundColor:i.BGInput},!n&&{"&:hover":{backgroundColor:i.BGInput2},"&:active":{backgroundColor:"rgba(22, 24, 35, .14)"}}]];default:return null}}const u=(0,r.default)("button",{target:"e1hk3hf90"})(({styleType:e,shouldOptimizeCta:t,theme:{direction:i,colors:n}})=>[l.WA,{position:"relative",display:"flex",alignItems:"center",cursor:"pointer",":disabled":{cursor:"default",color:d(e,n).TextPrimary}},c({styleType:e,direction:i,shouldOptimizeCta:t,colors:d(e,n)})],"label:ButtonActionItem;");function p({styleType:e,direction:t,shouldOptimizeCta:i}){switch(e){case 1:case 0:return[{marginTop:"8px",marginBottom:"6px"},(0,l.jJ)({max:768,style:{width:"32px",height:"32px",padding:"6px",svg:{width:"20px",height:"20px"}}})];case 2:return[{padding:"0",marginTop:"8px",marginBottom:"6px"}];case 3:return[!i&&{padding:"6px"},(0,l.mp)({direction:t,marginEnd:i?"8px":"6px"})];default:return null}}const g=(0,r.default)("span",{target:"e1hk3hf91"})(({shouldOptimizeCta:e,styleType:t,theme:{direction:i,colors:n}})=>[{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"0px",borderRadius:"50%",transition:"all ease-in-out 200ms",cursor:"pointer"},(!e||3!==t)&&{width:3===t?"32px":"48px",height:3===t?"32px":"48px"},2===t||e&&3===t?null:{backgroundColor:d(t,n).BGInput,[`${u}:not(:disabled) &:hover`]:{backgroundColor:d(t,n).BGInput2},[`${u}:not(:disabled) &:active`]:{backgroundColor:"rgba(22, 24, 35, .14)"}},p({styleType:t,direction:i,shouldOptimizeCta:e})],"label:SpanIconWrapper;"),_=(0,r.default)("strong",{target:"e1hk3hf92"})(({theme:e,styleType:t})=>[(0,l.zy)({theme:e,typography:"P4"}),{color:d(null!=t?t:0,e.colors).TextSecondary}],{textAlign:"center"},"label:StrongText;");var m=i(70589);const h=(0,a.memo)((0,a.forwardRef)(function(e,t){const{text:i,Icon:n,styleType:r,disabled:s,children:l,e2eTag:d,style:c,ariaLabel:p,ariaPressed:h,ariaExpanded:v}=e,f=(0,a.useRef)(null),{shouldOptimizeCta:y}=(0,m.kb)(),b=(0,a.useCallback)(()=>{var e,t;return null===(t=Array.from(null===(e=f.current)||void 0===e?void 0:e.querySelectorAll("*")))||void 0===t?void 0:t.includes(document.activeElement)},[]),x=(0,a.useCallback)(()=>{var e;null===(e=f.current)||void 0===e||e.focus()},[]);return(0,a.useImperativeHandle)(t,()=>({hasFocusForChildren:b,setFocus:x})),(0,o.jsxs)(u,{styleType:r,type:"button",onClick:t=>{e.onClick&&(e.onClick(t),t.stopPropagation())},onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onKeyDown:e.onKeyDown,onBlur:e.onBlur,disabled:s,"aria-label":p,"aria-pressed":h,"aria-expanded":v,ref:f,shouldOptimizeCta:y,children:[(0,o.jsx)(g,{style:null!=c?c:{},styleType:r,"data-e2e":`${d}-icon`,shouldOptimizeCta:y,children:n}),(0,o.jsx)(_,{"data-e2e":`${d}-count`,styleType:r,children:i}),l]})}))},53940:(e,t,i)=>{"use strict";i.d(t,{u:()=>E});var n=i(24643),o=i(95074),a=i(57432),r=i.n(a),s=i(40099),l=i(73635),d=i(27799),c=i(99411),u=i(59687),p=i(57456),g=i(60382),_=i(7838);const m=(0,s.memo)(function(e){const{iconLanguage:t,iconConfig:i}=(0,s.useMemo)(()=>(0,g.w4)(e),[e]),{region:o=""}=e,a=(0,d.s)()("add_windows_store_badge_download_app_stores"),r=(0,s.useCallback)(e=>{u.jA.handleClickAppStore(e)},[]);return(0,n.jsxs)(s.Fragment,{children:[(0,n.jsx)(_.Rv,{children:a}),(0,n.jsx)(_.h5,{region:o,children:i.map(({alt:e,href:i,platform:o})=>(0,n.jsx)(_.OS,{href:i,target:"_blank",rel:"nofollow noopener noreferrer",onClick:r.bind(null,o),children:(0,n.jsx)(_.j5,{src:"microsoft"===o?(0,_.ZR)(t):p,platform:o,alt:e,lang:t})},o))})]})});var h=i(20173),v=i(83692),f=i(1452),y=i(93981);const b=(0,i(47236).Ay)({resolved:{},chunkName:()=>"qrcode.react",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(5080),i.e(7912)]).then(i.t.bind(i,57061,23)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>57061});var x=i(16410),k=i(93584),w=i(75886);const S=(0,x.default)("div",{target:"eamnwhk0"})({textAlign:"center",maxWidth:"400px"},"label:DivLargeContentContainer;"),C=(0,x.default)("div",{target:"eamnwhk1"})(({theme:{direction:e,colors:t}})=>[{borderBottom:`0.5px solid ${t.LinePrimary}`,paddingTop:"24px",paddingBottom:"16px",maxWidth:"400px"},(0,k.mp)({direction:e,paddingStart:"24px",paddingEnd:"48px"})],"label:DivModalHeader;"),j=(0,x.default)("p",{target:"eamnwhk2"})(({theme:e})=>(0,k.zy)({theme:e,typography:"P0",fontWeight:"bold"}),"label:PTitle;"),T=(0,x.default)("p",{target:"eamnwhk3"})(({theme:e})=>(0,k.zy)({theme:e,typography:"P1",fontWeight:"semiBold"}),{margin:"32px 0 24px 0",width:"auto",padding:"0 24px"},"label:PSubTitle;"),I=(0,x.default)("div",{target:"eamnwhk4"})({position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},"label:DivQRContainer;"),P=(0,x.default)("div",{target:"eamnwhk5"})(({showDownloadOptions:e})=>[{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",margin:e?"":"0 0 47px 0"}],"label:DivQRContentContainer;"),A=(0,x.default)(w.A,{target:"eamnwhk6"})({display:"block"},"label:StyledQrBg;"),M=(0,x.default)("div",{target:"eamnwhk7"})({position:"absolute",width:"174px",height:"174px",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderRadius:"4px",overflow:"hidden"},"label:DivQRCodeWrapper;"),L=(0,x.default)("img",{target:"eamnwhk8"})({width:"100%"},"label:ImgQRCode;"),D=(0,x.default)("div",{target:"eamnwhk13"})({display:"flex",flexDirection:"column",alignItems:"center",width:"400px",padding:"24px 24px 60px 24px"},"label:DivDownloadLContainer;"),O=(0,x.default)("div",{target:"eamnwhk14"})(({theme:{direction:e}})=>[{position:"absolute",top:"24px",borderRadius:"50%",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1,width:"24px",height:"24px"},(0,k.mp)({direction:e,end:"24px"})],"label:DivCloseWrapper;"),R=(0,s.memo)(function({appType:e,text:t,style:i={}}){const o="t"===e?y:f;return(0,n.jsxs)(I,{style:i,children:[(0,n.jsx)(A,{width:"176",height:"176"}),(0,n.jsx)(M,{children:t?(0,n.jsx)(b,{size:174,value:t}):(0,n.jsx)(L,{src:o})})]})}),E=(0,s.memo)(function(e){var t,i;const{visible:a,qrCodeText:u,onClose:p=r(),showAppStores:g=!0}=e,_=(0,d.s)(),f=null!==(t=e.title)&&void 0!==t?t:_("add_windows_store_badge_get_tiktok_app"),y=null!==(i=e.subTitle)&&void 0!==i?i:_("add_windows_store_badge_scan_qr"),{region:b,appType:x,lang:k}=(0,o.P)(h.L,{selector:e=>{var t,i;return{region:null===(t=e.appContext)||void 0===t?void 0:t.region,lang:e.lang,appType:null===(i=e.appContext)||void 0===i?void 0:i.appType}},dependencies:[]}),w=(0,o.P)(v.$,{selector:e=>{var t,i,n,o;return{isIOS:null===(t=e.bizContext)||void 0===t?void 0:t.isIOS,isAndroid:null===(i=e.bizContext)||void 0===i?void 0:i.isAndroid,downloadLink:null!==(o=null===(n=e.bizContext)||void 0===n?void 0:n.downloadLink)&&void 0!==o?o:{}}},dependencies:[]}),I=(0,s.useMemo)(()=>Object.assign({lang:k},w),[k,w]);return(0,n.jsxs)(c.i,{isOpen:a,onClose:p,compact:!0,closeOnBackdropClick:!0,closeOnEsc:!0,children:[(0,n.jsxs)(C,{children:[(0,n.jsx)(O,{onClick:p,children:(0,n.jsx)(l.A,{width:24,height:24})}),(0,n.jsx)(j,{children:f})]}),(0,n.jsxs)(S,{children:[(0,n.jsxs)(P,{showDownloadOptions:g,children:[(0,n.jsx)(T,{children:y}),(0,n.jsx)(R,{appType:x,text:u})]}),g&&(0,n.jsx)(D,{children:(0,n.jsx)(m,Object.assign({},I,{region:b}))})]})]})})},54132:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(72516),o=i(71450),a=i(4126),r=i(13356);let s=class extends o.E{constructor(){super(),this.defaultState={visible:!1,accountStatusDetail:{accountAppealRes:void 0,userId:void 0,verifyTicket:void 0,url:""}}}setVisible(e,t){e.visible=t}setAccountStatusInfo(e,t){e.accountStatusDetail=t}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],s.prototype,"setVisible",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],s.prototype,"setAccountStatusInfo",null),s=(0,n.__decorate)([(0,r.nV)("AccountStatusModal"),(0,n.__metadata)("design:paramtypes",[])],s)},54546:(e,t,i)=>{"use strict";i.d(t,{U:()=>p});var n=i(24643),o=i(40099),a=i(16842),r=i(16410),s=i(93584);const l=(0,r.default)("div",{target:"e1b4u1n0"})({position:"absolute",padding:"0 4px",top:"0",transformOrigin:"right top",transition:"opacity .5s",opacity:0},({theme:{direction:e}})=>{const t=(0,s.t7)(e,"end");return[(0,s.mp)({direction:e,end:"0"}),{transformOrigin:`${t} top`}]},"label:DivScrollBar;"),d=(0,r.default)("div",{target:"e1b4u1n1"})({overflowX:"hidden",overflowY:"auto",overscrollBehaviorY:"contain",perspective:"1px",transformStyle:"preserve-3d","::-webkit-scrollbar":{width:0,height:0},[`:hover ${l}`]:{opacity:1}},({theme:{direction:e}})=>{const t=(0,s.t7)(e,"end");return[(0,s.mp)({direction:e,paddingEnd:"12px"}),{perspectiveOrigin:`${t} top`}]},"label:DivScrollContainer;"),c=(0,r.default)("div",{target:"e1b4u1n2"})("label:DivScrollWrapper;"),u=(0,r.default)("div",{target:"e1b4u1n3"})(({theme:{colors:e}})=>({width:"6px",height:"100%",borderRadius:"3px",background:e.BGPlaceholderDefault}),"label:DivScrollBarThumb;"),p=(0,o.memo)((0,o.forwardRef)(function({children:e,Wrapper:t=c,onScroll:i,onScrollBottom:r,bottomThreshold:s=100,className:p,style:g,wrapperStyle:_},m){const h=(0,o.useRef)(null),[v,f]=(0,o.useState)(0),[y,b]=(0,o.useState)(0),x=(0,o.useMemo)(()=>{const e=v>=y?0:Math.pow(v,2)/y,t=(v-e)/(y-v);return{height:e,transform:`matrix3d(${[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,-1].join(",")}) scale(${1/t}) translateZ(${1-1/t}px) translateZ(-2px)`}},[v,y]);(0,o.useImperativeHandle)(m,()=>({get scrollTop(){var e,t;return null!==(t=null===(e=h.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0},get dom(){return h.current}}),[]);const k=(0,a._g)(()=>{if(!h.current)return;const{current:e}=h,{height:t}=e.getBoundingClientRect(),{scrollHeight:i}=e;f(t),b(i)},[],300),w=(0,o.useCallback)(()=>{if(!h.current||!r)return;const{scrollTop:e}=h.current;null==i||i({scrollTop:e}),v+e+s>=y&&r()},[r,i,v,s,y]);return(0,o.useEffect)(()=>{const e=new window.MutationObserver(function(e){e.length&&k()});return h.current&&e.observe(h.current,{childList:!0,subtree:!0}),window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k),e.disconnect()}},[k]),(0,n.jsxs)(d,{ref:h,onScroll:w,className:p,style:g,children:[(0,n.jsx)(t,{style:_,children:e}),(0,n.jsx)(l,{style:x,children:(0,n.jsx)(u,{})})]})}))},55352:(e,t,i)=>{"use strict";var n,o,a,r;i.d(t,{Bp:()=>a,Nz:()=>o,kd:()=>n,lf:()=>r}),function(e){e[e.Init=0]="Init",e[e.Success=1]="Success",e[e.LoginError=2]="LoginError",e[e.RequestAccessTokenError=3]="RequestAccessTokenError",e[e.PlatformUpdateError=4]="PlatformUpdateError",e[e.AddSongError=5]="AddSongError",e[e.ParamsError=6]="ParamsError",e[e.UnknownError=7]="UnknownError"}(n||(n={})),function(e){e.Unknown="-101",e.AppleMusicDeveloperTokenNotFound="-102",e.AppleMusicLoginFailed="-103",e.SpotifyLoginFailed="-104"}(o||(o={})),function(e){e.Unknown="-101"}(a||(a={})),function(e){e[e.Init=0]="Init",e[e.Success=1]="Success",e[e.InvalidRefreshToken=2]="InvalidRefreshToken",e[e.OtherErrors=3]="OtherErrors"}(r||(r={}))},55445:(e,t,i)=>{"use strict";i.d(t,{W:()=>o});var n=i(24643);const o=(0,i(40099).memo)(function({desc:e,normalTextClass:t,highlightTextClass:i,baseClass:o}){const a=e.match(/<b>([\s\S]*?)<\/b>/g);if(null===a)return(0,n.jsx)("div",{className:`${o} ${t}`,children:e});const r=a.map(e=>e.replace(/<\/?b>/g,"")),s=e.split(/<\/?b>/);return(0,n.jsx)("text",{className:o,children:s.map(e=>(0,n.jsx)("span",{className:r.includes(e)?i:t,children:e},e))})})},55576:(e,t,i)=>{"use strict";i.d(t,{E:()=>n});const n=i(40099).useLayoutEffect},55765:(e,t,i)=>{"use strict";i.d(t,{Ve:()=>L,$4:()=>M,Pz:()=>E,hf:()=>z,VO:()=>B,K0:()=>O,Se:()=>R,Re:()=>D});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(340),l=i(35626),d=i.n(l),c=i(23999),u=i(46657),p=i(26324),g=i(24451),_=i(8536),m=i(95719),h=i(74690),v=i(80339),f=i(35572),y=i(20259),b=i(7765),x=i(48156),k=i(28439),w=i(43887),S=i(64803);const C=({reportTarget:e,getVideoPath:t})=>{if(!e)return null;const{report_type:i,video_owner:n,video_id:o,object_id:a}=e;let r=null;if(o&&n){const s=t({uniqueId:null==n?void 0:n.uniqueId,videoId:o,secUid:null==n?void 0:n.secUid,isPhotomode:e.aweme_type===w.Rj});r=`${location.origin}${s}`,"comment"===i&&(r=`${r}&cid=${(0,S.X)(a)}`)}return r};var j,T=i(40337),I=i(99747),P=i(69831),A=i(62731);!function(e){e[e.Normal=0]="Normal",e[e.Bully=1]="Bully",e[e.Legal=2]="Legal",e[e.Spam=3]="Spam",e[e.UserPretend=4]="UserPretend",e[e.UserProfile=5]="UserProfile",e[e.Netzdg=6]="Netzdg",e[e.Kopig=7]="Kopig",e[e.Avia=8]="Avia"}(j||(j={}));const M=[112,212,9014],L=[222,9015],D=({reportTarget:e},t)=>{const i=C({reportTarget:e,getVideoPath:t});return"https://www.tiktok.com/legal/report/NetzDG?lang=de"+(i?`&reporturl=${encodeURIComponent(i)}`:"")},O=({reportTarget:e},t)=>{const i=C({reportTarget:e,getVideoPath:t});return"https://www.tiktok.com/legal/report/lcen?lang=fr"+(i?`&reporturl=${encodeURIComponent(i)}`:"")},R=({reportTarget:e},t)=>{const i=C({reportTarget:e,getVideoPath:t});return"https://www.tiktok.com/legal/copyright-policy"+(i?`?report_url=${encodeURIComponent(i)}`:"")},E={hideArrow:"hideArrow",hideReportBox:"hideReportBox",avia:"avia",pretend:"pretend",bully:"bully",showDesc:"showDesc",requireDesc:"requireDesc",requireImage:"requireImage",hideBlockUser:"hideBlockUser",needLogin:"needLogin",webappNeedLoginLegal:"webappNeedLoginLegal",webappNeedLoginNetzdg:"webappNeedLoginNetzdg",webappNeedLoginAvia:"webappNeedLoginAvia"};var F;!function(e){e[e.Reason=0]="Reason",e[e.Normal=1]="Normal",e[e.Kopig=2]="Kopig",e[e.User=3]="User",e[e.BlockUser=4]="BlockUser",e[e.Finish=5]="Finish",e[e.Ftcreport=6]="Ftcreport",e[e.ImageDesc=7]="ImageDesc",e[e.Old=8]="Old",e[e.DSA=9]="DSA",e[e.OSA=10]="OSA",e[e.RIC=11]="RIC",e[e.ChooseCountry=12]="ChooseCountry",e.SearchSomeone="search_someone",e.DescTextarea="desc_textarea",e.OnlyDesc="only_desc"}(F||(F={}));const B={User:3,Desc:1,NETZDG:2,Old:8,Counterfeit:7,DSA:9,OSA:10,RIC:11,search_someone:"search_someone",desc_textarea:"desc_textarea",only_desc:"only_desc"};let z=class extends o.E{constructor(e,t,i,n){super(),this.service=e,this.searchEntry=t,this.itemModule=i,this.t=n,this.defaultState={reasons:null,config:{},showing:!1,loading:!1,requesting:void 0,reportTarget:null,lastStatus:-1,PageState:0,PageStateData:void 0,PreState:[],UserData:{selectedReason:void 0,submitresult:void 0,HistoryReason:[]},blockedVideos:[],reasonsAPIVersion:2,choosenDSACountry:void 0,DSACountriesList:[],submitCallback:void 0,user_info:void 0}}setSubmitCallback(e,t){e.submitCallback=t}setConfig(e,t){e.config=t}setChoosenDSACountry(e,t){e.choosenDSACountry=t}setDSACountriesList(e,t){e.DSACountriesList=[...t]}setReasonsAPIVersion(e,t){e.reasonsAPIVersion=t}setReportTarget(e,t){e.reportTarget=t}judgeFtc(e,t){"kid_mode_video"===t.report_type&&(e.PageState=6)}setReasons(e,t){e.reasons=t,e.PageStateData={reasons:t}}addBlockVideo(e,t){e.blockedVideos.includes(t)||e.blockedVideos.push(t)}removeBlockVideo(e,t){e.blockedVideos=e.blockedVideos.filter(e=>e!==t)}setLoading(e,t){e.loading=t}getDSACountries(e){return e.pipe((0,g.E)(this.state$),(0,_.Z)(()=>this.service.getDSACountries().pipe((0,m.M)(({body:e})=>{e.data.length||x.F.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})}),(0,_.Z)(e=>0===e.statusCode?(0,c.of)(this.getActions().setDSACountriesList(e.body.data)):(0,c.of)(this.getActions().setDSACountriesList([]))))))}getReasons(e){return e.pipe((0,g.E)(this.state$),(0,_.Z)(([e,t])=>{var i,n;if(d()(e,t.reportTarget)&&t.reasons&&(null===(i=t.reasons)||void 0===i?void 0:i.length)>0)return(0,c.of)(this.getActions().setReasons(t.reasons),this.getActions().setConfig(null!==(n=null==t?void 0:t.config)&&void 0!==n?n:{}));const{report_type:o,lang:a,object_id:r}=e;return(0,A.Pl)(o)?this.service.getLiveReportReasons({report_type:o,lang:a,object_id:r,api_version:t.reasonsAPIVersion}).pipe((0,m.M)(({data:e})=>{(null==e?void 0:e.data.length)||x.F.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})}),(0,_.Z)(e=>{var t,i;return(0,c.of)(this.getActions().setReasons(null!==(i=null===(t=e.data)||void 0===t?void 0:t.data)&&void 0!==i?i:[]))}),(0,h.Z)(this.getActions().setLoading(!0)),(0,v.q)(this.getActions().setLoading(!1))):this.service.getReportReasons(Object.assign(Object.assign({report_type:o,lang:a},!1===["sug_recommend","suggestion"].includes(o)&&{object_id:r}),{api_version:t.reasonsAPIVersion})).pipe((0,m.M)(({body:e})=>{e.length||x.F.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})}),(0,_.Z)(i=>{var n,o,a,r;const s=null==i?void 0:i.user_info;if(0===i.statusCode){let l=null!==(n=i.body)&&void 0!==n?n:[];"user"===e.report_type&&2===t.reasonsAPIVersion&&(l=null!==(a=null===(o=l.find(e=>9101===e.reason_type))||void 0===o?void 0:o.next_reason)&&void 0!==a?a:l);const d=JSON.parse(null!==(r=null==i?void 0:i.config)&&void 0!==r?r:"{}");return(0,c.of)(this.getActions().setReasons(l),this.getActions().setConfig(null!=d?d:{}),this.getActions().setUserInfo(s))}return(0,c.of)(this.getActions().setReasons([]))}),(0,h.Z)(this.getActions().setLoading(!0)),(0,v.q)(this.getActions().setLoading(!1)))}))}handleNextReason(e){return e.pipe((0,g.E)(this.state$),(0,m.M)(([{reason_id:e},{reportTarget:t}])=>{const{object_id:i="",report_type:n=""}=null!=t?t:{};b.o.handleReportNext({object_id:i,object_type:n,reason_id:e})}),(0,_.Z)(([{nextReason:e},{PageStateData:t,PageState:i}])=>(0,c.of)(this.getActions().setPageStateData({reasons:e}),this.getActions().appendToPreState({state:i,data:t}))))}handleNextForm(e){return e.pipe((0,g.E)(this.state$),(0,_.Z)(([e,{PageStateData:t,PageState:i}])=>(0,c.of)(this.getActions().setPageState(e),this.getActions().setPageStateData({}),this.getActions().appendToPreState({state:i,data:t}))))}setShowing(e,t){e.showing=t}showDSAReport(e){return e.pipe((0,_.Z)(({reportReasons:e,reportTarget:t,selectedReason:i})=>(0,c.of)(this.getActions().setReasons(e),this.getActions().setUserData({selectedReason:i}),this.getActions().setReasonsAPIVersion(3),this.getActions().setReportTarget(t))))}showReport(e){return e.pipe((0,_.Z)(e=>(0,c.of)(this.getActions().setShowing(!0),this.getActions().judgeFtc(e),this.getActions().getReasons(e),this.getActions().setReportTarget(e))))}hideReport(e){return e.pipe((0,_.Z)(()=>(0,c.of)(this.getActions().setShowing(!1))))}setRequesting(e,t){e.requesting=t}setLastStatus(e,t){e.lastStatus=t}setUserInfo(e,t){e.user_info=t}postReport(e){return e.pipe((0,g.E)(this.state$),(0,f.p)(([{reason:e,extraData:t,region:i,uid:n,loggedOut:o,wid:a,callbackFn:r},{reportTarget:s,UserData:l,PageState:d,submitCallback:p}])=>{var g;if(!s)return u.w;const m=8===(null===(g=null==l?void 0:l.selectedReason)||void 0===g?void 0:g.special_type),f=(0,A.Pl)(s.report_type),x={};Array.isArray(e)&&"kid_mode_video"===s.report_type&&(x.additional_reasons=`%5B${e.join(",")}%5D`,e=e[0]);const k=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({app_name:"tiktok_web",aid:1988,current_region:i,reporter_id:n,reason:e},s),{target:s.object_id}),t),{report_type:"kid_mode_video"===s.report_type?"video":s.report_type}),x);return this.service.postReport(k,f).pipe((0,y.W)(()=>(0,c.of)({status_code:-1})),(0,_.Z)(t=>{var i,u,g,_,h,v,f,y,x,k,w;if((null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.need_captcha)&&(null===(u=null==t?void 0:t.data)||void 0===u?void 0:u.decision_conf)&&r)return(0,A.Vb)(a,t.data,r),(0,c.of)(this.noop());if(p)return null==p||p(t),(0,c.of)(this.noop());let S;switch(t.status_code){case 90002:S={title:this.t("Web_report_thanks_for_report"),content:this.t("Web_report_report_detail"),button:this.t("live_close"),success:!1};break;case 0:{let e;e=10===d?this.t("oSA_reportPg_submissionComplete_body"):m?this.t("avia_law_report_received_confirm"):9===d?o?this.t("dsa_illegal_report_received_confirm_logout"):this.t("dsa_illegal_report_received_confirm"):this.t("Web_report_report_detail"),S={title:this.t("Web_report_thanks_for_report"),content:e,button:this.t("pm_mt_live_done"),success:!0};break}default:S={title:this.t("Web_report_report_for_error"),content:this.t("Sorry, something wrong with the server, please try again."),button:this.t("live_close"),success:!1}}if(0===t.status_code){const{object_id:t,report_type:i}=s;b.o.handleReportSubmit({object_id:t,object_type:i,reason_id:e}),"suggestion"!==s.report_type&&"sug_recommend"!==s.report_type||b.o.handleReportSugSubmit({report_reason:null===(g=l.selectedReason)||void 0===g?void 0:g.text,reason_code:e.toString(),impr_id:null===(_=s.suggestion_extra)||void 0===_?void 0:_.impr_id,feedback_id:null===(h=s.suggestion_extra)||void 0===h?void 0:h.feedback_id,group_id:null===(v=s.suggestion_extra)||void 0===v?void 0:v.group_id,sug_type:null===(f=s.suggestion_extra)||void 0===f?void 0:f.sug_type,raw_query:null===(y=s.suggestion_extra)||void 0===y?void 0:y.raw_query,words_content:null===(x=s.suggestion_extra)||void 0===x?void 0:x.words_content,words_position:null===(k=s.suggestion_extra)||void 0===k?void 0:k.words_position,words_source:null===(w=s.suggestion_extra)||void 0===w?void 0:w.words_source})}return"video"===s.report_type&&0===t.status_code&&s.object_id?(0,c.of)(this.getActions().addBlockVideo(s.object_id),this.getActions().setLastStatus(t.status_code),this.getActions().setPageState(5),this.getActions().setUserData({submitresult:S}),this.searchEntry.getActions().setBlockListByUid({uid:n,blockId:s.object_id,blockType:"videoIdList"}),this.itemModule.getActions().addMlModelTrainData({id:s.object_id,action:"report"})):(0,c.of)(this.getActions().setLastStatus(t.status_code),this.getActions().setPageState(5),this.getActions().setUserData({submitresult:S}))}),(0,h.Z)(this.getActions().setRequesting(!0)),(0,v.q)(this.getActions().setRequesting(!1)))}))}setPageState(e,t){e.PageState=t}appendToPreState(e,t){e.PreState.push(t)}removeFromPreState(e){e.PreState.pop()}resetPreState(e){e.PreState=[]}setUserData(e,t){e.UserData=Object.assign(Object.assign({},e.UserData),t)}setPageStateData(e,t){e.PageStateData=t}resetState(e){return e.pipe((0,_.Z)(e=>(0,c.of)(this.getActions().resetPreState(),this.getActions().setUserData({selectedReason:void 0,HistoryReason:[]}),this.getActions().setPageState(0),this.getActions().setPageStateData(null),this.getActions().setSubmitCallback(void 0))))}popHistoryReason(e){return e.pipe((0,g.E)(this.state$),(0,_.Z)(([e,{UserData:t}])=>{var i;const n=[...null!==(i=t.HistoryReason)&&void 0!==i?i:[]];return n.pop(),(0,c.of)(this.getActions().setUserData({HistoryReason:n}))}))}handlePrevStep(e){return e.pipe((0,g.E)(this.state$),(0,_.Z)(([e,{PreState:t}])=>{if(0===t.length)return u.w;const{state:i,data:n}=t[t.length-1];return(0,c.of)(this.getActions().popHistoryReason(),this.getActions().setPageState(i),this.getActions().setPageStateData(n),this.getActions().removeFromPreState())}))}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setSubmitCallback",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setConfig",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setChoosenDSACountry",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setDSACountriesList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setReasonsAPIVersion",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setReportTarget",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"judgeFtc",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setReasons",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"addBlockVideo",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"removeBlockVideo",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setLoading",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"getDSACountries",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"getReasons",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"handleNextReason",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"handleNextForm",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setShowing",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"showDSAReport",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"showReport",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"hideReport",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setRequesting",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setLastStatus",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setUserInfo",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"postReport",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setPageState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"appendToPreState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"removeFromPreState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"resetPreState",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setUserData",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"setPageStateData",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"resetState",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"popHistoryReason",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],z.prototype,"handlePrevStep",null),z=(0,n.__decorate)([(0,r.nV)("Report"),(0,n.__param)(3,(0,s.y)(k.hp)),(0,n.__metadata)("design:paramtypes",[I.G,T.Zr,P.k,Function])],z)},55911:(e,t,i)=>{"use strict";i.d(t,{iy:()=>d});var n=i(24643),o=i(40099),a=i(18499),r=i(71898);const s="control-tip",l="control-icon",d=e=>{const{disableHover:t,isBrowserMode:i,hideTips:d=!1,isActive:c,onClick:u,onMouseEnter:p,activeIcon:g,inActiveIcon:_,activeTip:m,inActiveTip:h,dataE2E:v=""}=e,f=(0,o.useMemo)(()=>c?g:_,[g,_,c]),y=(0,o.useRef)(null),b=(0,o.useRef)(null),x=(0,o.useRef)(0),k=(0,o.useMemo)(()=>c?m:h,[m,h,c]),[w,S]=(0,o.useState)(!1),[C,j]=(0,o.useState)(),[T,I]=(0,o.useState)(),P=(0,o.useCallback)(()=>{if(clearTimeout(x.current),S(!0),y.current){const e=y.current.getBoundingClientRect();j({position:"absolute",left:`${e.left}px`,top:`${e.top}px`})}},[x]),A=(0,o.useCallback)(()=>{clearTimeout(x.current),x.current=window.setTimeout(()=>{S(!1),j(void 0)})},[]);(0,o.useEffect)(()=>{if(w&&y.current&&b.current){const e=y.current.getBoundingClientRect(),t=Math.min(Math.max(e.left-b.current.offsetWidth/2+e.width/2,0),document.body.offsetWidth);j({position:"absolute",left:`${t}px`,top:e.top-b.current.offsetHeight-10+"px",visibility:"visible"}),I({left:e.left-t+e.width/2+"px"})}},[w]);const M=(0,o.useCallback)(()=>{null==p||p(),P()},[P,p]),L=(0,o.useCallback)(e=>{e.stopPropagation(),A(),null==u||u()},[A,u]);return(0,n.jsxs)(r.YD,{ref:y,onClick:L,"data-e2e":v,"data-testid":"control-container",onMouseEnter:M,onMouseLeave:A,disableHover:t,children:[!d&&w?(0,a.createPortal)((0,n.jsxs)(r.yn,{ref:b,onMouseEnter:M,onMouseLeave:A,style:C,"data-e2e":s,"data-testid":s,children:[(0,n.jsx)(r.Sm,{style:T,children:(0,n.jsxs)("svg",{width:"30",height:"8",viewBox:"0 0 30 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M0 0H6C-1 8.94079e-07 2 5.81146e-06 0 0Z",fill:"#545454",fillOpacity:"0.92"}),(0,n.jsx)("path",{d:"M0 0H6H30C23 8.94079e-07 20 8 18 8C16 8 13 8.94079e-07 6 0C-1 8.94079e-07 2 5.81146e-06 0 0Z",fill:"#545454",fillOpacity:"0.92"})]})}),k]}),document.body):null,(0,n.jsx)(r.uM,{isBrowserMode:i,"data-e2e":l,"data-testid":l,children:f})]})}},55914:(e,t,i)=>{"use strict";i.d(t,{e:()=>r});var n=i(4519),o=i(57432),a=i.n(o);const r=(0,n.$)("CoreContentContext@tiktok/fe-shared")({armCoreContentEvent:a()})},56164:(e,t,i)=>{"use strict";i.d(t,{MW:()=>c,Q$:()=>d,SS:()=>u,VK:()=>v,VN:()=>l,YP:()=>g,aQ:()=>b,bi:()=>_,gg:()=>h,ph:()=>p,r9:()=>y,rG:()=>m,sb:()=>x,uU:()=>f});var n=i(57615),o=i(19495),a=i(43725),r=i(53374),s=i(93584);const l=(0,o.I)("div",{target:"e1pzdpcj0"})({boxSizing:"border-box",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",padding:".375rem",gap:".5rem",cursor:"pointer",":hover":{backgroundColor:n.Tj4.UIShapeNeutral4,borderRadius:".5rem"}},"label:DivUserItemContainer;"),d=(0,o.I)("div",{target:"e1pzdpcj1"})({display:"flex",flex:1,gap:"1rem",alignItems:"center",height:"100%"},({$isSelected:e})=>({opacity:e?.5:1}),"label:DivUserItem;"),c=(0,o.I)(a.F.Longform,{target:"e1pzdpcj2"})(s.PR,"label:TextNickname;"),u=(0,o.I)(a.F.P3,{target:"e1pzdpcj3"})(s.PR,"label:TextUniqueId;"),p=(0,o.I)(n.h$y,{target:"e1pzdpcj4"})({pointerEvents:"none",".TUXCheckbox-labelContainer":{display:"none"}},"label:StyledCheckbox;"),g=(0,o.I)("div",{target:"e1pzdpcj5"})({position:"relative",width:"100%",display:"flex",flexDirection:"column",flexGrow:1,gap:"1rem",paddingInline:"1.5rem"},"label:DivSendMessagePanelContainer;"),_=(0,o.I)("div",{target:"e1pzdpcj6"})({display:"flex",alignItems:"center",gap:"1rem","& > *:first-of-type":{flexGrow:1}},"label:DivSearchContainer;"),m=(0,o.I)(n.ZPA,{target:"e1pzdpcj7"})({"& > .TUXInputBox":{borderRadius:"100px !important"}},"label:StyledTextInput;"),h=(0,o.I)("div",{target:"e1pzdpcj8"})({display:"flex",flexDirection:"column",gap:".75rem",flexGrow:1,flexBasis:"12.5rem",overflowY:"auto","& > div:last-of-type":{paddingBottom:"1rem"},"-ms-overflow-style":"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},({$isInputShowing:e})=>e&&{paddingBottom:"9rem","& > div:last-of-type":{paddingBottom:"0"}},"label:DivUserListContainer;"),v=(0,o.I)(a.F.P1,{target:"e1pzdpcj9"})({marginTop:74,textAlign:"center",color:n.Tj4.UITextPlaceholder},"label:PNoResult;"),f=(0,o.I)("div",{target:"e1pzdpcj10"})({display:"flex",alignItems:"center",width:"100%",padding:".5rem",borderRadius:".5rem",backgroundColor:n.Tj4.UIShapeInfo4,insetInlineStart:"1rem",insetInlineEnd:".25rem",gap:".5rem"},"label:DivTipContainer;"),y=(0,o.I)("div",{target:"e1pzdpcj11"})({display:"flex",flexDirection:"column",alignItems:"end",gap:".25rem",padding:".25rem 1rem 1rem",minHeight:"8rem"},({$isOverlay:e})=>e&&{padding:"1rem",boxShadow:"0px -1px 114px 0px rgba(0, 0, 0, 0.07)",backgroundColor:n.Tj4.UISheetFlat1,borderRadius:"0 0 .75rem .75rem",position:"absolute",bottom:0,insetInline:0,borderTop:`.5px solid ${n.Tj4.UIShapeNeutral3}`,paddingTop:"1rem"},"label:DivSendContainer;"),b=(0,o.I)(n.U5X,{target:"e1pzdpcj12"})({flexGrow:1,width:"100% !important",".TUXTextAreaBox":{backgroundColor:"transparent"},".TUXTextAreaCore":{fontSize:".875rem",minHeight:"3.75rem"},textarea:{padding:0},".TUXFormField-footer":{display:"none"}},"label:StyledTextArea;"),x=(0,o.I)(n.I05,{target:"e1pzdpcj13"})({minWidth:"unset !important",width:"fit-content",paddingInline:".75rem !important",height:"2rem !important"},(0,r.K)("H4"),"label:StyledSendButton;")},56581:(e,t,i)=>{"use strict";i.d(t,{S:()=>r,w:()=>a});var n=i(40099),o=i(14609);const a=({callback:e,element:t})=>{const i=(0,n.useRef)();(0,n.useEffect)(()=>{const n=null==t?void 0:t.current,a=null==i?void 0:i.current;if(n){a&&a.unobserve(n);const t=new o.A((...t)=>requestAnimationFrame(()=>e(...t)));return t.observe(n),i.current=t,()=>{a&&n&&a.unobserve(n)}}},[e,t])},r=e=>{const t=(0,n.useRef)();(0,n.useEffect)(()=>{t.current=t=>{const i=null==e?void 0:e(t);return"string"==typeof i?t.returnValue=i:t.defaultPrevented?t.returnValue="":void 0}},[e]),(0,n.useEffect)(()=>{const e=e=>{t.current&&t.current(e)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[])}},57150:(e,t,i)=>{"use strict";i.d(t,{P:()=>a,Y:()=>r});var n=i(94646),o=i(40099);const a=({callback:e,options:t})=>{const i=(0,o.useRef)(null);return(0,o.useEffect)(()=>{const n=i.current,o=new IntersectionObserver(([t])=>{t.isIntersecting&&e()},t);return n&&o.observe(n),()=>{n&&o.unobserve(n)}},[i,t,e]),i},r=(e,t)=>{const i=(0,o.useRef)(!1);return a({callback:()=>{i.current||(n.c.showSection(e,t),i.current=!0)}})}},57297:(e,t,i)=>{"use strict";i.d(t,{OC:()=>o,Zc:()=>a,je:()=>s,ou:()=>l,x1:()=>r});var n=i(79054);const o=[1,3],a={1:"Apple Music",3:"Spotify"},r={0:"null",1:"apple",3:"spotify"},s={1:{add:n.X.AddToAppleMusic,connect:n.X.ConnectToAppleMusic},3:{add:n.X.AddToSpotify,connect:n.X.ConnectToSpotify}};var l;!function(e){e.WebHomepageHot="web_homepage_hot",e.WebSingleSong="web_single_song"}(l||(l={}))},57456:(e,t,i)=>{"use strict";e.exports=i.p+"d60c66b9f5dc9647f3a3.png"},57471:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(26225),o=i(64388),a=i(47342);const r=(0,n.y)(a.C),{useServiceState:s}=(0,o.i)(r,()=>({}))},57512:(e,t,i)=>{"use strict";i.d(t,{I:()=>o});var n=i(54133);function o(e,t){var i;const o={sender_device:t.sender_device,is_from_webapp:null!==(i=t.is_from_webapp)&&void 0!==i?i:1};return e?(0,n.stringifyUrl)({url:e,query:o}):(0,n.stringifyUrl)({url:location.origin+location.pathname,query:Object.assign(Object.assign({},(0,n.parse)(location.search.slice(1))),o)})}},57794:(e,t,i)=>{"use strict";i.d(t,{$z:()=>n,X0:()=>o});const n={RECHARGE_CHECK_EXTERNAL_ENTRY:"/webcast/wallet_api_tiktok/recharge/check_external_entry",UPDATE_RECHARGE_DISPLAYED_TASKS:"/webcast/wallet_api_tiktok/campaign/update_displayed_tasks"},o={FOR_YOU:"rLJKRPE",PAID_ADS:"Xfwax7r"}},57897:(e,t,i)=>{"use strict";i.d(t,{k:()=>j});var n=i(72516),o=i(71450),a=i(13356),r=i(340),s=i(95719),l=i(63700),d=i(23999),c=i(72916),u=i(24451),p=i(8536),g=i(52087),_=i(82729),m=i(99824),h=i(28439),v=i(4126),f=i(5317),y=i(80339),b=i(26324),x=i(83303),k=i(12609);let w=class extends f.E{constructor(e){super(),this.stateModule=e,this.defaultState={}}setKeywordsExpansionSharingMeta(e,t,i,n){var o,a,r,s,l;const{protocal:c}=(0,k.QJ)(n),u=(0,k.r1)({schema:`${c}user/profile/`,metaParams:e.metaParams,pageType:104,response:{keywordInfo:t},appType:n}),[p,g="",_=""]=null!==(s=null===(r=null===(a=null===(o=t.itemResponse)||void 0===o?void 0:o.videoList)||void 0===a?void 0:a[0])||void 0===r?void 0:r.video.shareCover)&&void 0!==s?s:[],m=i.includes("WhatsApp")||i.includes("line-poker")?g:_,h=p||m,v=Object.assign(Object.assign({},u),{"og:image":h,"twitter:image":h,"og:image:width":"360","og:image:height":"360","og:image:alt":null===(l=e.metaParams)||void 0===l?void 0:l.title});return(0,d.of)(this.stateModule.getActions().setSharingMetaState(v))}setChannelSharingMeta(e,t,i,n){var o,a,r,s,l;const{protocal:c}=(0,k.QJ)(n),u=(0,k.r1)({schema:`${c}user/profile/`,metaParams:e.metaParams,pageType:122,response:{keywordInfo:t},appType:n}),[p="",g="",_=""]=null!==(s=null===(r=null===(a=null===(o=t.itemResponse)||void 0===o?void 0:o.videoList)||void 0===a?void 0:a[0])||void 0===r?void 0:r.video.shareCover)&&void 0!==s?s:[],m=i.includes("WhatsApp")||i.includes("line-poker")?g:_,h=p||m,v=Object.assign(Object.assign({},u),{"og:image":h,"twitter:image":h,"og:image:width":"360","og:image:height":"360","og:image:alt":null===(l=e.metaParams)||void 0===l?void 0:l.title});return(0,d.of)(this.stateModule.getActions().setSharingMetaState(v))}setFindSharingMetaEffect(e){return e.pipe((0,p.Z)(({seoGatewayProps:e,payload:t,$ua:i,appType:n})=>this.setFindSharingMeta(e,t,i,n).pipe((0,y.q)(this.terminate("setFindSharingMetaEffect")))))}setFindSharingMeta(e,t,i,n){var o,a,r,s,l;const{protocal:c}=(0,k.QJ)(n),u=(0,k.r1)({schema:`${c}user/profile/`,metaParams:e.metaParams,pageType:124,response:{keywordInfo:t},appType:n}),[p="",g="",_=""]=null!==(s=null===(r=null===(a=null===(o=t.itemResponse)||void 0===o?void 0:o.videoList)||void 0===a?void 0:a[0])||void 0===r?void 0:r.video.shareCover)&&void 0!==s?s:[],m=i.includes("WhatsApp")||i.includes("line-poker")?g:_,h=p||m,v=Object.assign(Object.assign({},u),{"og:image":h,"twitter:image":h,"og:image:width":"360","og:image:height":"360","og:image:alt":null===(l=e.metaParams)||void 0===l?void 0:l.title});return(0,d.of)(this.stateModule.getActions().setSharingMetaState(v))}};(0,n.__decorate)([(0,v.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[b.c]),(0,n.__metadata)("design:returntype",void 0)],w.prototype,"setFindSharingMetaEffect",null),w=(0,n.__decorate)([(0,a.nV)("KAPSharingMeta"),(0,n.__metadata)("design:paramtypes",[x.J])],w);var S=i(43270),C=i(43626);let j=class extends o.E{constructor(e,t,i,n){super(),this.stateModule=e,this.service=t,this.sharingMeta=i,this.t=n,this.defaultState={}}setChannelSEOProps(e,t,i,n){const o=Object.assign(Object.assign(Object.assign({},e),t),{seoProps:{pageId:"",pageType:122},t:this.t});return this.service.fetchSEOProps(o,g.F).pipe((0,s.M)(({metaParams:e={},jsonldList:t=[]})=>{this.stateModule.updateAtom({metaParams:e,jsonldList:t,generateAlternateWithCanonical:n})}),(0,c.n)(t=>(0,l.h)(this.sharingMeta.setChannelSharingMeta(t,e,this.service.getUA(),i))))}setFindSEOProps(e,t,i,n,o,a,r){return(0,d.of)(e).pipe((0,u.E)(this.stateModule.state$),(0,p.Z)(([d,u])=>{const p=Object.assign(Object.assign(Object.assign({},e),t),{seoProps:{pageId:"",pageType:124,isKEPInFindUI:o,abtest:u.abtest,removeRelatedKeywordsInDesc:r},t:this.t});return this.service.fetchSEOProps(p,_.Dj).pipe((0,s.M)(({metaParams:e={},jsonldList:t=[]})=>{this.stateModule.updateAtom({metaParams:e,jsonldList:t,disableAlternateLink:n,generateAlternateWithCanonical:a})}),(0,c.n)(t=>(0,l.h)(this.sharingMeta.setFindSharingMeta(t,e,this.service.getUA(),i))))}))}impression(e,t,i){this.service.reportImpressionByRpc({Timestamp:Date.now().toString(),VisitPageUrl:`${m._0}/${e}`,Urls:t.map(e=>e.url),Module:3,TrafficType:i})}};j=(0,n.__decorate)([(0,a.nV)("KAPSEO"),(0,n.__param)(3,(0,r.y)(h.hp)),(0,n.__metadata)("design:paramtypes",[C.p,S.F,w,Function])],j)},57944:(e,t,i)=>{"use strict";i.d(t,{$:()=>ce});var n=i(24643),o=i(45027),a=i(95074),r=i(40099),s=i(74496),l=i(76926);const d={id:"collapse-7afdb1fe",use:"collapse-7afdb1fe-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="collapse-7afdb1fe"><path fill="white" d="M7.363 6.919a.64.64 0 0 1-.644.644l-3.735-.02a.641.641 0 0 1-.45-1.094L6.25 2.734a.641.641 0 0 1 1.094.45zM8.467 9.31a.64.64 0 0 1 .644-.644l3.736.02a.641.641 0 0 1 .45 1.094L9.58 13.496a.641.641 0 0 1-1.095-.45z" /></symbol>'};function c(e){const t=(0,r.useContext)(l.X);return(0,r.useLayoutEffect)(()=>(t.add(d),()=>{t.remove("collapse-7afdb1fe")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#collapse-7afdb1fe"},void 0)}),void 0)}var u=i(75431),p=i(16410);const g="rgba(22, 24, 35, 0.5)";var _;!function(e){e.ExpandBtn="expand-btn",e.Horizontal="horizontal",e.Vertical="vertical"}(_||(_={}));const m=e=>(0,u.i7)({"0%":{opacity:1,borderWidth:"2px",transform:"scale(1)"},"50%":{opacity:.5,borderWidth:"1px",transform:`scale(${1+e/255})`},"100%":{opacity:0,borderWidth:"1px",transform:`scale(${1+e/255})`}}),h=(0,p.default)("div",{target:"e1kjggm80"})({width:"40px",height:"40px",borderRadius:"50%",overflow:"hidden",position:"relative"},"label:DivCollapseAvatar;"),v=(0,p.default)("div",{target:"e1kjggm81"})({display:"flex",height:"58px",flexDirection:"row",background:g,borderRadius:"100px",width:"fit-content"},"label:DivVoiceChatPanelCollapsed;"),f=(0,p.default)("div",{target:"e1kjggm82"})({width:"48px",height:"48px",margin:"5px 0 5px 8px",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},"label:DivVoiceCollapsedItem;"),y=(0,p.default)("div",{target:"e1kjggm83"})(({type:e})=>[{display:"flex",width:"100%",height:"100%",flexDirection:"horizontal"===e?"row":"column-reverse",justifyContent:"horizontal"===e?"initial":"end"}],"label:DivVoiceChatPanel;"),b=(0,p.default)("div",{target:"e1kjggm84"})({display:"flex",width:"100%",padding:"0 6px",alignItems:"center",position:"absolute",top:"5%",left:0},"label:DivVoiceHeader;"),x=(0,p.default)("div",{target:"e1kjggm85"})({display:"flex",height:"14px",lineHeight:"14px",flex:2},"label:DivVoiceCoins;"),k=(0,p.default)("div",{target:"e1kjggm86"})(({theme:e})=>({borderRadius:"50%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",background:"rgba(0, 0, 0, 0.12)",overflow:"hidden",color:e.colors.ConstTextInverse3}),"label:DivVoiceStatus;"),w=(0,p.default)("div",{target:"e1kjggm87"})(({theme:e})=>({borderRadius:"50%",width:"14px",height:"14px",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",background:"rgba(22, 24, 35, 1)",overflow:"hidden",position:"absolute",color:e.colors.ConstTextInverse3,bottom:"4px",right:"5px",fontSize:"12px"}),"label:DivCollapsedVoiceStatus;"),S=(0,p.default)("img",{target:"e1kjggm88"})({marginInlineEnd:"2.5px",width:"12px",height:"12px",verticalAlign:"middle"},"label:ImgCoin;"),C=(0,p.default)("div",{target:"e1kjggm89"})(({theme:e})=>({color:e.colors.ConstTextInverse,fontFamily:e.fontFamilies.TikTokFont,fontWeight:400,fontSize:"12px"}),"label:DivCoinsNumber;"),j=(0,p.default)("div",{target:"e1kjggm810"})(({type:e})=>({userSelect:"none",backgroundSize:"cover",paddingBottom:"horizontal"===e||"expand-btn"===e?0:"107%",width:"horizontal"===e||"expand-btn"===e?"83px":"initial",height:"horizontal"===e||"expand-btn"===e?"93px":0,margin:"4px",display:"flex",position:"relative",overflow:"hidden"}),"label:DivVoiceChatItem;"),T=(0,p.default)("div",{target:"e1kjggm811"})({maxWidth:"40px",maxHeight:"40px",minWidth:"20px",minHeight:"20px",borderRadius:"50%",overflow:"hidden",backgroundColor:"white"},"label:DivAvatar;"),I=(0,p.default)("div",{target:"e1kjggm812"})({backdropFilter:"blur(10px)",backgroundColor:g,position:"absolute",left:0,top:0,zIndex:-1,width:"200%",height:"200%"},"label:DivVoiceMask;"),P=(0,p.default)("div",{target:"e1kjggm813"})(({theme:e})=>({color:e.colors.ConstTextInverse,fontFamily:e.fontFamilies.TikTokFont,fontWeight:400,fontSize:"12px",position:"absolute",bottom:"1%",padding:"6px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"calc(100% - 6px)"}),"label:DivHostName;"),A=(0,p.default)("div",{target:"e1kjggm814"})(({theme:e})=>({width:"20px",height:"20px",cursor:"pointer",position:"absolute",left:0,top:0,display:"flex",justifyContent:"center",alignItems:"center",background:e.colors.ConstBGInverse2,borderRadius:"50%",overflow:"hidden"}),"label:DivCollapseBtn;"),M=(0,p.default)("div",{target:"e1kjggm815"})(({theme:e})=>({width:"20px",height:"20px",cursor:"pointer",background:e.colors.ConstBGInverse2,borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",margin:"19px 8px"}),"label:DivExpandBtn;"),L=(0,p.default)("div",{target:"e1kjggm816"})({position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:-1},"label:DivVoiceAnimationWrapper;"),D=(0,p.default)("div",{target:"e1kjggm817"})(({volume:e})=>({maxWidth:"44px",maxHeight:"44px",width:"100%",height:"100%",borderRadius:"50%",position:"absolute",left:0,top:0,border:"2px solid rgba(255, 255, 255, 0.5)",transformOrigin:"center center",animation:`${m(e)} 2s linear`}),"label:DivVoiceAnimationCircle;"),O=(0,p.default)("div",{target:"e1kjggm818"})(({volume:e})=>({width:"100%",height:"100%",maxWidth:"44px",maxHeight:"44px",borderRadius:"50%",border:"2px solid rgba(255, 255, 255, 0.5)",transformOrigin:"center center",animation:`${m(e)} 4s linear`,position:"absolute",left:0,top:0}),"label:DivVoiceAnimationCircle2;"),R=(0,p.default)("div",{target:"e1kjggm819"})({position:"absolute",zIndex:1,top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"44px",maxHeight:"44px"},"label:DivAvatarWrapper;"),E=(0,p.default)("div",{target:"e1kjggm820"})({position:"relative",maxWidth:"40px",maxHeight:"40px"},"label:DivCollapseAvatarWrapper;");var F=i(55677),B=i(29593),z=i(97882),U=i(82175);const N=i.p+"557e30ee20e65d22151f.png",W=({volume:e=0})=>(0,n.jsx)(n.Fragment,{children:e>10?(0,n.jsxs)(L,{children:[(0,n.jsx)(D,{volume:e}),e>150&&(0,n.jsx)(O,{volume:e})]}):null}),V=({infoEnable:e=!1,type:t,hostInfo:i})=>{const o=2===Number(i.onlineStatus);return(0,n.jsxs)(j,{type:t,children:[o&&(0,n.jsx)(U.U,{}),i.avatarUrls?(0,n.jsx)(z.I,{style:{width:"200%",maxWidth:"200%",position:"absolute",transform:"translate(-50%, -50%)",left:"50%",top:"50%",zIndex:-1},src:i.avatarUrls}):null,!o&&(0,n.jsx)(I,{}),!o&&e&&(0,n.jsxs)(b,{children:[(0,n.jsxs)(x,{children:[(0,n.jsx)(S,{src:N}),(0,n.jsx)(C,{children:i.coins?(0,B.GQ)(i.coins):0})]}),i.muted?(0,n.jsx)(k,{children:(0,n.jsx)(F.H,{})}):null]}),!o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(R,{children:[(0,n.jsx)(T,{children:i.avatarUrls?(0,n.jsx)(z.I,{src:i.avatarUrls}):null}),i.muted?null:(0,n.jsx)(W,{volume:i.volume})]}),e&&(0,n.jsx)(P,{children:i.name})]})]},i.id)},H=e=>{const{type:t="horizontal",infoEnable:i,hostList:o,onCollapse:a}=e;return(0,n.jsxs)(y,{type:t,children:[o.map(e=>(0,n.jsx)(V,{infoEnable:i,type:t,hostInfo:e},e.id)),"horizontal"===t&&i?(0,n.jsx)(j,{type:"expand-btn",children:(0,n.jsx)(A,{onClick:a,children:(0,n.jsx)(c,{})})}):null]})},q={id:"expand-eb730aa9",use:"expand-eb730aa9-usage",viewBox:"0 0 14 15",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 15" id="expand-eb730aa9"><path fill="white" d="M4.028 3.21a.646.646 0 0 1 .795-.46l3.63.993a.646.646 0 0 1 .152 1.182L4.02 7.572a.646.646 0 0 1-.948-.724zm5.894 8.372a.646.646 0 0 1-.795.459l-3.629-.993a.646.646 0 0 1-.152-1.182L9.929 7.22a.646.646 0 0 1 .948.723z" /></symbol>'};function $(e){const t=(0,r.useContext)(l.X);return(0,r.useLayoutEffect)(()=>(t.add(q),()=>{t.remove("expand-eb730aa9")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#expand-eb730aa9"},void 0)}),void 0)}const G=e=>{const{hostList:t,infoEnable:i=!1,onExpand:o}=e;return(0,n.jsxs)(v,{children:[t.map(e=>(0,n.jsxs)(f,{children:[(0,n.jsxs)(E,{children:[(0,n.jsxs)(h,{children:[2===e.onlineStatus&&(0,n.jsx)(U.U,{}),e.avatarUrls?(0,n.jsx)(z.I,{src:e.avatarUrls,skeleton:"avatar"}):null]}),e.muted?null:(0,n.jsx)(W,{volume:e.volume})]}),2!==e.onlineStatus&&i&&e.muted?(0,n.jsx)(w,{children:(0,n.jsx)(F.H,{})}):null]},e.id)),(0,n.jsx)(M,{onClick:o,children:(0,n.jsx)($,{})})]})},K=e=>{const{type:t,collapse:i,onExpandClick:o}=e,[a,s]=(0,r.useState)(!0),l=(0,r.useCallback)(()=>{s(!0),null==o||o()},[o]),d=(0,r.useCallback)(()=>{s(!1)},[]);return(0,r.useEffect)(()=>{i&&"horizontal"===t&&s(!1)},[t,i]),a?(0,n.jsx)(H,Object.assign({},e,{onCollapse:d})):(0,n.jsx)(G,Object.assign({},e,{onExpand:l}))};var Y=i(73506),Z=i(72516),J=i(71450),X=i(4126),Q=i(13356),ee=i(8536),te=i(23999),ie=i(20259),ne=i(46657),oe=i(26324),ae=i(7672),re=i(44094);let se=class{constructor(e){this.fetch=e}getListByType(e){return this.fetch.get("/webcast/linkmic_multi_guest/list_by_type/",{query:e,baseUrlType:4})}};se=(0,Z.__decorate)([(0,ae._)(),(0,Z.__metadata)("design:paramtypes",[re.p])],se);let le=class extends J.E{constructor(e){super(),this.service=e,this.defaultState={linkedUsers:[]}}updateFanTicket(e,t){var i;e.linkedUsers=null===(i=e.linkedUsers)||void 0===i?void 0:i.map(e=>{var i;return(null===(i=e.user)||void 0===i?void 0:i.id_str)===t.uid&&(e.fan_ticket=t.ticket),e})}updateViewersList(e,t){e.linkedUsers=t}getMultiGuestListByType(e){return e.pipe((0,ee.Z)(e=>this.service.getListByType(e).pipe((0,ee.Z)(e=>0===e.status_code?(0,te.of)(this.getActions().updateViewersList(e.data.linked_users)):(0,te.of)()),(0,ie.W)(()=>ne.w))))}};(0,Z.__decorate)([(0,X.h5)(),(0,Z.__metadata)("design:type",Function),(0,Z.__metadata)("design:paramtypes",[Object,Object]),(0,Z.__metadata)("design:returntype",void 0)],le.prototype,"updateFanTicket",null),(0,Z.__decorate)([(0,X.h5)(),(0,Z.__metadata)("design:type",Function),(0,Z.__metadata)("design:paramtypes",[Object,Object]),(0,Z.__metadata)("design:returntype",void 0)],le.prototype,"updateViewersList",null),(0,Z.__decorate)([(0,X.Mj)(),(0,Z.__metadata)("design:type",Function),(0,Z.__metadata)("design:paramtypes",[oe.c]),(0,Z.__metadata)("design:returntype",oe.c)],le.prototype,"getMultiGuestListByType",null),le=(0,Z.__decorate)([(0,Q.nV)("BasicVoiceChatModule"),(0,Z.__metadata)("design:paramtypes",[se])],le);const de=(0,p.default)("div",{target:"e8yuxcg0"})({width:"100%",position:"absolute",zIndex:32,transition:"bottom 300ms linear"},"label:DivVoiceChatPanelController;"),ce=(0,r.memo)(e=>{const{playerContainerRef:t,anchorId:i,roomId:l,channelId:d,liveRoomMode:c=0,canvasWidth:u,canvasHeight:p,infoEnable:g,grids:_,bottom:m=16}=e,{hiddenInfoInPhoneSize:h,panelStyleType:v,controllerStyle:f}=(0,Y.f)({playerContainerRef:t,canvasWidth:u,canvasHeight:p,bottom:m}),[y,b]=(0,r.useState)([]),x=(0,o.w)(le),k=(0,a.P)(le,{selector:e=>e.linkedUsers,dependencies:[]}),w=(0,r.useRef)(""),S=(0,r.useRef)({}),C=(0,r.useCallback)(()=>{s.mx.handleVoiceChatPanelExpand({room_id:l,anchor_id:i,live_room_mode:c})},[i,c,l]),j=(0,r.useCallback)(()=>{_.length>1?b(e=>(e.forEach(e=>{_.forEach(t=>{var i,n;if(t.uid_str&&e.linkMicId===t.uid_str){e.onlineStatus=null!==(i=t.online_user_state)&&void 0!==i?i:0,e.muted=1===(null==t?void 0:t.mute_a);const o=Number(t.talk_volume);e.volume=o>0?o:null!==(n=e.volume)&&void 0!==n?n:0,S.current[t.uid_str]={onlineStatus:e.onlineStatus,muted:e.muted,volume:e.volume}}})}),[...e])):b([])},[_]);return(0,r.useEffect)(()=>{(null==_?void 0:_.length)<2||!l||!d||(e=>{let t="";return e.forEach((e,i)=>{t+=`${e.uid_str}_${i}`}),w.current!==t&&(w.current=t,!0)})(_)&&x.getMultiGuestListByType({room_id:l,channel_id:d,anchor_id:i,need_list_type_set_json_str:JSON.stringify([1]),list_by_type_scene:0})},[i,d,l,x,_]),(0,r.useEffect)(()=>{j()},[j]),(0,r.useEffect)(()=>{var e;if(!(null==k?void 0:k.length)||!i)return;const t=null!==(e=k.filter(e=>{var t;return Boolean((null===(t=e.user)||void 0===t?void 0:t.id_str)!==i)}))&&void 0!==e?e:[];b(t.map(e=>{var t,i,n,o,a,r,s,l,d,c,u,p,g;const _=(null===(t=e.user)||void 0===t?void 0:t.id_str)?S.current[null===(i=e.user)||void 0===i?void 0:i.id_str]:null;return{id:null!==(o=null===(n=e.user)||void 0===n?void 0:n.id_str)&&void 0!==o?o:"",linkMicId:e.linkmic_id_str,avatarUrls:null!==(s=null===(r=null===(a=e.user)||void 0===a?void 0:a.avatar_thumb)||void 0===r?void 0:r.url_list)&&void 0!==s?s:[],name:null!==(d=null===(l=e.user)||void 0===l?void 0:l.nickname)&&void 0!==d?d:"",coins:Number(null!==(c=e.fan_ticket)&&void 0!==c?c:0),onlineStatus:null!==(u=null==_?void 0:_.onlineStatus)&&void 0!==u?u:0,volume:null!==(p=null==_?void 0:_.volume)&&void 0!==p?p:0,muted:null!==(g=null==_?void 0:_.muted)&&void 0!==g&&g}}))},[k,i]),(0,r.useEffect)(()=>()=>{x.updateViewersList([]),w.current=""},[x]),(0,n.jsx)(de,{type:v,style:Object.assign({bottom:`${m}px`},f),children:Boolean(y.length)&&(0,n.jsx)(K,{type:v,onExpandClick:C,infoEnable:g&&!h,hostList:y})})})},58116:(e,t,i)=>{"use strict";i.d(t,{O2:()=>a,yw:()=>o});var n=i(71225);const o=()=>({mute:(0,n.i3)(),volume:(0,n.R4)()}),a=e=>{const{mute:t,volume:i,playing:o}=(0,n.Jz)(t=>({mute:e||t.mute,volume:t.volume,playing:t.playing}));return{mute:t,volume:i,playing:o}}},58262:(e,t,i)=>{"use strict";i.d(t,{CH:()=>g,D_:()=>s,HI:()=>l,IW:()=>d,M8:()=>m,ah:()=>u,ap:()=>c,xV:()=>_});var n=i(16410),o=i(93584),a=i(5786),r=i(78859);const s=(0,n.default)("div",{target:"evv7pft0"})({display:"flex",flexDirection:"row",alignItems:"center",padding:"0px",marginBottom:"15px",position:"relative",flex:"0 0 82px"},"label:DivInfoContainer;"),l=(0,n.default)("span",{target:"evv7pft1"})(({theme:e,shouldAvatarShowNickName:t})=>[(0,o.zy)({theme:e,typography:"P1",fontWeight:"bold",fontFamily:"TikTokDisplayFont"}),t&&{size:"20px",lineHeight:"28px"}],"label:SpanUniqueId;");l.defaultProps=Object.assign(Object.assign({},l.defaultProps),{"data-e2e":"browse-username"});const d=(0,n.default)("span",{target:"evv7pft2"})(Object.assign(Object.assign({},(0,o.m4)(1)),{display:"inline"}),"label:SpanEllipsis;"),c=(0,n.default)("span",{target:"evv7pft3"})(({theme:e,shouldAvatarShowNickName:t,isDetailPage:i})=>[(0,o.zy)({theme:e,typography:"P3",fontFamily:"TikTokFont",color:i?"TextSecondary":void 0}),t&&{color:e.colors.TextTertiaryAlt},{display:"flex",alignItems:"center"}],"label:SpanOtherInfos;");c.defaultProps=Object.assign(Object.assign({},c.defaultProps),{"data-e2e":"browser-nickname"});const u=(0,n.default)(a.E,{target:"evv7pft4"})(o.PR,o.AB,{flex:"1 1 auto",":hover":{[`${l}`]:{textDecoration:"underline"}}},({theme:{direction:e}})=>(0,o.mp)({direction:e,marginEnd:"12px"}),"label:StyledLink;"),p=({theme:{direction:e}})=>[{flex:"0 0 40px",":hover":{[`~ ${u} ${l}`]:{textDecoration:"underline"}}},(0,o.mp)({direction:e,marginEnd:"12px"})];function g(e){return e?(0,n.default)(r.B,{target:"evv7pft5"})(p):(0,n.default)(a.E,{target:"evv7pft6"})(p)}const _=(0,n.default)("div",{target:"evv7pft7"})({justifySelf:"flex-end"},"label:DivBtnWrapper;");_.defaultProps=Object.assign(Object.assign({},_.defaultProps),{"data-e2e":"browse-follow"});const m=(0,n.default)("span",{target:"evv7pft8"})(({theme:e})=>({margin:"0px 4px",border:"0.5px",borderStyle:"solid",height:"13.5px",borderColor:e.colors.LinePrimary}),"label:SpanDivider;")},58364:(e,t,i)=>{"use strict";i.d(t,{gK:()=>_,sQ:()=>m});var n=i(45027),o=i(95074),a=i(40099),r=i(40812),s=i(63377),l=i(90976),d=i(2232),c=i(24235),u=i(20173),p=i(85650),g=i(66712);const _=()=>{var e,t,i;const{abTestVersion:n}=null!==(e=(0,l.W)(()=>["abTestVersion"],[]))&&void 0!==e?e:{},o="v1"===(null!==(t=(0,d.qt)(n,"stm_web_revamp"))&&void 0!==t?t:"v0"),a="v1"===(null!==(i=(0,d.qt)(n,"sleep_hours_webapp"))&&void 0!==i?i:"v0");return o&&a};function m(){var e,t,i,m,h;const[v,f]=(0,n.S)(p.z),y=(0,c.Us)(),{abTestVersion:b}=null!==(e=(0,l.W)(()=>["abTestVersion"],[]))&&void 0!==e?e:{},x=null!==(t=(0,d.qt)(b,"digital_wellbeing_web"))&&void 0!==t?t:"v0",k="v1"===(null!==(i=(0,d.qt)(b,"stm_web_revamp"))&&void 0!==i?i:"v0"),w=null!==(m=(0,d.qt)(b,"scheduled_breaks_teens"))&&void 0!==m?m:"v0",S=_(),{user:C}=(0,o.P)(u.L,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),j=Boolean(C);(0,a.useEffect)(()=>{f.setRevampFlag(k)},[f,k]),(0,a.useEffect)(()=>{f.setSleepHoursFlag(S)},[f,S]),(0,a.useEffect)(()=>{if("v0"===x||!j)return;const e=new Date,t=(0,g.BX)(e),i=e.getTime(),n=(0,g.$n)(i),o=(0,g.zk)(e);f.uploadAppOpentimes({reqPayload:{upload_timestamp:t,upload_type:1,app_open_times:[{upload_date:o,day_open_times:n?0:1,night_open_times:n?1:0}]}}),f.init();const a=(0,r.R)(document,"visibilitychange").subscribe(()=>{"hidden"===document.visibilityState?(f.setPageHidden(),(0,g.nN)("updateActiveTimeUsage",{value:{activeTimeUsage:v.activeTimeUsage,timeStamp:(new Date).getTime()}},s.LH)):"visible"===document.visibilityState&&f.setPageVisible()}),l=(0,r.R)(window,"storage").subscribe(e=>{const t=e;if(t.key!==s.o4&&t.key!==s.LH)return;const i=JSON.parse(t.newValue||"");switch(i.event){case"upload":const e=Number(i.value);e&&f.setLastUploadTime(new Date(e));break;case"updateDailySTM":i&&f.syncDailySTMUpdateHandler(i.value);break;case"updateSleepTime":i&&f.syncSleepSettingHandler(i.value);break;case"updateTimeBreak":i&&f.syncSessionDurationHandler(i.value)}});return()=>{f.stopTimer$(),a&&a.unsubscribe(),l&&l.unsubscribe()}},[]),(0,a.useEffect)(()=>{"v0"!==x&&j&&v.isPageHidden&&v.isOpenDailySTM&&f.uploadScreenTime()},[v.isPageHidden]),(0,a.useEffect)(()=>{"v0"!==x&&j&&v.isOpenDailySTM&&!v.isPageHidden&&(f.startMonitorDayChange(),f.startMonitorTimeLimit(),f.startUploadSTMEveryTenMinutes(),f.startAccumulateActiveTime())},[v.isOpenDailySTM,v.isPageHidden]),(0,a.useEffect)(()=>{if(!v.isOpenDailySTM||v.isPageHidden)return;const e=v.userSTMLimit;v.timeUsageToday>=60*e?f.checkDailySTMPopupShow({date:(0,g.zk)(v.lastUploadTime),screen_time_limit_type:v.STMInterventionType}):f.setDefaultDailySTMPopup(!1)},[v.isOpenDailySTM,v.userSTMLimit,v.isPageHidden,v.timeUsageToday]),function(e,t,i={immediate:!1}){const{immediate:n}=i,o=(0,a.useRef)(),r=(0,a.useRef)(!1);(0,a.useEffect)(()=>{const i=()=>t(o.current);r.current?i():(r.current=!0,n&&i()),o.current=e},[e])}(null===(h=y.appContext)||void 0===h?void 0:h.user,e=>{var t,i;"v0"!==x&&j&&(!e&&Boolean(null===(t=y.appContext)||void 0===t?void 0:t.user)?(f.init(),f.setLogin()):e&&!Boolean(null===(i=y.appContext)||void 0===i?void 0:i.user)&&(f.uploadScreenTime(),f.setNotLogin()))}),(0,a.useEffect)(()=>{"v0"!==x&&j&&(f.uploadScreenTimeWhenDayChange(),f.init())},[v.dayChange]),(0,a.useEffect)(()=>{"v0"!==x&&j&&v.tenMinutesInterval&&f.uploadScreenTime()},[v.tenMinutesInterval]),(0,a.useEffect)(()=>{"v0"!==x&&j&&v.defaultDailySTMPopup&&(f.setIsDisplayOtherPopupWhenTimeBreak(!0),f.uploadScreenTime({uploadType:5}))},[v.defaultDailySTMPopup]),(0,a.useEffect)(()=>{"v0"!==x&&j&&(2===v.userIdentity||4===v.userIdentity&&v.isFpTeenOpenDailySTM)&&f.getParentInfo({})},[v.userIdentity,v.isFpTeenOpenDailySTM]),(0,a.useEffect)(()=>{"v0"!==x&&j&&!S&&(v.isOpenSleepReminder&&!1===v.isPageHidden?(f.stopSleepReminder$(),f.openSleepReminder()):f.stopSleepReminder$())},[v.isOpenSleepReminder,v.isPageHidden,S]),(0,a.useEffect)(()=>{"v0"!==x&&j&&v.sleepReminderPopup&&!v.isPageHidden&&f.setIsDisplayOtherPopupWhenTimeBreak(!0)},[v.sleepReminderPopup,v.isPageHidden]),(0,a.useEffect)(()=>{"v0"!==x&&j&&v.durationReminder&&!v.isPageHidden&&(f.stopTimeBreak$(),f.processTimeBreak())},[v.durationReminder,v.isPageHidden]),(0,a.useEffect)(()=>{"v0"!==x&&j&&localStorage.setItem(s.o4,JSON.stringify({event:"upload",value:v.lastUploadTime}))},[v.lastUploadTime]),(0,a.useEffect)(()=>{"v0"===w&&v.shouldShowScheduledBreak&&f.disableScheduledBreak()},[w,v.shouldShowScheduledBreak]),(0,a.useEffect)(()=>{"v0"!==x&&j&&"v0"!==w&&!v.isPageHidden&&v.scheduledBreakEnabled&&(f.scheduledBreakProcess(),f.stopScheduleBreak$(),f.startScheduledBreakTimer())},[v.scheduledBreakEnabled,v.isPageHidden])}},58573:(e,t,i)=>{"use strict";i.d(t,{f:()=>l,K:()=>s});var n=i(72516);class o{constructor(){this.handlers=[]}register(e){this.handlers.push(e)}deregister(e){this.handlers=this.handlers.filter(t=>t!==e)}}var a=i(35762),r=i(59725);const s=new class extends o{handle(e,{uid:t}){this.handlers.forEach(i=>{i(e,{uid:t})})}};function l(e){var t;return(0,n.__awaiter)(this,void 0,void 0,function*(){const i=(0,r.l)(e.event);if(!("params"in i)||i.params.user_id.toString()!==e.uid)return;const n=yield a.h.get("/passport/token/beat/web",{query:{aid:"1459"}}).catch(()=>({data:{error_code:-1}}));401===(null===(t=n.data)||void 0===t?void 0:t.error_code)&&s.handle({rawEvent:e.event,parsedData:i},{uid:e.uid})})}},58995:(e,t,i)=>{"use strict";i.d(t,{D:()=>g});var n=i(24643),o=i(40099),a=i(7607),r=i(27799),s=i(50622),l=i(16410),d=i(5227),c=i(93584);const u=(0,l.default)("button",{target:"ef0ywbl0"})(c.WA,({theme:e})=>[(0,c.mp)({direction:e.direction,end:"26px"}),(0,c.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"TextPrimary",typography:"P3"})],{display:"flex",justifyContent:"center",alignItems:"center",height:"20px",cursor:"pointer",":hover":{textDecoration:"underline"}},"label:ButtonDelete;"),p=(0,l.default)(d.A,{target:"ef0ywbl1"})(({theme:{direction:e}})=>(0,c.mp)({direction:e,marginEnd:6}),"label:StyledTrashBin;"),g=function({video:e}){const[t,i]=(0,o.useState)(!1),l=(0,r.s)(),d=(0,o.useCallback)(()=>{i(!0),a.y.handleScheduleConfirm(e.id)},[e.id]),c=(0,o.useCallback)(()=>{i(!1)},[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(u,{type:"button",onClick:d,children:[(0,n.jsx)(p,{width:18.33,height:18.33}),l("delete")]}),(0,n.jsx)(s.G,{visible:t,onClose:c,videoId:e.id,isScheduled:!0})]})}},59071:(e,t,i)=>{"use strict";i.d(t,{_:()=>M});var n,o=i(72516),a=i(71450),r=i(4126),s=i(13356),l=i(340),d=i(46657),c=i(23999),u=i(82970),p=i(26324),g=i(72916),_=i(24451),m=i(74690),h=i(80339),v=i(8536),f=i(35572),y=i(62564),b=i(95719),x=i(20259),k=i(48156),w=i(55867),S=i(28439),C=i(1404),j=i(69831),T=i(89136),I=i(43521),P=i(83692),A=i(53900);!function(e){e.Friends="friends",e.Strangers="strangers"}(n||(n={}));let M=class extends a.E{constructor(e,t,i,n,o,a){super(),this.service=e,this.slardar=t,this.itemList=i,this.item=n,this.bizContext=o,this.t=a,this.defaultState={friends:{},strangers:{},selectedConversation:void 0,currentMessage:{list:[],hasMore:!0},isLoadingMoreMessage:!1,failedMessageMap:{},hasFeedbackMap:{},failedVideoCodeMap:{},itemListByMessageId:[],recordedFocusOrigin:"",moderationResultMap:{},sendingProgressMap:{},lastUpdatedMap:{}}}multiSetConversation(e,t){const{list:i,isStranger:n}=t,o={};return i.forEach(e=>{o[e.id]=e}),n?Object.assign(Object.assign({},e),{strangers:Object.assign(Object.assign({},e.strangers),o)}):Object.assign(Object.assign({},e),{friends:Object.assign(Object.assign({},e.friends),o)})}setUser(e,t){const{item:i,isStranger:n}=t;return n?Object.assign(Object.assign({},e),{strangers:Object.assign(Object.assign({},e.strangers),{[i.id]:i})}):Object.assign(Object.assign({},e),{friends:Object.assign(Object.assign({},e.friends),{[i.id]:i})})}addFailedMessage(e,t){e.failedMessageMap=Object.assign(Object.assign({},e.failedMessageMap),t)}setModerationResult(e,t){e.moderationResultMap=Object.assign(Object.assign({},e.moderationResultMap),t)}setLastUpdated(e,t){e.lastUpdatedMap=Object.assign(Object.assign({},e.lastUpdatedMap),t)}setSelectedConversation(e,t){e.selectedConversation=t}setMessageListAction(e,t){e.currentMessage.list=null!=t?t:[]}setRecordedFocusOrigin(e,t){e.recordedFocusOrigin=t}setMessageHasMore(e,t){e.currentMessage.hasMore=t}setIsLoadingMoreMessage(e,t){e.isLoadingMoreMessage=t}setHasFeedbackMap(e,t){e.hasFeedbackMap=Object.assign(Object.assign({},e.hasFeedbackMap),{[t]:!0})}setFailedVideoCodeMap(e,t){e.failedVideoCodeMap=Object.assign(Object.assign({},e.failedVideoCodeMap),t)}setItemListByMessageId(e,t){e.itemListByMessageId=t}setSendingProgress(e,t){const{messageId:i,sendingProgress:n}=t,o=e.sendingProgressMap[i],a=Object.assign(Object.assign({},o),n);e.sendingProgressMap=Object.assign(Object.assign({},e.sendingProgressMap),{[i]:a})}loadMoreMessage(e){return e.pipe((0,g.n)(({conversation:e,abTestVersion:t})=>this.service.getMessagesByConversation({conversation:e}).pipe((0,_.E)(this.state$),(0,g.n)(([{hasMore:i},{selectedConversation:n}])=>{if((null==n?void 0:n.id)!==e.id)return d.w;const o=e.getMessageList();return(0,c.of)(this.getActions().setMessageHasMore(i),this.getActions().setMessageList({list:o,abTestVersion:t}))}),(0,m.Z)(this.getActions().setIsLoadingMoreMessage(!0)),(0,h.q)(this.getActions().setIsLoadingMoreMessage(!1)))))}setConversationSettingInfo(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([{id:e,mute:t,stickOnTop:i},{friends:n,strangers:o}])=>{var a,r;const s=null!==(r=null!==(a=n[e])&&void 0!==a?a:o[e])&&void 0!==r?r:{};return this.service.setConversationSettingInfo({conversation:s,mute:t,stickOnTop:i}),d.w}))}deleteConversation(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([{id:e},{friends:t}])=>{var i;const n=null!==(i=t[e])&&void 0!==i?i:{};return this.service.deleteConversation({conversation:n}),(0,c.of)(this.getActions().setSelectedConversation(void 0))}))}markConversationRead(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([{id:e},{friends:t}])=>{var i;const n=null!==(i=t[e])&&void 0!==i?i:{};return this.service.markConversationRead({conversation:n}),d.w}))}markStrangerConversationRead(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([{id:e},{strangers:t}])=>{var i;const n=null!==(i=t[e])&&void 0!==i?i:{};return this.service.markStrangerConversationRead({conversation:n}),d.w}))}handleMessageSend(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([e,{selectedConversation:t}])=>{if(!t)return d.w;const i=8===e.type;return(0,c.of)(this.getActions().getMessageList({id:null==t?void 0:t.id,shouldHandleVideoMessage:i,abTestVersion:e.abTestVersion}))}))}handleReceiveNewMessage(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([e,{selectedConversation:t}])=>{if(!t)return d.w;const i=8===e.type;return(0,c.of)(this.getActions().getMessageList({id:null==t?void 0:t.id,shouldHandleVideoMessage:i,abTestVersion:e.abTestVersion}))}))}handleMessageDelete(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([e,{selectedConversation:t}])=>{if(!t)return d.w;const i=8===e.type;return(0,c.of)(this.getActions().getMessageList({id:null==t?void 0:t.id,shouldHandleVideoMessage:i,abTestVersion:e.abTestVersion}))}))}handleMessageUpsert(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([{message:e,abTestVersion:t},{selectedConversation:i}])=>i&&[1802,1803].includes(e.type)&&7===e.source?(0,c.of)(this.getActions().getMessageList({id:null==i?void 0:i.id,shouldHandleVideoMessage:!1,abTestVersion:t})):d.w))}getMessageList(e){return e.pipe((0,_.E)(this.state$),(0,g.n)(([{id:e,shouldHandleVideoMessage:t,abTestVersion:i},{friends:n,strangers:o}])=>{var a;const r=o[e],s=n[e],l=Boolean(r);if(!r&&!s)return d.w;if(l)return(0,c.of)(this.getActions().getStrangerMessageList({id:e,shouldHandleVideoMessage:t,abTestVersion:i}));const u=null!==(a=null==s?void 0:s.getMessageList())&&void 0!==a?a:[];return(0,c.of)(this.getActions().setMessageList({list:u,shouldHandleVideoMessage:t,abTestVersion:i}))}),(0,w.n)({}))}getStrangerMessageList(e){return e.pipe((0,_.E)(this.state$),(0,g.n)(([{id:e,shouldHandleVideoMessage:t,abTestVersion:i},{strangers:n}])=>{const o=n[e];return o?this.service.getStrangerConversationMessage({conversation:o}).pipe((0,g.n)(e=>(0,c.of)(this.getActions().setMessageList({list:e,shouldHandleVideoMessage:t,abTestVersion:i})))):d.w}),(0,w.n)({}))}setMessageList(e){return e.pipe((0,_.E)(this.state$,this.item.state$),(0,v.Z)(([{list:e,shouldHandleVideoMessage:t=!0,abTestVersion:i},{failedVideoCodeMap:n},o])=>{if(!t)return(0,c.of)(this.getActions().setMessageListAction(e));const a=[],r=[],s=[];return e.forEach(e=>{const{type:t,content:i,clientId:l}=e;if(8!==t)return;let d={};try{d=JSON.parse(i)}catch(e){return null}const c=null==d?void 0:d.itemId;n[c]||(r.push(c),s.push(l),o[c]||a.push(c))}),(0,c.of)(this.getActions().setMessageListAction(e),this.getActions().getVideoList({needRequestList:a,allList:r,allListByMessageId:s,abTestVersion:i}))}))}getVideoList(e){return e.pipe((0,_.E)(this.bizContext.state$),(0,g.n)(([{needRequestList:e,allList:t,allListByMessageId:i},n])=>{if(!e.length)return(0,c.of)(this.itemList.getActions().setItemListById({key:"messages",list:t}),this.getActions().setItemListByMessageId(i));const o=e.map(e=>{var t,i;return this.service.getItemInfo(e,null===(i=null===(t=n.bizContext)||void 0===t?void 0:t.videoCoverSettings)||void 0===i?void 0:i.format)});return(0,u.z)(o).pipe((0,g.n)(n=>{const o={},a=[];return n.forEach(({statusCode:n,itemInfo:r},s)=>{const l=e[s];if(0!==n){o[l]=n;const e=t.indexOf(l);e>-1&&(t.splice(e,1),i.splice(e,1))}else a.push(null==r?void 0:r.itemStruct)}),(0,c.of)(this.getActions().setFailedVideoCodeMap(o),...this.item.addItems(a),this.itemList.getActions().setItemListById({key:"messages",list:t}),this.getActions().setItemListByMessageId(i))}),(0,w.n)({}))}))}deleteMessage(e){return e.pipe((0,f.p)(({message:e})=>(this.service.deleteMessage({message:e}),d.w)))}likeMessage(e){return e.pipe((0,f.p)(({message:e,isLiked:t})=>(this.service.modifyMessageProperty({message:e,isLiked:t}),d.w)))}handleMessagePropertyUpsert(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([e,{friends:t,strangers:i,selectedConversation:n}])=>{var o,a,r;const s=null!==(o=e.uid)&&void 0!==o?o:"",l=e.conversationId,u=null!==(r=null!==(a=t[l])&&void 0!==a?a:i[l])&&void 0!==r?r:{};if(e.property["e:love"]){const{sender:t}=e;if(t!==s)return d.w;const i=e.property["e:love"],{length:o}=i;for(let e=0;e<o;e++){const t=i[e];if(t.userId!==s){const e=n===u;return u.customLocalLike={like:!0,date:t.createTime,hasRead:e},(0,c.of)(this.getActions().multiSetConversation({list:[u],isStranger:u.isStrangerConversation}))}}}else u.customLocalLike=null;return d.w}))}handleRefreshMessage(e){return e.pipe((0,_.E)(this.state$),(0,v.Z)(([e])=>{let t=Number(e.ext["a:moderation_result"]);if("true"===e.ext["a:is_violative"]&&(t=3),t>1){const{content:i}=e,n=i.match(/"server_message_id":(\d+)/);if(!n)return d.w;const o=n[1];return(0,c.of)(this.getActions().setModerationResult({[o]:t}))}return d.w}))}updateMessageFromServer(e){return e.pipe((0,v.Z)(e=>this.service.getConversationByMessage({message:e}).pipe((0,y.T)(t=>({message:e,conversation:t})))),(0,v.Z)(({message:e,conversation:t})=>this.service.getMessages({messages:[e],conversation:t,upsert:!0}).pipe((0,y.T)(t=>({message:e,messages:t})))),(0,v.Z)(({message:e,messages:t})=>(0,c.of)(this.getActions().setLastUpdated({[e.clientId]:{timestamp:Date.now(),success:Boolean(t&&t.length>0)}}))))}feedbackMessage(e){return e.pipe((0,_.E)(this.state$),(0,f.p)(([{shortId:e,uid:t,content:i,messageId:n,messageType:o,contentPb:a,senderUid:r,serverMsgId:s},{hasFeedbackMap:l}])=>{const c=this.t("direct_meaasge_sending_ban_feedback_again"),u=this.t("Sorry, something wrong with the server, please try again.");return l[n]?(k.F.open({content:c,duration:3,widthType:"half"}),d.w):this.service.feedbackMessage({shortId:e,uid:t,content:i,messageId:n,messageType:o,contentPb:a,senderUid:r,serverMsgId:s}).pipe((0,b.M)(({status_code:e})=>{0===e?k.F.open({content:c,duration:3,widthType:"half"}):k.F.open({content:u,duration:3,widthType:"half"})}),(0,y.T)(({status_code:e})=>0===e?this.getActions().setHasFeedbackMap(n):this.noop()),(0,x.W)(()=>(k.F.open({content:u,duration:3,widthType:"half"}),d.w)))}))}handleLoadMediaFail(e){return e.pipe((0,v.Z)(({message:e,mediaType:t,mediaUrl:i,error:n,scene:o})=>(this.slardar.handleLoadMediaFail({media_type:t,media_url:i,moderation_result:e.ext["a:moderation_result"]||"",conversation_id:e.conversationId,message_server_id:e.serverId,error:`${n}`,scene:o}),A.w.handleMediaMessageShowFail({media_type:t,scene:o}),d.w)))}handleMediaModerationTimeout(e){return e.pipe((0,v.Z)(({message:e,mediaType:t,mediaUrl:i})=>(this.slardar.handleMediaModerationTimeout({media_type:t,media_url:i,conversation_id:e.conversationId,message_server_id:e.serverId}),d.w)))}};(0,o.__decorate)([(0,r.HI)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"multiSetConversation",null),(0,o.__decorate)([(0,r.HI)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setUser",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"addFailedMessage",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setModerationResult",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setLastUpdated",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setSelectedConversation",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setMessageListAction",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setRecordedFocusOrigin",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setMessageHasMore",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setIsLoadingMoreMessage",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,String]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setHasFeedbackMap",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setFailedVideoCodeMap",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Array]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setItemListByMessageId",null),(0,o.__decorate)([(0,r.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setSendingProgress",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"loadMoreMessage",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setConversationSettingInfo",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"deleteConversation",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"markConversationRead",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"markStrangerConversationRead",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleMessageSend",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleReceiveNewMessage",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleMessageDelete",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleMessageUpsert",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"getMessageList",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"getStrangerMessageList",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"setMessageList",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"getVideoList",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"deleteMessage",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"likeMessage",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleMessagePropertyUpsert",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleRefreshMessage",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"updateMessageFromServer",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"feedbackMessage",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleLoadMediaFail",null),(0,o.__decorate)([(0,r.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[p.c]),(0,o.__metadata)("design:returntype",void 0)],M.prototype,"handleMediaModerationTimeout",null),M=(0,o.__decorate)([(0,s.nV)("ConversationModule"),(0,o.__param)(5,(0,l.y)(S.hp)),(0,o.__metadata)("design:paramtypes",[T.b,I.Z,C.O,j.k,P.$,Function])],M)},59083:(e,t,i)=>{"use strict";i.d(t,{r:()=>c});var n=i(24643),o=i(28021),a=i(27799),r=i(55911);const s={width:24,height:24,fontSize:18,display:"flex",justifyContent:"center",alignItems:"center"},l={activeIcon:(0,n.jsx)("span",{style:s,children:(0,n.jsx)(o.B,{})}),inActiveIcon:(0,n.jsx)("span",{style:s,children:(0,n.jsx)(o.B,{})})},d={activeIcon:(0,n.jsx)(o.B,{}),inActiveIcon:(0,n.jsx)(o.B,{}),activeTip:"pm_web_fullpage_error_button",inActiveTip:"pm_web_fullpage_error_button"};function c(e){const t=(0,a.s)(),{isBrowserMode:i,onReplay:o,hideTips:s,activeIcon:c=(i?d.activeIcon:l.activeIcon),inActiveIcon:u=(i?d.inActiveIcon:l.inActiveIcon),activeTip:p=t(d.activeTip),inActiveTip:g=t(d.inActiveTip)}=e,_={activeIcon:c,inActiveIcon:u,activeTip:p,inActiveTip:g};return(0,n.jsx)(r.iy,Object.assign({dataE2E:"replay-icon",hideTips:s,isBrowserMode:i,isActive:!0,onClick:o},_))}},59475:(e,t,i)=>{"use strict";i.d(t,{aL:()=>y,_k:()=>S,Ee:()=>b,ip:()=>w,Ob:()=>x,g1:()=>k});var n=i(20434),o=i(71111),a=i(64388);const r={pageName:null,itemID:"",sentBatchCount:0},s=(0,o.atom)(r);s.debugLabel="fypFeederAtom";const{useAtomService:l,useServiceDispatchers:d,useServiceState:c,getStaticApi:u}=(0,a.i)(s,(e,t)=>({setCache(i){const{itemID:n}=e(s);n||t(s,e=>Object.assign(Object.assign({},e),i))},clearCache(){"ALWAYS_ALLOWED"!==e(s).pageName&&t(s,e=>Object.assign(Object.assign({},r),{sentBatchCount:e.sentBatchCount}))},incrementSentBatchCount(){t(s,e=>Object.assign(Object.assign({},e),{sentBatchCount:e.sentBatchCount+1}))}}));var p=i(40099),g=i(70589),_=i(90976);const m="webapp_fyp_feeder_landing";let h=!0;const v=e=>{var t;const{sendCreatorItemId:i}=(0,g.CQ)(),{user:n}=null!==(t=(0,_.W)(()=>["user"],[]))&&void 0!==t?t:{};return i&&"others_homepage"===e&&h&&!n},f=e=>{const{isFYP:t}=(0,g.FT)();return t&&("video_detail"===e||"graphic_detail"===e)&&h},y=()=>h,b=e=>{const t=d(),i=v(e),o=f(e);(0,p.useEffect)(()=>()=>{i||o||t.clearCache()},[t,i,o]),(0,p.useEffect)(()=>{(0,n.Hd)(m)&&(h=!1),(0,n.J2)(m,"1")},[e])},x=(e,t)=>{const i=d(),n=v(e),o=f(e);(0,p.useEffect)(()=>{t&&(n||o)&&i.setCache({pageName:e,itemID:t})},[t,e,n,o,i])},k=()=>{const e=d();return(0,p.useCallback)(t=>{e.setCache({pageName:"ALWAYS_ALLOWED",itemID:t,sentBatchCount:0})},[e])},w=()=>{const{isFYP:e}=(0,g.FT)(),{sendCreatorItemId:t,batchCount:i}=(0,g.CQ)(),{itemID:n,pageName:o,sentBatchCount:a}=c(),r=e&&("video_detail"===o||"graphic_detail"===o||"ALWAYS_ALLOWED"===o);let s=0;r?s=1:t&&"others_homepage"===o&&(s=i);const l=n&&a<s?n:"";return{fypFeederItemId:l,setFirstItemId:r?l:""}},S=e=>{const t=d();(0,p.useEffect)(()=>{e&&e>0&&t.incrementSentBatchCount()},[e,t])}},59638:(e,t,i)=>{"use strict";i.d(t,{AK:()=>l,Bf:()=>x,Jq:()=>k,R5:()=>u,Sh:()=>_,Vi:()=>d,az:()=>h,es:()=>v,gt:()=>r,i6:()=>p,l5:()=>s,n0:()=>m,n9:()=>c,oK:()=>f,qi:()=>b,qj:()=>g,sS:()=>y});var n=i(16410),o=i(54502),a=i(93584);const r=(0,n.default)("div",{target:"e1ya9dnw0"})({flex:"1 1 auto",position:"relative",margin:"0"},"label:DivSeekBarContainer;"),s=(0,n.default)("div",{target:"e1ya9dnw1"})(({theme:e})=>[(0,a.zy)({theme:e,typography:"P2",fontWeight:"normal",color:"ConstTextInverse"}),{marginInlineStart:"8px",fontSize:"14px",lineHeight:"20px",textAlign:"end",whiteSpace:"nowrap"}],"label:DivSeekBarTimeContainer;"),l=(0,n.default)("div",{target:"e1ya9dnw2"})({height:"4px",width:"100%",backgroundColor:"rgba(255, 255, 255, 0.34)",position:"absolute",left:"0",bottom:"0",cursor:"pointer",zIndex:1,":hover":{height:"6px"}},"label:DivSeekBarProgress;"),d=(0,n.default)("div",{target:"e1ya9dnw3"})(({theme:{direction:e,colors:t}})=>({height:"4px",width:"100%",backgroundColor:t.ConstTextInverse,position:"absolute",bottom:"0",cursor:"pointer",transformOrigin:"rtl"===e?"right":"left",":hover":{height:"6px"}}),"label:DivSeekBar;"),c=(0,n.default)("div",{target:"e1ya9dnw4"})(({theme:{direction:e}})=>(0,a.mp)({direction:e}),({theme:{direction:e,colors:t}})=>({display:"none",width:"12px",height:"12px",backgroundColor:"#ffffff",borderRadius:"12px",position:"absolute",zIndex:10,bottom:"0",transform:`translate(${"rtl"===e?"50%":"-50%"}, 3px)`,cursor:"pointer",boxShadow:`0px 0px 3px ${t.TextPrimary}`}),"label:DivSeekBarCircle;"),u=(0,n.default)("div",{target:"e1ya9dnw5"})(({dimmer:e})=>({width:"calc(100% + 150px)",opacity:e?.34:1,bottom:"0",cursor:"initial",display:"flex",zIndex:1,flexDirection:"column",userSelect:"none",transition:"all 0.3s ease",[`:hover ${l}`]:{height:"6px"},[`:hover ${d}`]:{height:"6px"},[`:hover ${c}`]:{display:"block"}}),({isClearModeAB:e=!1})=>e&&{opacity:0,transition:"opacity 400ms cubic-bezier(0.25, 0, 0.25, 1)"},"label:DivVideoSwiperControlContainer;"),p=(0,n.default)("div",{target:"e1ya9dnw6"})(({alignWithAction:e})=>({position:"relative",height:"24px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingInlineStart:"20px",paddingInlineEnd:e?"28px":"20px",marginTop:"15px",marginBottom:"14px"}),"label:DivVideoControlsWrapper;"),g=(0,n.default)("div",{target:"e1ya9dnw7"})({position:"relative",width:"100%",display:"flex",alignItems:"center"},"label:DivLeftControlsWrapper;"),_=(0,n.default)("div",{target:"e1ya9dnw8"})({width:"24px",height:"24px",display:"flex",justifyContent:"center",cursor:"pointer"},"label:DivPlayIconContainer;"),m=(0,n.default)("div",{target:"e1ya9dnw9"})({display:"flex",alignItems:"center",position:"relative"},"label:DivRightControlsWrapper;"),h=(0,n.default)("div",{target:"e1ya9dnw10"})(({theme:e})=>[(0,a.zy)({theme:e,typography:"P2",fontWeight:"semiBold",color:"ConstTextInverse"}),{cursor:"pointer",position:"relative",whiteSpace:"nowrap",marginInlineStart:"20px"}],"label:DivSpeedWrapper;"),v=(0,n.default)("div",{target:"e1ya9dnw11"})({position:"relative",cursor:"pointer",width:"24px",height:"24px",display:"flex",justifyContent:"center",alignItems:"center",marginInlineStart:"20px"},"label:DivIconWrapper;"),f=(0,n.default)("div",{target:"e1ya9dnw12"})({position:"absolute",zIndex:10,bottom:0,width:"24px",overflow:"visible",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center"},"label:DivVoiceControlContainer;"),y=(0,n.default)("div",{target:"e1ya9dnw13"})({cursor:"pointer",padding:"8px 0px",width:"120px",userSelect:"none"},"label:DivSpeedOptionsWrapper;"),b=(0,n.default)("div",{target:"e1ya9dnw14"})(({theme:e})=>[(0,a.zy)({theme:e,typography:"P3",fontWeight:"semiBold",color:"ConstTextInverse"}),{position:"relative",width:"100%",padding:"0 16px",boxSizing:"border-box",height:"42px",display:"flex",justifyContent:"center",alignItems:"center",":hover":{background:e.colors.ConstBGContainer2},":after":{content:'""',display:"block",width:"88px",position:"absolute",bottom:0,left:"16px",height:"0.5px",background:e.colors.LineSecondary},":last-child":{":after":{display:"none"}}}],"label:DivSpeedOptionsItem;"),x=(0,n.default)(o.A,{target:"e1ya9dnw15"})(({theme:{direction:e}})=>[(0,a.mp)({direction:e,start:"16px"}),{position:"absolute",width:"16px",height:"16px"}],"label:StyledTick;"),k=(0,n.default)("div",{target:"e1ya9dnw16"})(()=>({fontWeight:"bold"}),"label:DivTooltipOverlay;")},59725:(e,t,i)=>{"use strict";i.d(t,{R:()=>a,l:()=>r});var n=i(96266),o=i.n(n);const a=e=>{var t;const i=`; ${document.cookie}`.split(`; ${e}=`);return i.length>0?null===(t=i.pop())||void 0===t?void 0:t.split(";").shift():null},r=e=>{var t,i;return o().parse(null!==(i=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.textPayload)&&void 0!==i?i:"{}")}},59835:(e,t,i)=>{"use strict";i.d(t,{Eo:()=>s});var n=i(45027),o=i(66192),a=i(40099),r=i(24235);function s(){var e;const[t]=(0,n.S)(o.P),[i,s]=(0,a.useState)(!1),[l,d]=(0,a.useState)(!1),c=(0,r.Us)();return(0,a.useEffect)(()=>{s(t.engagementCountHide),d(t.guardianComplianceSettingInited)},[t.engagementCountHide,t.guardianComplianceSettingInited]),!!Boolean(null===(e=c.appContext)||void 0===e?void 0:e.user)&&(!l||i)}},59895:(e,t,i)=>{"use strict";i.d(t,{J:()=>n});const n=e=>{var t;const i={"cmn-Hans-CN":"zh-CN","eng-US":"en-US","jpn-JP":"jp-JP","kor-KR":"ko-KR","cmn-Hans-CN|eng-US":"en-US","rus-RU":"ru-RU","fra-FR":"fr-FR","por-PT":"pt-PT","spa-ES":"es-ES","afr-ZA":"en-ZA","ben-BD":"bn-BD","ces-CZ":"cs-CZ","dan-DK":"da-DK","nld-NL":"nl-NL","fin-FI":"fi-FI","deu-DE":"de-DE","ell-GR":"el-GR","hun-HU":"hu-HU","ind-ID":"id-ID","gle-IE":"en-IE","ita-IT":"it-IT","nor-NO":"no-NO","pol-PL":"pl-PL","swe-SE":"sv-SE","tha-TH":"th-TH","tur-TR":"tr-TR","ara-SA":"ar-SA","fra-CA":"fr-CA","cmn-Hant-CN":"zh-TW","heb-IL":"he-IL","jva-ID":"id-ID","ron-RO":"ro-RO","hin-IN":"hi-IN","ben-IN":"bn-BD","slk-SK":"sk-SK"};return null!==(t=null==i?void 0:i[e])&&void 0!==t?t:"en-US"}},60031:(e,t,i)=>{"use strict";i.d(t,{i:()=>s});var n=i(72516),o=i(40099),a=i(96406),r=i(29593);function s(e){const{isPlayerInit:t,player:s,loggerConfig:l,onGetLog:d}=e,c=(0,o.useRef)(),u=(0,o.useRef)(),p=(0,o.useRef)(),g=(0,o.useCallback)(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){var e,t,n,o;if((null==l?void 0:l.log)&&s.current){const{default:d}=yield i.e(5383).then(i.bind(i,65667));(null===(e=s.current)||void 0===e?void 0:e.video)&&(c.current=new d(Object.assign(Object.assign(Object.assign(Object.assign({player:s.current},l),{decodeImgUrl:null!==(t=null==l?void 0:l.decodeImgUrl)&&void 0!==t?t:(0,r.rO)()}),l.teaParams),{ext:l.teaParams,is_preview:null!==(o=null===(n=l.teaParams)||void 0===n?void 0:n.is_preview)&&void 0!==o?o:1,Tea:a.f.event.bind(a.f)})))}}),[null==l?void 0:l.log,s]),_=(0,o.useCallback)(()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{var e,t;_(),null==d||d(null===(t=null===(e=c.current)||void 0===e?void 0:e.logger)||void 0===t?void 0:t.log)},1e3)},[d]);return(0,o.useEffect)(()=>{if(t&&s.current){try{u.current=g()}catch(e){u.current=void 0,console.error(e)}return()=>{c.current=void 0}}},[t,s]),(0,o.useEffect)(()=>{u.current&&u.current.then(()=>{var e,t;c.current&&(null==l?void 0:l.log)&&l.teaParams&&(null===(t=(e=c.current).updateExt)||void 0===t||t.call(e,Object.assign({},l.teaParams)))})},[l]),(0,o.useEffect)(()=>()=>{p.current&&clearTimeout(p.current)},[]),{handleQosDataLoggerInterval:(0,o.useCallback)(e=>{var t,i;e?(null==d||d(null===(i=null===(t=c.current)||void 0===t?void 0:t.logger)||void 0===i?void 0:i.log),_()):p.current&&clearTimeout(p.current)},[_,d])}}},60222:(e,t,i)=>{"use strict";i.d(t,{N:()=>o,R:()=>a});var n=i(35762);const o=e=>n.h.get("/webcast/room/preload_room/",{query:e,baseUrlType:4}),a=e=>n.h.get("/webcast/room/check_alive/",{query:e,baseUrlType:4})},60382:(e,t,i)=>{"use strict";var n;i.d(t,{w4:()=>c}),function(e){e.Apple="apple",e.Amazon="amazon",e.Google="google",e.Download="download",e.Microsoft="microsoft"}(n||(n={}));const o=["ast","de","en","fr","it","ja","pt"],a="en",r=["microsoft","apple","amazon","google","download"],s={apple:"ios_app_store",google:"google_play",amazon:"amazon_store",download:"download_apk",microsoft:"microsoft_store"},l="officewebshare",d="normal";function c({lang:e,downloadLink:t={},isIOS:i=!1,isAndroid:n=!1}){var c;const u=e.split("-")[0],p=o.includes(u)&&!(null===(c=t.download)||void 0===c?void 0:c.visible)?u:a;return{iconLanguage:p,iconConfig:r.reduce((e,o)=>{const a=t[o];return(null==a?void 0:a.visible)&&function({platform:e,isIOS:t,isAndroid:i}){switch(e){case"apple":return!i;case"google":case"download":case"amazon":return!t;default:return!0}}({platform:o,isAndroid:n,isIOS:i})&&e.push({platform:o,language:p,href:a[l]||a[d],alt:`${o}-store`,target:s[o]||o}),e},[])}}},60400:(e,t,i)=>{"use strict";i.d(t,{v:()=>$i});var n=i(24643),o=i(45027),a=i(95074),r=i(54133),s=i(40099),l=i(72355),d=i(41136),c=i(67476),u=i(94810),p=i(7615),g=i(37818),_=i(96406),m=i(73995),h=i(54253),v=i(25961),f=i(27799),y=i(20434),b=i(70589),x=i(69857),k=i(2232),w=i(6418),S=i(35938),C=i(34778),j=i(31810),T=i(12951),I=i(47342),P=i(72516),A=i(71450),M=i(4126),L=i(13356),D=i(8536),O=i(23999),R=i(26324),E=i(72916),F=i(62564),B=i(74690),z=i(80339),U=i(24451),N=i(95719);const W={historyNotSeenID:[132952,133061],historyDisappearID:[132953,133062],parentIDs:[132954,132955,132956,132957,133063,133064,133065,133066],otherID:[132958,133067]},V=new Set([...W.otherID]),H=new Set([...W.historyNotSeenID]),q=new Set([...W.historyDisappearID]),$=new Set([...W.parentIDs]);var G=i(7672),K=i(44094);let Y=class{constructor(e){this.fetch=e}getFAQList(e){return this.fetch.get("/feedback/2/common_feedback_list/",{query:e})}postSubmitFaqList(e){return this.fetch.post("/feedback/2/post_message/",{query:e})}};Y=(0,P.__decorate)([(0,G._)(),(0,P.__metadata)("design:paramtypes",[K.p])],Y);var Z=i(81378);let J=class extends A.E{constructor(e,t){super(),this.service=e,this.search=t,this.defaultState={isOpenReport:!1,isOpenSuccessModal:!1,loading:!1,buttonLoading:!1,reportList:[],checkRadioId:void 0,otherText:"",historyNotSeenText:"",historyDisappearText:"",suggestedGroup:[],isSuccess:void 0,feedbackId:void 0}}setIsOpenReport(e,t){e.isOpenReport=t}setIsOpenSuccessModal(e,t){e.isOpenSuccessModal=t}setOtherText(e,t){e.otherText=t}setHistoryNotSeenText(e,t){e.historyNotSeenText=t}setHistoryDisappearText(e,t){e.historyDisappearText=t}setSuggestedGroup(e,t){e.suggestedGroup=t}setLoading(e,t){e.loading=t}setButtonLoading(e,t){e.buttonLoading=t}setCheckRadioId(e,t){e.checkRadioId=t}setData(e,t){e.reportList=t}setIsSuccess(e,t){e.isSuccess=t}setFeedbackId(e,t){e.feedbackId=t}resetData(e){e.loading=!1,e.buttonLoading=!1,e.checkRadioId=void 0,e.otherText="",e.historyNotSeenText="",e.historyDisappearText="",e.suggestedGroup=[],e.isSuccess=void 0,e.feedbackId=void 0}getReport(e){return e.pipe((0,E.n)(e=>this.service.getFAQList(e).pipe((0,F.T)(e=>{var t;const{message:i,list:n=[]}=e;let o=[];return"success"===i&&n.length&&(o=null===(t=n[0])||void 0===t?void 0:t.children),Object.assign(Object.assign({},e),{data:o})}),(0,D.Z)(e=>(0,O.of)(this.getActions().setData(null==e?void 0:e.data))),(0,B.Z)(this.getActions().setLoading(!0)),(0,z.q)(this.getActions().setLoading(!1)))))}submitReport(e){return e.pipe((0,U.E)(this.search.state$,this.state$),(0,F.T)(([e,{searchGlobalParams:t},{checkRadioId:i,suggestedGroup:n,otherText:o}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,checkRadioId:i,suggestedGroup:n,otherText:o})),(0,E.n)(({payload:e,checkRadioId:t,rootEnterFrom:i,suggestedGroup:n,otherText:o})=>this.service.postSubmitFaqList(e).pipe((0,F.T)(e=>{const{err_code:t}=e,i=0===t;return{feedbackId:e.feedback_id,isSuccess:i}}),(0,N.M)(({feedbackId:e})=>{let a="";t&&(V.has(t)&&(a=o),$.has(t)&&(a=String(n.filter(e=>e.checked).map(e=>e.text))),m.$G.handleSearchTextSubmit({enter_from:i,search_position:_.f.commonParams.page_name,text_type:"recom_search_feedback",question:t,answer:a,impr_id:String(e)}))}),(0,D.Z)(e=>(0,O.of)(this.getActions().setFeedbackId(e.feedbackId),this.getActions().setIsSuccess(e.isSuccess))),(0,B.Z)(this.getActions().setButtonLoading(!0)),(0,z.q)(this.getActions().setButtonLoading(!1)))))}};(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,Boolean]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setIsOpenReport",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,Boolean]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setIsOpenSuccessModal",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,String]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setOtherText",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,String]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setHistoryNotSeenText",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,String]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setHistoryDisappearText",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,Array]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setSuggestedGroup",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,Boolean]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setLoading",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,Boolean]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setButtonLoading",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,Object]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setCheckRadioId",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,Array]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setData",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,Object]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setIsSuccess",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object,Object]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"setFeedbackId",null),(0,P.__decorate)([(0,M.h5)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[Object]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"resetData",null),(0,P.__decorate)([(0,M.Mj)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[R.c]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"getReport",null),(0,P.__decorate)([(0,M.Mj)(),(0,P.__metadata)("design:type",Function),(0,P.__metadata)("design:paramtypes",[R.c]),(0,P.__metadata)("design:returntype",void 0)],J.prototype,"submitReport",null),J=(0,P.__decorate)([(0,L.nV)("searchReport"),(0,P.__metadata)("design:paramtypes",[Y,Z.tq])],J);var X=i(20173),Q=i(83692),ee=i(24469),te=i(90976),ie=i(74042),ne=i(41928),oe=i(12112),ae=i(67518),re=i(81825),se=i(75778),le=i(19664),de=i(81474),ce=i(97412),ue=i(16410),pe=i(28367),ge=i(93584);const _e=(0,ue.default)("form",{target:"e14ntknm0"})(({theme:{colors:e,direction:t},isBrowserMode:i,isFullSideNav:n})=>[{display:"flex",flexDirection:"row",alignItems:"center",padding:"12px 16px",background:i?"":e.BGInput,borderRadius:"92px",position:"relative",overflow:"hidden",zIndex:1,margin:"0"},n?{paddingTop:"10px",paddingBottom:"10px",marginInlineEnd:"0.5rem"}:{},n?(0,ge.mp)({direction:t,paddingEnd:"4px"}):{}],"label:FormElement;"),me=(0,ue.default)("div",{target:"e14ntknm1"})(({theme:{colors:e},isFocused:t,withNewStyle:i})=>({display:"none",position:"absolute",left:"0",top:"0",right:"0",bottom:"0",border:t?`2px solid ${e.Negative}`:`${i?"1px":"1.5px"} solid ${i?e.LinePrimary2:e.LinePrimary}`,borderRadius:"92px",zIndex:-1}),"label:DivInputBorder;"),he=(0,ue.default)("div",{target:"e14ntknm2"})(({theme:{colors:e}})=>({display:"block",position:"absolute",left:"0",top:"0",right:"0",bottom:"0",border:`1px solid ${e.ConstTextInverse4}`,borderRadius:"92px",zIndex:-1}),"label:DivBrowserModeInputBorder;"),ve=(0,ue.default)("input",{target:"e14ntknm3"})(({theme:{colors:e,typography:t,fontFamilies:i,fontWeights:n},hovered:o,isBrowserMode:a,isFullSideNav:r})=>Object.assign(Object.assign(Object.assign({fontFamily:i.TikTokFont,fontWeight:a?n.semiBold:n.normal},t.P2),{border:"none",background:"transparent",outline:"none",padding:"0",width:"100%",color:a?e.ConstTextInverse:e.TextPrimary,caretColor:e.Primary,appearance:"textfield",[`:focus ~ ${me}`]:{display:"block"},"::placeholder":{color:r&&e.UITextPlaceholder||a&&e.ConstTextInverse3||e.TextSecondary},":placeholder-shown":{textOverflow:"ellipsis"},[` ~ ${me}`]:{display:!o||a||r?"none":"block"}}),r?{fontSize:"14px"}:{}),"label:InputElement;");ve.defaultProps=Object.assign(Object.assign({},ve.defaultProps),{"data-e2e":"search-user-input"});const fe=(0,ue.default)("div",{target:"e14ntknm4"})({fontSize:0},"label:DivIconWrapper;"),ye=(0,ue.default)(pe.A,{target:"e14ntknm5"})({animation:"loading-circle-anim linear 1s infinite","@keyframes loading-circle-anim":{"0%":{transform:"rotate(0)"},"100%":{transform:"rotate(360deg)"}}},"label:StyledLoadingCircle;"),be=(0,ue.default)("span",{target:"e14ntknm6"})(({theme:{colors:e},isBrowserMode:t})=>({width:"1px",height:"28px",margin:"-3px 0",background:t?e.ConstTextInverse5:e.LineSecondary}),"label:SpanSpliter;"),xe=(e,t,i)=>t?i?e.BGInput:e.BGView:"transparent",ke=(0,ue.default)("button",{target:"e14ntknm7"})(({theme:{colors:e,direction:t},hovered:i,withNewStyle:n})=>[{padding:"11px 16px 11px 12px",margin:"-12px -16px",fontSize:"0",cursor:"pointer",outline:"none",border:"none",background:xe(e,i,n),":active":{background:e.BGInput2},"&:focus, :focus-visible":{outline:"none!important"}},(0,ge.mp)({direction:t,marginStart:"0"})],"label:ButtonSearch;");ke.defaultProps=Object.assign(Object.assign({},ke.defaultProps),{"data-e2e":"search-button"});const we=(0,ue.default)("div",{target:"e14ntknm8"})(({focused:e,theme:t})=>({outline:e?`2px solid ${t.colors.Negative}`:"none"}),"label:DivSearchIconContainer;"),Se=(0,s.memo)((0,s.forwardRef)(function({initialValue:e,hovered:t,isBrowserMode:i=!1,onEnter:a,onTab:r,onBlur:d,onMouseEnter:c,onMouseLeave:u,isMouseOnSearchBtn:p,isFullSideNav:h},v){var f;const[{searchValue:y,loading:b,activeIndex:w,inputFocus:S,sugList:j,queryId:P,videoPageType:A},{handleInputFocusChange:M,setSearchValue:L,setActiveUp:D,setActiveDown:O,setActiveIndex:R}]=(0,o.S)(I.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,loading:e.loading,activeIndex:e.activeIndex,inputFocus:e.inputFocus,sugList:e.sugList,queryId:e.queryId,videoPageType:e.videoPageType})}),[{rootEnterFrom:E}]=(0,o.S)(Z.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),[{historyList:F,shouldUpdateData:B},z]=(0,o.S)(ee._,{dependencies:[],selector:e=>({historyList:e.historyList,shouldUpdateData:e.shouldUpdateData})}),U=(0,le.Ul)(),{abTestVersion:N,user:W}=(0,x.L$)((0,te.W)(()=>["abTestVersion","user"],[])),V=Boolean(W),H=(0,s.useRef)(null),q=(0,s.useCallback)(()=>{var e;null===(e=H.current)||void 0===e||e.blur()},[]),$=(0,s.useCallback)(()=>{var e;null===(e=H.current)||void 0===e||e.focus()},[]);(0,s.useImperativeHandle)(v,()=>({onEnterBlur:q,onEnterFocus:$}),[q,$]);const{pathname:G}=(0,l.zy)(),K=(0,C.JD)(e=>e.showingBrowserMode),Y=Boolean((0,l.B6)(G,{path:g.OZ.searchHome})),{placeholder:J,hasVideoSugWord:X,word_id:Q}=(0,T.H1)(K),{colors:ie}=(0,ae.u)(),ne="v2"===(null!==(f=(0,k.qt)(N,"search_transfer_history"))&&void 0!==f?f:"v1")&&V,oe=(0,s.useMemo)(()=>({fill:K?ie.ConstTextInverse4:ie.TextQuaternary,width:16,height:16,style:{margin:"0 12px"}}),[ie,K]),re=(0,s.useMemo)(()=>!b&&Boolean(y)&&j.length>0&&S,[S,b,y,j.length]);(0,s.useEffect)(()=>{L(e)},[e,L]);const ue=(0,ce.$)(),pe=(0,s.useCallback)(()=>{ne&&F.length&&m.$G.handleSearchHistory({enter_from:E,search_entrance:E,search_position:_.f.commonParams.page_name,search_keyword:"",action_type:"show",order:-1})},[F,ne,E]),ge=(0,s.useCallback)(e=>{const t=e.target.value;(e=>!e.startsWith(" "))(t)&&(y&&""===t&&!i&&(z.setEnterMethod("cancel"),m.$G.handleEnterSearchBlankPage({enter_from:_.f.commonParams.page_name,enter_method:"cancel",search_keyword:"",is_from_video:"video_detail"===_.f.commonParams.page_name?"1":""}),pe(),ue()),L(t))},[L,y,pe,ue,z,i]),_e=(0,de.i)({upHandler:D,downHandler:O,confirmHandler:a,tabHandler:r}),me=(0,s.useCallback)(()=>{var e;if(M(!0),B)if(y){const t={enter_from:E,raw_query:y,search_position:"browser_mode"===A?"video_detail":_.f.commonParams.page_name,video_page_type:A,enter_group_id:null!==(e=null==U?void 0:U.id)&&void 0!==e?e:""};m.$G.handleSugGroupImpression(Object.assign({words_source:"sug",words_num:String(j.length)},t)),j.forEach((e,i)=>{var n;m.$G.handleSugImpression(Object.assign({impr_id:null!==(n=null==e?void 0:e.impr_id)&&void 0!==n?n:"",words_source:"sug",words_position:i,words_content:e.content,sug_type:e.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!=P?P:"",group_id:e.word_record.group_id},t))})}else i||(z.setEnterMethod("enter"),m.$G.handleEnterSearchBlankPage({enter_from:_.f.commonParams.page_name,enter_method:"enter",search_keyword:"",is_from_video:"video_detail"===_.f.commonParams.page_name?"1":""}),pe(),ue());else z.setShouldUpdateData(!0)},[M,y,j,P,pe,ue,z,i,E,U,A,B]),he=(0,s.useCallback)(()=>{X&&p?setTimeout(()=>{M(!1)},200):M(!1),R(-1),null==d||d()},[X,p,R,d,M]),be=(0,s.useCallback)(()=>{null==c||c()},[c]),xe=(0,s.useCallback)(()=>{null==u||u()},[u]),ke=(0,s.useCallback)(()=>{L(""),z.setEnterMethod("cancel"),m.$G.handleEnterSearchBlankPage({enter_from:_.f.commonParams.page_name,enter_method:"cancel",search_keyword:"",is_from_video:"video_detail"===_.f.commonParams.page_name?"1":""}),pe(),setTimeout(()=>{var e;null===(e=H.current)||void 0===e||e.focus()},0)},[L,pe,z]);(0,s.useEffect)(()=>{Y||L("")},[Y,L]),(0,s.useEffect)(()=>{X?z.setVideoSuggestWord({word:J,word_id:Q}):z.setVideoSuggestWord(void 0)},[X,J,z,Q]);const we=(0,s.useCallback)(()=>b?(0,n.jsx)(fe,{children:(0,n.jsx)(ye,Object.assign({},oe))}):y?(0,n.jsx)(fe,{onClick:ke,"data-e2e":"reset-search-form",children:(0,n.jsx)(se.A,Object.assign({},oe))}):null,[b,y,oe,ke]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ve,{ref:H,hovered:t,isBrowserMode:K,isFullSideNav:h,value:y,onChange:ge,onKeyDown:_e,onFocus:me,onBlur:he,onMouseEnter:be,onMouseLeave:xe,placeholder:J,name:"q",type:"search",autoComplete:"off",role:"combobox","aria-controls":re?"header-sug-results":"","aria-label":J,"aria-expanded":re,"aria-autocomplete":"list","aria-activedescendant":w>-1&&Boolean(y)?`sug-list-item-${w}`:void 0}),we()]})})),Ce=(0,s.memo)((0,s.forwardRef)(function({initialValue:e,isBrowserMode:t=!1,onSubmit:i,isFullSideNav:a=!1},d){const[{searchValue:c,activeIndex:u},p]=(0,o.S)(I.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,activeIndex:e.activeIndex})}),[_,m]=(0,s.useState)(!1),{search:h}=(0,l.zy)(),{q:v}=(0,r.parse)(h),y=(0,f.s)(),{colors:b}=(0,ae.u)(),{pathname:x}=(0,l.zy)(),k=(0,s.useRef)(!1),w=(0,s.useRef)(null),S=(0,s.useRef)(null),j=Boolean((0,l.B6)(x,{path:g.OZ.searchHome})),{isSearchBarStyleV1:T,isSearchBarStyleV3:P,withNewStyle:A}=(0,ne.hA)(),[M,L]=(0,s.useState)(!1),[D,O]=(0,s.useState)(!1),[R,E]=(0,s.useState)(!1),[F,B]=(0,s.useState)(!1),[z,U]=(0,s.useState)(!1),[N,W]=(0,s.useState)(!1),V=(0,s.useCallback)(()=>{var e;null===(e=null==S?void 0:S.current)||void 0===e||e.onEnterBlur()},[]),H=(0,s.useCallback)(()=>{var e;null===(e=null==S?void 0:S.current)||void 0===e||e.onEnterFocus()},[]),q=(0,C.JD)(e=>e.showingBrowserMode);(0,s.useImperativeHandle)(d,()=>({onEnterInputBlur:V,onEnterInputFocus:H}),[V,H]);const $=(0,s.useCallback)(()=>{k.current=!0},[]),G=(0,s.useCallback)(e=>{e.preventDefault(),p.setInputFocus(!1),null==i||i(e,k.current),k.current=!1},[p,i]),K=(0,s.useCallback)(e=>{u<0||(p.setInputFocus(!1),null==i||i(e,!0))},[p,i,u]);(0,s.useEffect)(()=>{const e=()=>{document.hidden&&O(!0)};return window.addEventListener("visibilitychange",e),()=>{window.removeEventListener("visibilitychange",e)}},[]);const Y=(0,s.useCallback)(e=>()=>{D&&e?O(!1):e&&R||L(e)},[R,D]),Z=(0,s.useCallback)(()=>{P&&W(!0),U(!0),m(!0)},[P]),J=(0,s.useCallback)(()=>{P&&W(!1),U(!1),m(!1)},[P]),X=(0,s.useCallback)(()=>{T||q||(P&&U(!0),W(!0))},[q,T,P]),Q=(0,s.useCallback)(()=>{T||q||(P&&U(!1),W(!1))},[q,T,P]),ee=(0,s.useCallback)(()=>{E(!0),L(!1)},[]),te=(0,s.useCallback)(()=>{E(!1)},[]),ie=(0,s.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),p.setInputFocus(!1),null==i||i(e,!0),k.current=!1)},[p,i]),oe=(0,s.useCallback)(e=>{9===e.keyCode&&B(e.target!==w.current)},[]),se=(0,s.useCallback)(()=>{B(!1)},[]),le=(0,s.useCallback)(()=>q?c?b.ConstTextInverse2:b.ConstTextInverse3:A&&(z||N)?b.TextPrimary:c?b.TextSecondary:b.TextQuaternary,[q,c,b,A,z,N]);return(0,n.jsxs)(_e,{"data-e2e":"search-box",className:"search-input",action:"/search",onSubmit:G,onKeyUp:oe,isBrowserMode:q,isFullSideNav:a,children:[j&&(0,n.jsx)("h1",{style:{display:"none",alignItems:"center"},children:v}),(0,n.jsx)(Se,{"data-e2e":"search-box-input",initialValue:e,onEnter:$,onTab:K,onBlur:se,onMouseEnter:X,onMouseLeave:Q,hovered:N,ref:S,isMouseOnSearchBtn:_,isBrowserMode:t,isFullSideNav:a}),!a&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(be,{isBrowserMode:q}),(0,n.jsx)(ke,{"data-e2e":"search-box-button",type:"submit",hovered:z,withNewStyle:A,ref:w,onFocus:Y(!0),onBlur:Y(!1),onMouseEnter:Z,onMouseLeave:J,onMouseDown:ee,onMouseUp:te,onKeyDown:ie,"aria-label":y("accessibilityLabels_search_button"),children:(0,n.jsx)(we,{focused:M&&!q,children:(0,n.jsx)(re.A,{fill:le(),width:24,height:24})})})]}),q?(0,n.jsx)(he,{}):(0,n.jsx)(me,{isFocused:F,withNewStyle:A})]})}));var je,Te,Ie,Pe,Ae=i(54622),Me=i(99411);!function(e){e.GENERAL="general",e.TRANSFER_PAGE="transfer_page"}(je||(je={})),function(e){e.TIKTOK_SEARCH_PC="pc_tt_search_feedback-web"}(Te||(Te={})),function(e){e.TIKTOK_SEARCH_PC="pc_tt_search_feedback"}(Ie||(Ie={})),function(e){e[e.TIKTOK_SEARCH_PC=508044]="TIKTOK_SEARCH_PC"}(Pe||(Pe={}));const Le=e=>e?e.toLocaleLowerCase().split("-")[0].replace("pt","pt_BR").replace("zh","zh-TW"):"en",De=(0,ue.default)("form",{target:"e1vzkicp0"})(({theme:e})=>[(0,ge.zy)({theme:e,typography:"H6"}),{zIndex:2,background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden",width:"700px",display:"flex",flexDirection:"column",margin:0}],"label:FormReport;"),Oe=(0,ue.default)("div",{target:"e1vzkicp1"})({display:"flex",alignItems:"center",padding:"24px 24px 16px",height:"72px"},"label:DivFormHeader;"),Re=(0,ue.default)("div",{target:"e1vzkicp3"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),Ee=(0,ue.default)("h4",{target:"e1vzkicp4"})(({theme:e})=>({fontSize:"20px",lineHeight:"32px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.bold,textAlign:"rtl"===e.direction?"right":"left",flex:1}),"label:H4FormTitle;"),Fe=(0,ue.default)("div",{target:"e1vzkicp5"})(({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"450px",overflowY:"auto",overflowX:"hidden",padding:"16px 12px 0px"}),"label:DivContainer;"),Be=(0,ue.default)("div",{target:"e1vzkicp6"})(({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"534px",overflowY:"auto",overflowX:"hidden",padding:"0px 12px",display:"flex",alignItems:"center"}),"label:DivLoading;"),ze=(0,ue.default)("div",{target:"e1vzkicp7"})(({theme:e})=>({height:"32px",fontSize:"16px",lineHeight:"24px",padding:"0px 12px",color:e.colors.TextSecondary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,textAlign:"rtl"===e.direction?"right":"left",flex:1}),"label:DivTitle;"),Ue=(0,ue.default)("div",{target:"e1vzkicp8"})({flex:1},"label:DivItem;"),Ne=(0,ue.default)("div",{target:"e1vzkicp9"})(({theme:e})=>({height:"52px",padding:"14px 12px",textAlign:"rtl"===e.direction?"right":"left",flex:1,".TUXRadio-container .TUXRadio-label span":{fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary,size:"16px",lineHeight:"24px"}}),"label:DivItemRadio;"),We=(0,ue.default)("div",{target:"e1vzkicp10"})(({theme:e})=>({borderRadius:"8px",backgroundColor:e.colors.BGView,flex:1}),"label:DivItemChildrenBox;"),Ve=(0,ue.default)("div",{target:"e1vzkicp11"})(({theme:e})=>({height:"48px",padding:"14px 12px",textAlign:"rtl"===e.direction?"right":"left",flex:1}),"label:DivItemChildren;"),He=(0,ue.default)("div",{target:"e1vzkicp12"})(({theme:e})=>({backgroundColor:e.colors.BGPrimary,display:"flex",flexDirection:"row",alignItems:"center",margin:"0px 12px",position:"relative",overflow:"hidden",width:"calc(100% - 24px)",height:"48px",borderBottom:`1px solid ${e.colors.LineInput}`}),"label:DivInput;"),qe=(0,ue.default)("input",{target:"e1vzkicp13"})(({theme:e})=>({backgroundColor:e.colors.BGPrimary,color:e.colors.TextPrimary,width:"100%",height:"48px",border:"none",outline:"none"}),"label:InputItem;"),$e=(0,ue.default)("div",{target:"e1vzkicp14"})({width:"100%",height:"38px"},"label:DivBottom;"),Ge=(0,ue.default)("div",{target:"e1vzkicp15"})(({theme:e})=>({position:"relative",height:"84px",width:"100%",borderTop:`0.5px solid ${e.colors.LinePrimary2}`,backgroundColor:e.colors.BGPrimary}),"label:DivFooter;"),Ke=(0,ue.default)("div",{target:"e1vzkicp16"})({height:"36px",position:"absolute",cursor:"pointer",top:"24px",right:"24px"},"label:DivSubmit;"),Ye=(0,ue.default)("div",{target:"e1vzkicp17"})(({theme:{direction:e}})=>[(0,ge.mp)({direction:e,paddingStart:"12px"}),{display:"flex",alignItems:"center"}],"label:DivIconWrapper;"),Ze={minWidth:"120px",borderRadius:"4px"},Je=(0,s.memo)(function(e){const{groupList:t}=e,i=(0,f.s)(),a=(0,s.useRef)(null),{colors:r}=(0,ae.u)(),[{otherText:l,historyNotSeenText:d,historyDisappearText:u,suggestedGroup:p,checkRadioId:g},_]=(0,o.S)(J,{dependencies:[],selector:e=>({otherText:e.otherText,historyNotSeenText:e.historyNotSeenText,historyDisappearText:e.historyDisappearText,suggestedGroup:e.suggestedGroup,checkRadioId:e.checkRadioId})}),m=(0,s.useMemo)(()=>({fill:r.TextQuaternary,width:16,height:16,style:{}}),[r]),h=(0,s.useCallback)(e=>()=>{_.setCheckRadioId(e)},[_]),v=(0,s.useCallback)(e=>()=>{const t=p.map(t=>e===t.text?Object.assign(Object.assign({},t),{checked:!t.checked}):t);_.setSuggestedGroup(t)},[_,p]),y=(0,s.useCallback)(e=>{const{name:t,value:i}=e.target;i.startsWith(" ")||("historyNotSeenText"===t?_.setHistoryNotSeenText(i):"historyDisappearText"===t?_.setHistoryDisappearText(i):_.setOtherText(i))},[_]),b=(0,s.useCallback)(e=>()=>{var t;H.has(e)?_.setHistoryNotSeenText(""):q.has(e)?_.setHistoryDisappearText(""):V.has(e)&&_.setOtherText(""),null===(t=a.current)||void 0===t||t.focus()},[_]),x=(0,s.useCallback)((e,t)=>e?(0,n.jsx)(Ye,{onClick:b(t),children:(0,n.jsx)(se.A,Object.assign({},m))}):null,[m,b]),k=(0,s.useCallback)(e=>{if(g===e.id)return(0,n.jsxs)(n.Fragment,{children:[V.has(e.id)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(He,{children:[(0,n.jsx)(qe,{ref:a,value:l,maxLength:1500,placeholder:`(${i("suggested_search_feedback12")})`,onChange:y,name:"other",autoComplete:"off"}),x(l,e.id)]}),(0,n.jsx)($e,{})]}),H.has(e.id)&&(0,n.jsxs)(He,{children:[(0,n.jsx)(qe,{ref:a,value:d,maxLength:1500,onChange:y,name:"historyNotSeenText",autoComplete:"off"}),x(d,e.id)]}),q.has(e.id)&&(0,n.jsxs)(He,{children:[(0,n.jsx)(qe,{ref:a,value:u,maxLength:1500,onChange:y,name:"historyDisappearText",autoComplete:"off"}),x(u,e.id)]}),$.has(e.id)&&(0,n.jsx)(We,{children:p.map((e,t)=>(0,n.jsx)(Ve,{children:(0,n.jsx)(c.h$,{label:e.text,checked:e.checked,onChange:v(e.text),labelPosition:"before"})},t))})]})},[i,y,x,g,l,d,u,p,v]);return(0,n.jsx)(n.Fragment,{children:t.map((e,t)=>(0,n.jsxs)(Ue,{children:[(0,n.jsx)(Ne,{children:(0,n.jsx)(c.v3,{label:i(e.name),value:i(e.name),name:"question",labelPosition:"before",onChange:h(e.id)},t)}),k(e)]},t))})}),Xe=(0,s.memo)(function(e){const{onClose:t,onSubmitSuccess:i}=e,a=(0,f.s)(),r=(0,c.Ab)({zIndex:10010}),{wid:l}=(0,x.L$)((0,te.W)(()=>["wid"],[])),[{loading:d,reportList:u,checkRadioId:p,historyNotSeenText:g,historyDisappearText:h,otherText:v,suggestedGroup:y,isSuccess:b,feedbackId:k,buttonLoading:w},S]=(0,o.S)(J,{dependencies:[],selector:e=>({loading:e.loading,buttonLoading:e.buttonLoading,reportList:e.reportList,checkRadioId:e.checkRadioId,historyNotSeenText:e.historyNotSeenText,historyDisappearText:e.historyDisappearText,otherText:e.otherText,suggestedGroup:e.suggestedGroup,isSuccess:e.isSuccess,feedbackId:e.feedbackId})}),[{rootEnterFrom:C}]=(0,o.S)(Z.tq,{dependencies:[],selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom})}),[{historyList:j,guessSearchList:T,logId:I}]=(0,o.S)(ee._,{dependencies:[],selector:e=>({historyList:e.historyList,guessSearchList:e.guessSearchList,logId:e.logId})});(0,s.useEffect)(()=>{const e=[];T.forEach(t=>{var i;t.word&&e.push({text:t.word,value:null!==(i=t.group_id)&&void 0!==i?i:"",checked:!1})}),S.setSuggestedGroup(e)},[T,S]),(0,s.useEffect)(()=>{if("boolean"==typeof b&&"number"==typeof k){if(m.$G.handleSearchFeedbackStatus({enter_from:C,search_position:_.f.commonParams.page_name,text_type:"recom_search_feedback",impr_id:String(k),is_success:b?1:0}),b)return void i();setTimeout(()=>{r.open({message:a("search_Submission_Failed_tips"),durationMS:3e3})},0)}},[b,k,a,i,S,C]);const P=(0,s.useMemo)(()=>{if(!p)return"";let e="";e=q.has(p)?h:H.has(p)?g:v;let t="";return e.length<=14&&(t="[Transfer page feedback]"),t+e},[p,g,h,v]),A=(0,s.useMemo)(()=>{const e="a".charCodeAt(0),t=u.map((t,i)=>{const n=String.fromCharCode(e+i);return{[`question_${n}`]:t.name,[`answer_${n}`]:t.children.filter(({id:e})=>e===p).map(({name:e="",id:t})=>{let i=[];return $.has(t)&&(i=y.filter(e=>e.checked).map(e=>({title:e.text,value:e.value}))),V.has(t)&&(i=[{title:e,value:v}]),q.has(t)&&(i=[{title:e,value:h}]),H.has(t)&&(i=[{title:e,value:g}]),{title:e,id:t,subInfos:i}})}});return{userFeedbackDetail:JSON.stringify(t)}},[u,p,v,h,g,y]),M=(0,s.useMemo)(()=>{const e=y.map(e=>e.text);return{aid:Pe.TIKTOK_SEARCH_PC,app_name:"pc_tt_search_feedback",webid:l,content:P,appkey:"pc_tt_search_feedback-web",qr_id:p,skip_duplicate_content_check:!0,extra_params:JSON.stringify(A),from:"transfer_page",biz_appid:Pe.TIKTOK_SEARCH_PC,extra_persistent_params:JSON.stringify({historyList:j,logId:I,suggestedWords:e})}},[P,p,j,I,y,A,l]),L=(0,s.useCallback)(e=>{e.preventDefault()},[]),D=(0,s.useCallback)(()=>{S.submitReport(M)},[S,M]),O=(0,s.useMemo)(()=>{if(!p)return!1;let e=!1;return y.forEach(t=>{t.checked&&(e=!0)}),$.has(p)&&e||V.has(p)&&""!==v.trim()||!V.has(p)&&!$.has(p)},[p,v,y]),R=(0,s.useCallback)(()=>(0,n.jsxs)(Oe,{children:[(0,n.jsx)(Ee,{"data-e2e":"search-report-title",children:a("suggested_search_feedback10")}),(0,n.jsx)(Re,{"data-e2e":"search-report-card-cancel",onClick:t,children:(0,n.jsx)(Ae.A,{width:14,height:14})})]}),[t,a]),E=(0,s.useCallback)(()=>d?(0,n.jsx)(Be,{children:(0,n.jsx)(c.sg,{center:!0})}):(0,n.jsxs)(n.Fragment,{children:[u.map((e,t)=>(0,n.jsxs)(Fe,{children:[(0,n.jsx)(ze,{children:a(e.name)}),(0,n.jsx)(Je,{groupList:e.children})]},t)),(0,n.jsx)(Ge,{children:(0,n.jsx)(Ke,{children:(0,n.jsx)(c.I0,{label:a("Submit"),loading:w,onClick:D,disabled:!O,variant:"primary",deprecatedStyle:Ze})})})]}),[a,d,u,O,D,w]);return(0,n.jsx)(Me.i,{compact:!0,isOpen:!0,onClose:t,children:(0,n.jsxs)(De,{"data-e2e":"report-form",onSubmit:L,children:[R(),E()]})})}),Qe=(0,ue.default)("div",{target:"e1hi1cmj0"})(({showingBrowserMode:e,searchBarWidth:t})=>({position:"relative",width:e?t:"",maxWidth:e?"calc(56.25vh - 32px)":""}),"label:DivSearchFormContainer;"),et=(0,ue.default)("button",{target:"e1hi1cmj1"})(({theme:e})=>({width:"100%",height:"48px",lineHeight:"22px",fontSize:"16px",cursor:"pointer",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"8px"}),"label:ButtonSuccessModal;"),tt=(0,ue.default)("div",{target:"e1hi1cmj2"})({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",flex:1},"label:DivModalBody;"),it=(0,ue.default)("div",{target:"e1hi1cmj3"})(({theme:e})=>({width:"100%",fontWeight:e.fontWeights.bold,color:e.colors.TextPrimary,lineHeight:"36px",fontSize:"24px",textAlign:"center",padding:"0px 32px"}),"label:DivModalBodyTitle;"),nt=(0,ue.default)("div",{target:"e1hi1cmj4"})(({theme:e})=>({marginTop:"18px",width:"100%",color:e.colors.TextSecondary,lineHeight:"18px",fontSize:"16px",textAlign:"center",padding:"0px 32px"}),"label:DivModalBodyText;"),ot=(0,ue.default)("div",{target:"e1hi1cmj5"})(({theme:e})=>({width:"100%",color:e.colors.TextSecondary,textAlign:"center",padding:"24px 32px"}),"label:DivModalFooter;");var at=i(14952),rt=i(17947);const st=e=>{const[{activeIndex:t},i]=(0,o.S)(I.C),n=t===e,a=(0,s.useCallback)(()=>{n||i.setActiveIndex(e)},[n,i,e]);return{active:n,handleMouseEnter:a}};var lt=i(37694),dt=i(10819),ct=i(48156),ut=i(11365),pt=i(34038),gt=i(60751);const _t=(0,ue.default)("div",{target:"e13mjih40"})(({theme:{direction:e}})=>[(0,ge.mp)({direction:e,marginStart:"8px"}),{width:"24px",flex:"0 0 24px",display:"flex",flexDirection:"column",alignItems:"center",marginLift:"auto",height:"22px"}],"label:DivActionContainer;"),mt=(0,ue.default)("div",{target:"e13mjih41"})(({shouldShowMore:e})=>({position:"relative",display:e?"block":"none"}),"label:DivMoreContainer;"),ht=(0,ue.default)(gt.A,{target:"e13mjih42"})({width:"15.83px",height:"24px",cursor:"pointer",display:"block"},"label:StyledMoreIcon;");ht.defaultProps=Object.assign(Object.assign({},ht.defaultProps),{"data-e2e":"comment-more-icon"});const vt=(0,ue.default)("div",{target:"e13mjih43"})(({theme:e})=>(0,ge.zy)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"TikTokFont"}),{padding:"0 12px",minWidth:"150px"},"label:DivPopupContainer;"),ft=(0,ue.default)("p",{target:"e13mjih44"})(({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"12px 0",whiteSpace:"nowrap",cursor:"pointer","&:not(:last-of-type)":{borderBottom:`1px solid ${e.LineSecondary}`},":hover":{color:e.Primary}}),"label:PActionItem;"),yt=(e,t,i)=>i?e.Primary:t?"rgba(255, 255, 255, 0.9)":e.TextPrimary,bt=(0,ue.default)("span",{target:"e13mjih45"})(({theme:{direction:e,colors:t},isBrowserMode:i,hovered:n})=>[(0,ge.mp)({direction:e,marginStart:"12px"}),{color:yt(t,i,n)}],"label:SpanActionText;"),xt="rgba(255, 255, 255, 0.9)",kt=function({shouldShowMore:e=!1,isBrowserMode:t=!1,parentRef:i,itemInfo:r={}}){var l,d,c,u;const p=(0,f.s)(),g=(0,s.useRef)(null),{direction:_}=(0,ae.u)(),{active:h,handleMouseEnter:v,handleMouseLeave:b}=(0,ut.K)(300),{user:x}=null!==(l=(0,te.W)(()=>["user"],[]))&&void 0!==l?l:{},[{searchValue:k},w]=(0,o.S)(I.C,{selector:e=>e,dependencies:[]}),[S,C]=(0,s.useState)(!1),[j,T]=(0,s.useState)(!1),[P,A]=(0,s.useState)(-1),[M,L]=(0,s.useState)(0),[D,O]=(0,s.useState)("initial"),R=function({suggestion:e,extra:t,onShow:i}){const n=(0,a.P)(X.L,{selector:e=>e.lang,dependencies:[]}),{handleShowReport:o}=(0,rt.Ah)({onShow:i,reportTarget:{lang:n,report_type:"suggestion",object_id:e,item_id:e,suggestion_extra:t}});return o}({suggestion:encodeURI(r.content),extra:{sug_type:r.extra_info.sug_user_id?"enrich_sug":"normal_sug",raw_query:r.content,words_content:null!==(d=r.content)&&void 0!==d?d:"",words_position:r.index,words_source:"sug",feedback_id:`${(new Date).getTime()}`,group_id:null!==(c=r.word_record.group_id)&&void 0!==c?c:"",impr_id:null!==(u=r.impr_id)&&void 0!==u?u:""}}),E=(0,s.useCallback)(e=>()=>{0===e?C(!0):1===e&&T(!0)},[g]),F=(0,s.useCallback)(e=>()=>{0===e?C(!1):1===e&&T(!1)},[]),B=(0,s.useCallback)(e=>{13===e.keyCode||32===e.keyCode?((0,y.Gu)(e),h?b():v()):27===e.keyCode&&h&&((0,y.Gu)(e),b())},[v,b,h]),z=(0,s.useCallback)(e=>t=>{13!==t.keyCode&&32!==t.keyCode||((0,y.Gu)(t),e(t))},[]),U="ltr"===_?"bottomRight":"bottomLeft",{colors:N}=(0,ae.u)(),W=(0,s.useCallback)(e=>{var t,i,n;e.preventDefault(),e.stopPropagation(),m.$G.handleSugReportConfirm({feedback_id:`${(new Date).getTime()}`,group_id:null!==(t=r.word_record.group_id)&&void 0!==t?t:"",words_content:null!==(i=r.content)&&void 0!==i?i:"",words_position:r.index,raw_query:k,impr_id:null!==(n=r.impr_id)&&void 0!==n?n:"",button_type:"not_relevant",words_source:"sug",sug_type:r.extra_info.sug_user_id?"enrich_sug":"normal_sug"}),b(),w.setActiveIndex(-1),ct.F.open({content:p("Thank you for your feedback"),duration:3})},[p,x,r,w]),V=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),R(e)},[R]),H=(0,s.useCallback)(e=>0===e?S?N.Primary:t?xt:void 0:1===e?j?N.Primary:t?xt:void 0:void 0,[S,j,t,N]);(0,s.useEffect)(()=>{var e,t,i;h&&m.$G.handleSugReportLaunch({feedback_id:`${(new Date).getTime()}`,group_id:null!==(e=r.word_record.group_id)&&void 0!==e?e:"",words_content:null!==(t=r.content)&&void 0!==t?t:"",words_position:r.index,words_source:"sug",raw_query:k,impr_id:null!==(i=r.impr_id)&&void 0!==i?i:"",sug_type:r.extra_info.sug_user_id?"enrich_sug":"normal_sug"})},[h]),(0,s.useEffect)(()=>{var e,t;if(g.current&&h){const n=g.current.getBoundingClientRect().top;P<0&&A(n);const o=null!==(t=null===(e=null==i?void 0:i.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0;O(`${P-o<=0?"initial":P-o}px`),L(g.current.clientWidth)}},[g.current,h,null==i?void 0:i.current]);const q=(0,s.useCallback)(()=>{const e=M-18-12+4;return"ltr"===_?`-${e}px`:`${e}px`},[M,_]);return(0,n.jsx)(_t,{children:(0,n.jsxs)(mt,{"aria-label":p("pc_web_more_btn"),role:"button",shouldShowMore:e,onMouseEnter:v,onMouseLeave:b,tabIndex:0,onKeyDown:B,children:[(0,n.jsx)(ht,{fill:t?xt:void 0}),(0,n.jsx)(pt.z,{backgroundColor:t?"#252525":N.BGSecondary,active:h,placement:U,style:{position:"fixed",top:D,transform:`translateX(${q()})`},margin:"initial",children:(0,n.jsxs)(vt,{ref:g,children:[(0,n.jsxs)(ft,{"aria-label":p("Report"),role:"button",tabIndex:0,"data-e2e":"related-search-report",onMouseEnter:E(0),onMouseLeave:F(0),onMouseDown:V,onKeyDown:z(V),children:[(0,n.jsx)(lt.A,{width:24,height:24,fill:H(0)}),(0,n.jsx)(bt,{isBrowserMode:t,hovered:S,children:p("Report")})]}),(0,n.jsxs)(ft,{"aria-label":p("sug_report_relevant"),role:"button",onMouseDown:W,tabIndex:1,onKeyDown:z(W),"data-e2e":"sug-not-relevant",onMouseEnter:E(1),onMouseLeave:F(1),children:[(0,n.jsx)(dt.A,{width:24,height:24,fill:H(1)}),(0,n.jsx)(bt,{isBrowserMode:t,hovered:j,children:p("sug_report_relevant")})]})]})})]})})};var wt=i(37082);const St=(e,t,i)=>i?"0 2px 12px rgba(0, 0, 0, 0.12)":t?"":`0 2px 12px ${e.ShadowPrimary}`,Ct=(0,ue.default)("ul",{target:"e1gva98t0"})(({theme:{colors:e,isDark:t},isBrowserMode:i,isFullSideNav:n})=>[{position:"absolute",width:"100%",boxSizing:"border-box",maxHeight:(n?"min(calc(100vh - 150px), 734px)":i&&"210px")||`min(calc(100vh - 96px - ${ge.uF}px), 734px)`,overflowY:"auto",overflowX:"hidden",listStyleType:"none",paddingInlineStart:0},!n&&{paddingTop:"8px",marginTop:"8px",background:i?"rgba(18, 18, 18, 1)":e.BGSecondary,boxShadow:St(e,t,i),borderRadius:"8px"}],"label:UlContainer;");Ct.defaultProps=Object.assign(Object.assign({},Ct.defaultProps),{"data-e2e":"sug-container"});const jt=(0,ue.default)("li",{target:"e1gva98t1"})(({paddingVertical:e,active:t,theme:{colors:i}})=>({padding:`${e}px 16px`,cursor:"pointer",background:t?i.BGView:void 0,display:"flex",alignItems:"center"}),"label:LiItemContainer;"),Tt=(0,ue.default)("h4",{target:"e1gva98t2"})(({theme:{typography:e,fontWeights:t},isBrowserMode:i})=>Object.assign(Object.assign({},e.P2),{fontWeight:t.semiBold,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:i?"rgba(255, 255, 255, 0.9)":""}),"label:H4ItemTitle;"),It=(0,ue.default)("p",{target:"e1gva98t3"})(({theme:{typography:e,fontWeights:t,colors:i},isBrowserMode:n})=>Object.assign(Object.assign({},e.P3),{color:n?"rgba(255,255,255,0.5)":i.TextTertiary,fontWeight:t.normal,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),"label:PItemDesc;"),Pt=(0,ue.default)("p",{target:"e1gva98t4"})(({theme:{fontFamilies:e,fontWeights:t,typography:i,colors:n},isBrowserMode:o})=>Object.assign(Object.assign({fontFamily:e.TikTokFont,fontWeight:t.semiBold},i.P2),{color:o?"rgba(255, 255, 255, 0.9)":n.TextPrimary,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),"label:PMoreText;"),At=(0,ue.default)("div",{target:"e1gva98t5"})(({theme:{direction:e}})=>Object.assign({height:"20px",flex:"0 0 20px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"15px"},(0,ge.mp)({direction:e,marginEnd:"8px"})),"label:DivSearchIconContainer;"),Mt=(0,ue.default)(wt.e,{target:"e1gva98t6"})(({theme:{direction:e}})=>Object.assign({flexShrink:0},(0,ge.mp)({direction:e,marginEnd:"12px"})),"label:StyledAvatar;"),Lt=(0,ue.default)("div",{target:"e1gva98t7"})({flex:"0 1 auto",minWidth:0,width:"100%"},"label:DivSugItemContent;"),Dt=(0,ue.default)("div",{target:"e1gva98t8"})(({theme:{fontWeights:e,typography:t,colors:i},isBrowserMode:n})=>Object.assign(Object.assign({height:"30px",padding:"5px 12px"},t.P3),{fontWeight:e.semiBold,color:n?"rgba(255, 255, 255, 0.5)":i.TextTertiary}),"label:DivSugAccountTitle;"),Ot=(0,ue.default)("div",{target:"e1gva98t9"})({display:"flex",justifyContent:"space-between",alignItems:"center"},"label:DivSugItemWrapper;"),Rt=(0,ue.default)("div",{target:"e1gva98t10"})({},"label:DivSugUserInfo;"),Et=(0,s.memo)(function(e){const{item:t,index:i,onSelect:o,parentRef:r}=e,{user:l}=(0,a.P)(X.L,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),d=Boolean(l),{active:c,handleMouseEnter:u}=st(i),p=(0,C.JD)(e=>e.showingBrowserMode),{content:g,extra_info:_}=t,{nickname:m,unique_id:h,is_verified:v,rich_sug_avatar_uri:f}=_,{hasSugReport:y}=(0,ne.CA)(),b=Boolean(h),x=(0,s.useCallback)(e=>{null==o||o(e,t,i)},[i,t,o]),k=(0,s.useCallback)((e,t)=>Object.assign({index:t},e),[]),w=b?"user-sug-item":"content-sug-item";return(0,n.jsxs)(jt,{id:`sug-list-item-${i}`,"data-e2e":w,paddingVertical:9,active:c,onMouseDown:x,onMouseMove:u,role:"option",children:[b?(0,n.jsx)(Mt,{"data-e2e":"sug-user-avatar",src:f,size:40}):(0,n.jsx)(At,{children:(0,n.jsx)(re.A,{fill:p?"rgba(255, 255, 255, 0.9)":void 0})}),(0,n.jsx)(Lt,{children:b?(0,n.jsxs)(Ot,{children:[(0,n.jsxs)(Rt,{children:[(0,n.jsxs)(Tt,{"data-e2e":"sug-username",isBrowserMode:p,children:[h," ",v&&(0,n.jsx)(at.s,{"data-e2e":"sug-bluev",width:14,height:14},"badge")]}),(0,n.jsx)(It,{"data-e2e":"sug-nickname",isBrowserMode:p,children:m})]}),y&&d&&(0,n.jsx)(kt,{shouldShowMore:c,isBrowserMode:p,parentRef:r,itemInfo:k(t,i)})]}):(0,n.jsxs)(Ot,{children:[(0,n.jsx)(Tt,{isBrowserMode:p,children:g}),y&&d&&(0,n.jsx)(kt,{shouldShowMore:c,isBrowserMode:p,parentRef:r,itemInfo:k(t,i)})]})})]})}),Ft=(0,s.memo)(function({index:e,onClick:t}){const i=(0,a.P)(I.C,{dependencies:[],selector:e=>e.searchValue}),{active:o,handleMouseEnter:r}=st(e),l=(0,C.JD)(e=>e.showingBrowserMode),d=(0,f.s)()("view_all_results",{keyword:i}),c=(0,s.useCallback)(e=>{null==t||t(e,"click_view_all")},[t]);return(0,n.jsx)(jt,{id:`sug-list-item-${e}`,"data-e2e":"sug-more",paddingVertical:15,active:o,onMouseMove:r,onMouseDown:c,role:"option",children:(0,n.jsx)(Pt,{isBrowserMode:l,children:d})})}),Bt=(0,s.memo)(function(e){const t=(0,f.s)(),i=(0,s.useRef)(null),[a,r]=(0,o.S)(I.C,{selector:e=>e.sugList,dependencies:[]}),l=(0,s.useCallback)(()=>{r.setActiveIndex(-1)},[r]),[d,c]=(0,s.useMemo)(()=>a.reduce(([e,t],i)=>(i.extra_info.sug_user_id?e.push(i):t.push(i),[e,t]),[[],[]]),[a]),u=(0,C.JD)(e=>e.showingBrowserMode),p=(t,o=0)=>t.map((t,a)=>(0,n.jsx)(Et,{item:t,index:a+o,onSelect:e.onSelect,parentRef:i},t.content));return(0,n.jsxs)(Ct,{id:"header-sug-results",onMouseLeave:l,role:"listbox","aria-label":t("accessibilityLabels_search_suggestions"),isBrowserMode:u,onScroll:y.dG,onWheel:y.dG,isFullSideNav:e.isFullSideNav,ref:i,children:[p(c),0===d.length?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Dt,{"data-e2e":"sug-account",isBrowserMode:u,children:t("search_account")}),p(d,c.length)]}),(0,n.jsx)(Ft,{index:a.length,onClick:e.onSelectMore})]})});var zt=i(91644),Ut=i(96748),Nt=i(29188),Wt=i(87695);const Vt=e=>{const[{activeIndex:t},i]=(0,o.S)(ee._),n=t===e,a=(0,s.useCallback)(()=>{n||i.setActiveIndex(e)},[n,i,e]);return{active:n,handleMouseEnter:a}};var Ht=i(76926);const qt={id:"chevron_down_fill-96328bc0",use:"chevron_down_fill-96328bc0-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="chevron_down_fill-96328bc0"><path fill="#161823" fill-opacity=".6" fill-rule="evenodd" d="M5.47 8.28 1.896 4.707a.25.25 0 0 1 0-.353l.708-.708a.25.25 0 0 1 .353 0L6 6.69l3.043-3.043a.25.25 0 0 1 .353 0l.708.708a.25.25 0 0 1 0 .353L6.53 8.28a.75.75 0 0 1-1.06 0" clip-rule="evenodd" /></symbol>'};function $t(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(qt),()=>{t.remove("chevron_down_fill-96328bc0")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#chevron_down_fill-96328bc0"},void 0)}),void 0)}const Gt={id:"chevron_down_fill_dark-1c029b26",use:"chevron_down_fill_dark-1c029b26-usage",viewBox:"0 0 12 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 12" id="chevron_down_fill_dark-1c029b26"><path fill="white" fill-opacity=".6" fill-rule="evenodd" d="M5.47 8.28 1.896 4.707a.25.25 0 0 1 0-.353l.708-.708a.25.25 0 0 1 .353 0L6 6.69l3.043-3.043a.25.25 0 0 1 .353 0l.708.708a.25.25 0 0 1 0 .353L6.53 8.28a.75.75 0 0 1-1.06 0" clip-rule="evenodd" /></symbol>'};function Kt(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(Gt),()=>{t.remove("chevron_down_fill_dark-1c029b26")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#chevron_down_fill_dark-1c029b26"},void 0)}),void 0)}const Yt={id:"clock_fill-499d0f2f",use:"clock_fill-499d0f2f-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="clock_fill-499d0f2f"><g clip-path="url(#clock_fill-499d0f2f_a)"><path fill="#161823" fill-opacity=".34" d="M.8 8a7.2 7.2 0 1 1 14.4 0A7.2 7.2 0 0 1 .8 8m9.764 2.853c.15.106.359.069.464-.082l.612-.874a.333.333 0 0 0-.082-.464L9.01 7.65a.33.33 0 0 1-.143-.273V4.334a.333.333 0 0 0-.333-.333H7.467a.333.333 0 0 0-.333.333v3.771c0 .218.106.421.284.546z" /></g><defs><clipPath id="clock_fill-499d0f2f_a"><path fill="white" d="M0 0h16v16H0z" /></clipPath></defs></symbol>'};function Zt(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(Yt),()=>{t.remove("clock_fill-499d0f2f")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#clock_fill-499d0f2f"},void 0)}),void 0)}const Jt={id:"clock_fill_dark-f214b7e1",use:"clock_fill_dark-f214b7e1-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="clock_fill_dark-f214b7e1"><g clip-path="url(#clock_fill_dark-f214b7e1_a)"><path fill="white" fill-opacity=".34" d="M.8 8a7.2 7.2 0 1 1 14.4 0A7.2 7.2 0 0 1 .8 8m9.764 2.853c.15.106.358.069.464-.082l.611-.874a.333.333 0 0 0-.082-.464L9.01 7.65a.33.33 0 0 1-.142-.273V4.334a.333.333 0 0 0-.333-.333H7.467a.333.333 0 0 0-.333.333v3.771c0 .218.106.421.284.546z" /></g><defs><clipPath id="clock_fill_dark-f214b7e1_a"><path fill="white" d="M0 0h16v16H0z" /></clipPath></defs></symbol>'};function Xt(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(Jt),()=>{t.remove("clock_fill_dark-f214b7e1")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#clock_fill_dark-f214b7e1"},void 0)}),void 0)}const Qt={id:"fire-52626e4f",use:"fire-52626e4f-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="fire-52626e4f"><path fill="#FE2C55" fill-rule="evenodd" d="M13.942 10.338c.196-1.164-.017-3.798-2.031-5.434-.165-.134-.408-.073-.515.11-.457.785-1.2 1.741-2.11 2.08.556-1.91.833-5.2-2.108-6.871a.327.327 0 0 0-.486.26c-.128 1.212-.275 2.216-2.227 4.18C3.3 6.093 1.7 8.096 2.05 10.337 2.44 12.853 4.647 15 8.039 15s5.49-2.201 5.903-4.662" clip-rule="evenodd" /></symbol>'};function ei(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(Qt),()=>{t.remove("fire-52626e4f")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#fire-52626e4f"},void 0)}),void 0)}const ti={id:"fire_dark-43d2a9e0",use:"fire_dark-43d2a9e0-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="fire_dark-43d2a9e0"><path fill="#FF3B5C" fill-rule="evenodd" d="M13.942 10.338c.196-1.164-.017-3.798-2.031-5.434-.165-.134-.408-.073-.515.11-.457.785-1.2 1.741-2.11 2.08.556-1.91.833-5.2-2.108-6.871a.327.327 0 0 0-.486.26c-.128 1.212-.275 2.216-2.227 4.18C3.3 6.093 1.7 8.096 2.05 10.337 2.44 12.853 4.647 15 8.039 15s5.49-2.201 5.903-4.662" clip-rule="evenodd" /></symbol>'};function ii(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(ti),()=>{t.remove("fire_dark-43d2a9e0")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#fire_dark-43d2a9e0"},void 0)}),void 0)}const ni={id:"music-3b9fa23c",use:"music-3b9fa23c-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="music-3b9fa23c"><path fill="#FE2C55" d="M13.667 1.401v9.933a2.333 2.333 0 1 1-2.334-2.333h1.2V3.147L6 3.997v8.337a2.333 2.333 0 1 1-2.334-2.333h1.2V2.462c0-.167.125-.309.291-.33L13.29 1.07c.2-.026.377.129.377.33" /></symbol>'};function oi(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(ni),()=>{t.remove("music-3b9fa23c")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#music-3b9fa23c"},void 0)}),void 0)}const ai={id:"music_dark-177d07e7",use:"music_dark-177d07e7-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="music_dark-177d07e7"><path fill="#FF3B5C" d="M13.667 1.401v9.933a2.333 2.333 0 1 1-2.333-2.333h1.2V3.147l-6.533.85v8.337a2.333 2.333 0 1 1-2.334-2.333h1.2V2.462c0-.167.125-.309.29-.33l8.134-1.061c.2-.026.376.129.376.33" /></symbol>'};function ri(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(ai),()=>{t.remove("music_dark-177d07e7")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#music_dark-177d07e7"},void 0)}),void 0)}const si={id:"sav-154c9c02",use:"sav-154c9c02-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="sav-154c9c02"><path fill="#FE2C55" fill-rule="evenodd" d="M8.333.507a.437.437 0 0 0-.666 0L1.105 8.209a.437.437 0 0 0 .333.721h3.529v5.86c0 .24.196.437.437.437H10.6a.437.437 0 0 0 .437-.438V8.93h3.526a.437.437 0 0 0 .333-.72z" clip-rule="evenodd" /></symbol>'};function li(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(si),()=>{t.remove("sav-154c9c02")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#sav-154c9c02"},void 0)}),void 0)}const di={id:"sav_dark-7a488257",use:"sav_dark-7a488257-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="sav_dark-7a488257"><path fill="#FF3B5C" fill-rule="evenodd" d="M8.333.507a.437.437 0 0 0-.666 0L1.105 8.209a.437.437 0 0 0 .333.721h3.528v5.86c0 .24.196.437.438.437h5.194a.437.437 0 0 0 .438-.438V8.93h3.525a.437.437 0 0 0 .333-.72z" clip-rule="evenodd" /></symbol>'};function ci(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(di),()=>{t.remove("sav_dark-7a488257")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#sav_dark-7a488257"},void 0)}),void 0)}const ui={id:"x_mark-ed30da86",use:"x_mark-ed30da86-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="x_mark-ed30da86"><path fill="#161823" fill-opacity=".34" d="M7.057 8 3.431 4.374a.333.333 0 0 1 0-.472l.472-.471c.13-.13.34-.13.47 0L8 7.057l3.626-3.626c.13-.13.342-.13.472 0l.471.471c.13.13.13.342 0 .472L8.943 8l3.626 3.626c.13.13.13.341 0 .472l-.471.471a.333.333 0 0 1-.472 0L8 8.943l-3.626 3.626a.333.333 0 0 1-.471 0l-.472-.471a.333.333 0 0 1 0-.472z" /></symbol>'};function pi(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(ui),()=>{t.remove("x_mark-ed30da86")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#x_mark-ed30da86"},void 0)}),void 0)}const gi={id:"x_mark_dark-d4e23371",use:"x_mark_dark-d4e23371-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="x_mark_dark-d4e23371"><path fill="white" fill-opacity=".34" d="M7.057 8 3.431 4.374a.333.333 0 0 1 0-.472l.472-.471c.13-.13.34-.13.47 0L8 7.057l3.626-3.626c.13-.13.342-.13.472 0l.471.471c.13.13.13.342 0 .472L8.943 8l3.626 3.626c.13.13.13.341 0 .472l-.471.471a.333.333 0 0 1-.472 0L8 8.943l-3.626 3.626a.333.333 0 0 1-.471 0l-.472-.471a.333.333 0 0 1 0-.472z" /></symbol>'};function _i(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(gi),()=>{t.remove("x_mark_dark-d4e23371")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#x_mark_dark-d4e23371"},void 0)}),void 0)}const mi={id:"arrow_broken_line_up-deab4f6d",use:"arrow_broken_line_up-deab4f6d-usage",viewBox:"0 0 16 14",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 14" id="arrow_broken_line_up-deab4f6d"><path fill="#FE2C55" fill-rule="evenodd" d="M5.461 5.026a.83.83 0 0 1 .642.098l3.61 2.221 3.879-6.57 1.148.679a.333.333 0 0 1 .118.456l-4.14 7.014a.833.833 0 0 1-1.155.286L5.961 6.993l-3.906 6.8a.333.333 0 0 1-.455.123l-.867-.498a.333.333 0 0 1-.123-.455l4.334-7.545a.83.83 0 0 1 .517-.392" clip-rule="evenodd" /><path fill="#FE2C55" fill-rule="evenodd" d="m10.585 1.86 3.97-1.77a.358.358 0 0 1 .49.282l.453 4.327a.258.258 0 0 1-.387.25L10.557 2.32a.256.256 0 0 1 .028-.46" clip-rule="evenodd" /></symbol>'};function hi(e){const t=(0,s.useContext)(Ht.X);return(0,s.useLayoutEffect)(()=>(t.add(mi),()=>{t.remove("arrow_broken_line_up-deab4f6d")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#arrow_broken_line_up-deab4f6d"},void 0)}),void 0)}const vi=(0,ue.default)("ul",{target:"e1ysk6kp0"})(({theme:{colors:e,isDark:t},isFullSideNav:i})=>[{position:"absolute",width:"100%",boxSizing:"border-box",maxHeight:i?"min(calc(100vh - 150px), 734px)":`min(calc(100vh - 96px - ${ge.uF}px), 760px)`,overflowY:"auto",overflowX:"hidden",listStyleType:"none",paddingInlineStart:0},!i&&{paddingTop:"8px",marginTop:"8px",background:e.BGSecondary,boxShadow:t?"":`0 2px 12px ${e.ShadowPrimary}`,borderRadius:"8px"}],"label:UlContainer;");vi.defaultProps=Object.assign(Object.assign({},vi.defaultProps),{"data-e2e":"transfer-container"});const fi=(0,ue.default)("div",{target:"e1ysk6kp1"})(({theme:e,theme:{colors:t}})=>[(0,ge.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"14px",lineHeight:"22px",color:t.TextSecondary,padding:"5px 12px 3px"}],"label:DivHeader;"),yi=(0,ue.default)("li",{target:"e1ysk6kp2"})(({active:e,theme:{colors:t}})=>({padding:"9px 16px",cursor:"pointer",background:e?t.BGView:void 0,display:"flex",alignItems:"center"}),"label:LiItemContainer;"),bi=(0,ue.default)("h4",{target:"e1ysk6kp3"})(({theme:e,theme:{direction:t}})=>[(0,ge.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"16px",lineHeight:"24px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},(0,ge.mp)({direction:t,paddingStart:"8px",paddingEnd:"12px"})],"label:H4ItemText;"),xi=(0,ue.default)("div",{target:"e1ysk6kp4"})(({theme:{direction:e}})=>[(0,ge.mp)({direction:e}),{width:"100%",padding:"12px 0px",cursor:"pointer",display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center"}],"label:DivFooter;"),ki=(0,ue.default)("div",{target:"e1ysk6kp5"})(({theme:e,theme:{direction:t,colors:i}})=>[(0,ge.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),(0,ge.mp)({direction:t,marginStart:"2px"}),{color:i.TextTertiaryAlt,fontSize:"15px",lineHeight:"18px"}],"label:DivFooterText;"),wi=(0,ue.default)("div",{target:"e1ysk6kp6"})(({theme:e,theme:{colors:t}})=>[(0,ge.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"15px",lineHeight:"18px",color:t.TextTertiaryAlt}],"label:DivFeedback;"),Si=(0,ue.default)($t,{target:"e1ysk6kp7"})(({theme:{direction:e}})=>[(0,ge.mp)({direction:e,marginStart:"2px"}),{width:"12px",height:"12px"}],"label:StyledChevronDown;"),Ci=(0,ue.default)(Kt,{target:"e1ysk6kp8"})(({theme:{direction:e}})=>[(0,ge.mp)({direction:e,marginStart:"2px"}),{width:"12px",height:"12px"}],"label:StyledChevronDownDark;"),ji={width:"16px",height:"16px",flexShrink:0},Ti=(0,ue.default)(Zt,{target:"e1ysk6kp9"})(ji,"label:StyledClockFill;"),Ii=(0,ue.default)(Xt,{target:"e1ysk6kp10"})(ji,"label:StyledClockFillDark;"),Pi=(0,ue.default)(pi,{target:"e1ysk6kp11"})(({theme:{direction:e}})=>[(0,ge.mp)({direction:e,marginStart:"auto"}),ji],"label:StyledXMark;"),Ai=(0,ue.default)(_i,{target:"e1ysk6kp12"})(({theme:{direction:e}})=>[(0,ge.mp)({direction:e,marginStart:"auto"}),ji],"label:StyledXMarkDark;"),Mi=(0,ue.default)("div",{target:"e1ysk6kp13"})({width:"16px",height:"16px",display:"flex",flexShrink:0,justifyContent:"center",alignItems:"center"},"label:DivMark;"),Li=(0,ue.default)("div",{target:"e1ysk6kp14"})(({theme:{colors:e}})=>({width:"6px",height:"6px",borderRadius:"50%",background:e.TextQuaternary}),"label:DivMarkDot;"),Di={2:(0,ue.default)(ei,{target:"e1ysk6kp16"})(ji),17:(0,ue.default)(li,{target:"e1ysk6kp17"})(ji),18:(0,ue.default)(oi,{target:"e1ysk6kp18"})(ji)},Oi={2:(0,ue.default)(ii,{target:"e1ysk6kp19"})(ji),17:(0,ue.default)(ci,{target:"e1ysk6kp20"})(ji),18:(0,ue.default)(ri,{target:"e1ysk6kp21"})(ji)},Ri={2:(0,ue.default)(hi,{target:"e1ysk6kp22"})(ji)},Ei={2:(0,ue.default)(hi,{target:"e1ysk6kp23"})(ji)},Fi=(0,ue.default)("div",{target:"e1ysk6kp24"})({display:"flex",justifyContent:"center",alignItems:"center",height:"18px",marginTop:"11.5px",marginBottom:"20.5px"},"label:DivTransferFooter;"),Bi=(0,ue.default)("div",{target:"e1ysk6kp25"})(({theme:{colors:e}})=>({cursor:"pointer",fontSize:"14px",fontWeight:500,lineHeight:"18px",color:e.TextTertiaryAlt,display:"flex"}),"label:DivFooterButton;"),zi=(0,ue.default)("div",{target:"e1ysk6kp26"})(({theme:{colors:e}})=>({height:"12px",color:e.LineSecondary,margin:"0 16px",display:"flex",alignItems:"center"}),"label:DivFooterSeparator;"),Ui=(0,ue.default)("div",{target:"e1ysk6kp27"})(({theme:{colors:e,direction:t}})=>[{display:"flex",width:"16px",height:"16px",justifyContent:"center",alignItems:"center","*":{fill:e.TextTertiaryAlt}},(0,ge.mp)({direction:t,marginEnd:"4px"})],"label:DivFooterIconWrapper;"),Ni=(0,s.memo)(function(e){const{offset:t,index:i,item:a,onSelect:r}=e,{isDark:l}=(0,ae.u)(),{active:d,handleMouseEnter:c}=Vt(t+i),[{rootEnterFrom:u}]=(0,o.S)(Z.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),[{videoPageType:p}]=(0,o.S)(I.C,{selector:e=>({videoPageType:e.videoPageType}),dependencies:[]}),g=(0,le.Ul)(),{shouldRecomReduceIconRisk:h}=(0,ne.a8)(),v=(0,s.useCallback)(e=>{var t,n,o,s,l;e.preventDefault(),(null==a?void 0:a.word)&&(m.$G.handleTrendingWordsClick({enter_from:u,words_source:"recom_search",words_position:i,words_content:null==a?void 0:a.word,search_position:_.f.commonParams.page_name,words_type:null!==(n=Wt._[null!==(t=null==a?void 0:a.word_type)&&void 0!==t?t:""])&&void 0!==n?n:"",group_id:null!==(o=null==a?void 0:a.group_id)&&void 0!==o?o:"",impr_id:null!==(s=null==a?void 0:a.impr_id)&&void 0!==s?s:"",enter_group_id:null!==(l=null==g?void 0:g.id)&&void 0!==l?l:"",video_page_type:p}),null==r||r(e,null==a?void 0:a.word,"recom_search",null==a?void 0:a.impr_id,!1))},[a,i,r,u,g,p]);return(0,n.jsxs)(yi,{"data-e2e":"search-transfer-guess-search-item",id:`transfer-list-item-${i}`,active:d,onMouseMove:c,onMouseDown:v,children:[(()=>{var e,t;if(null==a?void 0:a.word_type){let i=Di[null==a?void 0:a.word_type],o=Oi[null==a?void 0:a.word_type];if(h&&(i=null!==(e=Ri[null==a?void 0:a.word_type])&&void 0!==e?e:i,o=null!==(t=Ei[null==a?void 0:a.word_type])&&void 0!==t?t:o),l&&o)return(0,n.jsx)(o,{});if(i)return(0,n.jsx)(i,{})}return(0,n.jsx)(Mi,{children:(0,n.jsx)(Li,{})})})(),(0,n.jsx)(bi,{children:a.word})]})}),Wi=(0,s.memo)(function(e){const{index:t,item:i,onSelect:a,onDeleteHistory:r}=e,{isDark:l}=(0,ae.u)(),{active:d,handleMouseEnter:c}=Vt(t),[{rootEnterFrom:u}]=(0,o.S)(Z.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),p=(0,s.useCallback)(e=>{e.preventDefault(),m.$G.handleSearchHistory({enter_from:u,search_entrance:u,search_position:_.f.commonParams.page_name,search_keyword:i,action_type:"click",order:t}),null==a||a(e,i,"search_history")},[i,t,a,u]),g=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),null==r||r(i,t)},[i,t,r]);return(0,n.jsxs)(yi,{"data-e2e":"search-transfer-history-item",id:`transfer-list-item-${t}`,active:d,onMouseMove:c,onMouseDown:p,children:[l?(0,n.jsx)(Ii,{}):(0,n.jsx)(Ti,{}),(0,n.jsx)(bi,{children:i}),l?(0,n.jsx)(Ai,{onMouseDown:g}):(0,n.jsx)(Pi,{onMouseDown:g})]})}),Vi=(0,s.memo)(function(e){var t,i;const{hasHistory:r,hasGuessSearch:l,onSelect:d,isFullSideNav:c}=e,u=(0,f.s)(),{isDark:p}=(0,ae.u)(),[g,h]=(0,s.useState)(!0),{language:v}=null!==(t=(0,te.W)(()=>["language"],[]))&&void 0!==t?t:{},[{rootEnterFrom:b,preSearchId:C}]=(0,o.S)(Z.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom,preSearchId:e.searchGlobalParams.preSearchId}),dependencies:[]}),[{historyList:j,guessSearchList:T},P]=(0,o.S)(ee._,{dependencies:[],selector:e=>({historyList:e.historyList,guessSearchList:e.guessSearchList})}),A=(0,o.w)(J),M=(0,o.w)(I.C),{user:L}=(0,a.P)(X.L,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),D=null==L?void 0:L.uid,O=Boolean(L),{abTestVersion:R}=(0,x.L$)((0,te.W)(()=>["abTestVersion"],[])),E="v2"===(null!==(i=(0,k.qt)(R,"search_report"))&&void 0!==i?i:"v1")&&O,{hasPersonalizedSwitch:F}=(0,ne.uJ)(),B=(0,s.useCallback)(()=>{P.setShouldRemainOpen(!1),M.handleInputFocusChange(!0)},[P,M]),z=(0,ce.$)(),U=(0,ce.L)(),{PersonalizedModal:N,handleOpenModal:W}=(0,Nt.D0)({beforeModalCloseCallback:B,afterStatusChangeCallback:()=>{z(),U()},preSearchId:C,showToastRightAfterChange:!0});(0,s.useEffect)(()=>{var e;if(D){const t=(0,y._S)(w.Z3);let i=[];i=null!==(e=S.LU.getItem(D))&&void 0!==e?e:[],0===i.length&&t&&(i=JSON.parse(t)),P.setHistoryList(null!=i?i:[])}},[P,D]);const V=(0,s.useCallback)(()=>{P.setActiveIndex(-1)},[P]),H=(0,s.useCallback)(e=>{e.preventDefault(),m.$G.handleSearchHistory({enter_from:b,search_entrance:b,search_position:_.f.commonParams.page_name,search_keyword:"",action_type:"show_all",order:-1}),h(!1)},[h,b]),q=(0,s.useCallback)(e=>{e.preventDefault(),m.$G.handleSearchHistory({enter_from:b,search_entrance:b,search_position:_.f.commonParams.page_name,search_keyword:"",action_type:"clear_all",order:-1}),P.setHistoryList([]),S.LU.removeAll()},[P,b]),$=(0,s.useCallback)(()=>{A.getReport({aid:Pe.TIKTOK_SEARCH_PC,app_name:"pc_tt_search_feedback",lang:Le(null!=v?v:"en"),entrance:"transfer_page",faq_type:"",appkey:"pc_tt_search_feedback-web"}),A.setIsOpenReport(!0),P.setShouldUpdateData(!1),P.setShouldRemainOpen(!0),m.$G.handleClickSearchFeedback({enter_from:b,search_position:_.f.commonParams.page_name,button_type:"open",text_type:"recom_search_feedback"})},[A,P,v,b]),G=()=>{if(g&&!(j.length<=5))return(0,n.jsxs)(xi,{"data-e2e":"search-transfer-history-see-more",onMouseDown:H,children:[(0,n.jsx)(ki,{children:u("embed_music_card_see_more")}),p?(0,n.jsx)(Ci,{}):(0,n.jsx)(Si,{})]})},K=()=>{if(!(g||j.length<=5))return(0,n.jsx)(xi,{"data-e2e":"search-transfer-history-clear-all",onMouseDown:q,children:(0,n.jsx)(ki,{children:u("web_search_clear_btn")})})},Y=(0,s.useCallback)((e,t)=>{if(D){m.$G.handleSearchHistory({enter_from:b,search_entrance:b,search_position:_.f.commonParams.page_name,search_keyword:"",action_type:"clear",order:t});const i=j.filter(t=>t!==e);P.setHistoryList(i),S.LU.setItem(D,i)}},[j,P,b,D]),Q=()=>{if(E&&!F)return(0,n.jsx)(xi,{"data-e2e":"search-transfer-feedback",onMouseDown:$,children:(0,n.jsx)(wi,{children:u("suggested_search_feedback9")})})},ie=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),P.setShouldRemainOpen(!0),P.setShouldUpdateData(!1),W()},[W,P]),oe=()=>{if(!F)return;let e=[{name:u("searchquerycomment_feedbackpanel_header"),event:$,icon:(0,n.jsx)(Ui,{children:(0,n.jsx)(zt.O,{size:13})})},{name:u("personalisedSearch_searchResults_searchBlankPage_manageSearchLabel"),event:ie,icon:(0,n.jsx)(Ui,{children:(0,n.jsx)(Ut.K,{size:13})})}];return E||(e=e.slice(1)),(0,n.jsx)(Fi,{children:e.map((t,i)=>(0,n.jsxs)(s.Fragment,{children:[(0,n.jsxs)(Bi,{onMouseDown:t.event,children:[t.icon,t.name]}),i<e.length-1&&(0,n.jsx)(zi,{children:"|"})]},i))})};return(0,n.jsxs)(vi,{"data-e2e":"search-transfer",id:"header-transfer",onMouseLeave:V,isFullSideNav:c,children:[(()=>{if(!j.length||!r)return;let e=j;return j.length>5&&g&&(e=j.slice(0,5)),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(fi,{"data-e2e":"search-transfer-history-title",children:u("web_search_recent_header")}),e.map((e,t)=>(0,n.jsx)(Wi,{item:e,index:t,onDeleteHistory:Y,onSelect:d},e)),G(),K()]})})(),(()=>{var e;if(!l||!T.length)return;let t=null!==(e=Number(j.length))&&void 0!==e?e:0;return j.length>5&&g&&(t=5),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(fi,{"data-e2e":"search-transfer-guess-search-title",children:u("pc_web_you_may_like")}),T.map((e,i)=>(0,n.jsx)(Ni,{item:e,offset:t,index:i,onSelect:d},e.word)),Q(),oe()]})})(),F?N:null]})}),{getPureUserPath:Hi}=u.h,qi=g.OZ.searchReminder,$i=(0,s.memo)(function({onBrowserModeClose:e,isBrowserMode:t=!1,isFullSideNav:i=!1,onSubmitSuccess:u}){var P,A,M;const{search:L,pathname:D}=(0,l.zy)(),O=(0,c.eb)(),{q:R}=(0,r.parse)(L),{withNewStyle:E}=(0,ne.hA)(),F=(0,C.JD)(e=>e.showingBrowserMode),[B,z]=(0,s.useState)(""),U=(0,s.useMemo)(()=>F?"browser_mode":"video"===(0,v.sn)(D)?"video_detail":"",[D,F]),N=(0,j.gc)(oe.n[D]),W=(0,s.useRef)(null),{placeholder:V,hasVideoSugWord:H,word_id:q,logId:$,videoId:G}=(0,T.H1)(F),[{searchValue:K,loading:Y,sugList:ae,inputFocus:re,activeIndex:se},le]=(0,o.S)(I.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,loading:e.loading,sugList:e.sugList,inputFocus:e.inputFocus,activeIndex:e.activeIndex})}),[{isOpenReport:de,isOpenSuccessModal:ce},ue]=(0,o.S)(J,{dependencies:[],selector:e=>({isOpenReport:e.isOpenReport,isOpenSuccessModal:e.isOpenSuccessModal})}),{lang:pe,user:ge}=(0,a.P)(X.L,{selector:e=>{var t;return{lang:e.lang,user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),_e=null==ge?void 0:ge.uid,{searchVideoForLoggedin:me}=(0,a.P)(Q.$,{selector:e=>{var t,i;return{searchVideoForLoggedin:null!==(i=null===(t=e.bizContext)||void 0===t?void 0:t.searchVideoForLoggedin)&&void 0!==i?i:[]}},dependencies:[]}),{isOpenNewTab:he}=(0,b.M4)(),[{currentKeyword:ve,rootEnterFrom:fe},ye]=(0,o.S)(Z.tq,{selector:e=>{var t,i;return{currentKeyword:null!==(i=null===(t=e[oe.n[D]])||void 0===t?void 0:t.keyword)&&void 0!==i?i:"",rootEnterFrom:e.searchGlobalParams.rootEnterFrom}},dependencies:[D]}),[{transferHistoryList:be,guessSearchList:xe,blankpageEnterMethod:ke,shouldRemainOpen:we},Se]=(0,o.S)(ee._,{dependencies:[],selector:e=>({transferHistoryList:e.historyList,guessSearchList:e.guessSearchList,blankpageEnterMethod:e.blankpageEnterMethod,shouldRemainOpen:e.shouldRemainOpen})}),je=Boolean(ge),Te=null===(P=null==ge?void 0:ge.hasSearchPermission)||void 0===P||P,Ie=(0,s.useRef)([]),{abTestVersion:Pe}=(0,x.L$)((0,te.W)(()=>["abTestVersion"],[])),Ae=null!==(A=(0,k.qt)(Pe,"search_transfer_history"))&&void 0!==A?A:"v1",Me=null!==(M=(0,k.qt)(Pe,"search_transfer_guesssearch"))&&void 0!==M?M:"v1",Le="v2"===Ae&&je,De="v2"===Me,Oe=(0,s.useMemo)(()=>Le&&be.length||De&&xe.length,[Le,be,De,xe]),Re=(0,l.W6)(),Ee=(0,l.zy)(),Fe=(0,s.useCallback)(()=>{le.getSugList({app_language:(0,p.uk)(pe),history_list:encodeURIComponent(JSON.stringify(Ie.current)),keyword:K,abTestVersion:Pe})},[le,pe,K]),Be=(0,s.useMemo)(()=>{var e;if(_e){let t=[];const i=(0,y._S)(w.Z3),n=S.LU.getItem(_e);return n?(t=null!=n?n:[],t):(0===t.length&&i&&(t=null!==(e=JSON.parse(i))&&void 0!==e?e:[],S.LU.setItem(_e,t),(0,y.sc)(w.Z3)),t)}},[_e]),ze=(0,s.useCallback)(()=>{Se.setHistoryList(null!=Be?Be:[])},[Se,Be]),Ue=!Boolean((0,l.B6)(D,{path:qi}))&&Boolean((0,l.B6)(D,{path:g.OZ.searchHome})),Ne=(0,s.useCallback)(e=>{if(_e){let t=[];const i=S.LU.getItem(_e);i&&(t=i.filter(t=>t!==e)),t.unshift(e),t.length>10&&(t=t.slice(0,10)),Se.setHistoryList(t),S.LU.setItem(_e,t)}},[Se,_e]);(0,s.useEffect)(()=>{le.setVideoPageType(U)},[le,U]),(0,s.useEffect)(()=>{Ue&&R&&le.setSearchValue(String(R))},[R,Ue]),(0,s.useEffect)(()=>{Le&&R&&Ne(String(R))},[R,Le]),(0,s.useEffect)(()=>{Fe()},[Fe]),(0,s.useEffect)(()=>{F||ze()},[ze,F]),(0,s.useEffect)(()=>{fe||ye.setSearchGlobalParams({rootEnterFrom:Ue?"search_outer":_.f.commonParams.page_name})},[fe,Ue,ye]),(0,s.useEffect)(()=>{var e,t,i,n;if(F){const o=20,a=84,r=16,s=null!==(t=null===(e=document.getElementById("browser-mode-logo-icon"))||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0,l=null!==(n=null===(i=document.getElementById("browser-mode-report-btn"))||void 0===i?void 0:i.clientWidth)&&void 0!==n?n:0,d=2*Math.max(o+l,a+s);z(`calc(100% - ${r+d}px)`)}},[F]),(0,s.useEffect)(()=>{re||we||Se.setNewGuessSearchWord(void 0)},[re,we,Se]),(0,s.useEffect)(()=>{t&&F||!H||F&&!E||m.$G.handleTrendingWordsShow({enter_from:fe,search_position:F?"video_detail":_.f.commonParams.page_name,words_source:"related_search_anchor_v2",words_position:0,words_content:V,words_type:"search_bar_outer",group_id:null!=q?q:"",impr_id:null!=$?$:"",previous_page:_.f.commonParams.previous_page,video_page_type:U,enter_group_id:G})},[G,H,F,$,V,fe,q,E,U,t]);const We=(0,s.useCallback)((t,i,n,o)=>{var a;le.setInputFocus(!1);const s=Date.now();let l=Ue?Ee.pathname:g.$T.searchHome();if(null===(a=null==W?void 0:W.current)||void 0===a||a.onEnterInputBlur(),Ue&&i===ve)return void N(!0,!0);!je&&me&&void 0===o&&(l=g.$T.searchUser());let d=(0,v.p5)(Ee.pathname);const c=(0,v.sM)(Ee.pathname);d&&(l=g.$T.searchLive());const u=(0,ie.FR)({location:Ee,to:{pathname:l,search:{q:i,t:s}}});F&&he?window.open((0,r.stringifyUrl)({url:u,query:Object.assign({searchSource:"normal_search",videoPageType:U},n)})):d||c?window.location.href=(0,r.stringifyUrl)({url:u,query:Object.assign({searchSource:"normal_search",videoPageType:U},n)}):(null==e||e(t,!0),Re.push(u,Object.assign({searchSource:"normal_search",videoPageType:U},n)))},[Ue,Ee,je,N,Re,le,me,ve,e,F,he,U]),Ve=(0,s.useCallback)((e,t,i)=>{const{extra_info:{unique_id:n,sug_user_id:o},word_record:{words_content:a,group_id:s},content:l,impr_id:d}=t;Ie.current.push(l);const c=Boolean(o);m.$G.handleSugClick({impr_id:d,words_source:"sug",words_position:i,words_content:a,raw_query:K,sug_type:c?"enrich_sug":"normal_sug",query_id:"",group_id:s,video_page_type:U,search_position:F?"video_detail":_.f.commonParams.page_name,enter_group_id:G}),c?(h.q.handleEnterUser({enter_from:"search_sug",search_keyword:K,to_user_id:o,search_id:d,impr_id:d,rank:i,search_type:oe.n[D]}),window.location.href=(0,r.stringifyUrl)({url:Hi({uniqueId:n}),query:{lang:pe}})):(ye.resetSearchResult(),We(e,l,{enterMethod:"click_icon",searchSource:"search_sug",imprId:d,blankpageEnterFrom:_.f.commonParams.page_name,blankpageEnterMethod:ke}))},[K,U,F,D,pe,ye,We,ke,G]),He=(0,s.useCallback)((e,t,i,n,o)=>{Ie.current.push(t),le.setSearchValue(t),We(e,t,{enterMethod:"click_icon",searchSource:i,imprId:n,blankpageEnterFrom:_.f.commonParams.page_name,blankpageEnterMethod:ke},o)},[We,le,ke]),qe=(0,s.useCallback)((e,t)=>{ye.resetSearchResult(),We(e,K,{enterMethod:t})},[We,ye,K]),$e=(0,s.useCallback)((e,t)=>{le.setSearchValue(V),ye.resetSearchResult(),m.$G.handleTrendingWordsClick({enter_from:fe,search_position:F?"video_detail":_.f.commonParams.page_name,words_source:"related_search_anchor_v2",words_position:0,words_content:V,words_type:"search_bar_outer",group_id:null!=q?q:"",impr_id:null!=$?$:"",previous_page:_.f.commonParams.previous_page,video_page_type:U,enter_group_id:G}),We(e,V,{enterMethod:t,searchSource:"default_search_keyword",preClickId:$})},[le,V,ye,fe,F,q,$,U,G,We]),Ge=(0,s.useCallback)(()=>{le.setInputFocus(!0),ue.setIsOpenReport(!1),Se.setShouldRemainOpen(!1),m.$G.handleClickSearchFeedback({enter_from:fe,search_position:_.f.commonParams.page_name,button_type:"close",text_type:"recom_search_feedback"}),ue.resetData()},[ue,le]),Ke=(0,s.useCallback)(()=>{ue.setIsOpenReport(!1),O.open(),ue.setIsOpenSuccessModal(!0),ue.resetData()},[ue,le]),Ye=(0,s.useCallback)(()=>{ue.setIsOpenSuccessModal(!1),Se.setShouldUpdateData(!1),setTimeout(()=>{var e;null===(e=null==W?void 0:W.current)||void 0===e||e.onEnterInputFocus(),Se.setShouldRemainOpen(!1)},0)},[ue,le,fe]),Ze=(0,s.useCallback)((e,t)=>{if(K){if(t&&ae[se])return Ve(e,ae[se],se),void(null==u||u());qe(e,t?"click_enter":"click_icon"),null==u||u()}else H&&$e(e,t?"click_enter":"click_icon")},[K,ae,se,qe,H,$e,Ve]),Je=(0,ne.AF)(),at=(0,s.useMemo)(()=>(Je||!Y)&&Boolean(K)&&ae.length>0&&(re||i),[Je,Y,K,ae.length,re,i]),rt=(0,s.useMemo)(()=>!F&&!K.length&&(re||i)&&Oe||we,[F,K,re,Oe,we,i]),[st,lt]=(0,s.useState)("");(0,s.useEffect)(()=>{var e;i&&(null===(e=null==W?void 0:W.current)||void 0===e||e.onEnterInputFocus(),K&&lt(K))},[i]);const dt=(0,f.s)();return Te?(0,n.jsxs)(Qe,{showingBrowserMode:F,onClick:y.dG,searchBarWidth:B,children:[(0,n.jsx)(Ce,{initialValue:st,onSubmit:Ze,ref:W,isBrowserMode:t,isFullSideNav:i}),at&&(0,n.jsx)(Bt,{onSelect:Ve,onSelectMore:qe,isFullSideNav:i}),rt&&(0,n.jsx)(Vi,{onSelect:He,hasHistory:Le,hasGuessSearch:De,isFullSideNav:i}),de&&(0,n.jsx)(Xe,{onClose:Ge,onSubmitSuccess:Ke}),(()=>{if(ce)return(0,n.jsxs)(c.nO,Object.assign({},O,{width:"Small",height:"Compact",children:[(0,n.jsx)(c.ND,{children:(0,n.jsx)(c.Ft,{icon:d.A,size:72})}),(0,n.jsxs)(tt,{children:[(0,n.jsx)(it,{children:dt("search_feedback_success_tips1")}),(0,n.jsx)(nt,{children:dt("suggested_search_feedback13")})]}),(0,n.jsx)(ot,{children:(0,n.jsx)(et,{onClick:Ye,children:dt("OK")})})]}))})()]}):null})},60672:(e,t,i)=>{"use strict";i.d(t,{W:()=>n});const n=[{label:"A",lists:[{name:"Afghanistan",shortname:"AF",code:93,key:"afghanistan"},{name:"Åland Islands",shortname:"AX",code:35818,key:"åland_islands"},{name:"Albania",shortname:"AL",code:355,key:"albania"},{name:"Algeria",shortname:"DZ",code:213,key:"algeria"},{name:"American Samoa",shortname:"AS",code:1684,key:"american_samoa"},{name:"Andorra",shortname:"AD",code:376,key:"andorra"},{name:"Angola",shortname:"AO",code:244,key:"angola"},{name:"Anguilla",shortname:"AI",code:1264,key:"anguilla"},{name:"Antigua & Barbuda",shortname:"AG",code:1268,key:"antigua_and_barbuda"},{name:"Argentina",shortname:"AR",code:54,key:"argentina"},{name:"Armenia",shortname:"AM",code:374,key:"armenia"},{name:"Aruba",shortname:"AW",code:297,key:"aruba"},{name:"Ascension Island",shortname:"SH",code:247,key:"ascension"},{name:"Australia",shortname:"AU",code:61,key:"australia"},{name:"Austria",shortname:"AT",code:43,key:"austria"},{name:"Azerbaijan",shortname:"AZ",code:994,key:"azerbaijan"}]},{label:"B",lists:[{name:"Bahamas",shortname:"BS",code:1242,key:"bahamas"},{name:"Bahrain",shortname:"BH",code:973,key:"bahrain"},{name:"Bangladesh",shortname:"BD",code:880,key:"bangladesh"},{name:"Barbados",shortname:"BB",code:1246,key:"barbados"},{name:"Barbuda",shortname:"AG",code:1268,key:"barbuda"},{name:"Belarus",shortname:"BY",code:375,key:"belarus"},{name:"Belgium",shortname:"BE",code:32,key:"belgium"},{name:"Belize",shortname:"BZ",code:501,key:"belize"},{name:"Benin",shortname:"BJ",code:229,key:"benin"},{name:"Bermuda",shortname:"BM",code:1441,key:"bermuda_island"},{name:"Bhutan",shortname:"BT",code:975,key:"bhutan"},{name:"Bolivia",shortname:"BO",code:591,key:"bolivia"},{name:"Bosnia & Herzegovina",shortname:"BA",code:387,key:"bosnia_and_herzegovina"},{name:"Botswana",shortname:"BW",code:267,key:"botswana"},{name:"Brazil",shortname:"BR",code:55,key:"brazil"},{name:"British Indian Ocean Territory",shortname:"IO",code:246,key:"british_indian_ocean_territory"},{name:"British Virgin Islands",shortname:"VG",code:1284,key:"british_virgin_islands"},{name:"Brunei",shortname:"BN",code:673,key:"brunei"},{name:"Bulgaria",shortname:"BG",code:359,key:"bulgaria"},{name:"Burkina-faso",shortname:"BF",code:226,key:"burkina_faso"},{name:"Burundi",shortname:"BI",code:257,key:"burundi"}]},{label:"C",lists:[{name:"Cameroon",shortname:"CM",code:237,key:"cameroon"},{name:"Canada",shortname:"CA",code:1,key:"canada"},{name:"Cape Verde",shortname:"CV",code:238,key:"cape_verde"},{name:"Caribbean Netherlands",shortname:"BQ",code:5997,key:"caribbean_netherlands"},{name:"Cayman Is.",shortname:"KY",code:1345,key:"cayman_islands"},{name:"Central African Republic",shortname:"CF",code:236,key:"central_african_republic"},{name:"Chad",shortname:"TD",code:235,key:"chad"},{name:"Chile",shortname:"CL",code:56,key:"chile"},{name:"China mainland",shortname:"CN",code:86,key:"china_mainland"},{name:"Christmas Island",shortname:"CX",code:61,key:"christmas_island"},{name:"Cocos (Keeling) Islands",shortname:"CC",code:61,key:"cocos_keeling_islands"},{name:"Colombia",shortname:"CO",code:57,key:"colombia"},{name:"Comoros",shortname:"KM",code:269,key:"comoros"},{name:"Congo - Brazzaville",shortname:"CG",code:242,key:"congo"},{name:"Congo - Kinshasa",shortname:"CD",code:243,key:"congo_kinshasa"},{name:"Cook Is.",shortname:"CK",code:682,key:"cook_islands"},{name:"Costa Rica",shortname:"CR",code:506,key:"costa_rica"},{name:"Croatia",shortname:"HR",code:385,key:"croatia"},{name:"Curaçao",shortname:"CW",code:5999,key:"curaçao"},{name:"Cyprus",shortname:"CY",code:357,key:"cyprus"},{name:"Czechia",shortname:"CZ",code:420,key:"czech_republic"}]},{label:"D",lists:[{name:"Denmark",shortname:"DK",code:45,key:"denmark"},{name:"Diego Garcia",shortname:"DG",code:246,key:"diego_garcia"},{name:"Djibouti",shortname:"DJ",code:253,key:"djibouti"},{name:"Dominica",shortname:"DM",code:1767,key:"dominica"},{name:"Dominican Republic",shortname:"DO",code:1,key:"dominican_republic"}]},{label:"E",lists:[{name:"EI Salvador",shortname:"SV",code:503,key:"el_salvador"},{name:"Ecuador",shortname:"EC",code:593,key:"ecuador"},{name:"Egypt",shortname:"EG",code:20,key:"egypt"},{name:"Equatorial Guinea",shortname:"GQ",code:240,key:"equatorial_guinea"},{name:"Eritrea",shortname:"ER",code:291,key:"eritrea"},{name:"Estonia",shortname:"EE",code:372,key:"estonia"},{name:"Eswatini",shortname:"SZ",code:268,key:"eswatini"},{name:"Ethiopia",shortname:"ET",code:251,key:"ethiopia"}]},{label:"F",lists:[{name:"Falkland Islands",shortname:"FK",code:500,key:"falkland_islands"},{name:"Faroe Islands",shortname:"FO",code:298,key:"faroe_islands"},{name:"Fiji",shortname:"FJ",code:679,key:"fiji"},{name:"Finland",shortname:"FI",code:358,key:"finland"},{name:"France",shortname:"FR",code:33,key:"france"},{name:"French Guiana",shortname:"GF",code:594,key:"french_guiana"},{name:"French Polynesia",shortname:"PF",code:689,key:"french_polynesia"}]},{label:"G",lists:[{name:"Gabon",shortname:"GA",code:241,key:"gabon"},{name:"Gambia",shortname:"GM",code:220,key:"gambia"},{name:"Georgia",shortname:"GE",code:995,key:"georgia"},{name:"Germany",shortname:"DE",code:49,key:"germany"},{name:"Ghana",shortname:"GH",code:233,key:"ghana"},{name:"Gibraltar",shortname:"GI",code:350,key:"gibraltar"},{name:"Greece",shortname:"GR",code:30,key:"greece"},{name:"Greenland",shortname:"GL",code:299,key:"greenland"},{name:"Grenada",shortname:"GD",code:1473,key:"grenada"},{name:"Guadeloupe",shortname:"GP",code:590,key:"guadeloupe"},{name:"Guam",shortname:"GU",code:1671,key:"guam"},{name:"Guatemala",shortname:"GT",code:502,key:"guatemala"},{name:"Guernsey",shortname:"GG",code:44,key:"guernsey"},{name:"Guinea",shortname:"GN",code:224,key:"guinea"},{name:"Guinea-Bissau",shortname:"GW",code:245,key:"guinea_bissau"},{name:"Guyana",shortname:"GY",code:592,key:"guyana"}]},{label:"H",lists:[{name:"Haiti",shortname:"HT",code:509,key:"haiti"},{name:"Honduras",shortname:"HN",code:504,key:"honduras"},{name:"Hongkong",shortname:"HK",code:852,key:"hongkong"},{name:"Hungary",shortname:"HU",code:36,key:"hungary"}]},{label:"I",lists:[{name:"Iceland",shortname:"IS",code:354,key:"iceland"},{name:"India",shortname:"IN",code:91,key:"india"},{name:"Indonesia",shortname:"ID",code:62,key:"indonesia"},{name:"Iraq",shortname:"IQ",code:964,key:"iraq"},{name:"Ireland",shortname:"IE",code:353,key:"ireland"},{name:"Israel",shortname:"IL",code:972,key:"israel"},{name:"Isle of Man",shortname:"IM",code:44,key:"region_isle_of_man"},{name:"Italy",shortname:"IT",code:39,key:"italy"},{name:"Ivory Coast",shortname:"CI",code:225,key:"côte_d_ivoire"}]},{label:"J",lists:[{name:"Jamaica",shortname:"JM",code:1876,key:"jamaica"},{name:"Japan",shortname:"JP",code:81,key:"japan"},{name:"Jersey",shortname:"JE",code:44,key:"jersey"},{name:"Jordan",shortname:"JO",code:962,key:"jordan"}]},{label:"K",lists:[{name:"Kampuchea (Cambodia )",shortname:"KH",code:855,key:"cambodia"},{name:"Kazakhstan",shortname:"KZ",code:76,key:"kazakhstan"},{name:"Kazakhstan",shortname:"KZ",code:77,key:"kazakhstan"},{name:"Kenya",shortname:"KE",code:254,key:"kenya"},{name:"Kiribati",shortname:"KI",code:686,key:"kiribati"},{name:"Korea",shortname:"KR",code:82,key:"south_korea"},{name:"Kosovo",shortname:"XK",code:383,key:"region_kosovo"},{name:"Kuwait",shortname:"KW",code:965,key:"kuwait"},{name:"Kyrgyzstan",shortname:"KG",code:996,key:"kyrgyzstan"}]},{label:"L",lists:[{name:"Laos",shortname:"LA",code:856,key:"laos"},{name:"Latvia",shortname:"LV",code:371,key:"latvia"},{name:"Lebanon",shortname:"LB",code:961,key:"lebanon"},{name:"Lesotho",shortname:"LS",code:266,key:"lesotho"},{name:"Liberia",shortname:"LR",code:231,key:"liberia"},{name:"Libya",shortname:"LY",code:218,key:"libya"},{name:"Liechtenstein",shortname:"LI",code:423,key:"liechtenstein"},{name:"Lithuania",shortname:"LT",code:370,key:"lithuania"},{name:"Luxembourg",shortname:"LU",code:352,key:"luxembourg"}]},{label:"M",lists:[{name:"Macao",shortname:"MO",code:853,key:"macao"},{name:"Madagascar",shortname:"MG",code:261,key:"madagascar"},{name:"Malawi",shortname:"MW",code:265,key:"malawi"},{name:"Malaysia",shortname:"MY",code:60,key:"malaysia"},{name:"Maldives",shortname:"MV",code:960,key:"maldives"},{name:"Mali",shortname:"ML",code:223,key:"mali"},{name:"Malta",shortname:"MT",code:356,key:"malta"},{name:"Marshall Islands",shortname:"MH",code:692,key:"marshall_islands"},{name:"Martinique",shortname:"MQ",code:596,key:"martinique"},{name:"Mauritania",shortname:"MR",code:222,key:"mauritania"},{name:"Mauritius",shortname:"MU",code:230,key:"mauritius"},{name:"Mayotte",shortname:"YT",code:262,key:"mayotte"},{name:"Mexico",shortname:"MX",code:52,key:"mexico"},{name:"Micronesia",shortname:"FM",code:691,key:"micronesia"},{name:"Moldova, Republic of",shortname:"MD",code:373,key:"republic_of_moldova"},{name:"Monaco",shortname:"MC",code:377,key:"monaco"},{name:"Mongolia",shortname:"MN",code:976,key:"mongolia"},{name:"Montenegro",shortname:"ME",code:382,key:"montenegro"},{name:"Montserrat",shortname:"MS",code:1664,key:"montserrat"},{name:"Morocco",shortname:"MA",code:212,key:"morocco"},{name:"Mozambique",shortname:"MZ",code:258,key:"mozambique"},{name:"Myanmar (Burma)",shortname:"MM",code:95,key:"myanmar_burma"}]},{label:"N",lists:[{name:"Namibia",shortname:"NA",code:264,key:"namibia"},{name:"Nauru",shortname:"NR",code:674,key:"nauru"},{name:"Nepal",shortname:"NP",code:977,key:"nepal"},{name:"Netherlands",shortname:"NL",code:31,key:"netherlands"},{name:"New Caledonia",shortname:"NC",code:687,key:"new_caledonia"},{name:"New Zealand",shortname:"NZ",code:64,key:"new_zealand"},{name:"Nicaragua",shortname:"NI",code:505,key:"nicaragua"},{name:"Niger",shortname:"NE",code:227,key:"niger"},{name:"Nigeria",shortname:"NG",code:234,key:"nigeria"},{name:"Niue",shortname:"NU",code:683,key:"niue"},{name:"Norfolk Island",shortname:"NF",code:672,key:"norfolk_island"},{name:"North Macedonia",shortname:"MK",code:389,key:"macedonia"},{name:"Northern Mariana Islands",shortname:"MP",code:1670,key:"northern_mariana_islands"},{name:"Norway",shortname:"NO",code:47,key:"norway"}]},{label:"O",lists:[{name:"Oman",shortname:"OM",code:968,key:"oman"}]},{label:"P",lists:[{name:"Pakistan",shortname:"PK",code:92,key:"pakistan"},{name:"Palau",shortname:"PW",code:680,key:"palau"},{name:"Palestinian Territories",shortname:"PS",code:970,key:"palestinian_territories"},{name:"Panama",shortname:"PA",code:507,key:"panama"},{name:"Papua New Cuinea",shortname:"PG",code:675,key:"papua_new_guinea"},{name:"Paraguay",shortname:"PY",code:595,key:"paraguay"},{name:"Peru",shortname:"PE",code:51,key:"peru"},{name:"Philippines",shortname:"PH",code:63,key:"philippines"},{name:"Pitcairn Islands",shortname:"PN",code:64,key:"pitcairn_islands"},{name:"Poland",shortname:"PL",code:48,key:"poland"},{name:"Portugal",shortname:"PT",code:351,key:"portugal"},{name:"Puerto Rico",shortname:"PR",code:1787,key:"puerto_rico"},{name:"Puerto Rico",shortname:"PR",code:1939,key:"puerto_rico"}]},{label:"Q",lists:[{name:"Qatar",shortname:"QA",code:974,key:"qatar"}]},{label:"R",lists:[{name:"Réunion",shortname:"RE",code:262,key:"reunion"},{name:"Romania",shortname:"RO",code:40,key:"romania"},{name:"Russia",shortname:"RU",code:7,key:"russia"},{name:"Rwanda",shortname:"RW",code:250,key:"rwanda"}]},{label:"S",lists:[{name:"Samoa",shortname:"WS",code:685,key:"samoa"},{name:"San Marino",shortname:"SM",code:378,key:"san_marino"},{name:"Sao Tome and Principe",shortname:"ST",code:239,key:"sao_tome_and_principe"},{name:"Saudi Arabia",shortname:"SA",code:966,key:"saudi_arabia"},{name:"Senegal",shortname:"SN",code:221,key:"senegal"},{name:"Serbia",shortname:"RS",code:381,key:"serbia"},{name:"Seychelles",shortname:"SC",code:248,key:"seychelles"},{name:"Sierra Leone",shortname:"SL",code:232,key:"sierra_leone"},{name:"Singapore",shortname:"SG",code:65,key:"singapore"},{name:"Sint Maarten",shortname:"SX",code:1721,key:"sint_maarten"},{name:"Slovakia",shortname:"SK",code:421,key:"slovakia"},{name:"Slovenia",shortname:"SI",code:386,key:"slovenia"},{name:"Solomon Is",shortname:"SB",code:677,key:"solomon_islands"},{name:"Somali",shortname:"SO",code:252,key:"somalia"},{name:"South Africa",shortname:"ZA",code:27,key:"south_africa"},{name:"So. Georgia & So. Sandwich  Isl.",shortname:"GS",code:500,key:"south_georgia_and_south_sandwich_islands"},{name:"South Sudan",shortname:"SS",code:211,key:"south_sudan"},{name:"Spain",shortname:"ES",code:34,key:"spain"},{name:"Sri Lanka",shortname:"LK",code:94,key:"sri_lanka"},{name:"St. Barthélemy",shortname:"BL",code:590,key:"st_barthélemy"},{name:"St. Helena",shortname:"SH",code:290,key:"st_helena"},{name:"St. Kitts & Nevis",shortname:"KN",code:1869,key:"st_kitts_and_nevis"},{name:"St. Martin",shortname:"MF",code:590,key:"st_martin_france"},{name:"St. Pierre & Miquelon",shortname:"PM",code:508,key:"st_pierre_and_miquelon"},{name:"St.Lucia",shortname:"LC",code:1758,key:"saint_lucia"},{name:"St. Vincent & Grenadines",shortname:"VC",code:1784,key:"st.vincent"},{name:"Sudan",shortname:"SD",code:249,key:"sudan"},{name:"Suriname",shortname:"SR",code:597,key:"suriname"},{name:"Svalbard & Jan Mayen",shortname:"SJ",code:4779,key:"svalbard_and_jan_mayen"},{name:"Sweden",shortname:"SE",code:46,key:"sweden"},{name:"Switzerland",shortname:"CH",code:41,key:"switzerland"}]},{label:"T",lists:[{name:"Taiwan",shortname:"TW",code:886,key:"taiwan"},{name:"Tajikstan",shortname:"TJ",code:992,key:"tajikistan"},{name:"Tanzania",shortname:"TZ",code:255,key:"tanzania"},{name:"Thailand",shortname:"TH",code:66,key:"thailand"},{name:"Timor-Leste",shortname:"TL",code:670,key:"east_timor"},{name:"Togo",shortname:"TG",code:228,key:"togo"},{name:"Tokelau",shortname:"TK",code:690,key:"tokelau"},{name:"Tonga",shortname:"TO",code:676,key:"tonga"},{name:"Trinidad & Tobago",shortname:"TT",code:1868,key:"trinidad_and_tobago"},{name:"Tunisia",shortname:"TN",code:216,key:"tunisia"},{name:"Turkey",shortname:"TR",code:90,key:"turkey"},{name:"Turkmenistan",shortname:"TM",code:993,key:"turkmenistan"},{name:"Turks & Caicos Islands",shortname:"TC",code:1649,key:"turks_and_caicos_islands"},{name:"Tuvalu",shortname:"TV",code:688,key:"tuvalu"}]},{label:"U",lists:[{name:"U.S. Virgin Islands",shortname:"VI",code:1340,key:"u_s_virgin_islands"},{name:"Uganda",shortname:"UG",code:256,key:"uganda"},{name:"Ukraine",shortname:"UA",code:380,key:"ukraine"},{name:"United Arab Emirates",shortname:"AE",code:971,key:"united_arab_emirates"},{name:"United Kingdom",shortname:"UK",code:44,key:"united_kingdom"},{name:"United States",shortname:"US",code:1,key:"united_states"},{name:"Uruguay",shortname:"UY",code:598,key:"uruguay"},{name:"Uzbekistan",shortname:"UZ",code:998,key:"uzbekistan"}]},{label:"V",lists:[{name:"Vanuatu",shortname:"VU",code:678,key:"vanuatu"},{name:"Vatican City",shortname:"VA",code:379,key:"vatican_city"},{name:"Vatican City",shortname:"VA",code:3906698,key:"vatican_city"},{name:"Venezuela",shortname:"VE",code:58,key:"venezuela"},{name:"Vietnam",shortname:"VN",code:84,key:"vietnam"}]},{label:"W",lists:[{name:"Wallis & Futuna",shortname:"WF",code:681,key:"wallis_and_futuna"},{name:"Western Sahara",shortname:"EH",code:212,key:"region_western_sahara"}]},{label:"Y",lists:[{name:"Yemen",shortname:"YE",code:967,key:"yemen"}]},{label:"Z",lists:[{name:"Zambia",shortname:"ZM",code:260,key:"zambia"},{name:"Zimbabwe",shortname:"ZW",code:263,key:"zimbabwe"}]}]},60716:(e,t,i)=>{"use strict";i.d(t,{F:()=>h});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(45537),l=i.n(s),d=i(300),c=i.n(d),u=i(23999),p=i(26324),g=i(24451),_=i(8536),m=i(17328);Object.freeze({statusCode:0,loading:!0,list:[],browserList:[],hasMore:!0,cursor:"0"});let h=class extends o.E{constructor(e){super(),this.live=e,this.defaultState={}}resetLiveList(e,t){const{key:i,hasMore:n=!0,loading:o=!0,cursor:a="0"}=t;e[i]={list:[],browserList:[],loading:o,statusCode:0,hasMore:n,cursor:a}}addLiveList(e,t){const{key:i,list:n,statusCode:o=0,hasMore:a,cursor:r}=t;e[i]||(e[i]={list:[],browserList:[],loading:!1,statusCode:o,hasMore:Boolean(a),cursor:r}),e[i].list=l()(e[i].list,c()(n,"id_str").map(({id_str:e})=>e)),e[i].statusCode=o,e[i].hasMore=a,e[i].cursor=r}setLoading(e,t){const{loading:i,key:n}=t;e[n]||(e[n]={list:[],browserList:[],loading:i,statusCode:0,hasMore:!0,cursor:"0"}),e[n].loading=i}setListKeyword(e,t){const{keyword:i,key:n}=t;e[n]||(e[n]={keyword:i,list:[],browserList:[],loading:!1,statusCode:0,hasMore:!0,cursor:"0"}),e[n].keyword=i}setList(e){return e.pipe((0,g.E)(this.state$),(0,_.Z)(([{key:e,response:t}])=>{const{liveList:i=[],statusCode:n=0,hasMore:o=!1,cursor:a="0"}=t;return 0===n?(0,u.of)(...this.live.addItems(i),this.getActions().addLiveList({key:e,list:i,statusCode:n,hasMore:o,cursor:a})):(0,u.of)(this.getActions().addLiveList({key:e,list:[],statusCode:n,hasMore:!0}))}))}};(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",p.c)],h.prototype,"dispose$",void 0),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],h.prototype,"resetLiveList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],h.prototype,"addLiveList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],h.prototype,"setLoading",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],h.prototype,"setListKeyword",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],h.prototype,"setList",null),h=(0,n.__decorate)([(0,r.nV)("LiveList"),(0,n.__metadata)("design:paramtypes",[m.d])],h)},61215:(e,t,i)=>{"use strict";i.d(t,{O:()=>a});var n=i(40099),o=i(16842);function a({elementRef:e,threshold:t=1e3,onHitBottom:i,onPageBottom:a,shouldRunOnMount:r,onScroll:s}){const l=(0,n.useRef)(null),d=(0,n.useRef)(0),c=(0,n.useRef)(-1),u=(0,n.useRef)(!r),p=(0,n.useCallback)(()=>{"undefined"!=typeof window&&c.current>-1&&(window.clearInterval(c.current),c.current=-1)},[]),g=(0,o._g)(()=>{var n,o,r,c,g,_;if(!l)return;let m,h;if(e)m=null!==(o=null===(n=e.current)||void 0===n?void 0:n.scrollTop)&&void 0!==o?o:0,h=(null!==(c=null===(r=e.current)||void 0===r?void 0:r.scrollHeight)&&void 0!==c?c:0)-(null!==(_=null===(g=e.current)||void 0===g?void 0:g.clientHeight)&&void 0!==_?_:0)-m;else{const e=document.documentElement||document.body.parentNode||document.body;m=void 0!==window.pageYOffset?window.pageYOffset:e.scrollTop,h=e.scrollHeight-m-window.innerHeight}0!==m&&(null==s||s(m)),!u.current&&h>0&&p(),h-t<=0&&d.current<=m&&(null==i||i(),!u.current&&p()),h<=-60&&m-d.current>=18&&(null==a||a()),d.current=m},[i,t,a,e,p],100),_=(0,n.useRef)(g);return _.current=g,(0,n.useEffect)(()=>{if(r&&-1===c.current)return c.current=window.setInterval(()=>{var e;null===(e=_.current)||void 0===e||e.call(_)},100),p},[]),(0,n.useEffect)(()=>{var t;const i=null!==(t=null==e?void 0:e.current)&&void 0!==t?t:window;return i.addEventListener("scroll",g),()=>{i.removeEventListener("scroll",g)}},[g,e]),l}},61363:(e,t,i)=>{"use strict";i.d(t,{j:()=>n});const n={IS_YOUR_PROBLEM_RESOLVED:{key:"Is your problem resolved?"},BACKEND_SETTINGS_YES:{key:"backend_settings_yes"},BACKEND_SETTINGS_NO:{key:"backend_settings_no"},THANK_YOU_FOR_YOUR_FEEDBACK:{key:"Thank you for your feedback"},BACKEND_SETTINGS_STILLHAVEPROBLEM:{key:"backend_settings_stillhaveproblem"},HELP_CENTER:{key:"Help Center"},BACKEND_SETTINGS_TOPIC_TITLE:{key:"backend_settings_topictitle"},FEEDBACK_AND_HELP:{key:"Feedback and help"},FEEDBACK_PC_BACK:{key:"feedback_pc_back"},BACKEND_SETTINGS_FAQTITLE:{key:"backend_settings_faqtitle"},REPORT_A_PROBLEM:{key:"Report a problem"},FEEDBACK_PC_HISTORY:{key:"feedback_pc_history"},TELL_US_YOUR_FEEDBACK:{key:"Tell us your feedback"},PLEASE_PROVIDE_AS_MUCH_DETAIL_AS_POSSIBLE:{key:"Please provide as much detail as possible"},FEEDBACK_PC_UPLOAD:{key:"feedback_pc_upload"},SUBMIT:{key:"Submit"},NETWORK_ERROR_PLEASE_TRY_AGAIN:{key:"Network error. Please try again."},COM_MIG_YOUR_SUPPORT_TICKETS:{key:"com_mig_your_support_tickets"},DESCRIPTION_MUST_BE_AT_LEAST_2_CHARS:{key:"Description must be at least 2 characters"}}},61455:(e,t,i)=>{"use strict";i.d(t,{A2:()=>o,tG:()=>l});var n,o,a=i(72516),r=i(7672),s=i(96406);!function(e){e.Share="livesdk_share",e.Report="livesdk_live_user_report",e.ReportSuccess="livesdk_report_success",e.ChatClose="livesdk_comment_close",e.HoverUserCardShow="livesdk_user_card_show",e.Follow="livesdk_follow",e.Take="livesdk_live_action",e.SetupPopShow="livesdk_live_tab_popup_show",e.AnchorEnterRoom="livesdk_anchor_enter_room",e.Show="livesdk_live_show",e.ClickEntrance="livesdk_rec_live_play",e.Unfollow="livesdk_unfollow"}(n||(n={})),function(e){e.LiveCover="live_cover",e.SuggestedOthersPhoto="suggested_others_photo",e.NextIconClick="next_icon_click",e.Others="others",e.VideoHeadBrowser="video_head_browser",e.Creator="creator",e.VideoHead="video_head",e.LiveHead="live_head",e.OthersPhoto="others_photo",e.ClickOneColumnUser="click_main_btn",e.TopLiveCell="top_live_cell",e.VideoLiveCell="video_live_cell",e.FollowingTop="top_window",e.FollowingPreview="live_cover_preview"}(o||(o={}));let l=class{constructor(){this.handleLiveEntranceShow=e=>{s.f.event("livesdk_live_show",e)},this.handleLiveEntranceClick=e=>{s.f.event("livesdk_rec_live_play",e)},this.handleLiveStreamEntranceClick=e=>{s.f.event("livesdk_live_action",Object.assign({live_type:"third_party"},e))}}};l=(0,a.__decorate)([(0,r._)()],l)},61651:(e,t,i)=>{"use strict";i.d(t,{X:()=>r,Z:()=>a});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"e15oqmov0"})({color:"white",marginBottom:"4px",zIndex:1,background:"rgba(0, 0, 0, 0.3)",fontSize:"0.875rem",borderRadius:"4px",fontWeight:500,maxWidth:"min(350px, 100%)",lineHeight:"135%",cursor:"pointer",width:"max-content",padding:"4px 6px"},"label:DivVideoClosedCaption;"),r=(0,n.default)("div",{target:"e15oqmov1"})(({theme:{colors:e},useLargeToggle:t})=>({width:t?"40px":"24px",height:t?"40px":"24px",background:t?e.ConstBGInverse4:"transparent",borderRadius:t?"50%":"unset",":hover":{background:t?e.ConstBGInverse3:"transparent"},display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"}),({theme:{direction:e}})=>(0,o.mp)({direction:e,end:"66px"}),"label:DivCloseCaptionButtonContainer;")},61907:(e,t,i)=>{"use strict";i.d(t,{f:()=>w});var n=i(24643),o=i(40099),a=i(76926);const r={id:"next-d6d3b27d",use:"next-d6d3b27d-usage",viewBox:"0 0 17 31",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 31" id="next-d6d3b27d"><path d="M13.194 15.5 1.019 27.7a.5.5 0 0 0 0 .705l1.558 1.572a.5.5 0 0 0 .709 0l13.196-13.222a1.78 1.78 0 0 0 0-2.51L3.286 1.022a.5.5 0 0 0-.709.001L1.018 2.595a.5.5 0 0 0 .001.705z" /></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("next-d6d3b27d")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#next-d6d3b27d"},void 0)}),void 0)}const l={id:"prev-49bab593",use:"prev-49bab593-usage",viewBox:"0 0 17 31",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 31" id="prev-49bab593"><path d="M3.806 15.5 15.981 3.3a.5.5 0 0 0 0-.705l-1.558-1.572a.5.5 0 0 0-.709 0L.518 14.244a1.78 1.78 0 0 0 0 2.51l13.196 13.223a.5.5 0 0 0 .709-.001l1.559-1.572a.5.5 0 0 0-.001-.706z" /></symbol>'};function d(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(l),()=>{t.remove("prev-49bab593")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#prev-49bab593"},void 0)}),void 0)}var c=i(16410),u=i(14863);const p={id:"close-14cee712",use:"close-14cee712-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="close-14cee712"><circle cx="24" cy="24" r="24" /><path fill="white" d="M15.277 16.48a.5.5 0 0 0 0 .707L31.036 32.98a.5.5 0 0 0 .706 0l1.123-1.125a.5.5 0 0 0 0-.708L17.107 15.354a.5.5 0 0 0-.707 0z" /><path fill="white" d="M31.742 15.354a.5.5 0 0 0-.706 0L15.277 31.146a.5.5 0 0 0 0 .708L16.4 32.98a.5.5 0 0 0 .707 0l15.758-15.793a.5.5 0 0 0 0-.708z" /></symbol>'};function g(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(p),()=>{t.remove("close-14cee712")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#close-14cee712"},void 0)}),void 0)}const _=(0,c.default)("div",{target:"e11nbzp0"})({position:"fixed",inset:0,zIndex:1e4},"label:DivDialog;"),m=(0,c.default)("div",{target:"e11nbzp1"})({position:"absolute",inset:0},({theme:e})=>({backgroundColor:e.colors.SDPrimary}),"label:DivMask;"),h=(0,c.default)("div",{target:"e11nbzp2"})({height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivContentContainer;"),v=(0,c.default)("div",{target:"e11nbzp3"})({width:"calc(100% - 160px)",height:"80%",display:"flex",alignItems:"center",justifyContent:"center"},"label:DivContent;"),f=(0,c.default)(u.d,{target:"e11nbzp4"})({width:"100%",height:"100%",img:{objectFit:"contain"}},"label:StyledFilePreview;"),y=(0,c.default)("div",{target:"e11nbzp5"})({diplay:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"50%",transform:"translate3d(0, -50%, 0)",cursor:"pointer",padding:"8px",opacity:.3,"&:hover":{opacity:1}},({theme:e})=>({svg:{fill:e.colors.ConstTextInverse,width:"17px",height:"31px"}}),"label:DivNavContainer;"),b=(0,c.default)(y,{target:"e11nbzp6"})({left:"32px"},"label:StyledPrev;"),x=(0,c.default)(y,{target:"e11nbzp7"})({right:"32px"},"label:StyledNext;"),k=(0,c.default)(g,{target:"e11nbzp8"})(({theme:e})=>({position:"absolute",top:"20px",right:"20px",width:"48px",height:"48px",fill:e.colors.ConstTextInverse,cursor:"pointer","> circle":{opacity:.2}}),"label:StyledClose;"),w=e=>{const{visible:t,onClose:i,files:a=[],defaultFile:r}=e,[l,c]=(0,o.useState)(0),u=(0,o.useMemo)(()=>l>0,[l]),p=(0,o.useMemo)(()=>l<a.length-1,[l,a]),g=(0,o.useCallback)(()=>{c(e=>e-1)},[]),y=(0,o.useCallback)(()=>{c(e=>e+1)},[]);return(0,o.useEffect)(()=>{c(r&&a.indexOf(r)||0)},[r,a]),t?(0,n.jsxs)(_,{children:[(0,n.jsx)(m,{}),(0,n.jsx)(h,{children:(0,n.jsx)(v,{children:(0,n.jsx)(f,{file:a[l]})})}),u&&(0,n.jsx)(b,{onClick:g,children:(0,n.jsx)(d,{})}),p&&(0,n.jsx)(x,{onClick:y,children:(0,n.jsx)(s,{})}),(0,n.jsx)(k,{onClick:i})]}):null}},62298:(e,t,i)=>{"use strict";i.d(t,{p:()=>_});var n=i(24643),o=i(40099),a=i(72355),r=i(27799),s=i(46219),l=i(51426),d=i(16410),c=i(93584),u=i(73107);const p=(0,d.default)(u.y,{target:"e145h5950"})(({theme:e,isFocus:t})=>[{position:"absolute",top:t?"6px":"-9999px",zIndex:99999,padding:"0 48px",height:"48px",fontSize:"16px",fontWeight:700,background:e.colors.BGPrimary,border:"1px solid #e3e3e5",borderRadius:"4px"},(0,c.mp)({direction:e.direction,start:"8px"})],"label:StyledButton;"),g=e=>{var t;try{if(!e)return;const i=document.querySelector(`#${e}`);if(!i)return;const n=(0,s.ke)(i);n.length>0?null===(t=n[0])||void 0===t||t.focus():i.focus()}catch(e){}};function _(){const e=(0,r.s)(),{pathname:t}=(0,a.zy)(),i=(0,l.N2)(t),s=[String("homepage_hot"),String("homepage_follow"),String("others_homepage"),String("explore_page")],d=(0,o.useMemo)(()=>"unknown"===i?"":`main-content-${i}`,[i]),[c,u]=(0,o.useState)(!1),_=(0,o.useCallback)(()=>{u(!0)},[]),m=(0,o.useCallback)(()=>{u(!1)},[]),h=(0,o.useCallback)(e=>{e.preventDefault(),g(d)},[d]);return s.includes(i)?(0,n.jsx)(p,{isFocus:c,onFocus:_,onBlur:m,onClick:h,children:e("accessibilityLabels_home_skipContentFeed")}):null}},62334:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(24643),o=i(40099),a=i(76926);const r={id:"tip_arrow_white-99f4b53c",use:"tip_arrow_white-99f4b53c-usage",viewBox:"0 0 24 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 8" id="tip_arrow_white-99f4b53c"><path d="M0 8c7 0 10-8 12-8s5 8 12 8z" /></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("tip_arrow_white-99f4b53c")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#tip_arrow_white-99f4b53c"},void 0)}),void 0)}},62362:(e,t,i)=>{"use strict";i.d(t,{$:()=>I});var n=i(72516),o=i(24643),a=i(40099),r=i(55352),s=i(57615),l=i(70199),d=i(4887),c=i(87303),u=i(57297),p=i(16410);const g=(0,p.default)("div",{target:"esfeth60"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",width:"100%",padding:"28px 30px 24px 30px"},"label:DivModalBodyContainer;"),_=(0,p.default)("div",{target:"esfeth61"})(({theme:e})=>({position:"relative",width:"100%",padding:"0 32px",lineHeight:"24px",textAlign:"center",fontSize:"16px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokDisplayFont,fontWeight:e.fontWeights.medium}),"label:DivHeader;"),m=(0,p.default)("div",{target:"esfeth62"})({position:"absolute",top:0,width:"24px",height:"24px",cursor:"pointer"},"label:DivCloseButton;"),h=(0,p.default)("div",{target:"esfeth63"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",marginTop:"24px",rowGap:"8px","& > .TUXButton":{"& > .TUXButton-content":{"& > .TUXButton-iconContainer":{width:"100%"}}}},"label:DivPlatformsContainer;"),v=(0,p.default)("div",{target:"esfeth64"})({display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},"label:DivPlatform;"),f=(0,p.default)("div",{target:"esfeth65"})({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",flex:1},"label:DivPlatformTitleContainer;"),y=(0,p.default)("div",{target:"esfeth66"})(({theme:e})=>({width:"100%",height:"21px",fontSize:"16px",color:e.colors.UIText1,fontFamily:e.fontFamilies.TikTokDisplayFont,fontWeight:e.fontWeights.medium,textAlign:"left"}),"label:DivPlatformTitle;"),b=(0,p.default)("div",{target:"esfeth67"})(({theme:e})=>({width:"100%",height:"18px",fontSize:"14px",color:e.colors.UIText3,fontFamily:e.fontFamilies.TikTokDisplayFont,fontWeight:e.fontWeights.normal,marginTop:"2px",textAlign:"left"}),"label:DivPlatformSubTitle;"),x=(0,p.default)("div",{target:"esfeth68"})(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",width:"326px",marginTop:"20px",fontSize:"12px",lineHeight:"16px",color:e.colors.UIText3,fontFamily:e.fontFamilies.TikTokDisplayFont,fontWeight:e.fontWeights.normal,textAlign:"center"}),"label:DivDescription;");var k=i(79054),w=i(27799),S=i(18650),C=i(65774);const j=({music:e,toastRef:t,open:i,onOpenChange:p,onCancel:j,enterFrom:T,groupId:I})=>{const P=(0,w.s)(),{isRTL:A}=(0,S.m)(),[{platforms:M},{addSong:L,updatePlatform:D,getAndUpdatePlatforms:O}]=(0,l.gV)(),[{appleMusicDeveloperToken:R},{auth:E}]=(0,d.Od)();(0,a.useEffect)(()=>{O(),R&&(0,c.e)(R)},[R]);const F=(0,a.useCallback)(()=>{p(!1)},[p]),B=(0,a.useCallback)(e=>{p(e)},[p]),z=(0,a.useMemo)(()=>M.filter(e=>u.OC.includes(e.platform)).map(t=>{var i,n;const o=null===(i=e.tt2dsp)||void 0===i?void 0:i.tt_to_dsp_song_infos;return Object.assign(Object.assign({},t),{music:null==o?void 0:o.find(e=>e.platform===t.platform),title:null!==(n=u.Zc[t.platform])&&void 0!==n?n:""})}),[e,M]);return(0,o.jsx)(s.nOL,{style:{width:"448px"},open:i,onOpenChange:B,width:"large",children:(0,o.jsxs)(g,{children:[(0,o.jsxs)(_,{children:[P("tt2dspWeb_addOneSong_dialog_title"),(0,o.jsx)(m,{style:A?{left:0}:{right:0},onClick:null!=j?j:F,children:(0,o.jsx)(s.gn,{size:"24"})})]}),(0,o.jsx)(h,{children:z.map(i=>(0,o.jsx)(s.I05,{style:{width:"100%",height:"72px"},leadingIcon:(0,o.jsxs)(v,{children:[1===i.platform&&(0,o.jsx)(s.Z6u,{size:"56"}),3===i.platform&&(0,o.jsx)(s.ysD,{size:"56"}),(0,o.jsxs)(f,{style:A?{marginRight:"12px"}:{marginLeft:"12px"},children:[(0,o.jsx)(y,{style:{textAlign:A?"right":"left"},children:i.title}),!i.music&&(0,o.jsx)(b,{style:{textAlign:A?"right":"left"},children:P("tt2dspWeb_copyrightIssue_unavailable")})]}),A?(0,o.jsx)(s.WZi,{}):(0,o.jsx)(s.LyW,{})]}),variant:"secondary",label:"",onClick:()=>(i=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var n,o,a,s,l,d,c,p;C.G.handleClickTttodspSheetReport({group_id:"",enter_from:T,music_id:e.id,button_name:null!==(n=u.x1[i.platform])&&void 0!==n?n:""});let{status:g,isUserLoginOnWeb:_=!1}=yield E({platform:Number(i.platform),isSelectedByUser:!1,enterFrom:T,musicId:e.id,groupId:I});g===r.kd.Success&&i.music&&(g=yield L(e,Number(i.platform),u.ou.WebSingleSong,_,I)),g!==r.kd.Success||i.music||(g=yield D(i.platform)),g===r.kd.Success?(i.music?null===(o=null==t?void 0:t.current)||void 0===o||o.show(null!==(s=null===(a=u.je[i.platform])||void 0===a?void 0:a.add)&&void 0!==s?s:k.X.Error):null===(l=null==t?void 0:t.current)||void 0===l||l.show(null!==(c=null===(d=u.je[i.platform])||void 0===d?void 0:d.connect)&&void 0!==c?c:k.X.Error),F()):null===(p=null==t?void 0:t.current)||void 0===p||p.show(k.X.Error)}))(i)},i.title))}),(0,o.jsx)(x,{children:P("tt2dspWeb_add_dialog_dsp_disclaimer")})]})})};var T=i(96330);const I=({music:e,toastRef:t})=>{const i=(0,w.s)(),[c,p]=(0,a.useState)(!1),[{selectedPlatform:g},{addSong:_}]=(0,l.gV)(),[{},{auth:m}]=(0,d.Od)(),{canSDPTT2DSP:h}=(0,T.LO)(),v=(0,a.useMemo)(()=>e&&h[e.id],[h,e]);(0,a.useEffect)(()=>{var t;if(v){const i=null!=g?g:0;C.G.handleShowTttodspMusicReport({enter_from:u.ou.WebSingleSong,music_id:null==e?void 0:e.id,button_name:null!==(t=u.x1[i])&&void 0!==t?t:"null"})}},[v,null==e?void 0:e.id,g]);const f=(0,a.useMemo)(()=>u.OC.includes(Number(g))&&u.Zc[g]?i("tt2dspWeb_addToDSP_variable",{s_dspName:u.Zc[g]}):i("tt2dspWeb_sdp_add_btn"),[g]),y=(0,a.useMemo)(()=>u.OC.includes(Number(g))?3===g?(0,o.jsx)(s.VuH,{size:"22"}):1===g?(0,o.jsx)(s.Z6u,{size:"24"}):(0,o.jsx)(s.ipH,{}):(0,o.jsx)(s.ipH,{}),[g]);return(0,o.jsx)(o.Fragment,{children:v&&e&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.I05,{variant:"secondary",leadingIcon:y,label:f,onClick:()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var i,n,o,a,s;if(!e)return;const l=null!=g?g:0;if(C.G.handleClickTttodspMusicReport({group_id:"",enter_from:u.ou.WebSingleSong,music_id:e.id,button_name:null!==(i=u.x1[l])&&void 0!==i?i:"null"}),g){let{status:i,isUserLoginOnWeb:l=!1}=yield m({platform:Number(g),isSelectedByUser:!0,enterFrom:u.ou.WebSingleSong,musicId:e.id});i===r.kd.Success&&(i=yield _(e,Number(g),u.ou.WebSingleSong,l)),i===r.kd.Success?null===(n=null==t?void 0:t.current)||void 0===n||n.show(null!==(a=null===(o=u.je[Number(g)])||void 0===o?void 0:o.add)&&void 0!==a?a:k.X.Error):null===(s=null==t?void 0:t.current)||void 0===s||s.show(k.X.Error)}else p(!0)})}),(0,o.jsx)(j,{music:e,open:c,onOpenChange:e=>p(e),enterFrom:u.ou.WebSingleSong,toastRef:t})]})})}},63177:(e,t,i)=>{"use strict";i.d(t,{p:()=>ie});var n=i(24643),o=i(57432),a=i.n(o),r=i(97245),s=i(27799),l=i(99411),d=i(40099),c=i(75431),u=i(16410),p=i(3089),g=i(93584);const _=(0,u.default)("div",{target:"e1rwytmq0"})(({theme:e})=>[(0,g.zy)({theme:e,typography:"H6",fontFamily:"TikTokFont"}),{position:"relative",userSelect:"none"}],"label:DivContainer;"),m=(0,u.default)("div",{target:"e1rwytmq1"})(({theme:{colors:e}})=>({display:"flex",flexDirection:"row",alignItems:"center",padding:"12px",borderRadius:"2px",border:`1px solid ${e.LineSecondary2}`,cursor:"pointer"}),"label:DivSelectionContainer;"),h=(0,u.default)("p",{target:"e1rwytmq2"})(g.PR,{flex:"1 1 auto"},"label:PSelected;"),v=(0,u.default)(p.A,{target:"e1rwytmq3"})({width:24,height:24,flex:"0 0 24px"},"label:StyledChevronDown;"),f=(0,u.default)("div",{target:"e1rwytmq4"})({position:"fixed",left:0,right:0,top:0,bottom:0},"label:DivSelectMask;"),y=(0,c.i7)({from:{opacity:"0",transform:"scale(0.6, 0.6)"},"70%":{opacity:"1",transform:"scale(1.01, 1.01)"},to:{opacity:"1",transform:"scale(1, 1)",animationTimingFunction:"cubic-bezier(0.215, 0.61, 0.355, 1)"}}),b=(0,u.default)("ul",{target:"e1rwytmq5"})(({theme:{colors:e}})=>({position:"absolute",left:0,right:0,margin:0,padding:0,listStyle:"none",border:`1px solid ${e.LineSecondary}`,background:e.BGPrimary,boxShadow:`0px 2px 8px ${e.ShadowPrimary}`,animation:`${y} 100ms normal`,transformOrigin:"center top",zIndex:1}),"label:UlOptionsContainer;"),x=(0,u.default)("li",{target:"e1rwytmq6"})(({theme:{colors:e}})=>({cursor:"pointer",padding:"8px 12px",":hover":{background:e.BGView}}),"label:LiOptionsItem;"),k=(0,u.default)("p",{target:"e1rwytmq7"})(g.PR,"label:POptionsTitle;"),w=(0,u.default)("p",{target:"e1rwytmq8"})({},({theme:e})=>(0,g.zy)({theme:e,typography:"P4",color:"TextTertiary"}),"label:POptionsDesc;");function S({value:e,options:t,e2eData:i,itemE2eData:o,onChange:a,placeholder:r}){var s,l;const[c,u]=(0,d.useState)(!1),p=t.find(({value:t})=>t===e),g=(0,d.useCallback)(()=>{u(!0)},[]),y=(0,d.useCallback)(()=>{u(!1)},[]),S=(0,d.useCallback)(e=>()=>{null==a||a(e),y()},[y,a]);return(0,n.jsxs)(_,{children:[(0,n.jsxs)(m,{"data-e2e":i,onClick:g,children:[(0,n.jsx)(h,{children:null!==(l=null!==(s=null==p?void 0:p.title)&&void 0!==s?s:null==p?void 0:p.value)&&void 0!==l?l:r}),(0,n.jsx)(v,{width:24,height:24})]}),c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f,{onClick:y}),(0,n.jsx)(b,{children:t.map(({value:e,key:t,title:i,desc:a})=>{const r=String(null!=i?i:e);return(0,n.jsxs)(x,{"data-e2e":o,title:r,onClick:S(e),children:[(0,n.jsx)(k,{children:i}),a&&(0,n.jsx)(w,{children:a})]},null!=t?t:String(e))})})]})]})}var C,j,T=i(31382),I=i(13910),P=i(45027),A=i(72516),M=i(71450),L=i(4126),D=i(13356),O=i(26324),R=i(95719),E=i(62564),F=i(35572),B=i(24451),z=i(30032),U=i(43703),N=i(55867),W=i(29036);!function(e){e[e.Show=0]="Show",e[e.CanNotModify=1]="CanNotModify",e[e.Hide=2]="Hide"}(C||(C={})),function(e){e[e.NoRestriction=0]="NoRestriction",e[e.Compliance=1]="Compliance",e[e.FamilyPairing=2]="FamilyPairing",e[e.PrivateAccount=3]="PrivateAccount"}(j||(j={}));let V=class extends M.E{constructor(e){super(),this.service=e,this.defaultState={isPrivateBannerShowing:!1,videoPrivateSetting:{duet:{show_type:0,res_type:0},stitch:{show_type:0,res_type:0}}}}setIsPrivateBannerShowing(e,t){e.isPrivateBannerShowing=t}handleShowPrivateBanner(e){return e.pipe((0,R.M)(e=>{e&&z.I.handlePrivateBannerShow()}),(0,E.T)(e=>this.getActions().setIsPrivateBannerShowing(e)))}handlePrivateBannerClose(e){return e.pipe((0,R.M)(()=>{z.I.handlePrivateBannerClick("ok")}),(0,F.p)(()=>this.service.postPrivateBannerAck()),(0,R.M)(e=>{(0,U.G)(e.statusCode,[0])}),(0,E.T)(e=>0===e.statusCode?this.getActions().setIsPrivateBannerShowing(!1):this.noop()),(0,N.n)({}))}setVideoPrivateSetting(e,t){e.videoPrivateSetting=t}getVideoPrivateSetting(e){return e.pipe((0,B.E)(this.state$),(0,F.p)(([e,t])=>this.service.getVideoPrivateSetting().pipe((0,E.T)(e=>{var i,n,o,a;const{private_settings:r}=e;return this.getActions().setVideoPrivateSetting({duet:{show_type:null!==(i=null==r?void 0:r.video_privacy.duet.show_type)&&void 0!==i?i:t.videoPrivateSetting.duet.show_type,res_type:null!==(n=null==r?void 0:r.video_privacy.duet.res_type)&&void 0!==n?n:t.videoPrivateSetting.duet.res_type},stitch:{show_type:null!==(o=null==r?void 0:r.video_privacy.stitch.show_type)&&void 0!==o?o:t.videoPrivateSetting.stitch.show_type,res_type:null!==(a=null==r?void 0:r.video_privacy.stitch.res_type)&&void 0!==a?a:t.videoPrivateSetting.stitch.res_type}})}))),(0,N.n)({}))}};(0,A.__decorate)([(0,L.h5)(),(0,A.__metadata)("design:type",Function),(0,A.__metadata)("design:paramtypes",[Object,Boolean]),(0,A.__metadata)("design:returntype",void 0)],V.prototype,"setIsPrivateBannerShowing",null),(0,A.__decorate)([(0,L.Mj)(),(0,A.__metadata)("design:type",Function),(0,A.__metadata)("design:paramtypes",[O.c]),(0,A.__metadata)("design:returntype",void 0)],V.prototype,"handleShowPrivateBanner",null),(0,A.__decorate)([(0,L.Mj)(),(0,A.__metadata)("design:type",Function),(0,A.__metadata)("design:paramtypes",[O.c]),(0,A.__metadata)("design:returntype",void 0)],V.prototype,"handlePrivateBannerClose",null),(0,A.__decorate)([(0,L.h5)(),(0,A.__metadata)("design:type",Function),(0,A.__metadata)("design:paramtypes",[Object,Object]),(0,A.__metadata)("design:returntype",void 0)],V.prototype,"setVideoPrivateSetting",null),(0,A.__decorate)([(0,L.Mj)(),(0,A.__metadata)("design:type",Function),(0,A.__metadata)("design:paramtypes",[O.c]),(0,A.__metadata)("design:returntype",void 0)],V.prototype,"getVideoPrivateSetting",null),V=(0,A.__decorate)([(0,D.nV)("Compliance"),(0,A.__metadata)("design:paramtypes",[W.D])],V);var H=i(34778),q=i(70589),$=i(42186),G=i(26922);const K=(0,u.default)("div",{target:"e1i2llgv1"})({padding:"32px",width:"332px"},"label:DivContentWrapper;"),Y=(0,u.default)("h2",{target:"e1i2llgv2"})(({theme:e})=>(0,g.zy)({theme:e,typography:"H4"}),{marginTop:"4px",textAlign:"center"},"label:H2Title;"),Z=(0,u.default)("p",{target:"e1i2llgv3"})(({theme:e})=>(0,g.zy)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"TikTokFont"}),{marginTop:"24px",marginBottom:"8px"},"label:PDesc;"),J=(0,u.default)("div",{target:"e1i2llgv4"})({marginTop:"16px"},"label:DivSwitchGroupContainer;"),X=(0,u.default)("div",{target:"e1i2llgv5"})({display:"flex",flexDirection:"row",alignItems:"center",height:"40px"},"label:DivSwitchItemContainer;"),Q=(0,u.default)("span",{target:"e1i2llgv6"})(({theme:e,disabled:t})=>[(0,g.zy)({theme:e,typography:"P2",fontWeight:"semiBold",color:t?"TextQuaternary":"TextPrimary"}),(0,g.mp)({direction:e.direction,marginEnd:"12px"}),{flex:"1 1 auto"}],"label:SpanSwitchText;"),ee=(0,u.default)("p",{target:"e1i2llgv7"})(({theme:e})=>(0,g.zy)({theme:e,fontFamily:"TikTokFont",typography:"P4",color:"TextQuaternary"}),{marginTop:"4px"},"label:PHint;"),te=(0,u.default)("button",{target:"e1i2llgv8"})(g.WA,({theme:{colors:e}})=>({width:"100%",height:"48px",fontSize:"16px",lineHeight:"48px",borderTop:`1px solid ${e.LineSecondary}`,cursor:"pointer",color:e.TextPrimary}),"label:ButtonSave;"),ie=function(e){const{videoId:t,visible:i,onClose:o=a()}=e,r=(0,s.s)(),c=(0,I.k)(t),u=(0,T.yS)(null==c?void 0:c.author),{handleChange:p,optionsList:g,visibilityValue:_}=function({item:e,author:t}){const i=(0,s.s)(),n=(0,q.jw)(),{isImmersivePlayerOpen:o}=(0,$.Z9)(e=>({isImmersivePlayerOpen:e.isOpen})),a=(0,G.Ts)(),r=(0,H.YZ)(),l=o?a:r,{forFriend:c,secret:u,id:p="",adAuthorization:g,adLabelVersion:_}=null!=e?e:{},{privateAccount:m}=null!=t?t:{},h=(0,d.useMemo)(()=>c?"3":u?"2":"1",[c,u]),v={Public:{title:i("who_can_view_public"),desc:i("public_desc")},Followers:{title:i("who_can_view_followers"),desc:i("followers_desc_for_private")},Friends:{title:i("who_can_view_friends"),desc:i("followers_desc")},Private:{title:i("video_label_private"),desc:i("private_desc")}};if(!n.default){const e={title:i("commonStrings_privacySettings_option_friends"),desc:i("commonStrings_privacySettings_optionDescription_friends")},t={title:i("commonStrings_privacySettings_option_onlyYou"),desc:""};if(v.Friends=e,v.Private=t,v.Public={title:i("commonStrings_privacySettings_option_everyone"),desc:i("commonStrings_privacySettings_option_onOffTikTok")},n.solution1){const e={title:i("commonStrings_privacySettings_option_everyone"),desc:i("useAlignedCopies_privacySettings_panel_description")};v.Public=e,v.Followers=e}}return{visibilityValue:h,optionsList:(0,d.useMemo)(()=>{if(g)return[Object.assign(Object.assign({},v.Public),{value:"1"}),{title:i("new_video_status"),desc:i("pull_video_expl_available_for_ads"),value:"2"}];const e=[{title:m?v.Followers.title:v.Public.title,desc:m?v.Followers.desc:v.Public.desc,value:"1"},Object.assign(Object.assign({},v.Friends),{value:"3"})];return 2!==_&&e.push(Object.assign(Object.assign({},v.Private),{value:"2"})),e},[g,_,m,i]),handleChange:(0,d.useCallback)(e=>{l.postModifyVisibility({aweme_id:p,type:e})},[l,p])}}({item:c,author:u}),{comment:m,duet:h,stitch:v,hintTextKey:f}=function({item:e}){var t;const[{isEnableDuet:i,isEnableStitch:n,isShowSafetyHint:o},a]=(0,P.S)(V,{selector:e=>({isEnableDuet:0===e.videoPrivateSetting.duet.show_type,isEnableStitch:0===e.videoPrivateSetting.stitch.show_type,isShowSafetyHint:1===e.videoPrivateSetting.duet.res_type||1===e.videoPrivateSetting.stitch.res_type}),dependencies:[]}),r=1===(null==e?void 0:e.duetDisplay)||1===(null==e?void 0:e.stitchDisplay),s=3!==(null==e?void 0:e.itemCommentStatus),l=Boolean(null==e?void 0:e.duetEnabled)&&!r,c=Boolean(null==e?void 0:e.stitchEnabled)&&!r,u=Number(null===(t=null==e?void 0:e.video)||void 0===t?void 0:t.duration)>=61,{isImmersivePlayerOpen:p}=(0,$.Z9)(e=>({isImmersivePlayerOpen:e.isOpen})),g=(0,G.Ts)(),_=(0,H.YZ)(),m=p?g:_,[,h]=(0,d.useReducer)(e=>e+1,0),v=(0,d.useMemo)(()=>o?"setting_disabled_16":r?"duet_stitch_minor":u?"hint2":"hint1",[u,o,r]);(0,d.useEffect)(()=>{a.getVideoPrivateSetting()},[a]);const f=(0,d.useCallback)(t=>{var i;m.postUserSetting({field:"item_comment",aweme_id:null!==(i=null==e?void 0:e.id)&&void 0!==i?i:"",private_setting:t?0:3}).then(h)},[null==e?void 0:e.id,m]),y=(0,d.useCallback)(t=>i=>{var n;m.postDuetOrStitchChange({aweme_id:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:"",type:t,enable:i?0:1}).then(h)},[null==e?void 0:e.id,m]);return{comment:{checked:s,onChange:f},duet:{checked:l,disabled:u||!i||r,onChange:y("item_duet")},stitch:{checked:c,disabled:u||!n||r,onChange:y("item_stitch")},hintTextKey:v}}({item:c,author:u});return(0,n.jsxs)(l.i,{e2eData:"video-setting-list",compact:!0,isOpen:i,onClose:o,closeOnBackdropClick:!0,closeOnEsc:!0,children:[(0,n.jsxs)(K,{children:[(0,n.jsx)(Y,{children:r("privacy_set")}),(0,n.jsx)(Z,{children:r("view_access")}),(0,n.jsx)(S,{e2eData:"video-setting-choose",itemE2eData:"video-watch-list",value:_,options:g,onChange:p}),(0,n.jsxs)(J,{children:[(0,n.jsx)(ne,Object.assign({e2eData:"video-setting-comment",text:r("allow_comment")},m)),(0,n.jsx)(ne,Object.assign({e2eData:"video-setting-duet",text:r("allow_duet")},h)),(0,n.jsx)(ne,Object.assign({e2eData:"video-setting-stitch",text:r("allow_stitch")},v))]}),(0,n.jsx)(ee,{children:r(f)})]}),(0,n.jsx)(te,{"data-e2e":"video-setting-down",onClick:e.onClose,children:r("privacy_settings_done")})]})},ne=function(e){const{disabled:t,checked:i,text:o,e2eData:a}=e;return(0,n.jsxs)(X,{children:[(0,n.jsx)(Q,{children:o}),(0,n.jsx)(r.d,{e2eData:a,checked:i,onChange:e.onChange,disabled:t})]})}},63284:(e,t,i)=>{"use strict";i.d(t,{SP:()=>ni});var n=i(72516),o=i(24643),a=i(40099),r=i(95074),s=i(96406),l=i(10046),d=i(41386),c=i(72355),u=i(16842),p=i(20434),g=i(25961),_=i(47236);const m=(0,_.Ay)({resolved:{},chunkName:()=>"live-survey",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(2780),i.e(921)]).then(i.bind(i,28690)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>28690});var h=i(64115),v=i(70589),f=i(69857),y=i(45609),b=i(61322),x=i(90976),k=i(75310),w=i(64765),S=i(39996),C=i(73635),j=i(50475),T=i(97260),I=i(61198),P=i(76926);const A={id:"pc-a05d3271",use:"pc-a05d3271-usage",viewBox:"0 0 21 19",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 19" id="pc-a05d3271"><path fill="currentColor" d="M12.601 17h2.52a.84.84 0 1 1 0 1.68h-9.24a.84.84 0 1 1 0-1.68h2.1v-2.1h-6.3A1.68 1.68 0 0 1 0 13.22V1.88C0 .952.754.199 1.68.199h17.642c.927 0 1.68.753 1.68 1.68V13.22c0 .927-.753 1.68-1.68 1.68h-6.72zm-.84 0v-2.1h-2.94V17zM1.681 1.88v11.34h17.641V1.88H1.68z" /></symbol>'};function M(e){const t=(0,a.useContext)(P.X);return(0,a.useLayoutEffect)(()=>(t.add(A),()=>{t.remove("pc-a05d3271")}),[]),(0,o.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,o.jsx)("use",{xlinkHref:"#pc-a05d3271"},void 0)}),void 0)}var L=i(27799),D=i(6418),O=i(65964),R=i(16610),E=i(3209),F=i(53940),B=i(16410),z=i(93584);const U=(0,B.default)("div",{target:"ejkrawn0"})({display:"flex",position:"relative",marginBottom:"12px"},"label:DivPromotionContainer;"),N=(0,B.default)("button",{target:"ejkrawn1"})(z.WA,({isExpand:e,theme:t})=>{const i=(0,z.t7)(t.direction,"end");return[(0,z.zy)({theme:t,typography:"P3",fontWeight:"bold",color:"TextSecondary",fontFamily:"TikTokFont"}),{position:e?"absolute":"relative",right:0,bottom:0,padding:"0 8px",minWidth:"90px",height:"32px",boxShadow:`0 2px 8px ${t.colors.ShadowSecondary}`,borderRadius:"52px",cursor:"pointer",lineHeight:"30px",textAlign:"center",whiteSpace:"nowrap",borderWidth:"1px",borderStyle:"solid",borderColor:t.colors.LineSecondary2,backgroundColor:t.colors.BGSecondary,":hover":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGTertiary},":active":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGInput},transition:"transform 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${i} bottom`,transform:e?"scale(0)":"none"}]},"label:ButtonGetAppText;"),W=(0,B.default)("div",{target:"ejkrawn3"})(({isExpand:e,theme:t})=>{const i=(0,z.t7)(t.direction,"end");return[(0,z.zy)({theme:t,typography:"P2",fontWeight:"bold"}),{position:e?"relative":"absolute",bottom:"-1px",background:t.colors.BGSecondary,boxShadow:`0 2px 8px ${t.colors.ShadowSecondary}`,border:`1px solid ${t.colors.LineSecondary3}`,borderRadius:"8px",transition:"all 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${i} bottom`,transform:e?"none":"scale(0)"},(0,z.mp)({direction:t.direction,end:"-1px"})]},"label:DivExpandContainer;"),V=(0,B.default)("div",{target:"ejkrawn4"})(({theme:{direction:e}})=>(0,z.mp)({direction:e,end:"16px"}),{position:"absolute",top:16,cursor:"pointer"},"label:DivXMarkWrapper;"),H=(0,B.default)("div",{target:"ejkrawn5"})(({theme:{direction:e}})=>(0,z.mp)({direction:e,marginEnd:48,marginStart:16}),"label:DivExpandWrapper;"),q=(0,B.default)("div",{target:"ejkrawn6"})(({theme:{colors:e}})=>({margin:"6px 0",display:"flex",flexDirection:"row",padding:"8px",borderRadius:"8px",cursor:"pointer",":hover":{background:e.BGView}}),"label:DivItemContainer;"),$=(0,B.default)("span",{target:"ejkrawn7"})(({theme:{direction:e}})=>(0,z.mp)({direction:e,marginStart:"8px"}),{whiteSpace:"nowrap"},"label:SpanText;"),G=(0,B.default)("div",{target:"ejkrawn8"})(({theme:{colors:e,direction:t}})=>[{width:"calc(100% - 16px)",height:"1px",position:"relative",background:e.LineSecondary2,transform:"scaleY(0.5)"},(0,z.mp)({direction:t,start:"8px"})],"label:DivSplit;"),K=()=>(0,a.useMemo)(()=>"undefined"!=typeof window&&(Boolean(navigator.standalone)||window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui)").matches),[]);var Y=i(92704);const Z=(0,a.memo)(function({isInDynamicBottomRightExperiment:e}){const t=(0,L.s)(),{hideModal:i,showModal:n}=(0,O.g9)(),[{isExpand:r,isModalShow:s,isPwaInstallable:l},u]=(0,d.nO)(e=>({isExpand:e.isExpand,isModalShow:e.isModalShow,isPwaInstallable:e.isPwaInstallable}),I.bN),{isElectronApp:g}=(0,R.B)(),{isDesktopTestV1:_}=(0,E._j)(),m=!g&&_,h=(0,Y.V5)(),v=(0,a.useCallback)(()=>{u.handleShowSnack(!1),u.setIsExpand(!0)},[u]),f=(0,a.useCallback)(()=>{u.setIsExpand(!1),(0,p._S)(D.v1)||(0,p.AP)(D.v1,"1")},[u]),y=(0,a.useCallback)(()=>{s||(n(),u.setIsModalShow(!0))},[u,s,n]),b=(0,a.useCallback)(()=>{i(),u.setIsModalShow(!1)},[u,i]),x=(0,a.useCallback)(()=>{l?v():y(),h.setShouldShow({shouldShow:!1})},[v,y,l]),k=(0,a.useCallback)(()=>{y(),f(),u.handleClickDownload()},[u,f,y]),w=(0,a.useCallback)(()=>{f(),u.handleInstallationClick()},[u,f]),S=K(),{search:P}=(0,c.zy)();if((0,a.useMemo)(()=>"twa"===(0,p.Hd)(D.O_)||"twa"===new URLSearchParams(P).get("source"),[P]))return null;if(!m)return(0,o.jsx)(F.u,{onClose:b,visible:s});const A=(0,T.w)(N);return(0,o.jsxs)(U,{children:[(0,o.jsx)(A,{isExpand:r,onClick:x,etClick:{etName:"click_get_app_for_pc",etParams:{enter_method:"right_corner_button"}},children:t("get_app")}),(0,o.jsxs)(W,{isExpand:r,children:[(0,o.jsx)(V,{onClick:f,children:(0,o.jsx)(C.A,{width:20,height:20})}),(0,o.jsxs)(H,{children:[!e&&!S&&l&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(q,{onClick:w,"data-e2e":"pwa-pc",children:[(0,o.jsx)(M,{width:"21",height:"21"}),(0,o.jsx)($,{children:t("get_tt_desktop")})]}),(0,o.jsx)(G,{})]}),(0,o.jsxs)(q,{onClick:k,"data-e2e":"pwa-mobile",children:[(0,o.jsx)(j.A,{width:21,height:21}),(0,o.jsx)($,{children:t("get_tt_app")})]})]})]}),(0,o.jsx)(F.u,{onClose:b,visible:s})]})}),J=(0,_.Ay)({resolved:{},chunkName:()=>"survey",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(2780),i.e(3653)]).then(i.bind(i,63804)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>63804});var X=i(44344),Q=i(44445),ee=i(21722);const te=(0,B.default)("button",{target:"ejylfo50"})(z.WA,({theme:{colors:e}})=>({cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"52px",background:e.Primary,boxShadow:`0 2px 8px ${e.ShadowSecondary}`,":hover":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #FE2C55"},":active":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.12)), #FE2C55"}}),"label:ButtonIconContainer;"),ie=(0,a.memo)(function(){const e=(0,L.s)(),t=(0,a.useCallback)(()=>{(0,p.a6)(),ee.O.handleToTop()},[]);return(0,o.jsx)(te,{onClick:t,"aria-label":e("accessibilityLabels_forYou_scroll_btn"),children:(0,o.jsx)(Q.A,{width:"16",height:"16",fill:"#FFF"})})});var ne=i(45027),oe=i(71450),ae=i(4126),re=i(13356),se=i(23999),le=i(87933),de=i(26324),ce=i(72916),ue=i(8536),pe=i(74690),ge=i(80339),_e=i(76435),me=i(55867),he=i(7672),ve=i(44094);let fe=class{constructor(e){this.fetch=e}fetchProjectListInfo(e){return this.fetch.get("/api/v1/web/project/list/",{query:e,baseUrlType:2})}};fe=(0,n.__decorate)([(0,he._)(),(0,n.__metadata)("design:paramtypes",[ve.p])],fe);let ye=class extends oe.E{constructor(e){super(),this.service=e,this.defaultState={inProgress:!1,loading:!0,projectList:[],hideProjectIds:[]}}setLoading(e,t){e.loading=t}removeProjectByIndex(e,t){var i,n;const o=null===(i=null==e?void 0:e.projectList)||void 0===i?void 0:i[t];(null==o?void 0:o.projectID)&&(e.hideProjectIds.push(null==o?void 0:o.projectID),null===(n=e.projectList)||void 0===n||n.splice(t,1))}setProjectList(e,t){var i,n,o;e.projectList=null!==(n=null===(i=t.infos)||void 0===i?void 0:i.filter(t=>{const i=e.hideProjectIds.includes(t.projectID),n=t.taskInProgress>0,o=[4,99].includes(t.status);return!i&&n&&!o}))&&void 0!==n?n:[],e.inProgress=Boolean(null===(o=e.projectList)||void 0===o?void 0:o.length)}fetchProjectList(e){return e.pipe((0,ce.n)(()=>this.service.fetchProjectListInfo({}).pipe((0,ue.Z)(e=>(0,se.of)(this.getActions().setProjectList(e))),(0,pe.Z)(this.getActions().setLoading(!0)),(0,ge.q)(this.getActions().setLoading(!1)),(0,me.n)({}))))}refreshData(e){return e.pipe(()=>(0,le.O)(500,15e3).pipe((0,ce.n)(()=>(0,se.of)(this.getActions().fetchProjectList({}))),(0,_e.Q)(this.dispose$)))}};(0,n.__decorate)([(0,ae.uk)(),(0,n.__metadata)("design:type",de.c)],ye.prototype,"dispose$",void 0),(0,n.__decorate)([(0,ae.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],ye.prototype,"setLoading",null),(0,n.__decorate)([(0,ae.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],ye.prototype,"removeProjectByIndex",null),(0,n.__decorate)([(0,ae.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],ye.prototype,"setProjectList",null),(0,n.__decorate)([(0,ae.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[de.c]),(0,n.__metadata)("design:returntype",void 0)],ye.prototype,"fetchProjectList",null),(0,n.__decorate)([(0,ae.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[de.c]),(0,n.__metadata)("design:returntype",void 0)],ye.prototype,"refreshData",null),ye=(0,n.__decorate)([(0,re.nV)("uploadProgressModule"),(0,n.__metadata)("design:paramtypes",[fe])],ye);var be=i(75771),xe=i.n(be),ke=i(85528),we=i(75431);const Se=(0,B.default)("div",{target:"e10yvdyi0"})(({theme:e})=>({width:"404px",height:"87px",marginBottom:"12px",boxShadow:`0px 2px 12px ${e.colors.SDTertiary}`,borderRadius:"8px",backgroundColor:e.colors.BGPrimary,padding:"19px",position:"relative",cursor:"pointer",borderWidth:e.isDark?"1px":0,borderStyle:"solid",borderColor:e.colors.BGTertiary2}),"label:DivUploadProgressContainer;"),Ce=(0,B.default)("div",{target:"e10yvdyi1"})({display:"flex",flexDirection:"row"},"label:DivRowContainer;"),je=(0,B.default)("div",{target:"e10yvdyi2"})(({theme:{colors:e}})=>({position:"absolute",width:"32px",height:"48px",left:"22px",top:" 16px",background:e.TextQuaternary,borderRadius:"2px"}),"label:DivCoverShadowTop;"),Te=(0,we.AH)({height:"52px",width:"38px",borderRadius:"2px",zIndex:"1"},"label:coverBaseStyle;"),Ie=(0,B.default)("div",{target:"e10yvdyi3"})(Te,({isEmpty:e,theme:{colors:t}})=>({display:"flex",justifyContent:"center",alignItems:"center",background:e?t.BGPlaceholderOpaque:t.Primary2}),"label:DivProjectCover;"),Pe=(0,B.default)("img",{target:"e10yvdyi4"})({maxWidth:"100%",maxHeight:"100%"},"label:ImgProjectCover;"),Ae=(0,B.default)("div",{target:"e10yvdyi5"})({display:"flex",flexDirection:"column",justifyContent:"start",marginLeft:"16px"},"label:DivMidColumn;"),Me=(0,B.default)("p",{target:"e10yvdyi6"})(({theme:e,error:t})=>[(0,z.zy)({theme:e,fontFamily:"TikTokFont"}),{color:t?e.colors.Negative:e.colors.TextPrimary,textAlign:"left",fontWeight:"600",fontSize:"14px",marginTop:"6px",lineHeight:"22px"}],"label:PUploadingProgressTitle;"),Le=(0,B.default)("div",{target:"e10yvdyi9"})(({theme:{colors:e}})=>({marginTop:"12px",height:"4px",width:"278px",backgroundColor:e.LineSecondary}),"label:DivProgressBarParent;"),De=(0,B.default)("div",{target:"e10yvdyi10"})(({progress:e,theme:{colors:t}})=>({height:"100%",width:e,backgroundColor:t.Primary}),"label:DivProgressBarChild;"),Oe=({index:e,projectInfo:t,handleCloseCard:i})=>{var n;const r=(0,L.s)(),s=(0,a.useCallback)(t=>{null==t||t.stopPropagation(),i(e)},[e]),{taskFailed:l,lastPostProgress:d}=t,c=`${d}%`,u=null===(n=xe()(null==t?void 0:t.configs,{type:100}))||void 0===n?void 0:n.payload,p=!u,g=`data:image/jpeg;base64,${u}`,_=l>0;return(0,o.jsxs)(Se,{children:[(0,o.jsx)(ke.Mt,{onClick:s,children:(0,o.jsx)(C.A,{})}),(0,o.jsxs)(Ce,{children:[(0,o.jsx)(je,{}),(0,o.jsx)(Ie,{isEmpty:p,children:!p&&(0,o.jsx)(Pe,{src:g})}),(0,o.jsxs)(Ae,{children:[(0,o.jsx)(Me,{error:_,children:_?r("Uploading Failed"):`${r("Uploading")}... ${c}`}),(0,o.jsx)(Le,{children:(0,o.jsx)(De,{progress:c})})]})]})]})},Re=()=>{const[{projectList:e,inProgress:t,loading:i},n]=(0,ne.S)(ye,{selector:e=>({projectList:e.projectList,inProgress:e.inProgress,loading:e.loading}),dependencies:[]}),r=(0,a.useCallback)(e=>{n.removeProjectByIndex(e)},[n]);return(0,a.useEffect)(()=>{n.refreshData()},[n]),(0,a.useEffect)(()=>{t||i||n.dispose$()},[t,i,n]),(0,o.jsx)(o.Fragment,{children:t&&(null==e?void 0:e.map((e,t)=>(0,o.jsx)(Oe,{handleCloseCard:r,index:t,projectInfo:e},e.projectID)))})};var Ee=i(78772),Fe=i(57794);const Be=(0,B.default)("button",{target:"erjlxt90"})(z.WA,({theme:e})=>{const t=(0,z.t7)(e.direction,"end");return[(0,z.zy)({theme:e,typography:"P4",fontWeight:"bold",color:"TextSecondary",fontFamily:"TikTokFont"}),{position:"relative",right:0,bottom:0,padding:"0 8px",minWidth:"90px",display:"flex",flexDirection:"row",gap:"4px",alignItems:"center",height:"32px",boxShadow:`0 2px 8px ${e.colors.ShadowSecondary}`,borderRadius:"52px",cursor:"pointer",lineHeight:"30px",textAlign:"center",whiteSpace:"nowrap",borderWidth:"1px",borderStyle:"solid",borderColor:e.colors.LineSecondary2,backgroundColor:e.colors.BGSecondary,":hover":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGTertiary},":active":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGInput},transition:"transform 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${t} bottom`,transform:"none"}]},"label:ButtonGetCoins;");var ze=i(73580),Ue=i(92236),Ne=i(83993),We=i(58448),Ve=i(43725);const He={request_page:"webapp",entrance_style:"widget",show_page:"web_homepage_widget"},qe=(0,a.memo)(function(){const e=(0,L.s)(),t=(0,ze.Nj)(Ee.y_),{hideTooltip:i,OneTimeTooltip:n}=(0,Ne.w)(We.H.GetCoinsKey),r=(0,Y.V5)();(0,a.useEffect)(()=>{t.handleLiveWebGetCoinShow(He)},[t]);const s=(0,a.useCallback)(()=>{r.setShouldShow({shouldShow:!1}),t.handleLiveWebGetCoinClick(He),window.location.href=`/coin/${Fe.X0.FOR_YOU}?enter_from=web_homepage_widget`},[t]);return(0,o.jsx)(U,{children:(0,o.jsx)(n,{content:(0,o.jsx)(Ve.F.P1,{weight:"medium",children:e("Web_leftNav_getCoins_toolTip")}),children:(0,o.jsxs)(Be,{onClick:s,onMouseLeave:()=>i(),children:[(0,o.jsx)(Ue.Q,{size:14}),e("WebApp_coin_recharge_1")]})})})});var $e=i(24443),Ge=i(73679);const Ke=(0,B.default)("button",{target:"eqxfx640"})(z.WA,({minWidth:e,theme:t,isAnimating:i})=>{const n=(0,z.t7)(t.direction,"end");return[(0,z.zy)({theme:t,typography:"P4",fontWeight:"bold",color:"TextSecondary",fontFamily:"TikTokFont"}),Object.assign({position:"relative",right:"rtl"===t.direction?"-14px":"14px",bottom:0,padding:"0 8px",minWidth:`${e}px`,display:"flex",flexDirection:"row",gap:"4px",alignItems:"center",justifyContent:"center",height:"36px",boxShadow:`0 2px 8px ${t.colors.ShadowSecondary}`,borderRadius:"52px",cursor:"pointer",lineHeight:"30px",textAlign:"center",whiteSpace:"nowrap",borderWidth:"1px",borderStyle:"solid",borderColor:t.colors.LineSecondary2,backgroundColor:t.colors.BGSecondary,":hover":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGTertiary},":active":{borderColor:t.colors.LinePrimary,backgroundColor:t.colors.BGInput},transition:"all 0.1s ease-in-out",transformOrigin:`${n} bottom`,transform:"none"},i&&{width:"36px",minWidth:"36px",height:"36px",borderRadius:"50%",padding:0,fontSize:0,backgroundColor:t.colors.BGSecondary,svg:{opacity:i?0:1,transform:i?"scale(0)":"scale(1)",transition:"opacity 0.1s ease, transform 0.1s ease"}})]},"label:ButtonAtBottom;"),Ye=(0,B.default)(C.A,{target:"eqxfx641"})("label:StyledIcon;"),Ze=(0,B.default)("div",{target:"eqxfx642"})(({theme:e,isAnimating:t})=>[Object.assign({position:"relative",right:"rtl"===e.direction?"-14px":"14px",bottom:0,padding:"0 8px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:e.colors.LineSecondary2,boxShadow:`0 2px 8px ${e.colors.ShadowSecondary}`,":hover":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGTertiary},":active":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGInput},cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1,width:"36px",height:"36px",background:e.colors.BGSecondary,[`${Ye}`]:{width:"16px",height:"16px"},transition:"all 0.1s ease-in-out"},t&&{width:"102px",borderRadius:"52px"})],"label:DivCloseWrapper;");var Je=i(71754),Xe=i(51426),Qe=i(81411);const et=(0,a.memo)(({isDefaultExpanded:e})=>{var t;const i=(0,L.s)(),[n,r]=(0,$e.MR)(e=>e,I.bN),[s,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),u=(0,Xe.oN)(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.pathname),p=(0,Y.V5)(),g=(0,Je.G)({modalConfig:{query:{enter_method:"qr_dynamic_popup"},popupType:"qr_bottom_right",loginPath:"/login/qrcode"}}),_=(0,a.useCallback)(()=>{c(!0),setTimeout(()=>{r.closeModal({enter_method:"click_x"}),r.setLoginModalShow(!1),c(!1)},100)},[]);(0,a.useEffect)(()=>{e&&"homepage_follow"!==u&&!n.loginModalShow&&(p.setShouldShow({shouldShow:!1}),g()),"homepage_follow"===u&&_()},[]),(0,a.useEffect)(()=>{Qe.b.handleQRLoginButtonShow({enter_method:"bottom_right_button",page_name:u})},[]);const m=(0,a.useCallback)(()=>{Qe.b.handleClickQRLoginButton({enter_method:"bottom_right_button",page_name:u}),l(!0),setTimeout(()=>{g(),l(!1)},100),p.setShouldShow({shouldShow:!1})},[]);return(0,o.jsxs)(U,{children:[!n.loginModalShow&&(0,o.jsxs)(Ke,{id:"button-at-bottom-right",minWidth:102,isAnimating:s,onClick:m,role:"button",tabIndex:0,children:[(0,o.jsx)(Ge.z,{size:14}),i("desktopWeb_dynamicBottom_right_logIn")]}),n.loginModalShow&&(0,o.jsx)(Ze,{onClick:_,id:"close-button-at-bottom-right",isAnimating:d,role:"button",tabIndex:0,children:(0,o.jsx)(Ye,{})})]})});var tt=i(4518),it=i(57615);const nt=(0,B.default)("div",{target:"efbmw0z0"})(({theme:e,popupLeft:t,popupTop:i})=>[{position:"fixed",left:`${t}px`,top:`${i}px`,width:"172px",padding:"16px",borderRadius:"12px",background:e.colors.BGSecondary,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center"}],"label:PromotionContainer;"),ot=(0,B.default)("div",{target:"efbmw0z1"})(({theme:{colors:e,isDark:t}})=>[{width:"32px",height:"32px",color:t?e.TextSecondary:e.ConstBGInverse,marginBottom:"16px"}],"label:IconWrapper;"),at=(0,B.default)("div",{target:"efbmw0z2"})(({theme:e})=>{const t=(0,z.t7)(e.direction,"end");return[(0,z.zy)({theme:e,typography:"P3",fontWeight:"medium",color:"TextSecondary",fontFamily:"TikTokFont"}),{width:"150px",height:"48px",marginBottom:"24px",textAlign:"center",transformOrigin:`${t} bottom`,transform:"none"}]},"label:PromotionText;"),rt=(0,B.default)("button",{target:"efbmw0z3"})(({theme:{colors:e,isDark:t}})=>[{width:"128px",height:"32px",backgroundColor:t?"#fff":e.ConstBGInverse,color:t?e.ConstBGInverse:e.BGPrimary,borderRadius:"8px",fontSize:"14px",fontWeight:"bold",border:"none",cursor:"pointer"}],"label:InstallButton;");var st=i(18650);const lt=(0,a.memo)(({isDefaultExpanded:e})=>{var t;const i=(0,d.ur)(),n=(0,Xe.oN)(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.pathname),[r,s]=(0,a.useState)(e&&"homepage_follow"!==n),[l,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),g=(0,Y.V5)(),{isRTL:_}=(0,st.m)(),m=(0,L.s)();let h;h=_?r?-20:-75:r?-155:-100;const v=r?-190:-188;(0,a.useEffect)(()=>{e&&g.setShouldShow({shouldShow:!1})},[]),(0,a.useEffect)(()=>{Qe.b.handleInstallPWAButtonShow({page_name:n}),"homepage_follow"===n&&s(!1)},[]);const f=(0,a.useCallback)(()=>{i.handleInstallationClick()},[i]);return(0,o.jsx)(it.Xwo,{noArrow:!0,open:r&&!u,trigger:(0,o.jsxs)(U,{children:[!r&&(0,o.jsxs)(Ke,{id:"pwa-button-at-bottom-right",minWidth:146,isAnimating:l,onClick:()=>{Qe.b.handleClickInstallPWAButton({page_name:n}),c(!0),setTimeout(()=>{s(!0),c(!1)},100),g.setShouldShow({shouldShow:!1})},children:[(0,o.jsx)(tt.a,{size:14}),m("desktopWeb_dynamicBottom_installTikTok")]}),r&&(0,o.jsx)(Ze,{id:"pwa-close-button-at-bottom-right",isAnimating:u,onClick:()=>{p(!0),setTimeout(()=>{s(!1),p(!1)},20)},children:(0,o.jsx)(Ye,{})})]}),children:(0,o.jsxs)(nt,{popupLeft:h,popupTop:v,children:[(0,o.jsx)(ot,{children:(0,o.jsx)(tt.a,{size:40})}),(0,o.jsx)(at,{children:m("desktopWeb_dynamicBottom_installTikTok_desc")}),(0,o.jsx)(rt,{onClick:f,children:m("desktopWeb_dynamicBottom_installTikTok_Cta")})]})})}),dt=(0,B.default)("div",{target:"ew8lpw50"})(({showTop:e,bottom:t=0})=>[{insetInlineEnd:"24px",position:"fixed",bottom:`${t}px`,zIndex:7,display:"flex",flexDirection:"column",alignItems:"flex-end",marginBottom:"8px",transform:e?"none":"translateY(40px)",transition:"all 400ms cubic-bezier(0.65, 0, 0.35, 1)"}],"label:DivFixedBottomContainer;"),ct=(0,B.default)("div",{target:"ew8lpw51"})(({top:e=0,shouldShow:t=!1})=>[{insetInlineEnd:"24px",position:"fixed",top:`${e}px`,zIndex:7,display:t?"flex":"none",flexDirection:"column",alignItems:"flex-end",marginBottom:"8px",transition:"all 400ms cubic-bezier(0.65, 0, 0.35, 1)"}],"label:DivFixedTopContainer;");var ut=i(27008);const pt=i.p+"f1c49ab5fa04e27c8c12.png",gt=i.p+"14263eb8081d859f559d.png",_t=(0,B.default)("div",{target:"ea9a47v0"})({},"label:DivTitleContainer;"),mt=(0,B.default)("div",{target:"ea9a47v1"})({overflow:"hidden"},"label:DivQRCodeContainer;"),ht=we.i7`
  0% {
    transform: translateX(300px);
    animation-timing-function: ease-in;
    opacity: 0;
  }
  50% {
    transform: translateX(10px);
    animation-timing-function: ease-out;
    opacity: 1;
  }
  72% {
    transform: translateX(-8px);
    animation-timing-function: ease-out;
  }
  100% {
    transform: translateX(0);
    animation-timing-function: ease-out;
  }
`,vt=(0,B.default)("div",{target:"ea9a47v2"})(({theme:e,shouldAnimate:t})=>({backgroundImage:`url(${gt})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",width:"232px",height:"274px",paddingInline:"1.25rem",paddingBlock:"1rem",display:"flex",flexDirection:"column",gap:".625rem",boxSizing:"border-box",alignItems:"center",backgroundColor:it.Tj4.UIShapeNeutral,borderRadius:"16px",border:e.isDark?`0.5px solid ${it.Tj4.UIImageOverlayWhiteA40}`:"none",animation:t?`${ht} 0.9s cubic-bezier(0.215, 0.610, 0.355, 1.000) both`:"none"}),"label:DivApkDownloadContainer;"),ft=(0,B.default)("div",{target:"ea9a47v3"})(({theme:e})=>[{display:"flex",cursor:"pointer",position:"absolute",top:"-.5rem",borderRadius:"50%",overflow:"hidden",height:"1.5rem",width:"1.5rem",backgroundColor:it.Tj4.UIShapeNeutral,border:`0.5px solid ${it.Tj4.UIImageOverlayWhiteA40}`,alignItems:"center",justifyContent:"center"},"rtl"===e.direction?{left:"-.5rem"}:{right:"-.5rem"}],"label:DivCloseButtonContainer;"),yt=(0,a.memo)(function({onClose:e}){return(0,o.jsx)(ft,{onClick:e,children:(0,o.jsx)(it.m8I,{color:"UIShapeText1OnNeutral",size:"1rem"})})}),bt=(0,a.memo)(function({link:e,scanText:t,ecLevel:i,shouldShowCloseButton:n=!1,shouldAnimate:r=!0}){const[s,l]=(0,a.useState)(!1),d=null!=t?t:"Scan QR code to download TikTok - Make Your Day";return s?null:(0,o.jsxs)(vt,{"data-tux-color-scheme":"light",shouldAnimate:r,children:[n&&(0,o.jsx)(yt,{onClose:()=>l(!0)}),(0,o.jsx)(it.rxD,{direction:"column",gap:4,children:(0,o.jsx)(_t,{children:(0,o.jsx)(Ve.F.P1,{weight:"medium",color:"UIShapeText1OnNeutral",children:d})})}),(0,o.jsx)(mt,{children:(0,o.jsx)("a",{href:e,target:"_blank",rel:"noreferrer",children:(0,o.jsx)(ut.QRCode,{value:e,size:156,logoImage:pt,logoWidth:38,removeQrCodeBehindLogo:!0,quietZone:18,logoPadding:5,eyeRadius:8,qrStyle:"dots",style:{borderRadius:"8px"},ecLevel:null!=i?i:"Q"})})})]})});bt.defaultProps=Object.assign(Object.assign({},bt.defaultProps),{"data-e2e":"apk-download"});var xt=i(22797),kt=i(88428);const wt=(0,B.default)("div",{target:"e4x3x650"})({width:"2rem",height:"2rem",justifyContent:"center",alignItems:"center",display:"flex",position:"relative"},"label:DivAvatarContainer;"),St=(0,B.default)("img",{target:"e4x3x651"})({width:"32px",height:"32px",padding:"4px",borderRadius:"50%"},"label:ImgAvatar;"),Ct=(0,B.default)("div",{target:"e4x3x652"})(()=>[{display:"flex",position:"relative",marginBottom:"12px"},(0,z.jJ)({max:kt.f.Small,style:{display:"none"}})],"label:DivTopRightContainer;"),jt=(0,B.default)("div",{target:"e4x3x653"})(({isConnectedActionBar:e,theme:t})=>{const i=t.isDark?"#2C2C2CCC":"#FFFFFFCC";return[{display:"inline-flex",height:"48px",padding:"8px",justifyContent:"center",alignItems:"center",gap:e?"0px":"8px",borderRadius:"99px",background:e?i:"transparent",boxShadow:e?"0px 2px 10px 0px rgba(0, 0, 0, 0.07)":"none"}]},"label:DivActionBarContainer;"),Tt=(0,B.default)(xt.N_,{target:"e4x3x654"})({textDecoration:"none",color:"inherit","&:hover":{textDecoration:"none"}},"label:StyledLink;"),It=(0,B.default)(it.I05,{target:"e4x3x655"})({paddingLeft:"8px !important",paddingRight:"8px !important",maxWidth:"120px !important",width:"auto !important"},"label:StyledPrimaryLoginButton;"),Pt=(0,B.default)("div",{target:"e4x3x656"})(({theme:e})=>({height:"20px",width:"1px",margin:"0 8px",backgroundColor:e.isDark?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.12)",alignSelf:"center"}),"label:DivVerticalDivider;");var At=i(10651),Mt=i(92955),Lt=i(12471),Dt=i(87373),Ot=i(54253),Rt=i(82215);const Et=(0,B.default)("div",{target:"e1y74j840"})(({isConnectedActionBar:e})=>({display:"flex",position:"relative",marginBottom:"8px",marginTop:"8px","& > *:not(:last-child)":{marginRight:e?"0px":"8px"}}),"label:DivActionBarContainer;"),Ft=(0,B.default)("span",{target:"e1y74j841"})({maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"label:StyledSpan;"),Bt=(0,B.default)("div",{target:"e1y74j842"})({display:"flex",justifyContent:"center",alignItems:"center",minWidth:"16px",width:"16px",height:"16px",flexShrink:0},"label:StyledIconWrapper;"),zt=(0,B.default)("button",{target:"e1y74j843"})(z.WA,({theme:e,isConnectedActionBar:t})=>{const i=(0,z.t7)(e.direction,"end");return[(0,z.zy)({theme:e,typography:"P3",fontWeight:"bold",fontFamily:"TikTokFont"}),{color:it.Tj4.UIText1Display,position:"relative",justifyContent:"center",right:0,bottom:0,gap:"4px",padding:"0 8px",minWidth:"32px",display:"flex",flexDirection:"row",alignItems:"center",height:"32px",borderRadius:"52px",cursor:"pointer",lineHeight:"30px",textAlign:"center",maxWidth:"120px",backgroundColor:t?"transparent":e.isDark?"rgba(22, 22, 22, 0.92)":"rgba(246, 246, 246, 0.82)",":hover":{backgroundColor:it.Tj4.UIShapeNeutral4},":active":{borderColor:e.colors.LinePrimary,backgroundColor:e.colors.BGInput},transition:"transform 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${i} bottom`,transform:"none"}]},"label:StyledActionBarButton;"),Ut=(0,B.default)("div",{target:"e1ffq0xq0"})(({bottom:e=0,right:t})=>[{insetInlineEnd:`${t}px`,position:"fixed",bottom:`${e}px`,zIndex:7,display:"flex",flexDirection:"column",alignItems:"flex-end",marginBottom:"8px"}],"label:DivAPKContainer;");var Nt=i(57960);const Wt=(0,a.memo)(({isConnectedActionBar:e,isButtonGroupWithText:t})=>{const[i,r]=(0,a.useState)(!1),s=(0,L.s)(),[l,d]=(0,a.useState)(!1),c=(0,n.__rest)((0,v.gg)(),[]),u=(0,a.useCallback)(()=>{r(!1),Nt.R.handleClickGetApp({enter_method:"right_corner_button"}),window.open("/download","_blank")},[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Et,{children:(0,o.jsx)(it.N0Y,{visible:i,variant:"secondary",content:(0,o.jsx)(Ve.F.P1,{weight:"medium",children:s("webapp_topnav_getapp",{},"Get App")}),children:(0,o.jsxs)(zt,{isConnectedActionBar:e,onClick:u,onMouseEnter:()=>{t||r(!0)},onMouseLeave:()=>r(!1),children:[(0,o.jsx)(Bt,{children:(0,o.jsx)(it.CWs,{size:"16"})}),t?(0,o.jsx)(Ft,{children:s("webapp_topnav_getapp",{},"Get App")}):""]})})}),l&&(0,o.jsx)(Ut,{bottom:window.innerHeight-380,right:24,children:(0,o.jsx)(bt,Object.assign({},c,{shouldShowCloseButton:!0,shouldAnimate:!1}))})]})}),Vt={request_page:"webapp",entrance_style:"widget",show_page:"web_homepage_widget"},Ht=(0,a.memo)(({isConnectedActionBar:e,isButtonGroupWithText:t})=>{const i=(0,L.s)(),n=(0,ze.Nj)(Ee.y_),[r,s]=(0,a.useState)(!1);(0,a.useEffect)(()=>{n.handleLiveWebGetCoinShow(Vt)},[n]);const l=(0,a.useCallback)(()=>{n.handleLiveWebGetCoinClick(Vt),window.open(`/coin/${Fe.X0.FOR_YOU}?enter_from=web_homepage_widget`,"_blank")},[n]);return(0,o.jsx)(Et,{children:(0,o.jsx)(it.N0Y,{visible:r,variant:"secondary",content:(0,o.jsx)(Ve.F.P1,{weight:"medium",children:i("WebApp_coin_recharge_1")}),children:(0,o.jsxs)(zt,{isConnectedActionBar:e,onClick:l,"data-e2e":"top-right-action-bar-get-coin",onMouseEnter:()=>{t||s(!0)},onMouseLeave:()=>s(!1),children:[(0,o.jsx)(Bt,{children:(0,o.jsx)(it.Qoe,{size:"16"})}),t?(0,o.jsx)(Ft,{children:i("WebApp_coin_recharge_1")}):""]})})})}),qt=(0,a.memo)(({isConnectedActionBar:e,isButtonGroupWithText:t})=>{const i=(0,d.ur)(),[n,r]=(0,a.useState)(!1),s=(0,L.s)(),l=(0,a.useCallback)(()=>{i.handleInstallationClick()},[i]);return(0,o.jsx)(Et,{children:(0,o.jsx)(it.N0Y,{visible:n,variant:"secondary",content:(0,o.jsx)(Ve.F.P1,{weight:"medium",children:s("webapp_topnav_pcapp",{},"PC App")}),children:(0,o.jsxs)(zt,{isConnectedActionBar:e,onClick:l,onMouseEnter:()=>{t||r(!0)},onMouseLeave:()=>r(!1),children:[(0,o.jsx)(Bt,{children:(0,o.jsx)(it.rGY,{size:"18"})}),t?(0,o.jsx)(Ft,{children:s("webapp_topnav_pcapp",{},"PC App")}):""]})})})});var $t=i(50399);const Gt=(0,B.default)("div",{target:"ezv6c410"})(()=>[{display:"flex",position:"relative",marginBottom:"8px",marginTop:"8px"},(0,z.jJ)({max:kt.f.Small,style:{display:"none"}})],"label:LoginButtonContainer;"),Kt=(0,a.memo)(()=>{const e=(0,L.s)(),[t,i]=(0,$e.MR)(e=>e,I.bN),n=(0,$e.mZ)(e=>e.popupType,I.bN),[r,s]=(0,a.useState)(!1),{isInTreatment:l}=(0,$t.w)("top_right_qr"),{isMobile:d}=(0,f.L$)((0,b.U)(()=>["isMobile"],[])),{pathname:u}=(0,c.zy)(),p=((0,g.tO)(u)||(0,g.gq)(u)||(0,g.K8)(u))&&!d,_=(0,Je.G)({modalConfig:{query:{enter_method:"qr_dynamic_popup"},popupType:"qr_bottom_right",loginPath:"/login/qrcode"}});(0,a.useEffect)(()=>(p&&!r&&l&&!t.loginModalShow&&(_(),s(!0)),()=>{"qr_bottom_right"===n&&t.loginModalShow&&(i.closeModal({enter_method:"click_x"}),i.setLoginModalShow(!1))}),[_,r,l,p,t.loginModalShow,n,i]);const m=(0,a.useCallback)((e=!1)=>()=>{"qr_bottom_right"===n&&t.loginModalShow&&(i.closeModal({enter_method:"click_x"}),i.setLoginModalShow(!1)),setTimeout(()=>{const t=(0,Lt.Y)()||(0,Lt.CW)();i.openModal({closeable:!0,isSignup:e,query:{enter_method:"top_navigation",redirect_url:(0,Xe.Q2)(),last_group_id:t}})},50)},[i,n,t.loginModalShow]);return(0,o.jsx)(Gt,{children:(0,o.jsx)(It,{id:"top-right-action-bar-login-button",label:e("log_in"),onClick:m(!1),shape:"capsule",size:"small",style:{width:"76px",minWidth:"76px",paddingLeft:"0px",paddingRight:"0px",height:"32px",transition:"all 0.2s ease-in-out"}})})}),Yt=(0,B.default)("div",{target:"eym2ls50"})({width:"2rem",height:"2rem",justifyContent:"center",alignItems:"center",display:"flex",position:"relative"},"label:DivAvatarContainer;"),Zt=(0,B.default)("img",{target:"eym2ls51"})({width:"30px",height:"30px",padding:"4px",borderRadius:"50%"},"label:ImgAvatar;"),Jt=(0,B.default)("div",{target:"eym2ls52"})(({isConnectedActionBar:e,theme:t})=>{const i=t.isDark?"#2C2C2CCC":"#FFFFFFCC";return[{display:"inline-flex",height:"48px",padding:"8px 8px 8px 0",justifyContent:"center",alignItems:"center",gap:e?"0px":"8px",borderRadius:"99px",background:e?i:"transparent",boxShadow:e?"0px 2px 10px 0px rgba(0, 0, 0, 0.07)":"none"}]},"label:DivProfileContainer;"),Xt=(0,a.memo)(({sessionUser:e})=>{const t=(0,L.s)(),{avatarUri:[i]=[],uniqueId:n}=null!=e?e:{},[r,s]=(0,a.useState)(!1),{handleClickLogout:l}=(0,At.W)(e),d=(0,Xe.oN)(window.location.pathname),c=(0,a.useCallback)(()=>(0,o.jsx)(Yt,{style:{fontSize:"32px"},children:(0,o.jsx)(Zt,{src:i,style:{padding:"3px"}})}),[i]),u=(0,a.useMemo)(()=>(0,o.jsx)(it.I05,{role:"button",shape:"capsule",label:"",onClick:()=>{Dt.c.handleProfileDropdownClick({page_name:d})},variant:"secondary",leadingIcon:c(),tabIndex:0,style:{minWidth:"32px",height:"32px",paddingLeft:"0px",paddingRight:"0px"}}),[d,c]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Jt,{children:(0,o.jsxs)(it.nb1,{trigger:u,open:r,onOpenChange:s,placement:"bottom-end",children:[(0,o.jsx)(it.KhS,{onClick:()=>Ot.q.handleEnterProfile({page_name:d,enter_method:"top_navigation"}),as:Tt,to:`/@${n}`,leadingIcon:(0,o.jsx)(it.Y4q,{size:"20"}),children:t("webapp_tootip_Viewprofile",{},"View profile")}),(0,o.jsx)(it.KhS,{onClick:()=>{l()(),Rt.z.logoutSubmit({page_name:d,enter_method:"top_navigation"})},leadingIcon:(0,o.jsx)(it.WI2,{size:"20"}),children:t("projectU_link_logout_button",{},"log_out")})]})}),(0,o.jsx)(Mt.l,{})]})}),Qt=(0,a.memo)(({sessionUser:e})=>{const t=(0,L.s)(),{avatarUri:[i]=[],uniqueId:n}=null!=e?e:{},[r,s]=(0,a.useState)(!1),{handleClickLogout:l}=(0,At.W)(e),d=(0,Xe.oN)(window.location.pathname),c=(0,a.useCallback)(()=>(0,o.jsx)(wt,{style:{fontSize:"32px"},children:(0,o.jsx)(St,{src:i,style:{padding:"3px"}})}),[i]),u=(0,a.useMemo)(()=>(0,o.jsx)(it.I05,{role:"button",shape:"capsule",label:"",onClick:()=>{Dt.c.handleProfileDropdownClick({page_name:d})},variant:"secondary",leadingIcon:c(),trailingIcon:(0,o.jsx)(it.JPW,{}),tabIndex:0,style:{minWidth:"80px",paddingLeft:"0px",paddingRight:"0px"}}),[d,c]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Ct,{children:(0,o.jsxs)(it.nb1,{trigger:u,open:r,onOpenChange:s,placement:"bottom-end",children:[(0,o.jsx)(it.KhS,{onClick:()=>Ot.q.handleEnterProfile({page_name:d,enter_method:"top_navigation"}),as:Tt,to:`/@${n}`,children:t("webapp_tootip_Viewprofile",{},"View profile")}),(0,o.jsx)(it.KhS,{onClick:()=>{l()(),Rt.z.logoutSubmit({page_name:d,enter_method:"top_navigation"})},children:t("projectU_link_logout_button",{},"log_out")})]})}),(0,o.jsx)(Mt.l,{})]})}),ei=(0,a.memo)(()=>{const e=(0,L.s)(),t=(0,$e.b1)(),i=(0,a.useCallback)((e=!1)=>()=>{const i=(0,Lt.Y)()||(0,Lt.CW)();t.openModal({closeable:!0,isSignup:e,query:{enter_method:"top_navigation",redirect_url:(0,Xe.Q2)(),last_group_id:i}})},[t]);return(0,o.jsx)(Ct,{children:(0,o.jsx)(It,{id:"top-right-login-button",label:e("log_in"),onClick:i(!1),shape:"capsule"})})}),ti=(0,a.memo)(({user:e,isPwaInstallable:t,isInPWA:i,isConnectedActionBar:n,isButtonGroupWithText:r})=>{const[s,l]=(0,a.useState)(r);return(0,a.useEffect)(()=>{const e=()=>{l(window.innerWidth>=1200&&r)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[r]),(0,o.jsx)(Ct,{children:(0,o.jsxs)(jt,{id:"top-right-action-bar",isConnectedActionBar:n,children:[(0,o.jsx)(Ht,{isConnectedActionBar:n,isButtonGroupWithText:s}),(0,o.jsx)(Wt,{isConnectedActionBar:n,isButtonGroupWithText:s}),t&&!i&&(0,o.jsx)(qt,{isConnectedActionBar:n,isButtonGroupWithText:s}),n&&(0,o.jsx)(Pt,{}),e?(0,o.jsx)(Xt,{sessionUser:e}):(0,o.jsx)(Kt,{})]})})}),ii=(0,a.memo)(({bottom:e,shouldShowCloseButton:t})=>{const[i,r]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),u=(0,n.__rest)((0,v.gg)(),[]),p=(0,Y.V5)(),g=(0,L.s)();return(0,o.jsx)(it.Xwo,{noArrow:!0,open:i&&!d,trigger:(0,o.jsxs)(U,{children:[!i&&(0,o.jsx)(Ke,{id:"apk-button-at-bottom-right",minWidth:90,isAnimating:s,onClick:()=>{l(!0),setTimeout(()=>{r(!0),l(!1)},100),p.setShouldShow({shouldShow:!1}),Nt.R.handleClickGetApp({enter_method:"right_corner_button"})},children:g("get_app")}),i&&(0,o.jsx)(Ze,{id:"apk-close-button-at-bottom-right",isAnimating:d,onClick:()=>{c(!0),setTimeout(()=>{r(!1),c(!1)},20)},children:(0,o.jsx)(Ye,{})})]}),children:(0,o.jsx)(Ut,{bottom:e,right:i?0:-27,children:(0,o.jsx)(bt,Object.assign({},u,{shouldShowCloseButton:t,shouldAnimate:!1}))})})}),ni=(0,a.memo)(function({pageType:e,top:t}){const{isInProductHoldout:i}=(0,v.Vv)(),_=(0,h.E)(),{isJustWatchedEnabled:C}=(0,v.Kg)(),{vid:j}=(0,v.Oj)(),{removeShortcutPop:T}=(0,v.gR)(),P=(0,v.gg)(),{shouldShowApkDownload:A}=P,M=(0,n.__rest)(P,["shouldShowApkDownload"]),{isInDynamicBottomRightExperiment:L,isInDynamicBottomRightControl:D,isInDynamicBottomRightExpanded:O}=(0,v._o)(),{isInKeyboardShortcutTreatment:R}=(0,v.fy)(),{isInTopRightButtonGroupTreatment:E,isConnectedActionBar:F,isButtonGroupWithText:B}=(0,v.eZ)(),{user:z}=(0,f.L$)((0,x.W)(()=>["user"],[])),{isMobile:U}=(0,f.L$)((0,b.U)(()=>["isMobile"],[])),{isCookieBannerShowing:N}=(0,r.P)(S.b),W=(0,w.si)(),{isCommentPanelActive:V}=(0,l.Cx)(e=>({isCommentPanelActive:e.isActive}),I.bN),[{isPwaInstallable:H}]=(0,d.nO)(e=>({isPwaInstallable:e.isPwaInstallable}),I.bN),[q,$]=(0,a.useState)(!1),[G,Y]=(0,a.useState)(!1),[Q,ee]=(0,a.useState)(0),[te,ne]=(0,a.useState)(!1),[oe,ae]=(0,a.useState)(!1),re=K(),{shouldShowSurvey:se}=(0,X.uU)(),{pathname:le}=(0,c.zy)(),de=(0,u._g)(()=>$(0!==(0,p.hY)()),[],200),ce=!G&&(5!==e||R)&&![w.RD.SurveyEntrance,w.RD.LiveSurvey].includes(W.currentType)&&!T,ue=C&&(0,g.cj)(le),{isInTopRightButtonTreatment:pe,isInTopRightButtonProfile:ge}=(0,v.ng)();(0,a.useEffect)(()=>{s.f.getVarWithCb("tiktok_web",null,e=>{1===(null==e?void 0:e.can_split_videos)&&ne(!0)})},[]),(0,a.useEffect)(()=>{"v0"!==j&&(0,k.z)().then(({show_external_entry:e=!1})=>{ae(e)})},[j]),(0,a.useEffect)(()=>{var e;if(!N)return void ee(0);const t=document.querySelector("div[class*=DivCookieBannerContainer]"),i=null!==(e=null==t?void 0:t.offsetHeight)&&void 0!==e?e:0;ee(i)},[N]),(0,a.useEffect)(()=>(window.addEventListener("scroll",de),()=>{window.removeEventListener("scroll",de)}),[de]);const _e=(0,a.useCallback)(()=>{Y(!0)},[]),me=(0,a.useCallback)(()=>{ne(!1)},[]),he=(0,a.useCallback)(()=>L&&!D?z?oe?(0,o.jsx)(qe,{}):!re&&H?(0,o.jsx)(lt,{isDefaultExpanded:O}):(0,o.jsx)(ii,{bottom:Q,isCommentPanelActive:V,shouldShowCloseButton:!1}):(0,o.jsx)(et,{isDefaultExpanded:O}):oe?(0,o.jsx)(qe,{}):(0,o.jsx)(Z,{isInDynamicBottomRightExperiment:L}),[L,D,z,oe,re,H,Q,V,O]),ve=(0,a.useCallback)(()=>z?ge?(0,o.jsx)(Qt,{sessionUser:z}):void 0:(0,o.jsx)(ei,{}),[ge,z]),fe=(0,a.useCallback)(()=>(0,o.jsx)(ti,{user:z,showCoinsButton:oe,isPwaInstallable:H,isInPWA:re,isInDynamicBottomRightExpanded:O,isCommentPanelActive:V,bottom:Q,isConnectedActionBar:F,isButtonGroupWithText:B}),[z,oe,H,re,O,V,Q,F,B]);return V?null:A?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ct,{top:null!=t?t:30,shouldShow:pe&&!U,children:ve()}),(0,o.jsx)(ct,{top:null!=t?t:30,shouldShow:E&&!pe,children:fe()}),(0,o.jsx)(dt,{showTop:!i||q,bottom:Q,children:(0,o.jsx)(bt,Object.assign({},M))})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ct,{top:null!=t?t:30,shouldShow:pe&&!U,children:ve()}),(0,o.jsx)(ct,{id:"fixed-top-container",top:null!=t?t:24,shouldShow:E&&!pe,children:fe()}),(0,o.jsxs)(dt,{showTop:!i||q,bottom:Q,children:[ce&&(0,o.jsx)(y.S,{onClose:_e}),z&&!U&&te&&(0,o.jsx)(Re,{handleCloseWindow:me}),se&&(0,o.jsx)(J,{}),_&&(0,o.jsx)(m,{}),ue||E?null:he(),i&&!ue?(0,o.jsx)(ie,{}):null]})]})})},63336:(e,t,i)=>{"use strict";i.d(t,{X:()=>p});var n=i(11675);const o={1e4:["Scripted Comedy","Comedy","Performance"],10001:["Pranks","Comedy","Performance"],10002:["Hilarious Fails","Comedy","Performance"],10003:["Comedy","Performance"],10071:["Lip-sync","Performance"],10004:["Scripted Drama","Performance"],10005:["Dance","Singing & Dancing","Talents"],10080:["Finger Dance & Basic Dance","Singing & Dancing","Talents"],10009:["Singing & Instruments","Singing & Dancing","Talents"],10035:["Graphic Art","Talents"],10036:["Art","Talents"],10006:["Magic","Talents"],10008:["Professional Special Effects","Talents"],10033:["DIY & Handcrafts","Talents"],10011:["Talents"],10012:["Romance","Relationship","Family & Relationship"],10018:["Family","Family & Relationship"],10017:["Babies","Family","Family & Relationship"],10019:["Pets","Animals","Nature"],10020:["Farm Animals","Animals","Nature"],10021:["Animals","Nature"],10066:["Scenery & Plants","Natural Environment","Nature"],10039:["Food Display","Food & Drink","Lifestyle"],10040:["Cooking","Food & Drink","Lifestyle"],10042:["Drinks","Food & Drink","Lifestyle"],10085:["Food Tour & Recommendations","Food & Drink","Lifestyle"],10041:["Mukbangs & Tasting","Food & Drink","Lifestyle"],10043:["Travel","Lifestyle"],10014:["Diary & VLOG","Daily Life","Lifestyle"],10086:["Recreation Facilities","Daily Life","Lifestyle"],10015:["Campus Life","Daily Life","Lifestyle"],10070:["Work & Jobs","Daily Life","Lifestyle"],10034:["Life Hacks","Daily Life","Lifestyle"],10044:["Home & Garden","Daily Life","Lifestyle"],10050:["Toys & Collectables","Daily Life","Lifestyle"],10073:["Selfies","Daily Life","Lifestyle"],10037:["Oddly Satisfying","Daily Life","Lifestyle"],10081:["Street Interviews & Social Experiments","Society"],10022:["Environmental Protections","Society"],10024:["Social News","Society"],10087:["Social Issues","Society"],10026:["Beauty","Beauty & Care","Beauty & Style"],10025:["Hair","Beauty & Care","Beauty & Style"],10028:["Nail Art","Beauty & Care","Beauty & Style"],10027:["Beauty & Care","Beauty & Style"],10029:["Outfit","Beauty & Style"],10032:["Beauty & Style"],10045:["Movies & TV works","Entertainment Culture","Entertainment"],10046:["Music","Entertainment Culture","Entertainment"],10047:["Theatre & Stage","Entertainment Culture","Entertainment"],10049:["Entertainment News","Entertainment Culture","Entertainment"],10088:["Celebrity Clips & Variety Show","Entertainment Culture","Entertainment"],10051:["Cosplay","Entertainment"],10052:["Comics & Cartoon, Anime","Anime & Comics","Entertainment"],10056:["Video Games","Games","Entertainment"],10057:["Non-Video Games","Games","Entertainment"],10089:["Supernatural & Horror"],10090:["Traditional Culture","Culture","Culture & Education & Technology"],10068:["School Education","Education","Culture & Education & Technology"],10091:["Professional & Personal Development","Education","Culture & Education & Technology"],10092:["Humanities","Education","Culture & Education & Technology"],10093:["Business & Finance","Education","Culture & Education & Technology"],10094:["Science","Education","Culture & Education & Technology"],10013:["Motivation","Culture & Education & Technology"],10067:["Tech Products & Infos","Technology","Culture & Education & Technology"],10095:["Software & APPs","Technology","Culture & Education & Technology"],10082:["Photography","Culture & Education & Technology"],10059:["Traditional Sports","Sports","Sports & Outdoors"],10058:["Extreme Sports","Sports","Sports & Outdoors"],10060:["Sports News","Sports","Sports & Outdoors"],10061:["Fitness","Fitness & Health ","Sports & Outdoors"],10096:["Heath & Wellness","Fitness & Health ","Sports & Outdoors"],10064:["Fishing, Hunting & Camping","Outdoor Activities","Sports & Outdoors"],10062:["Cars, Trucks & Motorcycles","Auto & Vehicle"],10063:["Auto & Vehicle"]},a=e=>{if(e&&e in o)return o[e]},r={isMainVideoPageVideo:e=>!!e.isMainVideoPageVideo,hasVideoPageTab:e=>!!e.videoPageTab,hasKepPageKeyword:e=>!!e.kepPageKeyword,hasChallenges:e=>!!(e.challenges&&e.challenges.length>0),hasDiversityTiers:e=>{var t;const i=null!==(t=e.diversificationLabels)&&void 0!==t?t:a(e.diversificationId);return!!(i&&i.length>0)}};var s=i(4200),l=i(95804);const d={userInfo:e=>{var t,i;return`${null===(t=e.author)||void 0===t?void 0:t.nickname} (@${null===(i=e.author)||void 0===i?void 0:i.uniqueId})`},nickname:e=>{var t,i;return null!==(i=null===(t=e.author)||void 0===t?void 0:t.nickname)&&void 0!==i?i:""},uniqueId:e=>{var t,i;return null!==(i=null===(t=e.author)||void 0===t?void 0:t.uniqueId)&&void 0!==i?i:""},createTime:e=>{return`${(t=new Date(1e3*Number(e.createTime))).getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;var t},videoOfAllGenres:e=>{var t,i;const n=null!==(t=e.diversificationLabels)&&void 0!==t?t:a(e.diversificationId);return null!==(i=null==n?void 0:n.join(", "))&&void 0!==i?i:""},videoOfOneGenre:e=>{var t,i;const n=null!==(t=e.diversificationLabels)&&void 0!==t?t:a(e.diversificationId);return null!==(i=null==n?void 0:n.join(", "))&&void 0!==i?i:""},desc:e=>e.desc.trim(),descWithoutEmojis:e=>e.desc.replace(/[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2580-\u27BF]|\uD83E[\uDD10-\uDDFF]/g,"").trim(),sound:e=>{var t,i,n;return(0,s.E)(null===(t=e.music)||void 0===t?void 0:t.title,null!==(n=null===(i=e.music)||void 0===i?void 0:i.authorName)&&void 0!==n?n:"")},likes:e=>{var t;return(0,s.D1)(null===(t=e.stats)||void 0===t?void 0:t.diggCount)},comments:e=>{var t;return(0,s.D1)(null===(t=e.stats)||void 0===t?void 0:t.commentCount)},views:e=>{var t;return(0,s.D1)(null===(t=e.stats)||void 0===t?void 0:t.playCount)},shares:e=>{var t;return(0,s.D1)(null===(t=e.stats)||void 0===t?void 0:t.shareCount)},hashtags:e=>{var t,i;return null!==(i=null===(t=e.challenges)||void 0===t?void 0:t.map(e=>`#${e.title}`).join(", "))&&void 0!==i?i:""},kepKeyword:e=>{var t;return(0,l.zh)(null!==(t=e.kepPageKeyword)&&void 0!==t?t:"")}},c=(e,t)=>((e,t)=>e.replace(/{([^}]+)}/g,(e,i)=>i in d?d[i](t):"").trim())(e.replace(/\[if{([^}]+)}\[([^\]]*)\]\[([^\]]*)\]\]/g,(e,i,n,o)=>i in r&&r[i](t)?n:o),t);var u=i(40099);const p=({item:e,additionalData:t,originalAltText:i})=>{const o=(0,n.wW)(),a=(0,u.useMemo)(()=>(({item:e,additionalData:t,originalAltText:i,seoAbTest:n})=>{const o=null==n?void 0:n.parameters.video_alt_text;if(!e||!(null==o?void 0:o.format)||"v0"===o.vid)return i?i():"";const a=Object.assign(Object.assign({},t),e);try{return c(o.format,a)}catch(e){return i?i():c("Video shared by {nickname} (@{uniqueId}) on {createTime}. Video description: {desc}",a)}})({item:e,additionalData:t,originalAltText:i,seoAbTest:o}),[e,i,o]);return a}},63337:(e,t,i)=>{"use strict";i.d(t,{gF:()=>he});var n=i(24643),o=i(40099),a=i(67476),r=i(3089),s=i(45027),l=i(72355),d=i(56893),c=i(32499),u=i(94646),p=i(21722),g=i(20434),_=i(69857),m=i(51426),h=i(90976),v=i(72516),f=i(71450),y=i(4126),b=i(13356),x=i(24451),k=i(46657),w=i(23999),S=i(62564),C=i(26324),j=i(35572),T=i(20259),I=i(76435),P=i(54253),A=i(7672),M=i(44094);let L=class{constructor(e){this.fetch=e}getPoiDetail(e){return this.fetch.get("/api/poi/detail/",{query:e,baseUrlType:2})}};L=(0,v.__decorate)([(0,A._)(),(0,v.__metadata)("design:paramtypes",[M.p])],L);let D=class extends f.E{constructor(e){super(),this.service=e,this.defaultState={poi:{}}}setPoiInfo(e,t){t&&(e.poi[t.id]=t)}getPoiInfo(e){return e.pipe((0,x.E)(this.state$),(0,j.p)(([{poiId:e="",language:t,teaParams:i,callback:n},{poi:o}])=>o[e]?(i&&(P.q.handleEnterPoi(Object.assign(Object.assign({},i),o[e])),null==n||n()),k.w):this.service.getPoiDetail({poiId:e,language:t}).pipe((0,T.W)(()=>(0,w.of)({statusCode:-1})),(0,S.T)(e=>{var t,o;const{statusCode:a,poiInfo:r}=e;return 0===a?(i&&(P.q.handleEnterPoi(Object.assign(Object.assign({},i),null!==(t=null==r?void 0:r.poi)&&void 0!==t?t:{id:"",name:""})),null==n||n()),this.getActions().setPoiInfo(null===(o=null==e?void 0:e.poiInfo)||void 0===o?void 0:o.poi)):this.noop()}),(0,I.Q)(this.dispose$))))}};(0,v.__decorate)([(0,y.uk)(),(0,v.__metadata)("design:type",C.c)],D.prototype,"dispose$",void 0),(0,v.__decorate)([(0,y.h5)(),(0,v.__metadata)("design:type",Function),(0,v.__metadata)("design:paramtypes",[Object,Object]),(0,v.__metadata)("design:returntype",void 0)],D.prototype,"setPoiInfo",null),(0,v.__decorate)([(0,y.Mj)(),(0,v.__metadata)("design:type",Function),(0,v.__metadata)("design:paramtypes",[C.c]),(0,v.__metadata)("design:returntype",void 0)],D.prototype,"getPoiInfo",null),D=(0,v.__decorate)([(0,b.nV)("PoisModule"),(0,v.__metadata)("design:paramtypes",[L])],D);var O=i(64541),R=i(16410),E=i(22797);const F=(0,R.default)(E.N_,{target:"e65hkrg0"})({display:"inline-flex",alignItems:"center",textDecoration:"none",":hover":{textDecoration:"none"},minWidth:0},"label:StyledLink;"),B=function({info:e,playMode:t,teaParams:i,target:a="_self",videoId:r="",onLinkClick:v,isInTooltip:f,noWrapper:y}){const{id:b,name:x,fatherPoiName:k}=(0,_.L$)(e),{language:w}=(0,_.L$)((0,h.W)(()=>["language"],[])),S=(0,s.w)(D),C=(0,l.W6)(),j=(0,m.Am)(b,x),T=Boolean(e),I=(0,o.useMemo)(()=>0===t?"one_column":3===t?"video_detail":"browser_mode",[t]),P=(0,o.useMemo)(()=>({enter_method:I,anchor_id:b,anchor_name:x,author_id:i.author_id}),[b,x,I,i]);(0,o.useEffect)(()=>{T&&c.Gt.handlePoiAnchorShow(P),u.c.showSection("poi_anchor",{group_id:r})},[T,r]);const A=(0,o.useCallback)(e=>{(0,g.Gu)(e),c.Gt.handlePoiAnchorClick(P),p.O.handleGeneralClick("poi_anchor",{group_id:r}),null==v||v(e,j,"poi"),S.getPoiInfo({poiId:b,language:w,teaParams:Object.assign(Object.assign({},i),{enter_method:"click_caption",play_mode:I}),callback(){"_blank"===a?window.open(j,"_blank"):C.push(j)}})},[P,S,I,C,b,w,j,i,a,v,r]),M=(0,n.jsxs)(F,{rel:"opener",replace:2===t,target:a,to:j,onClick:A,children:[(0,n.jsx)(d.n,{size:14}),(0,n.jsxs)(O.nt,{isInTooltip:f,children:[x,k&&` · ${k}`]})]});return y?M:(0,n.jsx)(O.ZN,{"data-e2e":"poi-anchor",playMode:t,isInTooltip:f,noWrapper:y,shouldOptProfile:!0,children:M})};var z=i(27521);const U=(0,R.default)("img",{target:"e1t3ukaq1"})({width:"14px",height:"14px",objectFit:"cover"},"label:ImgLogo;"),N=(0,R.default)("a",{target:"e1t3ukaq2"})({display:"inline-flex",alignItems:"center",textDecoration:"none",":hover":{textDecoration:"none"}},"label:ACapCutLink;"),W=function({noWrapper:e,info:t,playMode:i,teaParams:a,isInTooltip:r}){var s;const{schema:l,icon:d,keyword:c,logExtra:u}=(0,_.L$)(null==t?void 0:t[0]),p=(0,_.L$)(null===(s=null==d?void 0:d.urlList)||void 0===s?void 0:s[0]),g=Boolean(null==t?void 0:t[0]),m=(0,o.useMemo)(()=>0===i?"one_column":3===i?"video_detail":"browser_mode",[i]),h=(0,o.useMemo)(()=>{let e={};try{e=u&&JSON.parse(u)}catch(e){console.error(e)}return Object.assign(Object.assign(Object.assign({},a||{}),{enter_from:m}),e||{})},[m,u,a]);(0,o.useEffect)(()=>{g&&z.$.handleCapCutAnchorShow(h)},[g]);const v=(0,o.useCallback)(()=>{z.$.handleCapCutAnchorClick(h)},[h]),f=(0,o.useMemo)(()=>(0,n.jsxs)(N,{target:"_blank",href:l,onClick:v,children:[(0,n.jsx)(U,{alt:c,src:p}),(0,n.jsx)(O.nt,{isInTooltip:r,children:c})]}),[v,r,c,p,i,l]);return e?f:(0,n.jsx)(O.ZN,{"data-e2e":"capcut-anchor",isInTooltip:r,noWrapper:e,shouldOptProfile:!0,children:f})};var V=i(45391),H=i(95025),q=i(27799);const $=(0,o.memo)(function({item:e,playMode:t}){const i=(0,q.s)(),{ad_info:o}=e,{tag_text:a,raw_ad_data:r}=null!=o?o:{},s=(()=>{if(r)try{const e=JSON.parse(r),{is_ad4ad:t,ad4ad:i}=e;if(t)return null==i?void 0:i.promotion_label}catch(e){console.error("[pc-ttam-ads-tag], Error parsing raw_ad_data:",e)}return null!=a?a:"Tag Text Placeholder"})();return(0,n.jsx)(O.ZN,{shouldOptProfile:!0,playMode:t,isTag:!0,children:i(s)})});var G=i(67518),K=i(96406),Y=i(37082),Z=i(89768),J=i(7190),X=i(11365),Q=i(34038),ee=i(5786);const te=(0,o.memo)(function({item:e,onClick:t}){var i,a,r;const s=(0,q.s)(),{user:l}=(0,Z.x)(),d=(null!==(i=e.repostList)&&void 0!==i?i:[]).slice(0,3),c=(0,o.useMemo)(()=>{var t,i,n,o;return 1===d.length?d[0].secUid===(null==l?void 0:l.secUid)?s("pcWeb_youReposted_label"):s("pcWeb_nickReposted_label",{s_nickname:d[0].nickname}):s("pcWeb_nickReposted_label",{s_nickname:null!==(o=null!==(i=null===(t=e.statsV2)||void 0===t?void 0:t.repostCount)&&void 0!==i?i:null===(n=e.repostList)||void 0===n?void 0:n.length)&&void 0!==o?o:"0"})},[s,d,null==l?void 0:l.secUid,null===(a=e.statsV2)||void 0===a?void 0:a.repostCount,null===(r=e.repostList)||void 0===r?void 0:r.length]);return(0,n.jsxs)(J.IW,{onClick:t,children:[(0,n.jsx)(J.Uj,{children:d.map(e=>(0,n.jsx)(Y.e,{src:e.avatarThumb,size:14,style:{lineHeight:"14px"}},e.id))}),(0,n.jsx)(J.vl,{children:c})]})}),ie=(0,o.memo)(function(e){const{playMode:t,handleClickRepost:i}=e,a=(0,q.s)(),[r,s]=(0,o.useState)(!1),l=(0,o.useCallback)(e=>(0,v.__awaiter)(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation(),r?yield i():s(!0)}),[r,i]);return(0,n.jsx)(J.Q7,{"data-e2e":"remove-repost-btn",playMode:t,active:r,shouldOptProfile:!0,onClick:l,style:{fontSize:"13px"},isRemoveButton:!0,children:a(r?"pcWeb_removeRepost_btn":"pcWeb_reposted_toast")})});var ne=i(74367),oe=i(70589);const ae=(0,o.memo)(function({item:e,playMode:t,placement:i="bottom",onLinkClick:a}){const{colors:r}=(0,G.u)(),{user:s}=(0,Z.x)(),{active:l,handleMouseEnter:d,handleMouseLeave:c}=(0,X.K)(100),u=(0,o.useMemo)(()=>({page_name:K.f.commonParams.page_name,group_id:e.id,play_mode:null==t?void 0:t.toString()}),[e,t]);(0,o.useEffect)(()=>{l&&K.f.sendEvent("hover_repost_label",u)},[l,u]);const p=(0,o.useMemo)(()=>({isColor:!1,isStrong:!0,size:12,showTick:!1}),[]),{repostActionVid:g}=(0,oe.hn)(),_=(0,ne.g)({itemId:e.id,iconConfig:p}),{handleClickRepost:m,canRepost:h,isReposted:v}=(0,ne.l)({itemId:e.id,playMode:t});if(!e.repostList||0===e.repostList.length)return null;const f="v4"===g&&h,y=f&&!v,b=f&&v,x=(0,n.jsxs)(J.Q7,{"data-e2e":"repost-tag",playMode:t,active:l,onMouseEnter:d,onMouseLeave:c,shouldOptProfile:!0,children:[(0,n.jsx)(te,{item:e,onClick:d}),(0,n.jsx)(Q.z,{backgroundColor:r.BGSecondary,placement:i,active:l,arrowMargin:10,style:{zIndex:100,minWidth:"80px",maxWidth:"200px",marginLeft:2===t?"20px":0},children:(0,n.jsx)(J.Dp,{"data-e2e":"repost-user-list",children:e.repostList.map((e,i)=>(0,n.jsx)(J.ld,{children:(0,n.jsxs)(ee.E,{target:"_self",rel:"opener",onLinkClick:a,uniqueId:e.uniqueId,secUid:e.secUid,teaParams:Object.assign(Object.assign({},u),{to_user_id:e.id,enter_method:"repost"}),children:[(0,n.jsx)(Y.e,{src:e.avatarThumb,size:14}),(0,n.jsx)(J.Tz,{children:e.nickname}),b&&(null==s?void 0:s.secUid)===e.secUid&&(0,n.jsx)(ie,{playMode:t,handleClickRepost:m})]})},i))})})]}),k=y?(0,n.jsx)(J.Q7,{"data-e2e":"repost-action-tag",onClick:m,playMode:t,shouldOptProfile:!0,children:(0,n.jsx)(J.IW,{children:_})}):null;return(0,n.jsxs)(n.Fragment,{children:[x,k]})});var re=i(31501),se=i(61322);const le=[{id:"0",type:54,keyword:"CapCut | Edit like a pro",icon:{uri:"tiktok-obj/capcut_logo_64px_bk.png",urlList:["https://p16-sg.tiktokcdn.com/obj/tiktok-obj/capcut_logo_64px_bk.png"]},schema:"https://www.capcut.com/editor?scenario=tiktok&utm_campaign=70361230&utm_medium=tiktok_anchor&utm_source=tiktok_anchor_tool",logExtra:'{"anchor_id":0,"anchor_name":"CapCut | Edit like a pro","anchor_type":"TT_CAPCUT","capability_key":"effect;effect_13090155,effect_13566886,effect_15452450,effect_15608083,effect_7033800","template_id":"none","tutorial_id":"none","video_source":0,"video_type_id":1}',description:"CapCut · Video Editor",thumbnail:{uri:"tiktok-obj/64x_Capcut3x.png",urlList:["https://p16-sg.tiktokcdn.com/obj/tiktok-obj/64x_Capcut3x.png"],width:64,height:64},extraInfo:{subtype:""}}];var de=i(73041),ce=i(95230);const ue=(0,R.default)("img",{target:"e1fqbw141"})({width:"14px",height:"14px",objectFit:"cover"},"label:ImgLogo;"),pe=(0,R.default)("a",{target:"e1fqbw142"})({display:"flex",alignItems:"center",justifyContent:"flex-start",textDecoration:"none",width:"100%",":hover":{textDecoration:"none"}},"label:AEhEffectLink;"),ge=i.p+"3e32775581ab07c1e660.png",_e=function({noWrapper:e,info:t,playMode:i,teaParams:a={},isInTooltip:r}){const s=Boolean(t),{id:l="",keyword:d="",description:c}=(0,_.L$)(t),u=(0,o.useMemo)(()=>{switch(!0){case 0===i:return"one_column";case 3===i:return"video_detail";default:return"browser_mode"}},[i]),[p,g]=(0,o.useState)(Object.assign({anchor_name:d,anchor_id:l,anchor_type:"28",page_name:"",effect_id:l,enter_from:u},a));(0,o.useEffect)(()=>{if(!(0,de.fU)()){const e=window.location.pathname;p.page_name=(0,m.oN)(e),g(p),s&&ce.Y.handleEhEffectAnchorShow(p)}},[s]);const h=(0,o.useCallback)(()=>{ce.Y.handleEhEffectAnchorClick(p)},[p]),v=(0,o.useMemo)(()=>{let e=(0,m.rE)(d,l);return(0,n.jsxs)(pe,{target:"_blank",href:e,onClick:h,children:[(0,n.jsx)(ue,{alt:c,src:ge}),(0,n.jsx)(O.nt,{isInTooltip:r,children:d})]})},[h,r,d,l,i]);return e?v:(0,n.jsx)(O.ZN,{isInTooltip:r,noWrapper:e,shouldOptProfile:!0,style:{width:"100%"},children:v})};var me;!function(e){e.Poi="poi",e.Capcut="capcut",e.Effect="effect"}(me||(me={}));const he=function({target:e,item:t,playMode:i,capcapAnchorTeaParams:s,poiTeaParams:l,onLinkClick:d,noSubOnlyTag:c,noPaidPartnerTag:u,popoverAlignment:p="bottom",pageType:g}){const{poi:m,capcutAnchorsOriginal:h,ad_info:v,effectAnchors:f=[],id:y}=(0,_.L$)(t),b=Boolean(m),x=!!v,{isDesktopUiOptDebugOn:k}=(0,oe.kb)(),{isBot:w}=(0,_.L$)((0,se.U)(()=>["isBot"],[])),{effectAnchors:S}=(0,oe.Jl)(f,g),C=w?f:S,{isRepostLabelEnabled:j}=(0,oe.hn)();let T=h;k&&(T=le);const I=Boolean(null==T?void 0:T[0]),P=(0,o.useCallback)((t,o)=>b?(0,n.jsx)(B,{onLinkClick:d,target:e,videoId:y,info:m,playMode:i,teaParams:l,isInTooltip:t,noWrapper:o}):null,[b,i,m,d,l,e]),A=(0,o.useCallback)((e,t)=>I?(0,n.jsx)(W,{info:T,playMode:i,teaParams:s,isInTooltip:e,noWrapper:t}):null,[s,T,I,i]),M=(0,o.useCallback)((e,t,o)=>e?(0,n.jsx)(_e,{info:e,playMode:i,isInTooltip:t,noWrapper:o}):null,[i]),L=[...C.map(e=>e?me.Effect:null),!(0,de.fU)()&&b&&me.Poi,!(0,de.fU)()&&I&&me.Capcut].filter(Boolean),D=L.length,R=0===D,[E,F,z]=(0,o.useMemo)(()=>{let e,t;switch(L[0]){case me.Effect:e=M(C[0],!1,!0);break;case me.Poi:e=P(!1,!0);break;case me.Capcut:e=A(!1,!0);break;default:e=null}const i=L.length>1;return i&&(t=(0,n.jsx)("div",{children:L.map((e,t)=>{const i=[0===t?null:(0,n.jsx)(a.zm,{color:"LineSecondary"},"line")];let o;switch(e){case me.Effect:o=(0,n.jsx)(O.OT,{children:M(C[t],!0)},"item");break;case me.Poi:o=(0,n.jsx)(O.OT,{children:P(!0)},"item");break;case me.Capcut:o=(0,n.jsx)(O.OT,{children:A(!0)},"item");break;default:o=null}return i.push(o),i})})),[e,t,i]},[L,A,P,M,C]),U=u?null:(0,n.jsx)(V.P,{target:e,item:t,playMode:i}),N=c?null:(0,n.jsx)(H.a,{item:t,playMode:i}),q=x?(0,n.jsx)($,{item:t,playMode:i}):null,G=j?(0,n.jsx)(ae,{item:t,playMode:i,placement:"top"===p?"topLeft":"bottom",onLinkClick:d}):null,K=u||!x?(0,n.jsx)(re.$,{item:t,playMode:i}):null;return(0,n.jsxs)(O.mz,{children:[G,R?null:(0,n.jsx)(a.N0,{content:F,disabled:!z,position:"top"===p?"Top":"Bottom",background:"BGPrimary",children:(0,n.jsxs)(O.ZN,{playMode:i,shouldOptProfile:!0,children:[E,z&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.M8,{}),(0,n.jsxs)(O.VD,{children:[D,(0,n.jsx)(r.A,{})]})]})]})}),N,U,q,K]})}},63595:(e,t,i)=>{"use strict";var n;i.d(t,{Os:()=>a,p:()=>o}),function(e){e[e.Comments=0]="Comments",e[e.Creator=1]="Creator"}(n||(n={}));const o=24,a=32},63733:function(e,t,i){e=i.nmd(e),function(t){"use strict";var n="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")(),r=a.Symbol,s=Object.prototype,l=s.hasOwnProperty,d=s.toString,c=r?r.toStringTag:void 0,u=Object.prototype.toString,p=r?r.toStringTag:void 0;function g(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":p&&p in Object(e)?function(e){var t=l.call(e,c),i=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=d.call(e);return n&&(t?e[c]=i:delete e[c]),o}(e):function(e){return u.call(e)}(e)}function _(e){return null!=e&&"object"==typeof e}var m=Array.isArray,h=/\s/,v=/^\s+/;function f(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var y=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,x=/^0o[0-7]+$/i,k=parseInt;function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||_(e)&&"[object Symbol]"==g(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&h.test(e.charAt(t)););return t}(e)+1).replace(v,""):e}(e);var i=b.test(e);return i||x.test(e)?k(e.slice(2),i?2:8):y.test(e)?NaN:+e}var S=1/0;function C(e){return e}function j(e){if(!f(e))return!1;var t=g(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var T,I=a["__core-js_shared__"],P=(T=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",A=Function.prototype.toString,M=/^\[object .+?Constructor\]$/,L=Function.prototype,D=Object.prototype,O=L.toString,R=D.hasOwnProperty,E=RegExp("^"+O.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var F,B,z,U=Date.now,N=function(){try{var e=function(e){return!(!f(e)||(t=e,P&&P in t))&&(j(e)?E:M).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(t=function(e){return null==e?void 0:e.defineProperty}(Object))?t:void 0;return e({},"",{}),e}catch(e){}var t}(),W=N,V=W?function(e,t){return W(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i}:C,H=(F=V,B=0,z=0,function(){var e=U(),t=16-(e-z);if(z=e,t>0){if(++B>=800)return arguments[0]}else B=0;return F.apply(void 0,arguments)}),q=H;function $(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}var G=/^(?:0|[1-9]\d*)$/;function K(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&G.test(e))&&e>-1&&e%1==0&&e<t}function Y(e,t){return e===t||e!=e&&t!=t}var Z=Math.max;function J(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function X(e){return null!=e&&J(e.length)&&!j(e)}var Q=Object.prototype;function ee(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Q)}function te(e){return _(e)&&"[object Arguments]"==g(e)}var ie=Object.prototype,ne=ie.hasOwnProperty,oe=ie.propertyIsEnumerable,ae=te(function(){return arguments}())?te:function(e){return _(e)&&ne.call(e,"callee")&&!oe.call(e,"callee")},re=ae,se="object"==typeof t&&t&&!t.nodeType&&t,le=se&&e&&!e.nodeType&&e,de=le&&le.exports===se?a.Buffer:void 0,ce=(de?de.isBuffer:void 0)||function(){return!1},ue={};ue["[object Float32Array]"]=ue["[object Float64Array]"]=ue["[object Int8Array]"]=ue["[object Int16Array]"]=ue["[object Int32Array]"]=ue["[object Uint8Array]"]=ue["[object Uint8ClampedArray]"]=ue["[object Uint16Array]"]=ue["[object Uint32Array]"]=!0,ue["[object Arguments]"]=ue["[object Array]"]=ue["[object ArrayBuffer]"]=ue["[object Boolean]"]=ue["[object DataView]"]=ue["[object Date]"]=ue["[object Error]"]=ue["[object Function]"]=ue["[object Map]"]=ue["[object Number]"]=ue["[object Object]"]=ue["[object RegExp]"]=ue["[object Set]"]=ue["[object String]"]=ue["[object WeakMap]"]=!1;var pe="object"==typeof t&&t&&!t.nodeType&&t,ge=pe&&e&&!e.nodeType&&e,_e=ge&&ge.exports===pe&&n.process,me=function(){try{return ge&&ge.require&&ge.require("util").types||_e&&_e.binding&&_e.binding("util")}catch(e){}}(),he=me&&me.isTypedArray,ve=he?function(e){return function(t){return e(t)}}(he):function(e){return _(e)&&J(e.length)&&!!ue[g(e)]},fe=ve,ye=Object.prototype.hasOwnProperty;function be(e,t){var i=m(e),n=!i&&re(e),o=!i&&!n&&ce(e),a=!i&&!n&&!o&&fe(e),r=i||n||o||a,s=r?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=s.length;for(var d in e)!t&&!ye.call(e,d)||r&&("length"==d||o&&("offset"==d||"parent"==d)||a&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||K(d,l))||s.push(d);return s}function xe(e,t){return function(i){return e(t(i))}}var ke=xe(Object.keys,Object),we=Object.prototype.hasOwnProperty;function Se(e){return X(e)?be(e):function(e){if(!ee(e))return ke(e);var t=[];for(var i in Object(e))we.call(e,i)&&"constructor"!=i&&t.push(i);return t}(e)}var Ce=Object.prototype.hasOwnProperty;function je(e){return X(e)?be(e,!0):function(e){if(!f(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=ee(e),i=[];for(var n in e)("constructor"!=n||!t&&Ce.call(e,n))&&i.push(n);return i}(e)}var Te=xe(Object.getPrototypeOf,Object),Ie=Function.prototype,Pe=Object.prototype,Ae=Ie.toString,Me=Pe.hasOwnProperty,Le=Ae.call(Object),De=function(e,t){if(null==e)return e;if(!X(e))return function(e,t){return e&&function(e,t,i){for(var n=-1,o=Object(e),a=i(e),r=a.length;r--;){var s=a[++n];if(!1===t(o[s],s,o))break}return e}(e,t,Se)}(e,t);for(var i=e.length,n=-1,o=Object(e);++n<i&&!1!==t(o[n],n,o););return e},Oe=De,Re=Object.prototype,Ee=Re.hasOwnProperty,Fe=function(e){return q(function(e,t,i){return t=Z(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,a=Z(n.length-t,0),r=Array(a);++o<a;)r[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=i(r),function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}(e,this,s)}}(e,void 0,C),e+"")}(function(e,t){e=Object(e);var i=-1,n=t.length,o=n>2?t[2]:void 0;for(o&&function(e,t,i){if(!f(i))return!1;var n=typeof t;return!!("number"==n?X(i)&&K(t,i.length):"string"==n&&t in i)&&Y(i[t],e)}(t[0],t[1],o)&&(n=1);++i<n;)for(var a=t[i],r=je(a),s=-1,l=r.length;++s<l;){var d=r[s],c=e[d];(void 0===c||Y(c,Re[d])&&!Ee.call(e,d))&&(e[d]=a[d])}return e}),Be=Fe;function ze(e,t){var i;return(m(e)?$:Oe)(e,"function"==typeof(i=t)?i:C)}function Ue(e){return"string"==typeof e||!m(e)&&_(e)&&"[object String]"==g(e)}function Ne(e){return!0===e||!1===e||_(e)&&"[object Boolean]"==g(e)}function We(e){return _(e)&&1===e.nodeType&&!function(e){if(!_(e)||"[object Object]"!=g(e))return!1;var t=Te(e);if(null===t)return!0;var i=Me.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&Ae.call(i)==Le}(e)}function Ve(e){return"number"==typeof e&&e==function(e){var t=function(e){return e?(e=w(e))===S||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),i=t%1;return t==t?i?t-i:t:0}(e)}function He(e){return"number"==typeof e||_(e)&&"[object Number]"==g(e)}function qe(e){return function(t){return Object.prototype.toString.call(t)==="[object ".concat(e,"]")}}function $e(e){return qe("Blob")(e)}function Ge(e){return qe("File")(e)}function Ke(e){return qe("FileList")(e)}function Ye(e,t){return Array.prototype.slice.call(e).map(t)}function Ze(e,t){return Array.prototype.slice.call(e).every(t)}function Je(e,t){return[e,t].reduce(function(e,t){return e.filter(function(e){return-1===t.indexOf(e)})})}function Xe(e){return Object.keys(e||{})}function Qe(){}function et(e){return We(e)?e:Ue(e)?document.querySelector(e):null}function tt(e,t,i){e.addEventListener&&e.addEventListener(t,i,!1)}function it(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?function(e){return e}:encodeURIComponent;return Ye(Xe(e),function(i){var n=e[i];return t(i)+"="+t(_(n)?JSON.stringify(n):n)}).join("&")}function ot(e){if(!m(e))throw new Error("elements should be an Array");return function(t){return e.indexOf(t)>-1}}function at(e){if(!m(e))throw new Error("validators should be an Array");return function(t){return e.some(function(e){return e(t)})}}function rt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function st(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(i),!0).forEach(function(t){ut(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rt(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xt(n.key),n)}}function ct(e,t,i){return t&&dt(e.prototype,t),i&&dt(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function ut(e,t,i){return(t=xt(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_t(e,t)}function gt(e){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gt(e)}function _t(e,t){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_t(e,t)}function mt(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(o[i]=e[i]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=gt(e);if(t){var o=gt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,i)}}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,o,a,r,s=[],l=!0,d=!1;try{if(a=(i=i.call(e)).next,0===t){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=a.call(i)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){d=!0,o=e}finally{try{if(!l&&null!=i.return&&(r=i.return(),Object(r)!==r))return}finally{if(d)throw o}}return s}}(e,t)||yt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e){return function(e){if(Array.isArray(e))return bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||yt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){if(e){if("string"==typeof e)return bt(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?bt(e,t):void 0}}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function xt(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var kt,wt,St,Ct,jt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},Tt=function(){function e(e){var i={},n=/(dolfin)[ \/]([\w.]+)/.exec(e)||/(edge)[ \/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(tizen)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(webkit)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||["","unknown"];return"webkit"===n[1]?n=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(e)||/(android)[ \/]([\w._\-]+);/.exec(e)||[n[0],"safari",n[2]]:"mozilla"===n[1]?/trident/.test(e)?n[1]="msie":n[1]="firefox":/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(e)&&(n[1]="polaris"),i[n[1]]=!0,i.name=n[1],i.version=t(n[2]),i}function t(e){var t={},i=e?e.split(/\.|-|_/):["0","0","0"];return t.info=i.join("."),t.major=i[0]||"0",t.minor=i[1]||"0",t.patch=i[2]||"0",t}function i(e){return function(e){return!!(e.match(/ipad/)||e.match(/android/)&&!e.match(/mobi|mini|fennec/)||e.match(/macintosh/)&&window.navigator.maxTouchPoints>1)}(e)?"tablet":function(e){return!(!e.match(/linux|windows (nt|98)|macintosh|cros/)||e.match(/android|mobile|polaris|lgtelecom|uzard|natebrowser|ktf;|skt;/))}(e)?"pc":function(e){return!!e.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}(e)?"mobile":""}function n(e){var i={},n=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(e)||!!/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(e)&&["","polaris","0.0.0"]||/(windows)(?: nt | phone(?: os){0,1} | )([\w._\-]+)/.exec(e)||/(android)[ \/]([\w._\-]+);/.exec(e)||!!/android/.test(e)&&["","android","0.0.0"]||!!/(windows)/.test(e)&&["","windows","0.0.0"]||/(mac) os x ([\w._\-]+)/.exec(e)||/(tizen)[ \/]([\w._\-]+);/.exec(e)||!!/(linux)/.test(e)&&["","linux","0.0.0"]||!!/webos/.test(e)&&["","webos","0.0.0"]||/(cros)(?:\s[\w]+\s)([\d._\-]+)/.exec(e)||/(bada)[ \/]([\w._\-]+)/.exec(e)||!!/bada/.test(e)&&["","bada","0.0.0"]||!!/(rim|blackberry|bb10)/.test(e)&&["","blackberry","0.0.0"]||["","unknown","0.0.0"];return"iphone"===n[1]||"ipad"===n[1]||"ipod"===n[1]?n[1]="ios":"windows"===n[1]&&"98"===n[2]&&(n[2]="0.98.0"),"mac"===n[1]&&"undefined"!=typeof window&&window.navigator.maxTouchPoints>1&&(n[1]="ios"),"cros"===n[1]&&(n[1]="chrome"),i[n[1]]=!0,i.name=n[1],i.version=t(n[2]),i}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var o=["crios","fxios","daumapps"];function a(e,i){var n={},a=null,r=o;Array.isArray(i)?r=o.concat(i):"string"==typeof i&&(r=o.concat([i]));for(var s=0,l=r.length;s<l;s+=1){var d=r[s];if(a=new RegExp("("+d+")[ \\/]([\\w._\\-]+)").exec(e))break}return a||(a=["",""]),a[1]?(n.isApp=!0,n.name=a[1],n.version=t(a[2])):n.isApp=!1,n}return function(t,o){var r=function(e){return e?e.toLowerCase():"undefined"!=typeof window&&window.navigator&&"string"==typeof window.navigator.userAgent?window.navigator.userAgent.toLowerCase():""}(t);return{ua:r,browser:e(r),platform:i(r),os:n(r),app:a(r,o)}}}(),It=Tt(),Pt="https://kauth.kakao.com",At="https://story.kakao.com",Mt="https://developers.kakao.com",Lt=(wt=(kt=location).protocol,St=kt.hostname,Ct=kt.port,"".concat(wt,"//").concat(St).concat(Ct?":"+Ct:"")),Dt=It,Ot=/KAKAOTALK/i.test(Dt.ua),Rt="2.1.0".concat(""),Et=navigator,Ft=["sdk/".concat(Rt),"os/javascript","sdk_type/javascript","lang/".concat(Et.userLanguage||Et.language),"device/".concat(Et.platform.replace(/ /g,"_")),"origin/".concat(encodeURIComponent(Lt))].join(" "),Bt={apiDomain:"https://kapi.kakao.com",accountDomain:"https://accounts.kakao.com",authDomain:Pt,authorize:"".concat(Pt,"/oauth/authorize"),redirectUri:"JS-SDK",universalKakaoLink:"".concat("https://talk-apps.kakao.com","/scheme/"),talkInappScheme:"kakaotalk://inappbrowser",talkSyncpluginScheme:"kakaotalk://bizplugin?plugin_id=6011263b74fc2b49c73a7298",sharerDomain:"https://sharer.kakao.com",pickerDomain:"https://friend-picker.kakao.com",appsDomain:"https://apps.kakao.com",talkLinkScheme:"kakaolink://send",talkAndroidPackage:"com.kakao.talk",channel:"https://pf.kakao.com",channelIcon:"".concat(Mt,"/assets/img/about/logos"),storyShare:"".concat(At,"/s/share"),storyChannelFollow:"".concat(At,"/s/follow"),storyIcon:"".concat(Mt,"/sdk/js/resources/story/icon_small.png"),storyPostScheme:"storylink://posting",naviScheme:"kakaonavi-sdk://navigate",naviFallback:"https://kakaonavi.kakao.com/launch/index.do"},zt=null;function Ut(){return zt}function Nt(e){zt=e}function Wt(e){Error.prototype.constructor.apply(this,arguments),this.name="KakaoError",this.message=e}function Vt(e){var t=e.reduce(function(e,t){return st(st({},e),t)},{});return st(st({},t),{},{cleanup:function(){ze(e,function(e){return e.cleanup&&e.cleanup()})}})}function Ht(e){ze(e,function(e){e()}),e.length=0}function qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(!_(e))throw new Error("params should be an Object");j(t.before)&&t.before(e),j(t.defaults)?Be(e,t.defaults(e)):Be(e,t.defaults);var n=t.required,o=void 0===n?{}:n,a=t.optional,r=void 0===a?{}:a,s=Je(Xe(o),Xe(e));if(s.length>0)throw new Wt("Missing required keys: ".concat(s.join(",")," at ").concat(i));var l=st(st({},o),r),d=Je(Xe(e),Xe(l));if(d.length>0)throw new Wt("Invalid parameter keys: ".concat(d.join(",")," at ").concat(i));return ze(e,function(e,t){!function(e,t,i){if(!1===t(e))throw new Wt("Illegal argument for ".concat(i))}(e,l[t],'"'.concat(t,'" in ').concat(i))}),j(t.after)&&t.after(e),e}function $t(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~";return Ye((window.crypto||window.msCrypto).getRandomValues(new Uint8Array(e)),function(e){return t[e%66]}).join("")}function Gt(e,t){if(Dt.os.android){var i=JSON.stringify({appKey:zt,KA:Ft});return"market://details?id=".concat(e,"&referrer=").concat(i)}return Dt.os.ios?"https://itunes.apple.com/app/id".concat(t):location.href}Wt.prototype=new Error;var Kt={};function Yt(e,t,i){var n=Kt[t];return n&&n.close&&!n.closed&&n.close(),Kt[t]=window.open(e,t,i),Kt[t]}function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:480,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700,i=window.screenLeft?window.screenLeft:window.screenX?window.screenX:0,n=window.screenTop?window.screenTop:window.screenY?window.screenY:0;return["width=".concat(e),"height=".concat(t),"left=".concat(screen.width/2-e/2+i),"top=".concat(screen.height/2-t/2+n),"scrollbars=yes","resizable=1"].join(",")}function Jt(e,t,i){ze(i,function(i,n){var o=t.getAttribute(i);null!==o&&(e[n]="true"===o||"false"===o?"true"===o:o)})}function Xt(e,t,i,n){var o=Dt.browser.msie?{}:Yt(e,i,n||Zt());return o.focus&&o.focus(),Qt(e,t,i),o}function Qt(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_self",n=document.createElement("form");n.setAttribute("accept-charset","utf-8"),n.setAttribute("method","post"),n.setAttribute("action",e),n.setAttribute("target",i),n.setAttribute("style","display:none"),ze(t,function(e,t){var i=document.createElement("input");i.type="hidden",i.name=t,i.value=Ue(e)?e:JSON.stringify(e),n.appendChild(i)}),document.body.appendChild(n),n.submit(),document.body.removeChild(n)}var ei={exports:{}};function ti(e){return new ei.exports.Promise(function(t,i){!function(e,t){var i=e.url,n=e.method,o=e.headers,a=e.data,r=new XMLHttpRequest;r.open(n,i),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach(function(i){e.setRequestHeader(i,t[i])})}(r,o),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&t(r)},r.send(a)}(e,function(e){var n=e.status,o=function(e){try{return JSON.parse(e)}catch(t){return e}}(e.response);200===n?t(o):i(o)})})}!function(e){e.exports=function(){function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,n=void 0,o=void 0,a=function(e,t){p[i]=e,p[i+1]=t,2===(i+=2)&&(o?o(g):_())};var r="undefined"!=typeof window?window:void 0,s=r||{},l=s.MutationObserver||s.WebKitMutationObserver,d="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function u(){var e=setTimeout;return function(){return e(g,1)}}var p=new Array(1e3);function g(){for(var e=0;e<i;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;i=0}var _=void 0;function m(e,t){var i=this,n=new this.constructor(f);void 0===n[v]&&M(n);var o=i._state;if(o){var r=arguments[o-1];a(function(){return P(o,n,r,i._result)})}else T(i,n,e,t);return n}function h(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(f);return w(t,e),t}_=d?function(){return process.nextTick(g)}:l?function(){var e=0,t=new l(g),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}():c?function(){var e=new MessageChannel;return e.port1.onmessage=g,function(){return e.port2.postMessage(0)}}():void 0===r?function(){try{var e=Function("return this")().require("vertx");return void 0!==(n=e.runOnLoop||e.runOnContext)?function(){n(g)}:u()}catch(e){return u()}}():u();var v=Math.random().toString(36).substring(2);function f(){}var y=void 0,b=1,x=2;function k(t,i,n){i.constructor===t.constructor&&n===m&&i.constructor.resolve===h?function(e,t){t._state===b?C(e,t._result):t._state===x?j(e,t._result):T(t,void 0,function(t){return w(e,t)},function(t){return j(e,t)})}(t,i):void 0===n?C(t,i):e(n)?function(e,t,i){a(function(e){var n=!1,o=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(i,t,function(i){n||(n=!0,t!==i?w(e,i):C(e,i))},function(t){n||(n=!0,j(e,t))},e._label);!n&&o&&(n=!0,j(e,o))},e)}(t,i,n):C(t,i)}function w(e,t){if(e===t)j(e,new TypeError("You cannot resolve a promise with itself"));else if(function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}(t)){var i=void 0;try{i=t.then}catch(t){return void j(e,t)}k(e,t,i)}else C(e,t)}function S(e){e._onerror&&e._onerror(e._result),I(e)}function C(e,t){e._state===y&&(e._result=t,e._state=b,0!==e._subscribers.length&&a(I,e))}function j(e,t){e._state===y&&(e._state=x,e._result=t,a(S,e))}function T(e,t,i,n){var o=e._subscribers,r=o.length;e._onerror=null,o[r]=t,o[r+b]=i,o[r+x]=n,0===r&&e._state&&a(I,e)}function I(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,o=void 0,a=e._result,r=0;r<t.length;r+=3)n=t[r],o=t[r+i],n?P(i,n,o,a):o(a);e._subscribers.length=0}}function P(t,i,n,o){var a=e(n),r=void 0,s=void 0,l=!0;if(a){try{r=n(o)}catch(t){l=!1,s=t}if(i===r)return void j(i,new TypeError("A promises callback cannot return that same promise."))}else r=o;i._state!==y||(a&&l?w(i,r):!1===l?j(i,s):t===b?C(i,r):t===x&&j(i,r))}var A=0;function M(e){e[v]=A++,e._state=void 0,e._result=void 0,e._subscribers=[]}var L=function(){function e(e,i){this._instanceConstructor=e,this.promise=new e(f),this.promise[v]||M(this.promise),t(i)?(this.length=i.length,this._remaining=i.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(i),0===this._remaining&&C(this.promise,this._result))):j(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===y&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===h){var o=void 0,a=void 0,r=!1;try{o=e.then}catch(e){r=!0,a=e}if(o===m&&e._state!==y)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(i===D){var s=new i(f);r?j(s,a):k(s,e,o),this._willSettleAt(s,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===y&&(this._remaining--,e===x?j(n,i):this._result[t]=i),0===this._remaining&&C(n,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;T(e,void 0,function(e){return i._settledAt(b,t,e)},function(e){return i._settledAt(x,t,e)})},e}();var D=function(){function t(e){this[v]=A++,this._result=this._state=void 0,this._subscribers=[],f!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){w(e,t)},function(t){j(e,t)})}catch(t){j(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this,n=i.constructor;return e(t)?i.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):i.then(t,t)},t}();return D.prototype.then=m,D.all=function(e){return new L(this,e).promise},D.race=function(e){var i=this;return t(e)?new i(function(t,n){for(var o=e.length,a=0;a<o;a++)i.resolve(e[a]).then(t,n)}):new i(function(e,t){return t(new TypeError("You must pass an array to race."))})},D.resolve=h,D.reject=function(e){var t=new this(f);return j(t,e),t},D._setScheduler=function(e){o=e},D._setAsap=function(e){a=e},D._asap=a,D.polyfill=function(){var e=void 0;if(void 0!==jt)e=jt;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=D},D.Promise=D,D}()}(ei);var ii={},ni=function(e){ze(ii[e],function(e){e()})},oi=function(){function e(t,i){lt(this,e),this._interval=t,this._maxCount=i,this._count=0,this._stopped=!1,this._timeout=null}return ct(e,[{key:"start",value:function(e,t){null!==this._timeout&&this.stop(),this._count=0,this._stopped=!1,this._doPolling(e,t)}},{key:"_doPolling",value:function(e,t){var i=this;this._stopped||(this._timeout=setTimeout(function(){++i._count>i._maxCount?t():(e(),i._doPolling(e,t))},this._interval))}},{key:"stop",value:function(){this._stopped=!0,clearTimeout(this._timeout),this._timeout=null}}]),e}(),ai={optional:{close:j,returnUrl:Ue,forceMobileLayout:Ne,enableBackButton:Ne},defaults:{close:Qe,forceMobileLayout:!1,enableBackButton:!0}},ri={authorize:{optional:{redirectUri:Ue,approvalType:ot(["project"]),scope:Ue,throughTalk:Ne,channelPublicId:Ue,serviceTerms:Ue,isPopup:Ne,state:Ue,deviceType:ot(["watch","tv"]),prompts:Ue,throughSyncplugin:Ne,loginHint:Ue,nonce:Ue},defaults:{throughTalk:!0,isPopup:!1,throughSyncplugin:!0}},selectShippingAddress:ai,createShippingAddress:ai,updateShippingAddress:st({required:{addressId:Ve}},ai)};function si(e){return e.throughSyncplugin&&Ot&&/ch-home/i.test(Dt.ua)}function li(e,t){return!!(e&&e.indexOf(t)>-1)}function di(e){return"".concat(Bt.authorize,"?").concat(nt(e))}function ci(e){return st(st({},function(e){var t={client_id:Ut()};return e.approvalType&&(t.approval_type=e.approvalType),e.scope&&(t.scope=e.scope),e.prompts&&(t.prompt=e.prompts),e.state&&(t.state=e.state),e.nonce&&(t.nonce=e.nonce),e.loginHint&&(t.login_hint=e.loginHint),e.deviceType&&(t.device_type=e.deviceType),e.channelPublicId&&(t.channel_public_id=e.channelPublicId),e.serviceTerms&&(t["extra.service_terms"]=e.serviceTerms),t}(e)),{},{redirect_uri:e.redirectUri||Bt.redirectUri,response_type:"code",auth_tran_id:$t(60)})}function ui(e,t){return st(st({},t),{},{ka:Ft,is_popup:e.isPopup})}var pi=["status","error_code"],gi=new oi(1e3,600);function _i(e){var t,i,n,o,a,r,s=ci(e),l=ui(e,s),d=(i=(t=e).prompts,n=t.throughTalk,o=!(!Dt.os.ios&&!Dt.os.android||Ot),a=li(i,"login"),r=li(i,"none"),n&&o&&!(Dt.os.android&&/instagram|fb_iab/g.test(Dt.ua))&&!a&&!r),c=si(e),u=di(l),p=d?function(e,t,i){var n=st(st({},t),{},{is_popup:!0});return Dt.os.android?["intent:#Intent","action=com.kakao.talk.intent.action.CAPRI_LOGGED_IN_ACTIVITY","launchFlags=0x08880000","S.com.kakao.sdk.talk.appKey=".concat(Ut()),"S.com.kakao.sdk.talk.redirectUri=".concat(n.redirect_uri),"S.com.kakao.sdk.talk.kaHeader=".concat(Ft),"S.com.kakao.sdk.talk.extraparams=".concat(encodeURIComponent(JSON.stringify(n)))].concat(ft(e.state?["S.com.kakao.sdk.talk.state=".concat(e.state)]:[]),["S.browser_fallback_url=".concat(encodeURIComponent(i)),"end;"]).join(";"):function(){var t=di(n),o=e.isPopup?t:i,a="".concat(t,"&ka=").concat(encodeURIComponent(Ft)),r="".concat(Bt.talkInappScheme,"?url=").concat(encodeURIComponent(a));return"".concat(Bt.universalKakaoLink).concat(encodeURIComponent(r),"&web=").concat(encodeURIComponent(o))}()}(e,s,u):u,g=null;return c?function(e){var t=st(st({},e),{},{is_popup:!0,approval_window_type:"v4_bizplugin"}),i=encodeURIComponent(nt(t));location.href="".concat(Bt.talkSyncpluginScheme,"&query=").concat(i)}(l):e.isPopup?g=Yt(p,"_blank",Zt()):location.href=p,new ei.exports.Promise(function(t,i){if(d||c||e.isPopup){var n=(o=s.auth_tran_id,{client_id:Ut(),auth_tran_id:o,ka:Ft});gi.start(function(){var o;(o=n,ti({method:"GET",url:"".concat(Bt.authDomain,"/apiweb/code.json?").concat(nt(o))})).then(function(n){var o=function(e){var t=e.status,i=e.error_code,n=mt(e,pi);return"300"===i?null:("error"===t&&"700"===i&&(location.href="".concat(Bt.authDomain,"/error/network")),n)}(n);null!==o&&(gi.stop(),g&&g.close&&g.close(),o.error?i(o):t(o),mi(e,o)),!d&&g&&g.closed&&gi.stop()})},function(){var t=st({error:"timeout",error_description:"LOGIN_TIMEOUT"},e.state&&{state:e.state});i(t),mi(e,t)})}var o})}function mi(e,t){var i=e.redirectUri;if(i){var n=i.indexOf("?")>-1?"&":"?";location.href=i+n+nt(t)}}var hi,vi=Object.freeze({__proto__:null,authorize:function(e){if(li((e=qt(e,ri.authorize,"Auth.authorize")).prompts,"none")&&!Ot){var t=st({error:"auto_login",error_description:"NOT_SUPPORTED_BROWSER"},e.state&&{state:e.state});return mi(e,t),ei.exports.Promise.reject(t)}var i,n,o,a;if(ni("LOGIN_START"),n=(i=e).throughSyncplugin,o=i.isPopup,a=i.prompts,!si({throughSyncplugin:n})||!1!==o||li(a,"cert")||!window.kakaoweb||"function"!=typeof window.kakaoweb.reqSignInLocation)return _i(e);(function(e){var t=ci(e),i=nt(st(st({},ui(e,t)),{},{is_popup:!1,prompt:"none"}));return kakaoweb.reqSignInLocation(i).then(function(t){var i=Object.fromEntries(new window.URL(t).searchParams);return"consent_required"===i.error&&!li(e.prompts,"none")||"interaction_required"===i.error||(mi(e,i),!1)}).catch(function(e){return!1})})(e).then(function(t){t&&_i(e)})}}),fi={exports:{}},yi={exports:{}};function bi(){return hi||(hi=1,function(e){var t;e.exports=(t=t||function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(t=globalThis.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==jt&&jt.crypto&&(t=jt.crypto),!t)try{t=i(55950)}catch(e){}var n=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),a={},r=a.lib={},s=r.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=r.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<o;a++){var r=i[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=r<<24-(n+a)%4*8}else for(var s=0;s<o;s+=4)t[n+s>>>2]=i[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(n());return new l.init(t,e)}}),d=a.enc={},c=d.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],o=0;o<i;o++){var a=t[o>>>2]>>>24-o%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(i,t/2)}},u=d.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],o=0;o<i;o++){var a=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(i,t)}},p=d.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},g=r.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i,n=this._data,o=n.words,a=n.sigBytes,r=this.blockSize,s=a/(4*r),d=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*r,c=e.min(4*d,a);if(d){for(var u=0;u<d;u+=r)this._doProcessBlock(o,u);i=o.splice(0,d),n.sigBytes-=c}return new l.init(i,c)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=g.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new _.HMAC.init(e,i).finalize(t)}}});var _=a.algo={};return a}(Math),t)}(yi)),yi.exports}!function(e){var t;e.exports=(t=bi(),function(e){var i=t,n=i.lib,o=n.WordArray,a=n.Hasher,r=i.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=r.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var n=t+i,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a=this._hash.words,r=e[t+0],l=e[t+1],g=e[t+2],_=e[t+3],m=e[t+4],h=e[t+5],v=e[t+6],f=e[t+7],y=e[t+8],b=e[t+9],x=e[t+10],k=e[t+11],w=e[t+12],S=e[t+13],C=e[t+14],j=e[t+15],T=a[0],I=a[1],P=a[2],A=a[3];T=d(T,I,P,A,r,7,s[0]),A=d(A,T,I,P,l,12,s[1]),P=d(P,A,T,I,g,17,s[2]),I=d(I,P,A,T,_,22,s[3]),T=d(T,I,P,A,m,7,s[4]),A=d(A,T,I,P,h,12,s[5]),P=d(P,A,T,I,v,17,s[6]),I=d(I,P,A,T,f,22,s[7]),T=d(T,I,P,A,y,7,s[8]),A=d(A,T,I,P,b,12,s[9]),P=d(P,A,T,I,x,17,s[10]),I=d(I,P,A,T,k,22,s[11]),T=d(T,I,P,A,w,7,s[12]),A=d(A,T,I,P,S,12,s[13]),P=d(P,A,T,I,C,17,s[14]),T=c(T,I=d(I,P,A,T,j,22,s[15]),P,A,l,5,s[16]),A=c(A,T,I,P,v,9,s[17]),P=c(P,A,T,I,k,14,s[18]),I=c(I,P,A,T,r,20,s[19]),T=c(T,I,P,A,h,5,s[20]),A=c(A,T,I,P,x,9,s[21]),P=c(P,A,T,I,j,14,s[22]),I=c(I,P,A,T,m,20,s[23]),T=c(T,I,P,A,b,5,s[24]),A=c(A,T,I,P,C,9,s[25]),P=c(P,A,T,I,_,14,s[26]),I=c(I,P,A,T,y,20,s[27]),T=c(T,I,P,A,S,5,s[28]),A=c(A,T,I,P,g,9,s[29]),P=c(P,A,T,I,f,14,s[30]),T=u(T,I=c(I,P,A,T,w,20,s[31]),P,A,h,4,s[32]),A=u(A,T,I,P,y,11,s[33]),P=u(P,A,T,I,k,16,s[34]),I=u(I,P,A,T,C,23,s[35]),T=u(T,I,P,A,l,4,s[36]),A=u(A,T,I,P,m,11,s[37]),P=u(P,A,T,I,f,16,s[38]),I=u(I,P,A,T,x,23,s[39]),T=u(T,I,P,A,S,4,s[40]),A=u(A,T,I,P,r,11,s[41]),P=u(P,A,T,I,_,16,s[42]),I=u(I,P,A,T,v,23,s[43]),T=u(T,I,P,A,b,4,s[44]),A=u(A,T,I,P,w,11,s[45]),P=u(P,A,T,I,j,16,s[46]),T=p(T,I=u(I,P,A,T,g,23,s[47]),P,A,r,6,s[48]),A=p(A,T,I,P,f,10,s[49]),P=p(P,A,T,I,C,15,s[50]),I=p(I,P,A,T,h,21,s[51]),T=p(T,I,P,A,w,6,s[52]),A=p(A,T,I,P,_,10,s[53]),P=p(P,A,T,I,x,15,s[54]),I=p(I,P,A,T,l,21,s[55]),T=p(T,I,P,A,y,6,s[56]),A=p(A,T,I,P,j,10,s[57]),P=p(P,A,T,I,v,15,s[58]),I=p(I,P,A,T,S,21,s[59]),T=p(T,I,P,A,m,6,s[60]),A=p(A,T,I,P,k,10,s[61]),P=p(P,A,T,I,g,15,s[62]),I=p(I,P,A,T,b,21,s[63]),a[0]=a[0]+T|0,a[1]=a[1]+I|0,a[2]=a[2]+P|0,a[3]=a[3]+A|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;i[o>>>5]|=128<<24-o%32;var a=e.floor(n/4294967296),r=n;i[15+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),i[14+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(i.length+1),this._process();for(var s=this._hash,l=s.words,d=0;d<4;d++){var c=l[d];l[d]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function d(e,t,i,n,o,a,r){var s=e+(t&i|~t&n)+o+r;return(s<<a|s>>>32-a)+t}function c(e,t,i,n,o,a,r){var s=e+(t&n|i&~n)+o+r;return(s<<a|s>>>32-a)+t}function u(e,t,i,n,o,a,r){var s=e+(t^i^n)+o+r;return(s<<a|s>>>32-a)+t}function p(e,t,i,n,o,a,r){var s=e+(i^(t|~n))+o+r;return(s<<a|s>>>32-a)+t}i.MD5=a._createHelper(l),i.HmacMD5=a._createHmacHelper(l)}(Math),t.MD5)}(fi);var xi,ki=fi.exports,wi={exports:{}},Si={exports:{}};var Ci,ji={exports:{}},Ti={exports:{}};var Ii,Pi,Ai={exports:{}};function Mi(){return Pi||(Pi=1,function(e){var t;e.exports=(t=bi(),Ci||(Ci=1,function(e){var t,i,n,o,a,r,s,l;e.exports=(i=(t=l=bi()).lib,n=i.WordArray,o=i.Hasher,a=t.algo,r=[],s=a.SHA1=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],o=i[1],a=i[2],s=i[3],l=i[4],d=0;d<80;d++){if(d<16)r[d]=0|e[t+d];else{var c=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=c<<1|c>>>31}var u=(n<<5|n>>>27)+l+r[d];u+=d<20?1518500249+(o&a|~o&s):d<40?1859775393+(o^a^s):d<60?(o&a|o&s|a&s)-1894007588:(o^a^s)-899497514,l=s,s=a,a=o<<30|o>>>2,o=n,n=u}i[0]=i[0]+n|0,i[1]=i[1]+o|0,i[2]=i[2]+a|0,i[3]=i[3]+s|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=o._createHelper(s),t.HmacSHA1=o._createHmacHelper(s),l.SHA1)}(Ti)),Ii||(Ii=1,function(e){var t;e.exports=(t=bi(),void function(){var e=t,i=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,o=4*i;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),r=this._iKey=t.clone(),s=a.words,l=r.words,d=0;d<i;d++)s[d]^=1549556828,l[d]^=909522486;a.sigBytes=r.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})}())}(Ai)),function(){var e=t,i=e.lib,n=i.Base,o=i.WordArray,a=e.algo,r=a.MD5,s=a.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:r,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i,n=this.cfg,a=n.hasher.create(),r=o.create(),s=r.words,l=n.keySize,d=n.iterations;s.length<l;){i&&a.update(i),i=a.update(e).finalize(t),a.reset();for(var c=1;c<d;c++)i=a.finalize(i),a.reset();r.concat(i)}return r.sigBytes=4*l,r}});e.EvpKDF=function(e,t,i){return s.create(i).compute(e,t)}}(),t.EvpKDF)}(ji)),ji.exports}var Li,Di={exports:{}};!function(e){var t;e.exports=(t=bi(),xi||(xi=1,function(e){var t;e.exports=(t=bi(),function(){var e=t,i=e.lib.WordArray;function n(e,t,n){for(var o=[],a=0,r=0;r<t;r++)if(r%4){var s=n[e.charCodeAt(r-1)]<<r%4*2|n[e.charCodeAt(r)]>>>6-r%4*2;o[a>>>2]|=s<<24-a%4*8,a++}return i.create(o,a)}e.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp();for(var o=[],a=0;a<i;a+=3)for(var r=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<i;s++)o.push(n.charAt(r>>>6*(3-s)&63));var l=n.charAt(64);if(l)for(;o.length%4;)o.push(l);return o.join("")},parse:function(e){var t=e.length,i=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var r=i.charAt(64);if(r){var s=e.indexOf(r);-1!==s&&(t=s)}return n(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),t.enc.Base64)}(Si)),Mi(),Li||(Li=1,function(e){var t;e.exports=(t=bi(),Mi(),void(t.lib.Cipher||function(){var e=t,i=e.lib,n=i.Base,o=i.WordArray,a=i.BufferedBlockAlgorithm,r=e.enc;r.Utf8;var s=r.Base64,l=e.algo.EvpKDF,d=i.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?f:h}return function(t){return{encrypt:function(i,n,o){return e(n).encrypt(t,i,n,o)},decrypt:function(i,n,o){return e(n).decrypt(t,i,n,o)}}}}()});i.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var c=e.mode={},u=i.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),p=c.CBC=function(){var e=u.extend();function t(e,t,i){var n,o=this._iv;o?(n=o,this._iv=undefined):n=this._prevBlock;for(var a=0;a<i;a++)e[t+a]^=n[a]}return e.Encryptor=e.extend({processBlock:function(e,i){var n=this._cipher,o=n.blockSize;t.call(this,e,i,o),n.encryptBlock(e,i),this._prevBlock=e.slice(i,i+o)}}),e.Decryptor=e.extend({processBlock:function(e,i){var n=this._cipher,o=n.blockSize,a=e.slice(i,i+o);n.decryptBlock(e,i),t.call(this,e,i,o),this._prevBlock=a}}),e}(),g=(e.pad={}).Pkcs7={pad:function(e,t){for(var i=4*t,n=i-e.sigBytes%i,a=n<<24|n<<16|n<<8|n,r=[],s=0;s<n;s+=4)r.push(a);var l=o.create(r,n);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}};i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:p,padding:g}),reset:function(){var e;d.reset.call(this);var t=this.cfg,i=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,i&&i.words):(this._mode=e.call(n,this,i&&i.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4});var _=i.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),m=(e.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,i=e.salt;return(i?o.create([1398893684,1701076831]).concat(i).concat(t):t).toString(s)},parse:function(e){var t,i=s.parse(e),n=i.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=o.create(n.slice(2,4)),n.splice(0,4),i.sigBytes-=16),_.create({ciphertext:i,salt:t})}},h=i.SerializableCipher=n.extend({cfg:n.extend({format:m}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var o=e.createEncryptor(i,n),a=o.finalize(t),r=o.cfg;return _.create({ciphertext:a,key:i,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(e.kdf={}).OpenSSL={execute:function(e,t,i,n){n||(n=o.random(8));var a=l.create({keySize:t+i}).compute(e,n),r=o.create(a.words.slice(t),4*i);return a.sigBytes=4*t,_.create({key:a,iv:r,salt:n})}},f=i.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:v}),encrypt:function(e,t,i,n){var o=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize);n.iv=o.iv;var a=h.encrypt.call(this,e,t,o.key,n);return a.mixIn(o),a},decrypt:function(e,t,i,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(i,e.keySize,e.ivSize,t.salt);return n.iv=o.iv,h.decrypt.call(this,e,t,o.key,n)}})}()))}(Di)),function(){var e=t,i=e.lib.BlockCipher,n=e.algo,o=[],a=[],r=[],s=[],l=[],d=[],c=[],u=[],p=[],g=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var i=0,n=0;for(t=0;t<256;t++){var _=n^n<<1^n<<2^n<<3^n<<4;_=_>>>8^255&_^99,o[i]=_,a[_]=i;var m=e[i],h=e[m],v=e[h],f=257*e[_]^16843008*_;r[i]=f<<24|f>>>8,s[i]=f<<16|f>>>16,l[i]=f<<8|f>>>24,d[i]=f,f=16843009*v^65537*h^257*m^16843008*i,c[_]=f<<24|f>>>8,u[_]=f<<16|f>>>16,p[_]=f<<8|f>>>24,g[_]=f,i?(i=m^e[e[e[v^m]]],n^=e[e[n]]):i=n=1}}();var _=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=i.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,i=e.sigBytes/4,n=4*((this._nRounds=i+6)+1),a=this._keySchedule=[],r=0;r<n;r++)r<i?a[r]=t[r]:(d=a[r-1],r%i?i>6&&r%i==4&&(d=o[d>>>24]<<24|o[d>>>16&255]<<16|o[d>>>8&255]<<8|o[255&d]):(d=o[(d=d<<8|d>>>24)>>>24]<<24|o[d>>>16&255]<<16|o[d>>>8&255]<<8|o[255&d],d^=_[r/i|0]<<24),a[r]=a[r-i]^d);for(var s=this._invKeySchedule=[],l=0;l<n;l++){if(r=n-l,l%4)var d=a[r];else d=a[r-4];s[l]=l<4||r<=4?d:c[o[d>>>24]]^u[o[d>>>16&255]]^p[o[d>>>8&255]]^g[o[255&d]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,s,l,d,o)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,c,u,p,g,a),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,o,a,r,s){for(var l=this._nRounds,d=e[t]^i[0],c=e[t+1]^i[1],u=e[t+2]^i[2],p=e[t+3]^i[3],g=4,_=1;_<l;_++){var m=n[d>>>24]^o[c>>>16&255]^a[u>>>8&255]^r[255&p]^i[g++],h=n[c>>>24]^o[u>>>16&255]^a[p>>>8&255]^r[255&d]^i[g++],v=n[u>>>24]^o[p>>>16&255]^a[d>>>8&255]^r[255&c]^i[g++],f=n[p>>>24]^o[d>>>16&255]^a[c>>>8&255]^r[255&u]^i[g++];d=m,c=h,u=v,p=f}m=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^i[g++],h=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^i[g++],v=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^i[g++],f=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^i[g++],e[t]=m,e[t+1]=h,e[t+2]=v,e[t+3]=f},keySize:8});e.AES=i._createHelper(m)}(),t.AES)}(wi);var Oi=wi.exports,Ri={exports:{}};!function(e){e.exports=bi().enc.Utf8}(Ri);var Ei=Ri.exports;function Fi(){return Ut()}var Bi=null;function zi(){var e,t,i,n;return null===Bi&&(e=Wi(),t=window.sessionStorage.getItem(e),Bi=t?(i=t,n=Fi(),Oi.decrypt(i,n).toString(Ei)):null),Bi}function Ui(e){Bi=e,null===e||!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?function(e){window.sessionStorage.removeItem(e)}(Wi()):function(e,t){var i,n,o=(i=t,n=Fi(),Oi.encrypt(i,n).toString());window.sessionStorage.setItem(e,o)}(Wi(),e)}var Ni={};function Wi(){var e;return Ni.accessTokenKey||(Ni.accessTokenKey="kakao_"+(e="kat"+Fi(),ki(e).toString())),Ni.accessTokenKey}var Vi=Object.freeze({__proto__:null,getAppKey:Fi,getAccessToken:zi,setAccessToken:Ui});function Hi(){return"Bearer ".concat(zi())}function qi(){return"KakaoAK ".concat(Fi())}var $i={permission:ot(["A","F","M"]),enable_share:Ne,android_exec_param:Ue,ios_exec_param:Ue,android_market_param:Ue,ios_market_param:Ue},Gi={secure_resource:Ne};function Ki(e){!1===e.secure_resource&&(console&&console.warn("KakaoWarning: The secure_resource parameter is deprecated."),e.secure_resource=!0)}function Yi(e){if(!Ue(e))return!1;if(0===e.length||e.length>2048)throw new Wt("content length should be between 0 and 2048");return!0}var Zi={"/v1/user/signup":{method:"POST",data:{optional:{properties:_}}},"/v1/user/unlink":{method:"POST",data:{}},"/v2/user/me":{method:"GET",data:{optional:st({property_keys:m},Gi)}},"/v1/user/logout":{method:"POST",data:{}},"/v1/user/update_profile":{method:"POST",data:{required:{properties:_}}},"/v1/user/access_token_info":{method:"GET",data:{}},"/v2/user/scopes":{method:"GET",data:{optional:{scopes:m}}},"/v2/user/revoke/scopes":{method:"POST",data:{required:{scopes:m}}},"/v1/user/service/terms":{method:"GET",data:{optional:{extra:Ue}}},"/v1/user/shipping_address":{method:"GET",data:{optional:{address_id:Ve,from_updated_at:Ve,page_size:Ve}}},"/v1/api/talk/profile":{method:"GET",data:{optional:Gi,after:Ki}},"/v1/api/talk/friends":{method:"GET",data:{optional:st({offset:Ve,limit:Ve,order:Ue,friend_order:Ue},Gi),after:Ki}},"/v1/friends":{method:"GET",data:{optional:st({offset:Ve,limit:Ve,order:Ue,friend_order:Ue},Gi),after:Ki}},"/v2/api/talk/memo/send":{method:"POST",data:{required:{template_id:Ve},optional:{template_args:_}}},"/v2/api/talk/memo/scrap/send":{method:"POST",data:{required:{request_url:Ue},optional:{template_id:Ve,template_args:_}}},"/v2/api/talk/memo/default/send":{method:"POST",data:{required:{template_object:_}}},"/v1/api/talk/friends/message/send":{method:"POST",data:{required:{template_id:Ve,receiver_uuids:m,receiver_id_type:Ue},optional:{template_args:_},defaults:{receiver_id_type:"uuid"}}},"/v1/api/talk/friends/message/scrap/send":{method:"POST",data:{required:{request_url:Ue,receiver_uuids:m,receiver_id_type:Ue},optional:{template_id:Ve,template_args:_},defaults:{receiver_id_type:"uuid"}}},"/v1/api/talk/friends/message/default/send":{method:"POST",data:{required:{template_object:_,receiver_uuids:m,receiver_id_type:Ue},defaults:{receiver_id_type:"uuid"}}},"/v2/api/kakaolink/talk/template/validate":{method:"GET",data:{required:{link_ver:Ue,template_id:Ve},optional:{template_args:_}},authType:qi},"/v2/api/kakaolink/talk/template/scrap":{method:"GET",data:{required:{link_ver:Ue,request_url:Ue},optional:{template_id:Ve,template_args:_}},authType:qi},"/v2/api/kakaolink/talk/template/default":{method:"GET",data:{required:{link_ver:Ue,template_object:_}},authType:qi},"/v2/api/talk/message/image/upload":{method:"POST",data:{required:{file:_}},authType:qi},"/v2/api/talk/message/image/delete":{method:"DELETE",data:{required:{image_url:Ue}},authType:qi},"/v2/api/talk/message/image/scrap":{method:"POST",data:{required:{image_url:Ue}},authType:qi},"/v1/api/story/profile":{method:"GET",data:{optional:Gi}},"/v1/api/story/isstoryuser":{method:"GET",data:{}},"/v1/api/story/mystory":{method:"GET",data:{required:{id:Ue}}},"/v1/api/story/mystories":{method:"GET",data:{optional:{last_id:Ue}}},"/v1/api/story/linkinfo":{method:"GET",data:{required:{url:Ue}}},"/v1/api/story/post/note":{method:"POST",data:{required:{content:Yi},optional:$i}},"/v1/api/story/post/photo":{method:"POST",data:{required:{image_url_list:function(e){return!!m(e)&&Ze(e,function(e){if(!Ue(e))return!1;if(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/.test(e))throw new Wt("url in image_url_list should be a kage url, obtained from '/v1/api/story/upload/multi'.");return!0})}},optional:st({content:Yi},$i)}},"/v1/api/story/post/link":{method:"POST",data:{required:{link_info:_},optional:st({content:Yi},$i)}},"/v1/api/story/upload/multi":{method:"POST",data:{}},"/v1/api/story/delete/mystory":{method:"DELETE",data:{required:{id:Ue}}},"/v1/api/talk/channels":{method:"GET",data:{optional:{channel_public_ids:m}}}},Ji={apiRules:Zi,request:{required:{url:ot(Xe(Zi))},optional:{data:_,files:function(e){return at([m,Ke])(e)&&Ze(e,at([Ge,$e]))},file:Ge},defaults:{data:{}}}};function Xi(e){var t=e=qt(e,Ji.request,"API.request"),i=t.url,n=t.data,o=Ji.apiRules[i].data;e.data=qt(n,o,"API.request - ".concat(i));var a=function(e){var t,i=Ji.apiRules[e.url],n=i.method,o=i.authType,a=function(e){var t=e.url,i=e.data,n=e.files;if(function(e){return"/v1/api/story/upload/multi"===e||"/v2/api/talk/message/image/upload"===e}(t)||i.file){var o=n||i.file;if(!o)throw new Wt("'files' parameter should be set for ".concat(t));var a=new FormData;return ze(o,function(e){return a.append("file",e)}),[null,a]}var r={};return ze(i,function(e,t){r[t]=Ue(e)?e:JSON.stringify(e)}),["application/x-www-form-urlencoded",nt(r)]}(e),r=vt(a,2),s=r[0],l=r[1],d=vt((t=Bt.apiDomain+e.url,"POST"===n?[t,l]:["".concat(t,"?").concat(l),null]),2),c=d[0],u=d[1];return{url:c,method:n,headers:st(st({},s&&{"Content-Type":s}),{},{KA:Ft,Authorization:(o||Hi)(),"Cache-Control":"no-cache, no-store, max-age=0, must-revalidate",Pragma:"no-cache"}),data:u}}(e);return ti(a)}var Qi=Object.freeze({__proto__:null,request:Xi}),en=Object.freeze({__proto__:null,logout:function(){return Xi({url:"/v1/user/logout"}).finally(function(){Ui(null),ni("LOGOUT")})},getStatusInfo:function(){return zi()?Xi({url:"/v2/user/me"}).then(function(e){return{status:"connected",user:e}}).catch(function(){return{status:"not_connected"}}):ei.exports.Promise.reject({status:"not_connected"})}}),tn=function(){function e(t){lt(this,e),this.domain=t}return ct(e,[{key:"createHiddenIframe",value:function(e,t){this.iframe&&this.destroy(!0);var i=document.createElement("iframe");i.id=i.name=e,i.src=this.domain+t,i.setAttribute("style","border:none; width:0; height:0; display:none; overflow:hidden;"),document.body.appendChild(i),this.iframe=i}},{key:"retrieveMessage",value:function(e,t,i){var n=this;return this.popup=Xt(this.domain+e,t,i),new ei.exports.Promise(function(e,t){n.callback=function(i){var o=i.data,a=i.origin;if(o&&a===n.domain)try{var r=JSON.parse(o);r.code?t(r):e(r)}catch(e){it(window,"message",n.callback)}},tt(window,"message",n.callback),n.interval=setInterval(function(){return n.destroy()},1e3)})}},{key:"destroy",value:function(){(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.popup&&this.popup.closed)&&(clearInterval(this.interval),it(window,"message",this.callback),document.body.removeChild(this.iframe),this.iframe=null)}}]),e}(),nn=new tn(Bt.appsDomain);function on(e,t){var i,n,o=$t(60),a=st({app_key:Ut(),access_token:zi(),ka:Ft,trans_id:o,mobile_view:e.forceMobileLayout,enable_back_button:e.enableBackButton},e.addressId&&{address_id:e.addressId});if(!e.returnUrl)return i=e.close,n=function e(t){var n=t.data,o=t.origin;o!==Bt.appsDomain&&o!==Bt.accountDomain||"closed"!==n||(i(),it(window,"message",e))},tt(window,"message",n),nn.createHiddenIframe(o,"/proxy?trans_id=".concat(o)),nn.retrieveMessage(t,a,"shipping_address");a.return_url=e.returnUrl,Qt(Bt.appsDomain+t,a)}var an=Vt([vi,Vi,en,Object.freeze({__proto__:null,selectShippingAddress:function(e){return on(e=qt(e,ri.selectShippingAddress,"Auth.selectShippingAddress"),"/user/address")},createShippingAddress:function(e){return on(e=qt(e,ri.createShippingAddress,"Auth.createShippingAddress"),"/user/create/address")},updateShippingAddress:function(e){return on(e=qt(e,ri.updateShippingAddress,"Auth.updateShippingAddress"),"/user/edit/address")}})]),rn=Vt([Qi]);function sn(e){return e.charAt(0).toUpperCase()+e.slice(1)}function ln(e){return e.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase())})}function dn(e){return _(e)?JSON.stringify(e):e}function cn(e,t){return Xi({url:e,data:t})}function un(e,t,i){return qt(e,t,'parameter "'.concat(i,'" in Share')),!0}function pn(e){return Xe(e).reduce(function(t,i){return t[ln(i)]=e[i],t},{})}var gn={optional:{webUrl:Ue,mobileWebUrl:Ue,androidExecutionParams:Ue,iosExecutionParams:Ue},builder:pn},_n={required:{item:Ue,itemOp:Ue}};function mn(e){return{title:e.title,link:pn(e.link)}}function hn(e){var t=pn(e);return t.link=pn(t.link),t}var vn={headerLink:gn,link:gn,button:{required:{title:Ue,link:function(e){un(e,gn,"link")}},builder:mn},buttons:{optional:{0:function(e){un(e,vn.button,"button")},1:function(e){un(e,vn.button,"button")}},builder:function(e){return Ye(e,mn)}},content:{required:{title:Ue,imageUrl:Ue,link:function(e){un(e,gn,"link")}},optional:{imageWidth:Ve,imageHeight:Ve,description:Ue},builder:hn},contents:{optional:{0:function(e){un(e,vn.content,"content")},1:function(e){un(e,vn.content,"content")},2:function(e){un(e,vn.content,"content")}},builder:function(e){return Ye(e,hn)}},commerce:{required:{regularPrice:Ve},optional:{discountPrice:Ve,discountRate:Ve,fixedDiscountPrice:Ve,currencyUnit:Ue,currencyUnitPosition:ot([0,1]),productName:Ue},builder:pn},social:{optional:{likeCount:Ve,commentCount:Ve,sharedCount:Ve,viewCount:Ve,subscriberCount:Ve},builder:pn},itemContent:{optional:{profileText:Ue,profileImageUrl:Ue,titleImageUrl:Ue,titleImageText:Ue,titleImageCategory:Ue,items:function(e){return m(e)&&e.length<6&&Ze(e,function(e){return un(e,_n,"items.item")})},sum:Ue,sumOp:Ue},builder:function(e){var t=pn(e);return t.items&&(t.items=Ye(t.items,function(e){return pn(e)})),t}}},fn=function(e,t,i){var n=vn[t];if(n)return e=qt(e,n,'parameter "'.concat(t,'" in ').concat(i||"Share")),n.builder(e)},yn="4.0",bn=ct(function e(t,i){lt(this,e),this.appkey=Ut(),this.appver="1.0",this.linkver=yn,this.extras=st(st({KA:Ft},t.extras),t.serverCallbackArgs&&{lcba:dn(t.serverCallbackArgs)}),this.template_json=i.template_msg,this.template_args=i.template_args,this.template_id=i.template_id}),xn=ct(function e(t){var i=this;lt(this,e),this.link_ver=yn,this.template_object=st({object_type:t.objectType},t.buttonTitle&&{button_title:t.buttonTitle}),ze(t,function(e,t){var n=fn(e,t,"defaultObject");n&&(i.template_object[ln(t)]=n)})}),kn={FeedLink:xn,CommerceLink:xn,ListLink:function(e){pt(i,e);var t=ht(i);function i(e){var n;return lt(this,i),(n=t.call(this,e)).template_object.header_title=e.headerTitle,n}return ct(i)}(xn),LocationLink:function(e){pt(i,e);var t=ht(i);function i(e){var n;return lt(this,i),(n=t.call(this,e)).template_object.address=e.address||"",n.template_object.address_title=e.addressTitle||"",n}return ct(i)}(xn),CalendarLink:function(e){pt(i,e);var t=ht(i);function i(e){var n;return lt(this,i),(n=t.call(this,e)).template_object.id_type=e.idType||"",n.template_object.id=e.id||"",n}return ct(i)}(xn),TextLink:function(e){pt(i,e);var t=ht(i);function i(e){var n;return lt(this,i),(n=t.call(this,e)).template_object.text=e.text||"",n}return ct(i)}(xn)},wn=ct(function e(t){lt(this,e),this.link_ver=yn,this.request_url=t.requestUrl,t.templateId&&(this.template_id=t.templateId),t.templateArgs&&(this.template_args=t.templateArgs)}),Sn=ct(function e(t){lt(this,e),this.link_ver=yn,this.template_id=t.templateId,this.template_args=t.templateArgs}),Cn=function(e,t,i){var n=st({app_key:Ut(),ka:Ft,validation_action:t,validation_params:JSON.stringify(i)},e.serverCallbackArgs&&{lcba:dn(e.serverCallbackArgs)}),o=Xt("".concat(Bt.sharerDomain,"/picker/link"),n,"sharer");e.callback&&function(e,t){if(Dt.browser.msie)console&&console.warn("KakaoWarning: The callback parameter does not support the IE browser.");else{var i=function(e){"sent"===e.data&&e.origin===Bt.sharerDomain&&t()};tt(window,"message",i);var n=setInterval(function(){e.closed&&(clearInterval(n),it(window,"message",i))},1e3)}}(o,e.callback)},jn=function(){var e=Tt(),t=e.os,i=["opr/"],n=["firefox","KAKAOTALK"];function o(e){window.top.location.href=e}function a(e,t,i){var n=(new Date).getTime();return setTimeout(function(){var o=(new Date).getTime();r()&&o-n<e+100&&i(t)},e)}function r(){for(var e=["hidden","webkitHidden"],t=0,i=e.length;t<i;t++)if(void 0!==document[e[t]])return!document[e[t]];return!0}function s(e){setTimeout(function(){(function(){var e=document.createElement("iframe");return e.id="appLauncher",e.style.border="none",e.style.width="0",e.style.height="0",e.style.display="none",e.style.overflow="hidden",document.body.appendChild(e),e}()).src=e},100)}return function(l){var d,c,u,p,g="function"==typeof l.willInvokeApp?l.willInvokeApp:function(){},_="function"==typeof l.onAppMissing?l.onAppMissing:o,m="function"==typeof l.onUnsupportedEnvironment?l.onUnsupportedEnvironment:function(){};g(),t.android?(c=e.browser.chrome&&+e.browser.version.major>=25,u=new RegExp(i.join("|"),"i"),p=new RegExp(n.join("|"),"i"),(c&&!u.test(e.ua)||p.test(e.ua))&&l.intentURI&&!l.useUrlScheme?function(t){function i(){top.location.href=t}e.browser.chrome?i():setTimeout(i,100)}(l.intentURI):l.storeURL&&(d=l.urlScheme,a(300,l.storeURL,_),s(d))):t.ios&&l.storeURL?function(t,i,n,o){var l=a(5e3,i,n);parseInt(e.os.version.major,10)<8?function(e){window.addEventListener("pagehide",function t(){r()&&(clearTimeout(e),window.removeEventListener("pagehide",t))})}(l):function(e){document.addEventListener("visibilitychange",function t(){r()&&(clearTimeout(e),document.removeEventListener("visibilitychange",t))})}(l),parseInt(e.os.version.major,10)>8&&e.os.ios?(void 0===o?o=t:clearTimeout(l),function(e){window.top.location.href=e}(o)):s(t)}(l.urlScheme,l.storeURL,_,l.universalLink):setTimeout(function(){m()},100)}}();function Tn(){return Dt.os.ios&&Ot}var In=function(e,t,i){return cn(t,i).then(function(t){var i=function(e,t){var i=new bn(e,t);if(JSON.stringify(i).length>1e4)throw new Wt("Failed to send message because it exceeds the message size limit. Please contact the app administrator.");return nt(i)}(e,t);!function(e,t){var i="".concat(Dt.os.ios?Bt.talkLinkScheme:"kakaolink://send","?").concat(e),n=["intent://send?".concat(e,"#Intent"),"scheme=kakaolink","launchFlags=0x14008000"].concat(ft(t?["package=".concat(Bt.talkAndroidPackage)]:[]),["end;"]).join(";"),o=st(st({},!Tn()&&{universalLink:Bt.universalKakaoLink+encodeURIComponent(i)}),{},{urlScheme:i,intentURI:n,appName:"KakaoTalk",storeURL:Gt(Bt.talkAndroidPackage,"362057947"),onUnsupportedEnvironment:function(){throw new Wt("unsupported environment")}});(!t||Tn()||Dt.os.android&&(2==Dt.os.version.major&&/Version\/\d+.\d+|/i.test(Dt.ua)||4==Dt.os.version.major&&Dt.os.version.minor<4&&/Version\/\d+.\d+|/i.test(Dt.ua)||/Version\/\d+\.\d+/i.test(Dt.ua)&&(/Chrome\/\d+\.\d+\.\d+\.\d+ Mobile/i.test(Dt.ua)||/; wv\)/i.test(Dt.ua))))&&(o.onAppMissing=Qe);try{jn(o)}catch(e){}}(i,e.installTalk)}).catch(function(e){var t,i=JSON.stringify(st({name:"KAPIError"},e));location.href="".concat(Bt.sharerDomain,"/picker/failed?app_key=").concat(Ut(),"&error=").concat((t=i,window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")))})},Pn={callback:j,installTalk:Ne,throughTalk:Ne,extras:_,serverCallbackArgs:at([function(e){try{JSON.parse(e)}catch(e){return!1}return!0},_])},An={installTalk:!1,throughTalk:!0};function Mn(e){if(!m(e))return!1;if(e.length>2)throw new Wt('Illegal argument for "buttons" in Share: size of buttons should be up to 2');return!0}var Ln={required:{objectType:function(e){return"feed"===e},content:_},optional:st(st({},Pn),{},{itemContent:_,social:_,buttonTitle:Ue,buttons:Mn}),defaults:An},Dn={required:{objectType:function(e){return"list"===e},headerTitle:Ue,headerLink:_,contents:function(e){if(!m(e))return!1;if(e.length<2||e.length>3)throw new Wt('Illegal argument for "contents" in Share: size of contents should be more than 1 and up to 3');return!0}},optional:st(st({},Pn),{},{buttonTitle:Ue,buttons:Mn}),defaults:An},On={required:{objectType:function(e){return"commerce"===e},content:_,commerce:_},optional:st(st({},Pn),{},{buttonTitle:Ue,buttons:Mn}),defaults:An},Rn={required:{objectType:function(e){return"location"===e},content:_,address:Ue},optional:st(st({},Pn),{},{addressTitle:Ue,social:_,buttonTitle:Ue,buttons:Mn}),defaults:An},En={required:{objectType:function(e){return"calendar"===e},idType:ot(["event","calendar"]),id:Ue,content:_},optional:st(st({},Pn),{},{buttons:Mn}),defaults:An},Fn={required:{objectType:function(e){return"text"===e},text:Ue,link:_},optional:st(st({},Pn),{},{buttonTitle:Ue,buttons:Mn}),defaults:An},Bn={required:{requestUrl:Ue},optional:st(st({},Pn),{},{templateId:Ve,templateArgs:_}),defaults:st(st({},An),{},{templateArgs:{}})},zn={required:{templateId:Ve},optional:st(st({},Pn),{},{templateArgs:_}),defaults:st(st({},An),{},{templateArgs:{}})};function Un(e){return Be({required:st(st({},e.required),{},{container:at([We,Ue])})},e)}var Nn={objectTypes:["feed","list","commerce","location","calendar","text"],sendFeed:Ln,createFeedButton:Un(Ln),sendList:Dn,createListButton:Un(Dn),sendCommerce:On,createCommerceButton:Un(On),sendLocation:Rn,createLocationButton:Un(Rn),sendCalendar:En,createCalendarButton:Un(En),sendText:Fn,createTextButton:Un(Fn),sendScrap:Bn,createScrapButton:Un(Bn),sendCustom:zn,createCustomButton:Un(zn),uploadImage:{required:{file:_}},deleteImage:{required:{imageUrl:Ue}},scrapImage:{required:{imageUrl:Ue}}};function Wn(e,t){var i=et(e.container);if(!i)throw new Wt("container is required for KakaoTalk sharing: pass in element or id");var n=function(i){i.preventDefault(),i.stopPropagation(),Hn(e,t)};tt(i,"click",n),qn.push(function(){it(i,"click",n)})}var Vn={default:[function(e){return new(0,kn["".concat(sn(e.objectType),"Link")])(e)},"/v2/api/kakaolink/talk/template/default"],scrap:[function(e){return new wn(e)},"/v2/api/kakaolink/talk/template/scrap"],custom:[function(e){return new Sn(e)},"/v2/api/kakaolink/talk/template/validate"]};function Hn(e,t){var i,n,o,a,r=vt(Vn[t],2),s=r[0],l=r[1],d=s(e);i=e.throughTalk,n=/opr\/|opt\//g.test(Dt.ua),o=Dt.os.ios&&"tablet"===Dt.platform,a=!n&&("mobile"===Dt.platform||o),Ot||i&&a?In(e,l,d):Cn(e,t,d)}var qn=[],$n=Vt([Object.freeze({__proto__:null,createDefaultButton:function(e){if(!e.objectType||!ot(Nn.objectTypes)(e.objectType))throw new Wt("objectType should be one of (".concat(Nn.objectTypes.join(", "),")"));Wn(e=qt(e,Nn["create".concat(sn(e.objectType),"Button")],"Share.createDefaultButton"),"default")},sendDefault:function(e){if(!e.objectType||!ot(Nn.objectTypes)(e.objectType))throw new Wt("objectType should be one of (".concat(Nn.objectTypes.join(", "),")"));Hn(e=qt(e,Nn["send".concat(sn(e.objectType))],"Share.sendDefault"),"default")},createScrapButton:function(e){Wn(e=qt(e,Nn.createScrapButton,"Share.createScrapButton"),"scrap")},sendScrap:function(e){Hn(e=qt(e,Nn.sendScrap,"Share.sendScrap"),"scrap")},createCustomButton:function(e){Wn(e=qt(e,Nn.createCustomButton,"Share.createCustomButton"),"custom")},sendCustom:function(e){Hn(e=qt(e,Nn.sendCustom,"Share.sendCustom"),"custom")},cleanup:function(){Ht(qn)}}),Object.freeze({__proto__:null,uploadImage:function(e){return cn("/v2/api/talk/message/image/upload",{file:(e=qt(e,Nn.uploadImage,"Share.uploadImage")).file})},deleteImage:function(e){return cn("/v2/api/talk/message/image/delete",{image_url:(e=qt(e,Nn.deleteImage,"Share.deleteImage")).imageUrl})},scrapImage:function(e){return cn("/v2/api/talk/message/image/scrap",{image_url:(e=qt(e,Nn.scrapImage,"Share.scrapImage")).imageUrl})}})]),Gn=["small","large"],Kn=["yellow","mono"],Yn=["pc","mobile"],Zn=["consult","question"],Jn=["ko","en","ja"];function Xn(e){return Ue(e)&&!/(.{1,2}\/)/g.test(e)}var Qn={createAddChannelButton:{required:{container:at([We,Ue]),channelPublicId:Xn},optional:{size:ot(Gn),lang:ot(Jn),supportMultipleDensities:Ne},defaults:{size:Gn[0],supportMultipleDensities:!1}},addChannel:{required:{channelPublicId:Xn},optional:{lang:ot(Jn)}},createChatButton:{required:{container:at([We,Ue]),channelPublicId:Xn},optional:{size:ot(Gn),color:ot(Kn),shape:ot(Yn),title:ot(Zn),lang:ot(Jn),supportMultipleDensities:Ne},defaults:{size:Gn[0],color:Kn[0],shape:Yn[0],title:Zn[0],supportMultipleDensities:!1}},chat:{required:{channelPublicId:Xn},optional:{lang:ot(Jn)}}};function eo(e){var t="".concat(Bt.channel,"/").concat(e.channelPublicId,"/friend");null!==Ut()&&(t+="?".concat(io("1.1",e.lang))),Yt(t,"channel_add_social_plugin",Zt(350,510))}function to(e){var t="".concat(Bt.channel,"/").concat(e.channelPublicId,"/chat");null!==Ut()&&(t+="?".concat(io("1.1",e.lang))),Yt(t,"channel_chat_social_plugin",Zt(350,510))}function io(e,t){return nt(st({api_ver:e,kakao_agent:Ft,app_key:Ut(),referer:Lt+location.pathname+location.search},t&&{lang:t}))}function no(e,t,i){var n=document.createElement("a");n.setAttribute("href","#");var o=document.createElement("img");return o.setAttribute("src",t),o.setAttribute("title",i),o.setAttribute("alt",i),e.supportMultipleDensities&&o.setAttribute("srcset",[t.replace(".png","_2X.png 2x"),t.replace(".png","_3X.png 3x")].join(", ")),n.appendChild(o),n}var oo=[],ao=Vt([Object.freeze({__proto__:null,createAddChannelButton:function(e){var t=et(e.container);if(!t)throw new Wt("container is required for Channel.createAddChannelButton: pass in element or id");Jt(e,t,{channelPublicId:"data-channel-public-id",size:"data-size",supportMultipleDensities:"data-support-multiple-densities"});var i=function(e){var t="friendadd_".concat(e.size,"_yellow_rect.png");return"".concat(Bt.channelIcon,"/channel/").concat(t)}(e=qt(e,Qn.createAddChannelButton,"Channel.createAddChannelButton")),n=no(e,i,"카카오톡 채널 추가 버튼");t.appendChild(n);var o=function(t){t.preventDefault(),eo(e)};tt(n,"click",o),oo.push(function(){it(n,"click",o),t.removeChild(n)})},addChannel:function(e){eo(e=qt(e,Qn.addChannel,"Channel.addChannel"))},createChatButton:function(e){var t=et(e.container);if(!t)throw new Wt("container is required for Channel.createChatButton: pass in element or id");Jt(e,t,{channelPublicId:"data-channel-public-id",size:"data-size",color:"data-color",shape:"data-shape",title:"data-title",supportMultipleDensities:"data-support-multiple-densities"});var i=function(e){var t="".concat(e.title,"_").concat(e.size,"_").concat(e.color,"_").concat(e.shape,".png");return"".concat(Bt.channelIcon,"/channel/").concat(t)}(e=qt(e,Qn.createChatButton,"Channel.createChatButton")),n=no(e,i,"카카오톡 채널 1:1 채팅 버튼");t.appendChild(n);var o=function(t){t.preventDefault(),to(e)};tt(n,"click",o),oo.push(function(){it(n,"click",o),t.removeChild(n)})},chat:function(e){to(e=qt(e,Qn.chat,"Channel.chat"))},cleanup:function(){Ht(oo)}})]),ro={required:{title:Ue},optional:{desc:Ue,name:Ue,images:m,type:Ue},defaults:{type:"website"},after:function(e){e.images&&(e.imageurl=e.images,delete e.images)}},so={createShareButton:{required:{container:at([We,Ue])},optional:{url:Ue,text:Ue},defaults:{url:location.href}},share:{optional:{url:Ue,text:Ue},defaults:{url:location.href}},open:{optional:{url:Ue,text:Ue,urlInfo:function(e){return _(e)&&!!qt(e,ro,"Story.open")},install:Ne},defaults:{url:location.href,install:!1}},createFollowButton:{required:{container:at([We,Ue]),id:Ue},optional:{showFollowerCount:Ne,type:ot(["horizontal","vertical"])},defaults:{showFollowerCount:!0,type:"horizontal"},after:function(e){"@"!==e.id[0]&&(e.id="@".concat(e.id))}}};function lo(e){var t=st(st({},uo()),{},{url:e.url});e.text&&(t.text=e.text),Yt("".concat(Bt.storyShare,"?").concat(nt(t)),"kakaostory_social_plugin",Zt())}var co=0;function uo(){var e={kakao_agent:Ft};return null!==Ut()&&(e.app_key=Ut()),e}var po=[],go=Vt([Object.freeze({__proto__:null,createShareButton:function(e){var t=et(e.container);if(!t)throw new Wt("container is required for Story.createShareButton: pass in element or id");Jt(e,t,{url:"data-url"}),e=qt(e,so.createShareButton,"Story.createShareButton");var i=function(e,t){var i=document.createElement("a");i.setAttribute("href","#");var n=document.createElement("img");return n.setAttribute("src",e),n.setAttribute("title",t),n.setAttribute("alt",t),i.appendChild(n),i}(Bt.storyIcon,"카카오스토리 웹 공유 버튼");t.appendChild(i);var n=function(t){t.preventDefault(),lo(e)};tt(i,"click",n),po.push(function(){it(i,"click",n),t.removeChild(i)})},share:function(e){lo(e=qt(e,so.share,"Story.share"))},open:function(e){var t=function(e){var t=location.hostname||"",i=st(st({},uo()),{},{apiver:"1.0",appver:Rt,appid:t,appname:t,post:e.text?"".concat(e.text,"\n").concat(e.url):e.url});return e.urlInfo&&(i.urlinfo=JSON.stringify(e.urlInfo),i.appname=e.urlInfo.name||i.appname),"".concat(Bt.storyPostScheme,"?").concat(nt(i))}(e=qt(e,so.open,"Story.open")),i={urlScheme:t,intentURI:["intent:".concat(t,"#Intent"),"".concat(e.install?"package=com.kakao.story;":"","end;")].join(";"),appName:"KakaoStory",storeURL:Gt("com.kakao.story","486244601"),onUnsupportedEnvironment:function(){e.fail&&e.fail()}};try{jn(i)}catch(e){}},createFollowButton:function(e){var t=et(e.container);if(!t)throw new Wt("container is required for Story.createFollowButton: pass in element or id");Jt(e,t,{id:"data-id",showFollowerCount:"data-show-follower-count",type:"data-type"});var i=function(e){var t=co++,i=e.showFollowerCount&&"horizontal"===e.type?85:59,n=e.showFollowerCount&&"vertical"===e.type?46:20,o=document.createElement("iframe");o.src=function(e,t){var i=st(st({},uo()),{},{id:e.id,type:e.type,hideFollower:!e.showFollowerCount,frameId:t});return"".concat(Bt.storyChannelFollow,"?").concat(nt(i))}(e,t),o.setAttribute("frameborder","0"),o.setAttribute("marginwidth","0"),o.setAttribute("marginheight","0"),o.setAttribute("scrolling","no"),o.setAttribute("style","width:".concat(i,"px; height:").concat(n,"px;"));return{iframe$:o,messageHandler:function(e){if(e.data&&/\.kakao\.com$/.test(e.origin)&&"string"==typeof e.data){var a=vt(Ye(e.data.split(","),function(e){return parseInt(e,10)}),3),r=a[0],s=a[1],l=a[2];r===t&&(i!==s&&(o.style.width="".concat(s,"px")),n!==l&&(o.style.height="".concat(l,"px")))}}}}(e=qt(e,so.createFollowButton,"Story.createFollowButton")),n=i.iframe$,o=i.messageHandler;t.appendChild(n),tt(window,"message",o),po.push(function(){it(window,"message",o),t.removeChild(n)})},cleanup:function(){Ht(po)}})]),_o=["wgs84","katec"],mo={required:{name:Ue,x:He,y:He},optional:{rpflag:Ue,cid:Ue}},ho={start:{required:{name:Ue,x:He,y:He},optional:{coordType:ot(_o),vehicleType:ot([1,2,3,4,5,6,7]),rpOption:ot([1,2,3,4,5,6,8,100]),routeInfo:Ne,sX:He,sY:He,sAngle:He,returnUri:Ue,rpflag:Ue,cid:Ue,guideId:He,viaPoints:function(e){if(m(e)){if(e.length>3)throw new Wt("Invalid parameter keys: via points should not be exceed 3. at Navi.start");return ze(e,function(e){return qt(e,mo,"Navi.start")}),!0}return!1}},defaults:{coordType:"katec",vehicleType:1,rpOption:100,routeInfo:!1}},share:{required:{name:Ue,x:He,y:He},optional:{coordType:ot(_o),rpflag:Ue,cid:Ue,guideId:He},defaults:{coordType:"katec"}}};function vo(){return{appkey:Ut(),apiver:"1.0",extras:{KA:Ft}}}function fo(e,t){var i={urlScheme:e,intentURI:["intent:".concat(e,"#Intent"),"S.browser_fallback_url=".concat(encodeURIComponent(t)),"end;"].join(";"),storeURL:t,universalLink:t};try{jn(i)}catch(e){}}var yo=Vt([Object.freeze({__proto__:null,start:function(e){var t=nt(function(e){var t={name:e.name,x:e.x,y:e.y,rpflag:e.rpflag,cid:e.cid,guide_id:e.guideId},i={coord_type:e.coordType,vehicle_type:e.vehicleType,rpoption:e.rpOption,route_info:e.routeInfo,s_x:e.sX,s_y:e.sY,s_angle:e.sAngle,return_uri:e.returnUri};return st(st({},vo()),{},{param:{destination:t,option:i,via_list:e.viaPoints}})}(e=qt(e,ho.start,"Navi.start")));fo("".concat(Bt.naviScheme,"?").concat(t),"".concat(Bt.naviFallback,"?").concat(t))},share:function(e){var t=nt(function(e){var t={name:e.name,x:e.x,y:e.y,rpflag:e.rpflag,cid:e.cid,guide_id:e.guideId},i={route_info:!0,coord_type:e.coordType};return st(st({},vo()),{},{param:{destination:t,option:i}})}(e=qt(e,ho.share,"Navi.share")));fo("".concat(Bt.naviScheme,"?").concat(t),"".concat(Bt.naviFallback,"?").concat(t))}})]);function bo(e){return Ve(e)&&e>0&&e<101}function xo(e){if(e.maxPickableCount<e.minPickableCount)throw new Wt('"minPickableCount" should not larger than "maxPickableCount"')}function ko(e){var t={required:{reason:ot(["msgBlocked","registered","unregistered","notFriend","custom"])},optional:{message:Ue,uuids:m},after:function(e){if(!("custom"!==e.reason||e.message&&e.uuids))throw new Wt('"message" and "uuids" must be set for "custom" option in disableSelectOption')}};return m(e)&&Ze(e,function(e){return _(e)&&!!qt(e,t,"disableSelectOption")})}function wo(e){if("chatMember"===e.selectionType){var t=e.chatFilters;if(t.indexOf("open")>-1)throw new Wt('"open" is not allowed in "chatFilters"');if((t.indexOf("direct")>-1||t.indexOf("multi")>-1)&&-1===t.indexOf("regular"))throw new Wt('"regular" should be included in "chatFilters"')}}var So=["none","invitable","registered"],Co=["talk","story","talkstory"],jo=["chat","chatMember"],To=["regular","direct","multi","open"],Io=["all","ios","android"],Po={returnUrl:Ue,friendFilter:ot(So),serviceTypeFilter:ot(Co),title:Ue,enableSearch:Ne,countryCodeFilters:m,usingOsFilter:ot(Io),showMyProfile:Ne,showFavorite:Ne,disableSelectOptions:ko,displayAllProfile:Ne,enableBackButton:Ne},Ao={optional:{friendFilter:ot(So),serviceTypeFilter:ot(Co),countryCodeFilters:m,usingOsFilter:ot(Io),showMyProfile:Ne,showFavorite:Ne,showPickedFriend:Ne}},Mo={optional:{selectionType:ot(jo),chatFilters:function(e){return m(e)&&Ze(e,function(e){return ot(To)(e)})}},defaults:{selectionType:jo[0],chatFilters:[To[0]]},after:wo},Lo={selectFriend:{optional:Po},selectFriends:{optional:st(st({},Po),{},{showPickedFriend:Ne,maxPickableCount:bo,minPickableCount:bo}),after:xo},selectChat:{optional:{returnUrl:Ue,selectionType:ot(jo),chatFilters:function(e){return m(e)&&Ze(e,function(e){return ot(To)(e)})},title:Ue,enableSearch:Ne,disableSelectOptions:ko,displayAllProfile:Ne,maxPickableCount:bo,minPickableCount:bo,enableBackButton:Ne},defaults:{selectionType:jo[0],chatFilters:[To[0]]},after:function(e){xo(e),wo(e)}},select:{optional:{returnUrl:Ue,title:Ue,enableSearch:Ne,disableSelectOptions:ko,displayAllProfile:Ne,maxPickableCount:bo,minPickableCount:bo,enableBackButton:Ne,friendsParams:function(e){return _(e)&&!!qt(e,Ao,"Picker.select")},chatParams:function(e){return _(e)&&!!qt(e,Mo,"Picker.select")}},after:xo}},Do=["returnUrl","friendsParams","chatParams"],Oo=new tn(Bt.pickerDomain);function Ro(e,t){var i=$t(60),n=st(st({transId:i,appKey:Ut(),ka:Ft},zi()&&{token:zi()}),function(e){e.returnUrl;var t=e.friendsParams,i=e.chatParams;return function(e){return["countryCodeFilters","chatFilters"].forEach(function(t){void 0!==e[t]&&(e[t]=e[t].join(","))}),e.disableSelectOptions&&(e.disableSelectOptions=JSON.stringify(e.disableSelectOptions)),e}(st(st(st({},mt(e,Do)),t),i))}(e));if(!e.returnUrl)return Oo.createHiddenIframe(i,"/proxy?transId=".concat(i)),Oo.retrieveMessage(t,n,"picker");n.returnUrl=e.returnUrl,Qt(Bt.pickerDomain+t,n)}var Eo=Vt([Object.freeze({__proto__:null,selectFriends:function(e){return Ro(e=qt(e,Lo.selectFriends,"Picker.selectFriends"),"/select/multiple")},selectFriend:function(e){return Ro(e=qt(e,Lo.selectFriend,"Picker.selectFriend"),"/select/single")},selectChat:function(e){return Ro(e=qt(e,Lo.selectChat,"Picker.selectChat"),"/chat/select")},select:function(e){return Ro(e=qt(e,Lo.select,"Picker.select"),"/tab/select")}})]);function Fo(){return null!==Ut()}window.Kakao=t,"function"==typeof window.kakaoAsyncInit&&setTimeout(function(){window.kakaoAsyncInit()},0),t.VERSION=Rt,t.cleanup=function(){var e=this;Object.keys(this).filter(function(t){return _(e[t])}).forEach(function(t){return e[t].cleanup&&e[t].cleanup()}),Nt(null)},t.init=function(e){if(Dt.browser.msie&&Dt.browser.version.major<11)throw new Wt("Kakao.init: Unsupported browser");if(Fo())throw new Wt("Kakao.init: Already initialized");if(!Ue(e))throw new Wt("Kakao.init: App key must be provided");Nt(e),this.Auth=an,this.API=rn,this.Share=$n,this.Channel=ao,this.Story=go,this.Navi=yo,this.Picker=Eo},t.isInitialized=Fo,Object.defineProperty(t,"__esModule",{value:!0})}(t)},63804:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>x});var n=i(24643),o=i(40099),a=i(64025),r=i(67476),s=i(27799),l=i(47696),d=i(16410),c=i(93584);const u=i.p+"f23651fff9224a436481.png",p=i.p+"0118543344b7a282a686.png",g=(0,d.default)("div",{target:"eq2dmtp0"})({position:"relative",marginBottom:"12px",display:"flex"},"label:DivSurveyContainer;"),_=(0,d.default)("div",{target:"eq2dmtp1"})(({isExpand:e,theme:{colors:t,direction:i}})=>{const n=(0,c.t7)(i,"end");return Object.assign(Object.assign({borderRadius:"12px",background:t.BGTertiary,boxShadow:`0px 2px 12px 0px ${t.ShadowSecondary}`,padding:"24px 20px",minWidth:"280px"},(0,c.mp)({direction:i,end:"-1px"})),{userSelect:"none",position:"absolute",bottom:"-1px",transition:"all 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${n} bottom`,transform:e?"none":"scale(0)"})},"label:DivContent;"),m=(0,d.default)("div",{target:"eq2dmtp2"})(({theme:{isDark:e}})=>({backgroundImage:`url(${e?p:u})`,width:"100%",height:"44px",marginBottom:"20px",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),"label:DivSurveyIcon;"),h=(0,d.default)("div",{target:"eq2dmtp3"})(({theme:{colors:e}})=>({color:e.TextPrimary,fontSize:"20px",fontWeight:700,lineHeight:"25px",textAlign:"center",wordBreak:"break-word",marginBottom:"12px"}),"label:DivTitle;"),v=(0,d.default)("div",{target:"eq2dmtp4"})(({theme:{colors:e}})=>({color:e.TextSecondary,fontSize:"15px",lineHeight:1.3,textAlign:"center",wordBreak:"break-word",marginBottom:"20px"}),"label:DivSubTitle;"),f=(0,d.default)("div",{target:"eq2dmtp5"})(({isExpand:e,theme:{colors:t,direction:i}})=>{const n=(0,c.t7)(i,"end");return{color:t.TextPrimary,width:34,height:34,borderRadius:"17px",border:`1px solid ${t.LineSecondary2}`,background:t.BGTertiary,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative",right:0,bottom:0,transition:"transform 0.3s cubic-bezier(.4,.14,.3,1)",transformOrigin:`${n} bottom`,transform:e?"scale(0)":"none"}},"label:DivIconContainer;"),y=(0,d.default)("div",{target:"eq2dmtp6"})({display:"flex",flexDirection:"column",height:"75px",justifyContent:"space-between"},"label:DivButtonContainer;");var b=i(44344);const x=(0,l.A)((0,o.memo)(function(){const e=(0,s.s)(),t=(0,b.gw)(),{surveyPopActive:i,handleHideSurvey:l,handleToggleShow:d,handleClickCTA:c}=(0,b.xP)(),u=(0,o.useCallback)(()=>{c(),t&&window.open(t,"_blank")},[c,t]);return(0,n.jsxs)(g,{children:[(0,n.jsxs)(_,{isExpand:i,children:[(0,n.jsx)(m,{}),(0,n.jsx)(h,{children:e("pcWeb_survey_popup_header")}),(0,n.jsx)(v,{children:e("pcWeb_survey_popup_body")}),(0,n.jsxs)(y,{children:[(0,n.jsx)(r.I0,{onClick:u,label:e("pcWeb_survey_popup_cta1"),variant:"primary"}),(0,n.jsx)(r.L5,{onClick:l,label:e("pcWeb_survey_popup_cta2"),variant:"tertiary"})]})]}),(0,n.jsx)(f,{isExpand:i,onClick:d,children:(0,n.jsx)(a.X,{size:18})})]})}))},63929:(e,t,i)=>{"use strict";i.d(t,{M:()=>x});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(23999),l=i(26324),d=i(35572),c=i(62564),u=i(74690),p=i(24451),g=i(20259),_=i(44094),m=i(35938),h=i(72547),v=i(25628),f=i(7672),y=i(8536);let b=class{get Kakao$(){return window.Kakao?(0,s.of)(null):new l.c(e=>{Promise.all([i.e(2780),i.e(712)]).then(i.t.bind(i,63733,23)).then(()=>{window.Kakao.init("4954e33ea2a4395e59ecbc20761bd889"),e.next(),e.complete()}).catch(t=>{console.error(t),e.next(),e.complete()})})}share(e){return this.Kakao$.pipe((0,y.Z)(()=>new l.c(t=>{window.Kakao.Share.sendScrap({requestUrl:e,callback:()=>{t.next(),t.complete()}})})),(0,g.W)(()=>(0,s.of)(null)))}};b=(0,n.__decorate)([(0,f._)()],b);let x=class extends o.E{constructor(e,t){super(),this.fetch=e,this.kakaoSdk=t,this.defaultState={platforms:null,platformsForAdditionOnly:null,isFlip:!1,loading:!1}}setPlatforms(e,t){e.platforms=t}setLoading(e,t){e.loading=t}setIsFlip(e,t){e.isFlip===t||t&&!function(){var e;const t=m._w.getItem("flip_timestamp"),i=(null!==(e=m._w.getItem("flip_count"))&&void 0!==e?e:0)+1,n=(new Date).setHours(0,0,0,0);return!(t&&t===n&&i>7||(m._w.setItem("flip_timestamp",n),m._w.setItem("flip_count",i),0))}()||(e.isFlip=t)}handleKakaoShare(e){return e.pipe((0,d.p)(({requestUrl:e})=>this.kakaoSdk.share(e).pipe((0,c.T)(()=>this.getActions().setLoading(!1)),(0,u.Z)(this.getActions().setLoading(!0)))))}initShareSettings(e){return e.pipe((0,p.E)(this.state$),(0,d.p)(([e,{platforms:t}])=>t?(0,s.of)(this.getActions().setPlatforms(t)):this.fetch.get("/api/share/settings/",{query:{device_platform:e.isMobile?"webapp_mobile":"webapp_pc",mode:1}}).pipe((0,c.T)(({status_code:t,share_platforms:i})=>{if(0===t&&(null==i?void 0:i.length)){const t=i.map(({platform_id:e})=>e).filter(t=>{return i=t,e.isMobile?i in h.Z8:i in v.Ag;var i});return this.getActions().setPlatforms(t)}return this.getActions().setPlatforms((0,h.L_)(e))}),(0,u.Z)(this.getActions().setPlatforms([])),(0,g.W)(()=>(0,s.of)(this.getActions().setPlatforms((0,h.L_)(e)))))))}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],x.prototype,"setPlatforms",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],x.prototype,"setLoading",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],x.prototype,"setIsFlip",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[l.c]),(0,n.__metadata)("design:returntype",l.c)],x.prototype,"handleKakaoShare",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[l.c]),(0,n.__metadata)("design:returntype",l.c)],x.prototype,"initShareSettings",null),x=(0,n.__decorate)([(0,r.nV)("TTShare"),(0,n.__metadata)("design:paramtypes",[_.p,b])],x)},64115:(e,t,i)=>{"use strict";i.d(t,{E:()=>s,l:()=>r});var n=i(40099),o=i(73739),a=i(43775);const r=()=>{const e=(0,a.eX)(),t=(0,a.RW)();return{shouldShowLiveSurvey:e,handleHideLiveSurvey:(0,n.useCallback)(()=>{t.handleShowLiveSurvey(!1)},[])}},s=()=>(0,o.W6)()},64207:(e,t,i)=>{"use strict";i.d(t,{M:()=>l,u:()=>s});var n=i(72516),o=i(40099),a=i(17164);function r(e,t,i){const{direction:n="ltr",progressRef:a,circleRef:r,barRef:s,seekCallback:l,draggingPercentCb:d,draggingStateCb:c,progressReportCallback:u,documentObjProps:p}=e,g=p||("undefined"!=typeof document?document:void 0),_=(0,o.useRef)(0),m=(0,o.useRef)(null),h=(0,o.useCallback)((e,t="original")=>{if("number"!=typeof e)return;const n=Math.min(1,Math.max(0,e));i(n),("dragging"!==t&&"stop"!==t||n!==m.current)&&(null==d||d(n),m.current=n)},[d,i]),v=(0,o.useCallback)((e,t="original")=>{if(!r.current||!a.current||!s.current)return;let i;e.preventDefault(),e.stopPropagation(),null==l||l();const o="vertical"===n?a.current.getBoundingClientRect().height:a.current.getBoundingClientRect().width,{x:d,y:c,width:p,height:g}=a.current.getBoundingClientRect();switch(n){case"vertical":i=c+g-e.clientY;break;case"rtl":i=d+p-e.clientX;break;default:i=e.clientX-d}if("start"===t)switch(n){case"vertical":{const e=s.current.getBoundingClientRect().height;_.current=Math.min(1,Math.max(0,e/o));break}default:{const e=s.current.getBoundingClientRect().width;_.current=Math.min(1,Math.max(0,e/o));break}}else{if("stop"===t){const e=Math.min(1,Math.max(0,i/o)),t=_.current;null==u||u(t,e)}h(i/o,t)}},[r,a,s,l,n,h,u]),f=(0,o.useCallback)((e,i=!1,n=null)=>{var o;const a=null!==n?n:null!==(o=m.current)&&void 0!==o?o:t,r=a+e;let s;s=r>1||r<0?i?r>1?r-1:r+1:Math.min(1,Math.max(0,a+e)):r,null==u||u(a,s),h(s,"original")},[t,h,u]),y=(0,o.useCallback)(e=>{null==c||c(!0),e.preventDefault(),v(e,"dragging")},[c,v]),b=(0,o.useCallback)(e=>{null==g||g.removeEventListener("mouseup",b),null==g||g.removeEventListener("mousemove",y),v(e,"stop"),null==c||c(!1)},[c,y,v,g]);return{bindDrag:(0,o.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),v(e,"start"),null==g||g.addEventListener("mouseup",b),null==g||g.addEventListener("mousemove",y)},[v,b,y,g]),seek:v,seekByDelta:f}}function s(e){const{videoId:t}=e,i=(0,n.__rest)(e,["videoId"]),{duration:s,videoPercent:l,currentTime:d}=(0,a.uI)(t),{setVideoInfo:c}=(0,a.hy)(),u=r(i,l,(0,o.useCallback)(e=>c({itemId:t,videoPercent:e,currentTime:s*e,duration:s}),[s,c,t]));return Object.assign(Object.assign({},u),{duration:s,videoPercent:l,currentTime:d,setVideoInfo:c})}function l(e){const{initialPercent:t=0}=e,i=(0,n.__rest)(e,["initialPercent"]),[a,s]=(0,o.useState)(t),l=r(i,a,s);return Object.assign(Object.assign({},l),{percent:a,update:s})}},64264:(e,t,i)=>{"use strict";i.d(t,{q:()=>p});var n=i(54133),o=i(40099),a=i(72355),r=i(30932),s=i.n(r),l=i(45924),d=i(61322),c=i(90976),u=i(96406);const p=e=>{var t,i;const{id:r,content:p,flags:g,neverShowNeedMoreHelp:_}=e,{isMobile:m}=null!==(t=(0,d.U)(()=>["isMobile"],[]))&&void 0!==t?t:{},{replace:h}=(0,a.W6)(),{search:v}=(0,a.zy)(),f=(0,o.useMemo)(()=>(0,n.parse)(v),[v]),{response:y}=f,[b,x]=(0,o.useState)(y||null),k=(0,o.useMemo)(()=>null!=g&&!(2048&g),[g]),w=(0,o.useMemo)(()=>null!=b,[b]),S=(0,o.useMemo)(()=>"yes"===b,[b]),C=(0,o.useMemo)(()=>"no"===b,[b]),{user:j}=null!==(i=(0,c.W)(()=>["user"],[]))&&void 0!==i?i:{},T=(0,o.useMemo)(()=>!_&&(k||C),[_,k,C]),I=(0,o.useMemo)(()=>s()(null!=p?p:""),[p]),P=(0,o.useCallback)(e=>{const t=Object.assign({},f);return delete t.response,(0,n.stringify)(Object.assign(Object.assign({},t),{id:e}))},[f]),A=(0,o.useCallback)((e,t)=>({pathname:e,search:P(t)}),[P]),M=(0,o.useCallback)(e=>{m&&h({search:(0,n.stringify)(Object.assign(Object.assign({},f),{response:e?"yes":"no"}))})},[m,f,h]),L=(0,o.useCallback)(()=>{u.f.sendEvent("click_if_faq_resolved",{status:j?"logged":"unlogged",entrance:(null==f?void 0:f.entrance)||"main",enter_faq_id:r,click_method:"click_yes",result:"1",error_message:""}),x("yes"),l.S.handleFeedbackResponseClick(!0),M(!0)},[M]),D=(0,o.useCallback)(()=>{u.f.sendEvent("click_if_faq_resolved",{status:j?"logged":"unlogged",entrance:(null==f?void 0:f.entrance)||"main",enter_faq_id:r,click_method:"click_no",result:"1",error_message:""}),x("no"),l.S.handleFeedbackResponseClick(!1),M(!1)},[M]),O=(0,o.useCallback)(()=>{l.S.handleNeedMoreHelpClick()},[]);return{resolved:S,unresolved:C,responded:w,alwaysShowHelp:k,shouldShowHelp:T,cleanedContent:I,getFaqQuery:P,getReportRoute:A,handleResolved:L,handleUnresolved:D,handleReportProblem:O}}},64541:(e,t,i)=>{"use strict";i.d(t,{M8:()=>c,OT:()=>d,VD:()=>u,ZN:()=>g,mz:()=>l,nt:()=>p});var n=i(16410),o=i(93584);const a={0:"4px",2:"8px",3:"12px"},r={0:"0px",2:"-2px",3:"-6px"},s={0:"2px",2:"8px",3:"8px"},l=(0,n.default)("div",{target:"e1sksq2r0"})({display:"flex",columnGap:"6px",rowGap:"2px",flexWrap:"wrap",marginLeft:"-2px"},"label:DivAnchorTagWrapper;"),d=(0,n.default)("div",{target:"e1sksq2r1"})(({theme:{colors:e}})=>({height:"41px",display:"flex",alignItems:"center",":hover":{background:e.BGView}}),"label:DivToolTipWrapper;"),c=(0,n.default)("span",{target:"e1sksq2r2"})(({theme:{colors:e}})=>({borderLeft:"0.5px solid green",height:"12px",marginLeft:"4px",marginRight:"4px",alignSelf:"center",borderColor:e.LineSecondary}),"label:SpanDivider;"),u=(0,n.default)("span",{target:"e1sksq2r3"})({width:"19px",display:"flex",alignItems:"center"},"label:SpanNum;"),p=(0,n.default)("p",{target:"e1sksq2r4"})(({isInTooltip:e,theme:{direction:t}})=>[{fontSize:"13px",fontWeight:400,"&:hover":{textDecoration:"underline"}},o.PR,e&&{fontSize:"14px",whiteSpace:"normal"},(0,o.mp)({direction:t,marginStart:"8px"})],"label:PAnchorTagName;"),g=(0,n.default)("div",{target:"e1sksq2r5"})(({isTag:e,isInTooltip:t,shouldOptProfile:i,playMode:n=0,theme:{colors:o}})=>[{height:"24px",marginTop:a[n],marginBottom:r[n],minWidth:0},i&&[{height:"22px",padding:"1px 6px 1px 4px",background:t?"":o.BGView,display:"inline-flex",borderRadius:"4px",alignItems:"center",color:o.TextPrimary,marginTop:s[n]},t&&{marginTop:0,marginBottom:0},e&&{color:o.TextTertiaryAlt}]],"label:DivAnchorTag;")},64765:(e,t,i)=>{"use strict";i.d(t,{RD:()=>n,ev:()=>c,si:()=>d});var n,o=i(71111),a=i(64388);!function(e){e[e.None=0]="None",e[e.ToSPopup=1]="ToSPopup",e[e.KeyBoardShortCut=2]="KeyBoardShortCut",e[e.UploadProgress=3]="UploadProgress",e[e.SurveyEntrance=4]="SurveyEntrance",e[e.LiveSurvey=5]="LiveSurvey"}(n||(n={}));const r=(0,o.atom)({currentType:n.None}),{useAtomService:s,useServiceDispatchers:l,useServiceState:d,getStaticApi:c}=(0,a.i)(r,(e,t)=>({changeCurrentType:e=>{t(r,{currentType:e})}}))},64878:(e,t,i)=>{"use strict";i.d(t,{d:()=>x});var n=i(24643),o=i(40099),a=i(54133),r=i(74496),s=i(90886),l=i(89610),d=i(35626),c=i.n(d),u=i(32877),p=i.n(u),g=i(69857),_=i(14952),m=i(16356);const h=(0,o.memo)(function({uniqueId:e}){const t=(0,m.nW)(t=>{const i=t.users[e];if(i)return p()(i,["verified"])},(e,t)=>c()(e,t)),{verified:i}=(0,g.L$)(t);return i?(0,n.jsx)(_.s,{width:12,height:12,style:{fontSize:0}}):null});var v=i(45375),f=i(73739),y=i(78424);function b(e,{containerWidth:t,totalNum:i}){return{is_default_show:!!(e+1<=Math.ceil((t-y.LL)/(y.LL+y.pY)+1)),current_show_no:e+1,topwindow_show_amt:i}}const x=(0,o.memo)(function({liveItem:e,index:t,logParams:i,scrollData:d}){var c,u,p,g,_,m,x,k,w,S,C,j,T,I,P,A;const M=(0,o.useRef)(null),L=(0,o.useCallback)(()=>{var n,o,a,s,l,c;r.mx.handleLiveShow(Object.assign(Object.assign(Object.assign({},i),b(t,d)),{anchor_id:null===(o=null===(n=e.data)||void 0===n?void 0:n.owner)||void 0===o?void 0:o.id_str,room_id:null===(c=null===(l=null===(s=null===(a=e.data)||void 0===a?void 0:a.owner)||void 0===s?void 0:s.own_room)||void 0===l?void 0:l.room_ids_str)||void 0===c?void 0:c[0]}))},[]);(0,l.B)({intersectionHandler:L,element:M,threshold:[.01],unobserveAfterIntersect:!0});const D=(0,f.k9)(),O=(0,o.useCallback)((n,o,s)=>{var l,c,u,p,g,_;n.preventDefault(),r.mx.handleRecLivePlay(Object.assign(Object.assign(Object.assign({},i),b(t,d)),{anchor_id:null===(c=null===(l=e.data)||void 0===l?void 0:l.owner)||void 0===c?void 0:c.id_str,room_id:null===(_=null===(g=null===(p=null===(u=e.data)||void 0===u?void 0:u.owner)||void 0===p?void 0:p.own_room)||void 0===g?void 0:g.room_ids_str)||void 0===_?void 0:_[0]}));const m=(0,a.stringifyUrl)({url:(0,v.G2o)({uniqueId:o,secUid:s}),query:{enter_from_merge:null==i?void 0:i.enter_from_merge,enter_method:null==i?void 0:i.enter_method,entrance_detail:null==i?void 0:i.entrance_detail}});D?window.location.href=m:window.open(m,"tiktok_live_view_window")},[D]);return(0,n.jsxs)(y.gc,{onClick:t=>{var i,n,o,a;O(t,(null===(n=null===(i=e.data)||void 0===i?void 0:i.owner)||void 0===n?void 0:n.display_id)||"",(null===(a=null===(o=e.data)||void 0===o?void 0:o.owner)||void 0===a?void 0:a.sec_uid)||"")},ref:M,children:[(0,n.jsx)(s.i,{size:56,needAnimation:!0,liveTheme:1,isShowLive:!0,pureLivePath:`/@${null===(u=null===(c=e.data)||void 0===c?void 0:c.owner)||void 0===u?void 0:u.display_id}/live`,src:null===(m=null===(_=null===(g=null===(p=e.data)||void 0===p?void 0:p.owner)||void 0===g?void 0:g.avatar_thumb)||void 0===_?void 0:_.url_list)||void 0===m?void 0:m[0],uniqueId:null===(k=null===(x=e.data)||void 0===x?void 0:x.owner)||void 0===k?void 0:k.display_id}),(0,n.jsxs)(y.KP,{children:[(0,n.jsx)(y.GD,{children:null===(S=null===(w=e.data)||void 0===w?void 0:w.owner)||void 0===S?void 0:S.display_id}),(0,n.jsx)(h,{uniqueId:(null===(j=null===(C=e.data)||void 0===C?void 0:C.owner)||void 0===j?void 0:j.display_id)||""})]}),(0,n.jsx)(y.zE,{children:null===(I=null===(T=e.data)||void 0===T?void 0:T.owner)||void 0===I?void 0:I.nickname})]},((null===(A=null===(P=e.data)||void 0===P?void 0:P.owner)||void 0===A?void 0:A.display_id)||"")+t)})},64943:(e,t,i)=>{"use strict";i.d(t,{$v:()=>s,Cm:()=>g,GH:()=>r,Je:()=>c,U5:()=>l,Vq:()=>u,cD:()=>p,du:()=>_,eX:()=>a,kv:()=>d});var n=i(20434),o=i(3211);const a=()=>{var e;return(null===(e=JSON.parse((0,n._S)(o.U6)||"{}"))||void 0===e?void 0:e.code)||""},r=e=>{(0,n.AP)(o.U6,JSON.stringify({code:e,updateAt:Date.now()}))},s=()=>{(0,n.sc)(o.U6)},l=()=>{var e;return(null===(e=JSON.parse((0,n._S)(o.Zn)||"{}"))||void 0===e?void 0:e.accessCode)||""},d=e=>{(0,n.AP)(o.Zn,JSON.stringify({accessCode:e,updateAt:Date.now()}))},c=()=>{var e;return Number((null===(e=JSON.parse((0,n._S)(o.u4)||"{}"))||void 0===e?void 0:e.expireTimestamp)||0)},u=e=>{(0,n.AP)(o.u4,JSON.stringify({expireTimestamp:e,updateAt:Date.now()}))},p=()=>{var e;return(null===(e=JSON.parse((0,n._S)(o.Ud)||"{}"))||void 0===e?void 0:e.state)||""},g=e=>{(0,n.AP)(o.Ud,JSON.stringify({state:e,updateAt:Date.now()}))},_=()=>{(0,n.sc)(o.Ud)}},64944:(e,t,i)=>{"use strict";i.d(t,{$B:()=>a,BQ:()=>c,_k:()=>d,bK:()=>r,he:()=>s,zC:()=>l});var n=i(16410),o=i(21434);const a=(0,n.default)("div",{target:"ewcaboj0"})(({theme:{direction:e,colors:t},isModalOnLeft:i})=>[{width:"400px",borderRadius:"8px",backgroundColor:t.BGPrimary},i?{direction:"ltr"===e?"rtl":"ltr"}:{direction:e}],"label:DivReportOptionsModal;"),r=(0,n.default)("div",{target:"ewcaboj2"})({padding:"18px 16px"},"label:DivReportOptionsContainer;"),s=(0,n.default)("div",{target:"ewcaboj3"})(({})=>[{display:"flex",flexDirection:"column",gap:"30px"}],"label:DivOptionsContainer;"),l=(0,n.default)("div",{target:"ewcaboj4"})(({theme:{colors:e}})=>[{display:"flex",flexDirection:"row",color:e.TextPrimary,fontWeight:600,fontSize:"16px",lineHeight:"24px",alignItems:"center",cursor:"pointer"}],"label:DivOptionsContainerRow;"),d=(0,n.default)("div",{target:"ewcaboj5"})({DivArrowContainer:o.MH,marginInlineStart:"auto",height:"16px"},"label:DivReportOptionsArrowContainer;"),c=(0,n.default)("div",{target:"ewcaboj6"})(({theme:{direction:e},isModalOnLeft:t})=>[Object.assign({position:"absolute",bottom:"0px",left:"-403px",boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",borderRadius:"8px"},(t&&"ltr"===e||!t&&"rtl"===e)&&{right:"-403px",left:"initial"})],"label:DivFloatingContainer;")},65851:(e,t,i)=>{"use strict";i.d(t,{d:()=>S});var n=i(24643),o=i(67476),a=i(67518);const r=i.p+"d5dd413dd013f33ce41d.png",s=i.p+"e492c6985a0d758503d5.png";var l=i(9015),d=i(9668),c=i(81134),u=i(68316),p=i(27799),g=i(73580),_=i(45027),m=i(15923),h=i(66712),v=i(85650),f=i(97779),y=i(71628),b=i(66789);const x=e=>{const{isOpen:t,handleOnClose:i}=e,a=(0,p.s)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.Mw,{isOpen:t,size:"Medium",onClose:i,children:(0,n.jsx)("div",{children:(0,n.jsxs)(f.KQ,{children:[(0,n.jsxs)(f.a5,{isPopup:!0,children:[(0,n.jsx)("span",{children:a("dailyscreentime_featurescreen_heading")}),(0,n.jsx)(f.kZ,{children:(0,n.jsx)(y.A,{onClick:i})})]}),(0,n.jsx)(b.m,{isPopup:!0,handleEditClose:i})]})})})})};var k=i(40099);const w=e=>{const t=(0,p.s)(),{isDark:i}=(0,a.u)(),_=(0,g.Nj)(m.i),{onClose:v,onManage:f}=e;return(0,n.jsxs)(l._w,{children:[(0,n.jsx)(l.tq,{src:i?r:s}),(0,n.jsx)(l.hE,{children:t(u.A.STM_MINOR_HEADER,{},"To support your well-being, your daily screen time is set to 1 hour")}),(0,n.jsx)(l.Sl,{icon:(0,n.jsx)(d.A,{fontSize:24}),children:t(u.A.STM_MINOR_NOTICE_MESSAGE,{},"We’ll let you know if your time is up so it’s easier to log off")}),(0,n.jsx)(l.Sl,{icon:(0,n.jsx)(c.A,{fontSize:24}),children:t(u.A.STM_MINOR_NOTICE_EDIT,{},"You can manage your daily screen time in Settings and privacy")}),(0,n.jsx)(o.I0,{onClick:()=>{_.uploadDailySTMPopupSuccess({date:(0,h.zk)(new Date),screen_time_limit_type:2}).subscribe(),"function"==typeof v&&v(),_.uploadMetric("web_stm_got_it")},label:t(u.A.STM_MINOR_GOT_IT,{},"Got it"),variant:"primary",block:!0,size:"large",marginBlockStart:"26px"}),(0,n.jsx)(o.QK,{onClick:f,label:t(u.A.STM_MINOR_MANAGE,{},"Manage Daily Screen Time"),color:"Primary",marginBlockStart:"18px"})]})},S=()=>{const[e,t]=(0,_.S)(v.z),i=(0,g.Nj)(m.i),[a,r]=(0,k.useState)(!1),s=(0,k.useMemo)(()=>{const t=2===e.STMInterventionType&&e.defaultDailySTMPopup;return t&&i.uploadMetric("web_stm_pop_up"),t},[e.STMInterventionType,e.defaultDailySTMPopup]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Mw,{isOpen:s,size:"Small",children:(0,n.jsx)(w,{onClose:()=>{t.setDefaultDailySTMPopup(!1)},onManage:()=>{r(!0),t.setDefaultDailySTMPopup(!1),i.uploadDailySTMPopupSuccess({date:(0,h.zk)(new Date),screen_time_limit_type:2}).subscribe()}})}),(0,n.jsx)(x,{isOpen:a,handleOnClose:()=>{r(!1)}})]})}},66081:(e,t,i)=>{"use strict";i.r(t),i.d(t,{InputTrigger:()=>D,default:()=>R});var n=i(24643),o=i(80246),a=i(40099),r=i(72355),s=i(16842),l=i(27799),d=i(25961),c=i(70589),u=i(16410),p=i(93584);const g=(0,u.default)("div",{target:"e1d90qbv0"})(({theme:e,isInVideoDetail:t=!1})=>[(0,p.zy)({theme:e,color:"TextPrimary",typography:"H6"}),{minHeight:t?24:17,maxHeight:t?96:68,wordBreak:"break-all",overflowY:"auto",fontSize:t?16:14,lineHeight:t?"24px":"17px","& .public-DraftEditorPlaceholder-root":[(0,p.zy)({theme:e,color:t?"TextQuaternary":"TextSecondary",typography:"H6"}),{position:"absolute"},{fontSize:t?16:14,lineHeight:t?"24px":"17px"}],"& .public-DraftEditor-content":{caretColor:e.colors.Primary}}],"label:DivInputAreaContainer;"),_=(0,u.default)("span",{target:"e1d90qbv1"})(({theme:{colors:e}})=>({display:"inline-block",direction:"ltr",color:e.Primary,caretColor:e.Primary}),"label:SpanMentionUserName;"),m=(0,u.default)(_,{target:"e1d90qbv2"})({height:"14px",maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,whiteSpace:"nowrap"},"label:StyledSpanMentionUserNameForSwiperMode;"),h=(0,u.default)("span",{target:"e1d90qbv3"})(({theme:{direction:e}})=>[{float:(0,p.t7)(e,"start")},(0,p.mp)({direction:e,marginEnd:5})],"label:SpanReplyUser;"),v=(0,u.default)("div",{target:"e1d90qbv5"})(({isWarn:e,theme:t})=>[(0,p.zy)({theme:t,color:e?"ToastNegative":"TextTertiary",typography:"H6"}),{marginTop:10}],"label:DivTextCount;"),f=e=>(t,i,n)=>{t.findEntityRanges(t=>{const i=t.getEntity();return!!i&&n.getEntity(i).getType()===e},i)},y=new o.CompositeDecorator([{strategy:f("mention"),component:_}]);var b,x;function k(e){return{isCollapsed:e.isCollapsed(),anchorKey:e.getAnchorKey(),anchorOffset:e.getAnchorOffset(),focusKey:e.getFocusKey(),focusOffset:e.getFocusOffset()}}function w(e,t,i){const n={keyword:null,blockKey:"",startWithMention:0,end:0},o=t.getCurrentContent(),{focusKey:a,focusOffset:r}=k(t.getSelection()),{blockKey:s,blockOffset:l}=e,d=o.getBlockForKey(s);if(!d)return n;const c=d.getText();return c[l]!==i?n:s===a&&l<r?{keyword:c.substring(l,r).substring(i.length),blockKey:s,startWithMention:l,end:r}:n}function S(e){return e.getCurrentContent().getPlainText().length}function C(e,t){const i=[];let n=-1;return t.findEntityRanges(t=>{const o=t.getEntity();if(!o)return!1;const a=e.getEntity(o),r="mention"===a.getType();if(r){const e=a.getData();i[++n]={user_id:e.id,type:0,start:0,end:0}}return r},(e,t)=>{i[n]=Object.assign(Object.assign({},i[n]),{start:e,end:t})}),i}function j(e){const t=e.getCurrentContent(),i=t.getFirstBlock(),n=t.getLastBlock(),o=i.getKey(),a=n.getKey();if(o===a)return C(t,i);{const e=[];for(let i=o;i!==a;i=t.getKeyAfter(i)){const n=t.getBlockForKey(i);e.push(...C(t,n))}return e}}new o.CompositeDecorator([{strategy:f("mention"),component:m}]),function(e){e.Mention="mention",e.Emoji="emoji"}(b||(b={})),function(e){e.InsertFragment="insert-fragment",e.RemoveRange="remove-range"}(x||(x={}));var T,I=i(11534),P=i(61198),A=i(159),M=i(10046);!function(e){e.Enter="custom-enter",e.Mention="mention",e.Noop="noop"}(T||(T={}));const L=150;var D;!function(e){e.MentionTrigger="@"}(D||(D={}));const O={blockKey:"",blockOffset:0},R=(0,a.memo)((0,a.forwardRef)(function({onPost:e,onKeywordChange:t,onFocus:i,onBlur:u,onInputTrigger:p,isReply:_=!1},m){const f=y,b=h,{shouldOptimizeReply:x}=(0,c.kb)(),[C,T]=(0,a.useState)(()=>o.EditorState.createEmpty(f)),[D,R]=(0,a.useState)(!1),[E,F]=(0,a.useState)(null),B=(0,I.f8)()&&!_,[{replyUser:z,needResetKeyword:U},{setIsReplyInputEmpty:N,setReply:W,setIsInputEmpty:V,setNeedClearInput:H,setNeedResetKeyword:q}]=(0,A.Mu)(({reply:e,needResetKeyword:t})=>({replyUser:e.nickname,needResetKeyword:t}),P.bN),$=(0,a.useRef)(Object.assign({},O)),G=(0,a.useRef)(null),K=(0,a.useRef)(null),Y=(0,s.d7)(e=>F(e),[],300),Z=(0,l.s)(),J=x?"":z,X=(0,a.useMemo)(()=>J?`${Z("comment_tray_reply_default",{username:J})} :`:"",[J,Z]),Q=_?"pcWeb_add_reply":"comment_tray_default",ee=(0,a.useMemo)(()=>J?"":Z(Q),[J,Z]),te=(0,a.useCallback)(e=>{_?N(e):V(e)},[]),ie=(0,a.useCallback)(()=>{T(function(e){const t=o.ContentState.createFromText(""),i=o.EditorState.push(e,t,"remove-range");return o.EditorState.forceSelection(i,t.getSelectionAfter())}(C)),te(!0),_||H(!1),q(!1),x||W(null)},[te,H,W,q]),ne=(0,a.useCallback)(()=>setTimeout(()=>{var e;return null===(e=K.current)||void 0===e?void 0:e.focus()},0),[]),oe=(0,a.useCallback)(()=>{$.current=Object.assign({},O),Y(null)},[Y]),ae=(0,a.useCallback)(e=>{const{keyword:t}=w($.current,e,"@");if(null===t?oe():Y(t.trim()),S(e)>L){const t=function(e,t){const i=e.getSelection(),n=S(e);if(n<t)return null;const o=e.getCurrentContent(),a=o.getFirstBlock().getKey(),r=o.getLastBlock().getKey();if(a===r)return i.merge({anchorKey:a,anchorOffset:t,focusKey:a,focusOffset:n});{let e=r,a=n;for(;a>t;){const t=o.getBlockForKey(e).getLength();e=o.getBlockBefore(e).getKey(),a-=t}return i.merge({anchorKey:e,anchorOffset:t-a,focusKey:r,focusOffset:o.getBlockForKey(r).getLength()})}}(e,L);if(t){const i=function(e,t){const i=e.getCurrentContent(),n=o.Modifier.removeRange(i,t,"backward"),a=o.EditorState.push(e,n,"remove-range");return o.EditorState.forceSelection(a,n.getSelectionAfter())}(e,t);return void T(i)}}T(e)},[oe,Y]),re=(0,a.useCallback)(e=>{const{focusKey:t,focusOffset:i}=k(e.getSelection());$.current={blockKey:t,blockOffset:i}},[]),se=(0,a.useCallback)((e,t)=>("@"===e&&(re(t),null==p||p(e)),"not-handled"),[re,p]),le=(0,a.useCallback)(e=>{const t=e.keyCode;if(37===t||39===t){if(e.stopPropagation(),null!==E)return"noop"}else if(38===t||40===t){if(null!==E)return"noop";e.stopPropagation()}else if(8===t&&function(e){const t=e.getCurrentContent().getFirstBlock().getKey(),{isCollapsed:i,anchorKey:n,anchorOffset:o}=k(e.getSelection());return i&&n===t&&0===o}(C))x||W(null);else{if(13===t)return"custom-enter";27===t&&null!==E&&(e.stopPropagation(),oe())}return(0,o.getDefaultKeyBinding)(e)},[C,E,oe,W]),de=(0,a.useCallback)(t=>"custom-enter"===t&&null===E?(setTimeout(e,0),"handled"):"not-handled",[E,e]),ce=(0,a.useCallback)(()=>{const e=function(e){const t=e.getCurrentContent(),i=e.getSelection(),n=150-S(e);if(n<0)return e;const a=o.Modifier.insertText(t,i,"@".substr(0,n));return o.EditorState.push(e,a,"insert-characters")}(C);re(C),T(e),ne()},[re,C,ne]),ue=(0,a.useCallback)(e=>{if(null===e||S(C)+e.nickname.length>L)return;const t=function(e,t,i){const n=t.getCurrentContent(),a=t.getSelection(),r=n.createEntity("mention","IMMUTABLE",i).getLastCreatedEntityKey(),{keyword:s,startWithMention:l,end:d}=w(e,t,"@");if(null===s)return t;const c=a.merge({anchorOffset:l,focusOffset:d}),u=o.Modifier.replaceText(n,c,`@${i.nickname}`,void 0,r),p=o.Modifier.insertText(u,u.getSelectionAfter()," "),g=o.EditorState.push(t,p,"insert-fragment");return o.EditorState.forceSelection(g,p.getSelectionAfter())}($.current,C,e);T(t),oe(),ne()},[C,ne,oe]),pe=(0,a.useCallback)(e=>{if(""===e||S(C)+e.length>L)return;const t=function(e,t){const i=e.getCurrentContent(),n=e.getSelection(),a=i.createEntity("emoji","IMMUTABLE",{emojiUnicode:t}).getLastCreatedEntityKey(),r=o.Modifier.removeRange(i,n,"backward"),s=r.getSelectionAfter(),l=o.Modifier.insertText(r,s,t,void 0,a),d=o.EditorState.push(e,l,"insert-fragment");return o.EditorState.forceSelection(d,l.getSelectionAfter())}(C,e);T(t),ne()},[C,ne]),ge=(0,a.useCallback)(()=>{null==i||i()},[i]),_e=(0,a.useCallback)(()=>{null==u||u()},[u]),me=(0,a.useCallback)(()=>({inputText:C.getCurrentContent().getPlainText(),textExtra:j(C)}),[C]);(0,a.useImperativeHandle)(m,()=>({handleInsertMentionTrigger:ce,handleSelectUser:ue,handleSelectEmoji:pe,getTextInfo:me,focus:ne}),[me,ne,ce,pe,ue]),(0,a.useEffect)(()=>{t(E)},[E,t]),(0,a.useEffect)(()=>{const e=0===S(C);te(e)},[C,X,te]),(0,a.useLayoutEffect)(()=>{var e,t;const i=null!==(t=null===(e=G.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0;R(i>=34)},[C]),(0,a.useEffect)(()=>{B&&ie()},[ie,B]),(0,a.useEffect)(()=>{U&&(oe(),q(!1))},[U,oe,q]),(0,a.useEffect)(()=>()=>{ie()},[ie]),(0,a.useEffect)(()=>{""!==X&&ne()},[ne,X]);const{pathname:he}=(0,r.zy)(),ve=(0,d.Fj)(he),{commentPanelShowSkeleton:fe,commentPanelActive:ye}=(0,M.Cx)(e=>({commentPanelShowSkeleton:e.showSkeleton,commentPanelActive:!!e.itemId}),P.bN);return(0,a.useEffect)(()=>{ie()},[fe]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(g,{ref:G,onClick:ne,isInVideoDetail:ve||ye,style:ye?{minWidth:"100px"}:void 0,className:D?"multiline-input":void 0,children:[""!==X&&(0,n.jsx)(b,{children:X}),(0,n.jsx)(o.Editor,{ref:K,editorState:C,handleBeforeInput:se,onChange:ae,keyBindingFn:le,handleKeyCommand:de,onFocus:ge,onBlur:_e,placeholder:ee,stripPastedStyles:!0})]}),D?(0,n.jsx)(v,{isWarn:S(C)>=L,children:`${S(C)}/150`}):null]})}))},66192:(e,t,i)=>{"use strict";i.d(t,{P:()=>h});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(8536),l=i(62564),d=i(20259),c=i(23999),u=i(26324),p=i(7672),g=i(44094);let _=class{constructor(e){this.fetch=e}getComplianceSettings(){return this.fetch.get("/api/compliance/settings/",{query:{aid:1988,fromWeb:1}})}getGuardianComplianceSettings(e){return this.fetch.get("/tiktok/v1/compliance/guadig/settings/",{query:e,baseUrlType:2})}};_=(0,n.__decorate)([(0,p._)(),(0,n.__metadata)("design:paramtypes",[g.p])],_);var m=i(63377);let h=class extends o.E{constructor(e){super(),this.service=e,this.defaultState={engagementCountHide:!1,guardianComplianceSettingInited:!1}}setEngagementCountHide(e,t){e.engagementCountHide=t}setGuardianComplianceSettingInited(e,t){e.guardianComplianceSettingInited=t}getComplianceSettings(e){return e.pipe((0,s.Z)(()=>this.service.getComplianceSettings().pipe((0,l.T)(e=>(null==e||e.status_code,this.noop())))))}getGuardianComplianceSettingsEffect(e){return e.pipe((0,s.Z)(e=>this.getGuardianComplianceSettings(e).pipe((0,l.T)(()=>this.noop()))))}getGuardianComplianceSettings(e){return this.service.getGuardianComplianceSettings(e).pipe((0,l.T)(e=>{var t,i;if(this.store.dispatch(this.getActions().setGuardianComplianceSettingInited(!0)),0===(null==e?void 0:e.status_code)){const n=null===(i=null===(t=e.fp.restriction)||void 0===t?void 0:t.engagement_count_settings)||void 0===i?void 0:i.engagement_count_status;return this.store.dispatch(this.getActions().setEngagementCountHide(n===m.Jt.off)),e}return null}),(0,d.W)(e=>(this.store.dispatch(this.getActions().setGuardianComplianceSettingInited(!0)),(0,c.of)(null))))}};(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",u.c)],h.prototype,"dispose$",void 0),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],h.prototype,"setEngagementCountHide",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],h.prototype,"setGuardianComplianceSettingInited",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[u.c]),(0,n.__metadata)("design:returntype",void 0)],h.prototype,"getComplianceSettings",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[u.c]),(0,n.__metadata)("design:returntype",void 0)],h.prototype,"getGuardianComplianceSettingsEffect",null),h=(0,n.__decorate)([(0,r.nV)("ComplianceSettingsModule"),(0,n.__metadata)("design:paramtypes",[_])],h)},66263:(e,t,i)=>{"use strict";i.d(t,{$L:()=>u,$r:()=>c,DM:()=>n,Qh:()=>l,nf:()=>p,wh:()=>d});var n,o=i(72516),a=i(35762),r=i(17384),s=i(54133);!function(e){e[e.Success=0]="Success",e[e.MusicDSPInvalidRefreshToken=3007044]="MusicDSPInvalidRefreshToken",e[e.INTL_ERR_TOKEN_EXPIRED=3004004]="INTL_ERR_TOKEN_EXPIRED",e[e.MusicDSPUserTokenAuthFailed=3007021]="MusicDSPUserTokenAuthFailed"}(n||(n={}));const l=e=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){return a.h.post("/tiktok/music/tt_to_dsp/token/v1",{body:(0,s.stringify)(e),baseUrlType:2,headers:{[r.nk]:a.h.csrfToken}})}),d=()=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){return a.h.get("/tiktok/music/tt_to_dsp/platform/list/v1",{baseUrlType:2,headers:{[r.nk]:a.h.csrfToken}})}),c=e=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){return a.h.post("/tiktok/music/tt_to_dsp/platform/update/v1",{body:(0,s.stringify)(e),baseUrlType:2,headers:{[r.nk]:a.h.csrfToken}})}),u=e=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){return a.h.get("/tiktok/music/tt_to_dsp/songs/check/v1",{query:e,baseUrlType:2,headers:{[r.nk]:a.h.csrfToken}})}),p=e=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){return a.h.post("/tiktok/music/tt_to_dsp/playlist/song/update/v1",{body:(0,s.stringify)(e),baseUrlType:2,headers:{[r.nk]:a.h.csrfToken}})})},66712:(e,t,i)=>{"use strict";i.d(t,{$n:()=>h,BX:()=>w,E9:()=>O,Sx:()=>j,T5:()=>M,Tx:()=>E,Wf:()=>y,ZY:()=>x,Zf:()=>P,b$:()=>R,eR:()=>_,gO:()=>k,jc:()=>C,ml:()=>I,nN:()=>S,rv:()=>m,uA:()=>b,x1:()=>D,yh:()=>T,zk:()=>v});var n=i(63377),o=i(97517),a=i.n(o),r=i(52756),s=i.n(r),l=i(9953),d=i.n(l),c=i(65333),u=i.n(c),p=i(93991),g=i.n(p);function _(e){if(!e.sleep_reminder_enabled||!e)return!1;const t=new Date,i=t.getTime(),n=new Date(t).setHours(e.sleep_time_start_hour,e.sleep_time_start_minute);let o=new Date(t).setHours(e.sleep_time_end_hour,e.sleep_time_end_minute);return o<=n&&(o+=864e5),i>=n&&i<=o}const m=e=>{const t=new Date,i=t.getTime(),n=new Date(t).setHours(e.sleep_time_start_hour,e.sleep_time_start_minute);let o=new Date(t).setHours(e.sleep_time_end_hour,e.sleep_time_end_minute);return o<=n&&(o+=864e5),n-i},h=e=>(e=e||new Date,a()(e).hour()>=18),v=e=>(e=e||new Date,Math.floor((e.getTime()-6e4*e.getTimezoneOffset())/864e5)),f=e=>0===(e=e||new Date).getDay()?7:e.getDay(),y=e=>{const{fp:t,dw:i}=e;let n;return n=t&&2===t.user_identity?t.restriction:i,n},b=e=>{const t=y(e);if(!t)return 0;if(2===t.screen_time_management_repeat_type){const e=f();return t.screen_time_management_week_settings[e-1].screen_time_limit}return t.screen_time_management},x=e=>{let t=e.screen_time_management;if(2===e.screen_time_management_repeat_type){const i=f();t=e.screen_time_management_week_settings[i-1].screen_time_limit}return t},k=(e,t)=>e.replace(/\{(\w+)\}/g,(e,i)=>t[i]),w=e=>Math.floor(e.getTime()/1e3),S=(e,t,i=n.o4)=>{if(localStorage)try{localStorage.setItem(i,JSON.stringify({event:e,value:t}))}catch(e){console.error("stm localstroage occurs error",e)}},C=()=>{try{if(!localStorage)return 0;const e=localStorage.getItem(n.LH);if(!e)return 0;const t=JSON.parse(e);return(new Date).getTime()<=t.timeStamp+5e3&&t.activeTimeUsage||0}catch(e){return console.error(e),0}},j=(e,t)=>{const i=e.userIdentity;if(1===i||3===i||2===i||4===i&&!e.isFpTeenOpenDailySTM||!i){const i=e.userSTMLimit;return e.isOpenDailySTM?((e,t)=>{const i=Math.floor(e/60),n=e%60;return i&&n?t("customizeSTM_screenTimeLimit_selectTimeActionSheet",{hours:i,minutes:n},"{hours}h {minutes}m"):i?t("customizeSTM_screenTimeLimit_selectTime_hours",{hours:i},"{hours}h"):t("customizeSTM_screenTimeLimit_selectTime_minutes",{minutes:n},"{minutes}m")})(i,t):t("screentime_settings_dailyscreentime_status_off",{},"Off")}return 4===i&&e.isFpTeenOpenDailySTM?t("family_safety_mode_locked_mode_indicator",{},"Locked"):""},T=(e,t)=>{const i=e.userIdentity;return 1===i||3===i||4===i&&!e.isFpTeenOpenDailySTM?t("screentimedash_digitalwellbeing_dailyscreentime_desc",{},"Get notified if you reach your time on TikTok."):2===i||4===i&&e.isFpTeenOpenDailySTM?t("customizeSTM_dailyScreenTimeOn_desc_discuss",{username:`@${e.parentUsername}`},"Your daily screen time settings are managed by {username} in Family Pairing."):t("screentimedash_digitalwellbeing_dailyscreentime_desc",{},"Get notified if you reach your time on TikTok.")},I=(e,t)=>{try{if(!sessionStorage)return;let i=!1;if(i=JSON.parse(sessionStorage.getItem(n.w7)||"{}").isUpload||!1,i)return;if(e.isOpenDailySTM){const i=new Date;t.uploadMetric("web_daily_screen_time_limit_status",{status:"on",type:1===e.STMManagementRepeatType?"set the same limit every day":"set a custom limit per day",time:e.userSTMLimit,days:1===e.STMManagementRepeatType?7:i.getDay()})}else t.uploadMetric("web_daily_screen_time_limit_status",{status:"off",type:"null"});e.durationReminder?t.uploadMetric("web_screen_time_break_status",{status:"on",select_time:String(e.durationReminder)}):t.uploadMetric("web_screen_time_break_status",{status:"off",select_time:"null"}),e.isOpenSleepReminder&&e.sleepTimeSettings?t.uploadMetric("web_sleep_reminder_status",{status:"on",sleep_time:`${e.sleepTimeSettings.sleep_time_start_hour.toString()}:${e.sleepTimeSettings.sleep_time_start_minute.toString().padStart(2,"0")}`}):t.uploadMetric("web_sleep_reminder_status",{status:"off",sleep_time:"null"}),t.uploadMetric("web_weekly_screen_time_update_status",{status:e.weeklyScreenTimeUpdates?"on":"off"}),sessionStorage.setItem(n.w7,JSON.stringify({isUpload:!0}))}catch(e){console.error(e)}},P=(e,t)=>{const i=d()(t+":"+e).toString(),n=u().parse(i),o=u().parse(t);return s()(n,o).toString()},A=(e,t)=>{const i=t?(()=>{const e=f();return 1===e?7:e-1})():f(),n=a()(),o=t?n.subtract(1,"day"):n,r=e.screen_down_time_day_setting.find(e=>e.day===i);if(!r)return{status:!1,rule:{startTime:"",endTime:""}};const s=a()().millisecond(0).second(0).minute(r.start_min).hour(r.start_hour).day(o.day()),l=r.end_hour<r.start_hour||r.end_hour===r.start_hour&&r.end_min<r.start_min,d=a()().millisecond(0).second(0).hour(r.end_hour).minute(r.end_min).day(l?o.add(1,"day").day():o.day());return n.isBefore(s)||n.isAfter(d)||n.isSame(d,"minute")?{status:!1,rule:{startTime:"",endTime:""}}:{status:!0,rule:{startTime:r.startTime||"",endTime:r.endTime||""}}},M=e=>{const t=A(e);if(t.status)return t;const i=A(e,!0);return i.status?i:t},L=(e,t)=>{const i=e>=12?"PM":"AM";return`${e%12||12}:${t.toString().padStart(2,"0")} ${i}`},D=e=>{var t;let i;if("object"==typeof(null==e?void 0:e.fp)){i=null===(t=e.fp.restriction)||void 0===t?void 0:t.screen_down_time_settings;const o=null==i?void 0:i.screen_down_time_day_setting;if(i&&g()(o)){const e=(e=>[7,1,2,3,4,5,6].map(t=>{const i=e.find(e=>e.day===t),{dayName:o,defaultDayName:a}=(e=>{let t="",i="N/A";switch(e){case 1:t="FPscheduledBreak_parentDetailpage_monday",i="Monday";break;case 2:t="FPscheduledBreak_parentDetailpage_tuesday",i="Tuesday";break;case 3:t="FPscheduledBreak_parentDetailpage_wednesday",i="Wednesday";break;case 4:t="FPscheduledBreak_parentDetailpage_thursday",i="Thursday";break;case 5:t="FPscheduledBreak_parentDetailpage_friday",i="Friday";break;case 6:t="FPscheduledBreak_parentDetailpage_saturday",i="Saturday";break;case 7:t="FPscheduledBreak_parentDetailpage_sunday",i="Sunday"}return{defaultDayName:i,dayName:t}})(t);if(i){const[e,t,n]=((e,t,i,n)=>{const o=L(e,t),a=L(i,n);return[`${o} - ${a}`,o,a]})(i.start_hour,i.start_min,i.end_hour,i.end_min);return Object.assign(Object.assign({},i),{dayName:o,defaultDayName:a,daySettingTime:e,startTime:t,endTime:n})}return{start_hour:0,start_min:0,end_hour:0,end_min:0,day:t,screen_down_time_status_day:n.qL.off,dayName:o,daySettingTime:void 0,startTime:void 0,endTime:void 0}}))(o);i.screen_down_time_day_setting=e}}return i},O=(e,t,i)=>e+1e3*t>=36e5+18e5*i,R=e=>{const{time_usage:t}=e;let i=0;if("object"==typeof t&&t.length){const{night_usage:e,day_usage:n}=t[t.length-1];"number"==typeof e&&"number"==typeof n&&(i=e+n)}return i},E=(e,t="AM",i="PM")=>{const n=(null==e?void 0:e.sleep_time_start_hour)||0,o=n<12;return`${n>12?n-12:n}:${(null==e?void 0:e.sleep_time_start_minute.toString().padStart(2,"0"))||"00"} ${o?t:i}`}},66789:(e,t,i)=>{"use strict";i.d(t,{m:()=>b});var n=i(24643),o=i(70716),a=i(64267),r=i(9668),s=i(67476),l=i(48926),d=i(45027),c=i(73580),u=i(72355),p=i(84573),g=i.n(p),_=i(27799),m=i(85650),h=i(15923),v=i(40099);const f=[{label:"0",value:0},{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6}],y=Array.from({length:12},(e,t)=>({label:(5*t).toString(),value:5*t})),b=e=>{const{isPopup:t=!1,handleEditClose:i}=e,[p,b]=(0,d.S)(m.z),x=(0,c.Nj)(h.i),[k,w]=(0,v.useState)(1===p.STMManagementRepeatType?"everyday":"week"),[S,C]=(0,v.useState)(1===p.STMManagementRepeatType?p.userSTMLimit:40),[j,T]=(0,v.useState)(p.isOpenDailySTM),[I,P]=(0,v.useState)(!1),[A,M]=(0,v.useState)(()=>{if(0===p.STMManagementDaySetting.length){const e=[];for(let t=0;t<7;t++)e.push({screen_time_limit:60,screen_time_setting_type:1,status:0,day:t+1});return e}return[...p.STMManagementDaySetting]}),[L,D]=(0,v.useState)(1===p.STMManagementRepeatType&&1===p.STMManagementType),[O,R]=(0,v.useState)(()=>{const e=new Date,t=0===e.getDay()?7:e.getDay();return 2===p.STMManagementRepeatType?t:-1}),[E,F]=(0,v.useState)(()=>1===p.STMManagementRepeatType&&1===p.STMManagementType?[Math.floor(p.userSTMLimit/60),p.userSTMLimit%60]:[1,0]),[B,z]=(0,v.useState)(()=>{const e=[];for(let t=0;t<7;t++)if(e[t]=[1,0],2===p.STMManagementRepeatType){const i=p.STMManagementDaySetting.find(e=>e.day===t+1);if(i){const n=Math.floor(i.screen_time_limit/60),o=i.screen_time_limit%60;e[t]=[n,o]}}return e}),U=(0,s.Ab)({zIndex:999999}),N=(0,u.W6)(),W=(0,v.useRef)(""),V=(0,_.s)(),H="screentimedash_digitalwellbeing_summary_timespent_graph_yaxis_minutes_1",q="screentimedash_digitalwellbeing_summary_timespent_graph_yaxis_hours_1",$={"40m":{label:V(H,{minutes:"40"},"{minutes}m"),value:40},"1h":{label:V(q,{hours:"1"},"{hours}h"),value:60},"1h30m":{label:`${V(q,{hours:"1"},"{hours}h")} ${V(H,{minutes:"30"},"{minutes}m")}`,value:90},"2h":{label:V(q,{hours:"2"},"{hours}h"),value:120}},G=[{name:"hour",options:f},{name:"minute",options:y}],K=[V("screentimedash_digitalwellbeing_summary_day_label_mon",{},"Mon").replace("&rlm;",""),V("screentimedash_digitalwellbeing_summary_day_label_tue",{},"Tue").replace("&rlm;",""),V("screentimedash_digitalwellbeing_summary_day_label_wed",{},"Wed").replace("&rlm;",""),V("screentimedash_digitalwellbeing_summary_day_label_thu",{},"Thu").replace("&rlm;",""),V("screentimedash_digitalwellbeing_summary_day_label_fri",{},"Fri").replace("&rlm;",""),V("screentimedash_digitalwellbeing_summary_day_label_sat",{},"Sat").replace("&rlm;",""),V("screentimedash_digitalwellbeing_summary_day_label_sun",{},"Sun").replace("&rlm;","")],Y=e=>{R(e)},Z=e=>{const{value:t}=e.target;if("everyday"===t){const e=g()(A);e.forEach(e=>e.status=0),M(e)}w(t)},J=e=>{const[t,i]=e;return`${t?V(q,{hours:String(t)},"{hours}h"):""} ${i?V(H,{minutes:String(i)},"{minutes}m"):""}`};return(0,v.useEffect)(()=>{if(!j)return void P(!1);const e=p.STMManagementRepeatType||0;w(1===e?"everyday":"week"),P(!0)},[j]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.bP,{isPopup:!0,children:[(0,n.jsx)(o.Uc,{children:V("dailyscreentime_featurescreen_desc_balanceyourday",{},"We’ll let you know if you reach your daily time to help you balance your day.")}),t?null:(0,n.jsx)(s.zm,{color:"LineSecondary"}),(0,n.jsxs)(o.w2,{children:[(0,n.jsx)(a.A,{}),(0,n.jsx)(o.PZ,{children:V("dailyscreentime_featurescreen_firstbullet_settime",{},"Set your daily time")})]}),(0,n.jsx)(o.up,{children:V("dailyscreentime_featurescreen_firstbullet_settime_desc_choose",{},"Choose how long to spend on TikTok")}),(0,n.jsxs)(o.w2,{children:[(0,n.jsx)(r.A,{}),(0,n.jsx)(o.PZ,{children:V("dailyscreentime_featurescreen_secondbullet_getnotified",{},"Get notified")})]}),(0,n.jsx)(o.up,{children:V("dailyscreentime_featurescreen_secondbullet_getnotified_desc_close",{},"Close TikTok to stay within your daily time, or enter a passcode to return to it")}),t?null:(0,n.jsx)(s.zm,{color:"LineSecondary"}),(0,n.jsxs)(o.NC,{children:[(0,n.jsx)(o.c3,{children:V("screenTime_web_dailyscreentime_mainSetting_toggle_desc",{},"Set daily screen time")}),(0,n.jsx)(s.OV,{label:"",checked:j,onChange:e=>{const{checked:t}=e.target;T(t)}})]}),I?(0,n.jsxs)(o.PF,{children:[(0,n.jsx)(s.v3,{label:V("customizeSTM_screenTimeLimit_option_sameLimit",{},"Set the same limit every day"),name:"settDailySTMType",value:"everyday",checked:"everyday"===k,onChange:Z}),"everyday"===k?(0,n.jsx)(o.hN,{children:(0,n.jsxs)(n.Fragment,{children:[Object.keys($).map(e=>(0,n.jsx)(o.tZ,{width:"120px",onClick:()=>{var t;t=$[e].value,D(!1),C(t)},isSelected:"everyday"===k&&!L&&S===$[e].value,children:$[e].label},$[e].label)),(0,n.jsxs)(o.VB,{children:[(0,n.jsx)(o.tZ,{width:"120px",onClick:()=>{D(!0)},isSelected:"everyday"===k&&L,children:V("screenTime_web_setting_customTime_option",{},"Custom")}),L?(0,n.jsx)(l.Q,{label:e=>J(e),value:E,onChange:e=>{let[t,i]=e;const n=60*t+i;0===n?(i=5,C(5)):C(n),L&&F([t,i])},selection:G,showArrow:!1,width:"120px"}):null]})]})}):(0,n.jsx)(o.fp,{}),(0,n.jsx)(s.v3,{label:V("customizeSTM_screenTimeLimit_option_customLimit",{},"Set a custom limit per day"),name:"settDailySTMType",value:"week",checked:"week"===k,onChange:Z}),"week"===k?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.hN,{children:K.map((e,t)=>(0,n.jsx)(o.tZ,{width:"120px",isSelected:"week"===k&&O===t+1,onClick:()=>Y(t+1),children:e},`${e}`))}),(0,n.jsx)(o.hN,{children:K.map((e,t)=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.Q,{label:e=>J(e),value:B[t],onClick:()=>Y(t+1),onChange:e=>{((e,t)=>{let[i,n]=e;const o=g()(B),a=g()(A);let r=60*i+n;0===r&&(n=5,r=5),o[t]=[i,n];const s=a.find(e=>e.day===t+1);s&&(s.screen_time_limit=r),a.forEach(e=>e.status=1),z(o),M(a)})(e,t)},selection:G,showArrow:!1})}))})]}):null]}):null,(0,n.jsx)(o.GD,{children:(0,n.jsx)(s.I0,{label:V("screenTime_web_dailyscreentime_manageTime_modal_done_btn",{},"Done"),variant:"primary",onClick:()=>{try{const e={screen_time_management:S,screen_time_management_status:j?1:0,screen_time_management_type:L?1:0,screen_time_management_repeat_type:"everyday"===k?1:2,screen_time_management_week_settings:A};b.dailySTMUpdateHandler(e),x.uploadMetric("web_daily_screen_time_limit_toggle",{status:j?"on":"off"}),!t&&N.goBack(),t&&"function"==typeof i&&i()}catch(e){console.error(e),W.current=U.open({message:"something wrong",durationMS:3e3})}}})})]})})}},67114:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>x,B8:()=>f,yC:()=>b});var n=i(24643),o=i(40099),a=i(47389),r=i(64944),s=i(8475),l=i(37859),d=i(45027),c=i(95074),u=i(70589),p=i(20173),g=i(77293),_=i(29547),m=i(17947),h=i(7765),v=i(97854);const f={DELETE_REPORT:"DELETE_REPORT",ISSUE_TOPIC:"ISSUE_TOPIC",REQUEST_ANOTHER_REVIEW:"REQUEST_ANOTHER_REVIEW",MUTE_CHAT_NOTIFICATIONS:"MUTE_CHAT_NOTIFICATIONS",UNMUTE_CHAT_NOTIFICATIONS:"UNMUTE_CHAT_NOTIFICATIONS",UN_FOLLOW_USER:"UN_FOLLOW_USER",BLOCK_USER:"BLOCK_USER",UN_BLOCK_USER:"UN_BLOCK_USER",RESUBMIT_REPORT:"RESUBMIT_REPORT"};var y;!function(e){e[e.REPORT_INBOX=0]="REPORT_INBOX",e[e.VIOLATION_APPEAL=1]="VIOLATION_APPEAL",e[e.NONE=2]="NONE"}(y||(y={}));const b=[f.BLOCK_USER,f.UN_BLOCK_USER,f.REQUEST_ANOTHER_REVIEW,f.RESUBMIT_REPORT],x=({seeOptionsInfo:e,visible:t,reportId:i,onClose:x,onActionExecuted:k})=>{var w,S,C,j;const T=(0,d.w)(a.j),[I,P]=(0,o.useState)(y.REPORT_INBOX),[A,M]=(0,o.useState)(null),L=(0,o.useRef)(null),[D,O]=(0,o.useState)("0px"),{refreshReport:R}=(0,c.P)(a.j),{showFullSideNav:E}=(0,u.Oj)(),{reportDetail:{data:F}}=(0,c.P)(a.j),B=(0,c.P)(p.L,{selector:e=>e.lang,dependencies:[]}),z=(0,g.Cp)(),U=(0,v.U)(null!==(w=null==F?void 0:F.ComplianceScene)&&void 0!==w?w:""),{handleShowReport:N}=(0,m.Ah)({undefined:void 0,reportTarget:Object.assign(Object.assign({lang:B,report_type:null!==(S=null==F?void 0:F.object_type_name)&&void 0!==S?S:"video",object_id:null!==(C=null==F?void 0:F.object_id)&&void 0!==C?C:"",owner_id:null!==(j=null==F?void 0:F.object_owner_id)&&void 0!==j?j:""},U),{report_record:null==F?void 0:F.report_record,report_id:i})});return(0,o.useEffect)(()=>{null!==R&&k()},[R]),(0,o.useEffect)(()=>{if(A&&null===L.current){const e=new ResizeObserver(e=>{const t=e[0].target.clientHeight;O(`-${t-80}px`)});return e.observe(A),L.current=e,()=>{var e;null===(e=L.current)||void 0===e||e.disconnect()}}},[A]),(0,n.jsxs)(n.Fragment,{children:[t&&I===y.REPORT_INBOX&&(0,n.jsx)(r.BQ,{style:{bottom:D},isModalOnLeft:E,children:(0,n.jsx)(r.$B,{isModalOnLeft:E,children:(0,n.jsx)(r.bK,{ref:e=>{M(e)},children:(0,n.jsx)(r.he,{children:e.map((e,t)=>b.includes(e.code)?(0,n.jsxs)(r.zC,{onClick:t=>{((e,t)=>{var n,o,a;switch(e.code){case f.RESUBMIT_REPORT:N(t),x(),z.setInboxTabShowing(!1),h.o.handleDSAResubmitMoreOptionsClick({enter_from:"report_inbox",object_type:null!==(a=null===(o=null===(n=null==F?void 0:F.report_record)||void 0===n?void 0:n.common_data)||void 0===o?void 0:o.object_type)&&void 0!==a?a:0});break;case f.REQUEST_ANOTHER_REVIEW:P(y.VIOLATION_APPEAL);break;case f.DELETE_REPORT:T.getDeleteReport({reportId:i});break;case f.UN_BLOCK_USER:T.getBlockUser({toolsType:f.UN_BLOCK_USER,processedUserId:e.extra.unblock_uid});break;case f.BLOCK_USER:T.getBlockUser({toolsType:f.BLOCK_USER,processedUserId:e.extra.block_uid})}})(e,t)},children:[e.name,(0,n.jsx)(r._k,{children:(0,n.jsx)(s.A,{width:16,height:16})})]},`div-options-container-row-${t}`):(0,n.jsx)(n.Fragment,{}))})})})}),(0,n.jsx)(_.aF,{visible:I===y.VIOLATION_APPEAL,onClose:()=>{P(y.REPORT_INBOX)},children:(0,n.jsx)("div",{style:{width:"800px"},children:(0,n.jsx)(l.A,{reportId:i,onBack:()=>{P(y.REPORT_INBOX)},onClose:()=>{P(y.REPORT_INBOX)}})})})]})}},67553:(e,t,i)=>{"use strict";var n;i.d(t,{D:()=>r,x:()=>a}),function(e){e[e.CHILD_ABUSE_CONTENT=950111]="CHILD_ABUSE_CONTENT",e[e.DISTRIBUTE_CHILD_ABUSE=950112]="DISTRIBUTE_CHILD_ABUSE",e[e.CHILD_GROOMING_SOLICITATION=950113]="CHILD_GROOMING_SOLICITATION"}(n||(n={}));const o=[n.CHILD_ABUSE_CONTENT,n.CHILD_GROOMING_SOLICITATION,n.DISTRIBUTE_CHILD_ABUSE],a=e=>void 0!==e&&o.includes(e),r=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},68252:(e,t,i)=>{"use strict";i.d(t,{G:()=>l,T:()=>s});var n=i(24643),o=i(2395),a=i(40746),r=i(59030);const s=(e,t)=>{const i=[{hreflang:"x-default",href:e}];return r.wX.forEach(({value:n})=>{const o=n,a=`${e}${"query"===t?`?lang=${o}`:`/${o}`}`;i.push({hreflang:o,href:a})}),i.map(({hreflang:e,href:t})=>(0,n.jsx)("link",{rel:"alternate",hrefLang:e,href:t},e))},l=(0,a.M)({csr:(e,t)=>{var i,n,a,r;const s=null!==(n=null===(i=(0,o.y)(e,t).seoProps)||void 0===i?void 0:i.metaParams)&&void 0!==n?n:{},l=null!==(r=null===(a=(0,o.d)(e,t).seoProps)||void 0===a?void 0:a.jsonldList)&&void 0!==r?r:[];return Promise.resolve(Object.assign(Object.assign({},e.seoProps),{metaParams:s,jsonldList:l}))}})},68316:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});const n={STM_DESC_MINUTES:"dailyscreentime_notifreminder_desc_minutes",STM_DESC_MINUTES_FP:"familyPairing_dailyScreenTime_intervention_desc_minutes",STM_DESC_HOURS:"dailyscreentime_notifreminder_desc_hours",STM_DESC_HOURS_FP:"familyPairing_dailyScreenTime_intervention_desc_hours",STM_DESC_HOURS_MINUTES:"dailyscreentime_notifreminder_desc_hoursminutes",STM_DESC_HOURS_MINUTES_FP:"familyPairing_dailyScreenTime_intervention_desc_hoursMinutes",STM_INCORRECT_PASSCODE:"dailyscreentime_notifreminder_toast_incorrectpasscode",STM_HEADER_MINOR:"dailyscreentime_introsheet_minors_heading",SLEEP_REMINDER_HEADER:"nightscreentimemgmt_sleepreminders_modal_readyforsleep_heading",SLEEP_REMINDER_DESC:"nightscreentimemgmt_sleepreminders_modal_readyforsleep_firstreminder_desc",SLEEP_REMINDER_EDIT:"nightscreentimemgmt_sleepreminders_modal_readyforsleep_editreminder_link",SLEEP_REMINDER_OK:"nightscreentimemgmt_sleepreminders_modal_readyforsleep_ok_btn",SLEEP_REMINDER_DELAY:"nightscreentimemgmt_sleepreminders_modal_readyforsleep_delay_btn_variantone",STB_HEADER:"screentime_breakreminder_modal_timetotakeabreak_title",STB_DESC:"screentime_breakreminder_modal_timetotakeabreak_desc_1",STB_EDIT:"screentime_breakreminder_modal_editreminder_link",STB_OK:"screentime_breakreminder_modal_ok_btn",STB_SNOOZE:"screentime_breakreminder_modal_snooze_link",STM_TITLE:"dailyscreentime_notifreminder_header_ready",STM_TITLE_FP:"familyPairing_dailyScreenTime_intervention_headline",STM_CONFIRM_TOAST:"familyPairing_dailyScreenTime_intervention_returnToTikTok_toast",STM_ERROR_TOAST:"familyPairing_dailyScreenTime_intervention_incorrectPasscode_error",STM_RETURN_TIKTOK:"dailyscreentime_notifreminder_button_returntotiktok",STM_MINOR_HEADER:"dailyscreentime_introsheet_minors_heading",STM_MINOR_NOTICE_MESSAGE:"dailyscreentime_introsheet_minors_firstbullet_logoff",STM_MINOR_NOTICE_EDIT:"dailyscreentime_introsheet_minors_secondbullet_settingsprivacy",STM_MINOR_GOT_IT:"dailyscreentime_introsheet_minors_firstbutton_gotit",STM_MINOR_MANAGE:"dailyscreentime_introsheet_minors_secondbutton_manage"}},68676:(e,t,i)=>{"use strict";i.d(t,{G:()=>v});var n=i(24643),o=i(40099),a=i(43664),r=i(18650),s=i(16842),l=i(20434),d=i(10114),c=i(64207),u=i(77849),p=i(16410);const g=(0,p.default)("div",{target:"et4pcts0"})(({theme:{direction:e},isHorizontal:t,isStyleV2:i=!1})=>{const n="rtl"===e,o=i?"96px":"64px",a=i?"28px":"24px";return[{width:t?o:a,height:t?a:o,display:"block",position:"relative",cursor:"initial",background:i?"rgba(255, 255, 255, 0.12)":"rgba(22, 24, 35, 0.34)",borderRadius:"32px"},t?{marginTop:"7px",marginBottom:"7px",marginLeft:n?"8px":0,marginRight:n?0:"8px"}:{margin:i?"8px 6px":"8px 7px 0px"}]},"label:DivVolumeControlContainer;"),_=(0,p.default)("div",{target:"et4pcts1"})(({theme:{colors:e},isHorizontal:t,isStyleV2:i=!1})=>{const n=i?"80px":"48px",o=i?"4px":"2px";return[{width:t?n:o,height:t?o:n,backgroundColor:e.ConstTextInverse5,position:"absolute",cursor:"pointer",borderRadius:"4px"},t?{left:"8px",right:"8px",top:i?"12px":"11px"}:{left:i?"12px":"11px",top:"8px",bottom:"8px"}]},"label:DivVolumeControlProgress;"),m=(0,p.default)("div",{target:"et4pcts2"})(({theme:{colors:e,direction:t},backgroundTheme:i,isHorizontal:n,isStyleV2:o})=>{const a="rtl"===t,r=o?"80px":"48px",s=o?"4px":"2px";return[{width:n?r:s,height:n?s:r,backgroundColor:"primary"===i?e.ConstTextInverse:e.BGPrimary,position:"absolute",cursor:"pointer",transformOrigin:"bottom",borderRadius:"4px"},n?{transform:"scaleX(0)",transformOrigin:a?"right":"left",top:o?"12px":"11px",left:a?"unset":"8px",right:a?"8px":"unset"}:{transform:"scaleY(0)",left:o?"12px":"11px",bottom:"8px"}]},"label:DivVolumeControlBar;"),h=(0,p.default)("div",{target:"et4pcts3"})(({theme:{direction:e},isHorizontal:t,isStyleV2:i=!1})=>{const n="rtl"===e;return[{width:"12px",height:"12px",backgroundColor:"#ffffff",borderRadius:"12px",position:"absolute",cursor:"pointer",zIndex:1},t?{top:i?"8px":"6px",left:n?"unset":"8px",right:n?"8px":"unset"}:{left:i?"8px":"6px",bottom:"8px"}]},"label:DivVolumeControlCircle;"),v=(0,o.memo)((0,o.forwardRef)(function(e,t){const i=(0,o.useRef)(null),p=(0,o.useRef)(null),v=(0,o.useRef)(null),f=(0,o.useRef)(!0),{setVolumeDragging:y,isStyleV2:b=!1,style:x,teaParams:k,isHorizontal:w}=e,{isRTL:S}=(0,r.m)(),{mute:C,volume:j,setVolume:T}=(0,d.rq)(),I=(0,o.useCallback)((e,t)=>{a.p.handleSwitchSound(Object.assign({playMode:0,volume_from:e,volume_to:t},k)),a.p.handleVolumeChange({volume_from:e,volume_to:t,click_mute:!1})},[]),P=(0,o.useRef)(C);(0,o.useEffect)(()=>{P.current=C},[C]);const{percent:A,bindDrag:M,seek:L,seekByDelta:D,update:O}=(0,c.M)({direction:w?S?"rtl":"ltr":"vertical",progressRef:i,circleRef:p,barRef:v,initialPercent:j,draggingStateCb:y,progressReportCallback:I}),R=(0,s._g)(e=>{f.current?f.current=!1:T(e,P.current)},[T],160);(0,o.useEffect)(()=>R(A),[A]),(0,o.useEffect)(()=>{C||j!==u.Lj||O(u.Lj)},[C,j,O]);const E=C?0:A,F=E*(b?68:36);return(0,o.useImperativeHandle)(t,()=>({seekByDelta:D})),(0,n.jsxs)(g,{isHorizontal:w,isStyleV2:b,style:x,onClick:l.dG,children:[(0,n.jsx)(_,{isHorizontal:w,isStyleV2:b,ref:i,onClick:L,onMouseDown:M}),(0,n.jsx)(h,{isHorizontal:w,isStyleV2:b,ref:p,style:{transform:w?`translateX(${F*(S?-1:1)}px)`:`translateY(-${F}px)`},onMouseDown:M}),(0,n.jsx)(m,{isHorizontal:w,isStyleV2:b,backgroundTheme:"primary",ref:v,style:{transform:w?`scaleX(${E})`:`scaleY(${E})`},onClick:L,onMouseDown:M})]})}))},68932:(e,t,i)=>{"use strict";e.exports=i.p+"57ca16f6b5b90c7753d0.png"},69484:(e,t,i)=>{"use strict";i.d(t,{Hz:()=>o,L9:()=>r,Ri:()=>a});var n=i(20434);const o=(e,t)=>{try{if("business"!==new URLSearchParams(window.location.search).get("scene"))return;window.parent.postMessage({type:e,params:t},window.location.origin)}catch(e){console.error("postMessage error",e)}},a=e=>{var t;const i=`; ${document.cookie}`.split(`; ${e}=`);return i.length>0?null===(t=i.pop())||void 0===t?void 0:t.split(";").shift():null},r=(e,t,i)=>{const o=JSON.parse((0,n._S)(e));o[t]=i,(0,n.AP)(e,JSON.stringify(o))}},70121:(e,t,i)=>{"use strict";i.d(t,{d:()=>p});var n=i(24643),o=i(40099),a=i(89610),r=i(16410),s=i(93584),l=i(22797);const d=(0,r.default)("div",{target:"e138hxzu0"})({marginBottom:"8px"},"label:DivLinkContainer;"),c=(0,r.default)(l.N_,{target:"e138hxzu1"})(({theme:e,fontStyle:t})=>[(0,s.zy)({theme:e,color:"TextTertiary",fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P4",isLink:!0}),Object.assign({display:"inline-block",marginRight:"6px",marginTop:"5px"},t)],"label:StyledNavLink;"),u=(0,i(97260).w)(c),p=(0,o.memo)(function({navList:e,e2e:t,forceSSR:i=!0,reportShow:r,reportClick:s,containerStyle:l,linkStyle:c,disableAutoLang:p,pageListType:g=""}){const _=(0,o.useRef)(null),m=(0,o.useCallback)(()=>{null==r||r()},[r]);return(0,a.B)({intersectionHandler:m,element:_,threshold:[.5]}),e?(0,n.jsx)(d,{ref:_,style:l,children:e.map(e=>(0,n.jsx)(u,Object.assign({forceSSR:i,to:e.href,"data-e2e":t,target:"_blank",fontStyle:c,disableAutoLang:p},s&&{onClick:s},{etClick:{etName:"click_footer_sub_menu",etParams:{sub_menu:e.href.split("?")[0],footer_button:g}},children:e.title}),e.href))}):(0,n.jsx)(n.Fragment,{})})},70126:(e,t,i)=>{"use strict";e.exports=i.p+"81479b0f5488c5f3b85d.png"},70158:(e,t,i)=>{"use strict";i.d(t,{QM:()=>Ht});var n=i(24643),o=i(40099),a=i(72355),r=i(54623),s=i(27799),l=i(52165),d=i(45027),c=i(95074),u=i(54133),p=i(37818),g=i(96406),_=i(90976),m=i(12951),h=i(74042),v=i(20173),f=i(2232),y=i(70589),b=i(81378),x=i(43799),k=i(67518),w=i(37694),S=i(48156),C=i(20434),j=i(23037),T=i(11365),I=i(34038),P=i(29547),A=i(40337),M=i(16410),L=i(60751),D=i(93584);const O=(0,M.default)("div",{target:"esns4rh0"})([({theme:{direction:e}})=>[(0,D.mp)({direction:e,marginStart:"18px",paddingEnd:"2px"}),{width:"24px",flex:"0 0 24px",display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"24px"}]],"label:DivActionContainer;"),R=(0,M.default)("div",{target:"esns4rh1"})({position:"relative",display:"none"},"label:DivMoreContainer;"),E=(0,M.default)(L.A,{target:"esns4rh2"})({width:"24px",height:"24px",cursor:"pointer",display:"block"},"label:StyledMoreIcon;");E.defaultProps=Object.assign(Object.assign({},E.defaultProps),{"data-e2e":"comment-more-icon"});const F=(0,M.default)("div",{target:"esns4rh3"})(({theme:e})=>(0,D.zy)({theme:e,typography:"P2",fontWeight:"bold",fontFamily:"TikTokFont"}),{padding:"8px 16px",minWidth:"200px"},"label:DivPopupContainer;"),B=(0,M.default)("p",{target:"esns4rh4"})(({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"12px 0",whiteSpace:"nowrap",cursor:"pointer","&:not(:last-of-type)":{borderBottom:`1px solid ${e.LineSecondary}`},":hover":{color:e.Primary}}),"label:PActionItem;"),z=(0,M.default)("span",{target:"esns4rh5"})(({theme:{direction:e}})=>(0,D.mp)({direction:e,marginStart:"12px"}),"label:SpanActionText;"),U=(0,M.default)("div",{target:"esns4rh6"})(({theme:e})=>(0,D.zy)({theme:e,typography:"H4",fontFamily:"TikTokDisplayFont",fontWeight:"bold"}),{padding:"28px 24px",textAlign:"center"},"label:DivModalContentContainer;"),N=(0,M.default)("div",{target:"esns4rh7"})({display:"flex",flexDirection:"column"},"label:DivButtonContainer;"),W=(0,M.default)("button",{target:"esns4rh8"})(D.WA,({primary:e,theme:t})=>[(0,D.zy)({theme:t,typography:"H6",color:e?"TextPrimary":"TextTertiary",fontWeight:e?"semiBold":"normal"}),{height:"48px",lineHeight:"48px",cursor:"pointer","::before":{content:'""',width:"100%",height:"1px",display:"block",background:t.colors.LineSecondary,transform:"scaleY(0,5)"}}],"label:ButtonAction;"),V=(0,M.default)("div",{target:"e1qi8jyk0"})(({theme:{direction:e}})=>[(0,D.mp)({direction:e,marginStart:"8px"}),{width:"24px",flex:"0 0 24px",display:"flex",flexDirection:"column",alignItems:"center",marginLift:"auto"}],"label:DivActionContainer;"),H=(0,M.default)("div",{target:"e1qi8jyk1"})({width:"310px"},"label:DivModalContainer;"),q=function({wordId:e="",id:t="",word:i=""}){var a;const r=(0,s.s)(),l=(0,j.M)(),{direction:c}=(0,k.u)(),{active:u,handleMouseEnter:p,handleMouseLeave:g}=(0,T.K)(),[,m]=(0,d.S)(A.Zr),{user:h}=null!==(a=(0,_.W)(()=>["user"],[]))&&void 0!==a?a:{},v=(0,o.useCallback)(e=>{13===e.keyCode||32===e.keyCode?((0,C.Gu)(e),u?g():p()):27===e.keyCode&&u&&((0,C.Gu)(e),g())},[p,g,u]),f=(0,o.useCallback)(e=>t=>{13!==t.keyCode&&32!==t.keyCode||((0,C.Gu)(t),e(t))},[]),{handleShowReport:y,handleClickReport:b}=(0,x.DL)(),M="ltr"===c?"bottomRight":"bottomLeft",{colors:L}=(0,k.u)(),[D,O]=(0,o.useState)(!1),q=(0,o.useCallback)(()=>{y({id:t,word:i,wordId:e}),O(!0)},[y,t,i,e]),$=(0,o.useCallback)(n=>{b({id:t,word:i,wordId:e,detail:n}),"cancel"!==n&&(m.setBlockListByUid({blockId:e,uid:null==h?void 0:h.uid,blockType:"wordIdList"}),S.F.open({content:r("Thank you for your feedback"),duration:3})),O(!1)},[m,b,t,r,h,i,e]),G=(0,o.useMemo)(()=>[{key:"Not interested",i18nKey:"searchquerycomment_feedbackpanel_notinterested"},{key:"Unrelated content",i18nKey:"searchquerycomment_feedbackpanel_unrelated"},{key:"Inappropriate content",i18nKey:"searchquerycomment_feedbackpanel_inappropriate"},{key:"others",i18nKey:"searchquerycomment_feedbackpanel_others"},{key:"cancel",i18nKey:"comment_delete_cancel"}].map(e=>Object.assign(Object.assign({},e),{onClick:()=>$(e.key)})),[$]);return(0,n.jsxs)(V,{children:[(0,n.jsxs)(R,{"aria-label":r("pc_web_more_btn"),role:"button",onMouseEnter:p,onMouseLeave:g,tabIndex:0,onKeyDown:v,children:[(0,n.jsx)(E,{}),(0,n.jsx)(I.z,{backgroundColor:L.BGSecondary,active:u,placement:M,margin:-6,children:(0,n.jsx)(F,{children:(0,n.jsxs)(B,{"aria-label":r("Report"),role:"button",onClick:q,tabIndex:0,onKeyDown:f(q),"data-e2e":"comment-top-report",children:[(0,n.jsx)(w.A,{width:24,height:24}),(0,n.jsx)(z,{children:r("Report")})]})})})]}),(0,n.jsx)(P.aF,{visible:D,parentRef:l,children:(0,n.jsxs)(H,{children:[(0,n.jsx)(U,{children:r("searchquerycomment_feedbackpanel_header")}),(0,n.jsx)(N,{children:G.map(({i18nKey:e,key:t,onClick:i})=>(0,n.jsx)(W,{primary:"cancel"!==t,onClick:i,children:r(e)},t))})]})})]})};var $=i(27426),G=i(63595);const K=(0,M.default)("div",{target:"eej7vwn0"})(({theme:e})=>(0,D.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold"}),{width:"100%",height:"64px",display:"flex",padding:"20px 42px 20px 32px",alignItems:"center",flexShrink:0,boxSizing:"border-box",lineHeight:"20px",position:"relative",fontSize:"16px"},({onlyOptimizeCta:e})=>e&&{paddingRight:"34px"},{":hover,:focus-within":{[`${R}`]:{display:"block"}}},({allowRightPanelScroll:e})=>e&&{marginBottom:`-${G.p}px`,paddingLeft:0,paddingRight:0},"label:DivCommentTop;"),Y=(0,M.default)("span",{target:"eej7vwn1"})(({theme:{colors:e}})=>({color:e.TextTertiaryAlt}),"label:SpanHint;"),Z=(0,M.default)("span",{target:"eej7vwn2"})({cursor:"pointer",display:"flex",overflow:"hidden",flex:1},"label:SpanWordContainer;"),J=(0,M.default)("span",{target:"eej7vwn3"})(({theme:{colors:e}})=>({color:e.AssistColorAzure,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),"label:SpanWord;"),X=(0,M.default)($.A,{target:"eej7vwn4"})(({theme:{colors:e}})=>({width:"10px",height:"10px",flexShrink:0,color:e.AssistColorAzure}),"label:StyledMagnifyingGlass;"),Q=(0,o.memo)(function({id:e,onClose:t}){var i;const{isBrowserModeShowing:r}=(0,o.useContext)(l.g),{abTestVersion:s}=null!==(i=(0,_.W)(()=>["abTestVersion"],[]))&&void 0!==i?i:{},k="v2"===(0,f.qt)(s,"search_entry_comment_top"),{wordList:w,hintText:S,logId:C}=(0,m.iA)(e,"comment_top"),{word:j,word_id:T}=(0,o.useMemo)(()=>{var e;return null!==(e=w[0])&&void 0!==e?e:{}},[w]),I=(0,a.zy)(),{allowRightPanelScroll:P,onlyOptimizeCta:A}=(0,y.kb)(),M=(0,a.W6)(),{isOpenNewTab:L}=(0,y.M4)(),{handleShowReport:D,handleClickReport:O}=(0,x.sk)(),[{rootEnterFrom:R}]=(0,d.S)(b.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),E=(0,o.useCallback)(i=>{O({word:j,id:e,wordId:T,logId:C,searchPosition:r?"video_detail":g.f.commonParams.page_name,enterFrom:R});const n=Date.now(),o=(0,h.FR)({location:I,to:{pathname:p.$T.searchHome(),search:{q:j,t:n}}}),a={searchSource:"comment_related_search",enterMethod:"click_icon",videoPageType:"browser_mode"};L?window.open((0,u.stringifyUrl)({url:o,query:a})):(null==t||t(i,!0),M.push(o,a))},[O,t,M,e,r,L,I,C,j,T,R]),F=(0,c.P)(v.L,{selector:e=>{var t,i;return null===(i=null===(t=e.appContext)||void 0===t?void 0:t.user)||void 0===i?void 0:i.uniqueId},dependencies:[]}),B=Boolean(F),z=Boolean(j&&S&&k);return(0,o.useEffect)(()=>{z&&D({word:j,id:e,wordId:T,logId:C,searchPosition:r?"video_detail":g.f.commonParams.page_name,enterFrom:R})},[D,z,e,C,j,T,r,R]),z?(0,n.jsxs)(K,{"data-e2e":"search-comment-top",allowRightPanelScroll:P,onlyOptimizeCta:A,children:[(0,n.jsx)(Y,{children:S})," ",(0,n.jsxs)(Z,{onClick:E,children:[(0,n.jsx)(J,{"data-e2e":"search-comment-top-word",children:j}),(0,n.jsx)(X,{})]}),B&&(0,n.jsx)(q,{word:j,wordId:T,id:e})]}):null});var ee=i(95501),te=i(30641),ie=i(61198),ne=i(43703),oe=i(59835),ae=i(14790),re=i(21722),se=i(57998),le=i(14952),de=i(37082),ce=i(16356),ue=i(37783),pe=i(159),ge=i(43887),_e=i(64803),me=i(48384),he=i(69857),ve=i(13657),fe=i(57383),ye=i(71754),be=i(13720),xe=i(79697),ke=i(5227),we=i(57693),Se=i(6985);const Ce=(0,M.default)("div",{target:"ezxoskx0"})(({theme:e})=>(0,D.zy)({theme:e,typography:"P4",color:"TextTertiary"}),{width:"20px",display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer"},"label:DivLikeWrapper;"),je=(0,M.default)(Ce,{target:"ezxoskx1"})(({theme:e})=>(0,D.mp)({direction:e.direction,marginStart:"24px"}),{width:"unset",height:"20px",display:"inline-flex",flexDirection:"row",alignItems:"center",cursor:"pointer",verticalAlign:"bottom"},"label:StyledLikeWrapper;"),Te=(0,M.default)("div",{target:"ezxoskx2"})({height:"20px"},"label:DivLikeIcon;"),Ie=(0,M.default)("span",{target:"ezxoskx3"})(({theme:e})=>(0,D.zy)({theme:e,typography:"P2"}),({theme:e})=>(0,D.mp)({direction:e.direction,marginStart:"4px"}),{height:"24px",display:"flex",alignItems:"center"},"label:SpanCount;");Ie.defaultProps=Object.assign(Object.assign({},Ie.defaultProps),{"data-e2e":"comment-like-count"});const Pe=(0,o.memo)(function(e){const{count:t,liked:i,onClick:a}=e,{colors:r}=(0,k.u)(),l=(0,s.s)(),d=(0,oe.Eo)(),c=(0,o.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||(e.stopPropagation(),e.preventDefault(),a())},[a]),u=i?(0,n.jsx)(Se.A,{width:20,height:20,fill:r.Primary}):(0,n.jsx)(we.A,{width:20,height:20});return(0,n.jsxs)(Ce,{"aria-label":l("accessibilityLabels_forYou_btn_like",{number:d?"":(0,he.D1)(t)}),"aria-pressed":i,role:"button",onClick:a,tabIndex:0,onKeyDown:c,children:[(0,n.jsx)(Te,{"data-e2e":"comment-like-icon",children:u}),(0,n.jsx)(Ie,{style:{marginLeft:0,marginRight:0},children:d?"":(0,he.D1)(t)})]})}),Ae=(0,o.memo)(function(e){const{count:t,liked:i,isUIOptimization:o}=e,{colors:a}=(0,k.u)(),r=(0,oe.Eo)(),s=i?(0,n.jsx)(Se.A,{width:20,height:20,fill:a.Primary}):(0,n.jsx)(we.A,{width:20,height:20});return(0,n.jsxs)(je,{onClick:e.onClick,children:[s,(0,n.jsx)(Ie,{style:{color:o?a.TextTertiaryAlt:a.TextPrimary,fontSize:"14px"},children:r?"":(0,he.D1)(t)})]})}),Me=function(e){const{itemId:t,cid:i,count:a,liked:r,onDelete:l,isShowReport:d,isShowDelete:c,inDetailPage:u=!1}=e,p=(0,s.s)(),{direction:g}=(0,k.u)(),{active:_,handleMouseEnter:m,handleMouseLeave:h}=(0,T.K)(),v=(0,x.dp)({itemId:t,cid:i,onShow:C.Gu}),f=(0,o.useCallback)(e=>{13===e.keyCode||32===e.keyCode?(e.stopPropagation(),e.preventDefault(),_?h():m()):27===e.keyCode&&_&&(e.stopPropagation(),e.preventDefault(),h())},[m,h,_]),y=(0,o.useCallback)(e=>t=>{13!==t.keyCode&&32!==t.keyCode||(t.stopPropagation(),t.preventDefault(),e(t))},[]),[b,S]=(0,o.useState)(!1),A=(0,o.useCallback)(()=>{S(!0)},[]),M=(0,o.useCallback)(()=>{l(),S(!1)},[l]),L=(0,o.useCallback)(()=>{S(!1)},[]),D="ltr"===g?"bottomRight":"bottomLeft",{colors:V}=(0,k.u)(),H=(0,j.M)();return(0,n.jsxs)(O,{children:[(0,n.jsxs)(R,{"aria-label":p("pc_web_more_btn"),role:"button",onMouseEnter:m,onMouseLeave:h,tabIndex:0,onKeyDown:f,children:[(0,n.jsx)("div",{"data-e2e":"comment-more-icon",children:(0,n.jsx)(E,{})}),(0,n.jsx)(I.z,{backgroundColor:V.BGSecondary,active:_,placement:D,margin:u?2:-6,children:(0,n.jsxs)(F,{children:[d&&(0,n.jsxs)(B,{"aria-label":p("Report"),role:"button",onClick:v,tabIndex:0,onKeyDown:y(v),"data-e2e":"comment-report",children:[(0,n.jsx)(w.A,{width:24,height:24}),(0,n.jsx)(z,{children:p("Report")})]}),c&&(0,n.jsxs)(B,{"aria-label":p("comment_delete_btn"),role:"button","data-e2e":"comment-delete",onClick:A,onKeyDown:y(A),tabIndex:0,children:[(0,n.jsx)(ke.A,{width:24,height:24}),(0,n.jsx)(z,{children:p("comment_delete_btn")})]})]})})]}),u?null:(0,n.jsx)(Pe,{count:a,liked:r,onClick:e.onLike}),c&&(0,n.jsx)(P.aF,{visible:b,keyboardCloseable:!1,maskCloseable:!1,parentRef:H,children:(0,n.jsxs)("div",{"data-e2e":"comment-delete-modal",style:{width:310},children:[(0,n.jsx)(U,{children:p("comment_delete_des")}),(0,n.jsxs)(N,{children:[(0,n.jsx)(W,{"data-e2e":"comment-modal-delete",primary:!0,onClick:M,children:p("comment_delete_confirm")}),(0,n.jsx)(W,{"data-e2e":"comment-modal-cancel",onClick:L,children:p("comment_delete_cancel")})]})]})})]})};var Le=i(59966),De=i(66243),Oe=i(75431),Re=i(5786);const Ee="inline-block",Fe={boxShadow:"0 2px 12px rgb(0 0 0 / 12%)",padding:"8px 16px",margin:"-8px -16px 8px",borderRadius:"8px"},Be={boxShadow:"none",padding:"0",margin:"0 0 16px"},ze=(0,Oe.i7)({"0%":Be,"10%":Fe,"90%":Fe,"100%":Be}),Ue=(0,M.default)("div",{target:"e1g2efjf0"})(({isUIOptimization:e})=>({display:"flex",flexDirection:"row",alignItems:"flex-start",marginBottom:e?"12px":"16px",position:"relative"}),({shouldOptProfile:e})=>e&&{marginBottom:"8px"},({highlighted:e})=>e?{animationName:ze,animationDuration:"3s"}:null,{":hover,:focus-within":{[`${O}`]:{paddingTop:0},[`${R}`]:{display:"block"}}},"label:DivCommentContentContainer;"),Ne=(0,M.default)("div",{target:"e1g2efjf1"})({flex:"1 1 auto"},"label:DivContentContainer;"),We=(0,M.default)("span",{target:"e1g2efjf2"})(({theme:{colors:e},isCreator:t})=>({fontSize:"14px",color:t?e.Primary:e.TextTertiary}),"label:SpanIdentity;"),Ve=(0,M.default)("span",{target:"e1g2efjf3"})(({theme:e})=>(0,D.zy)({theme:e,fontFamily:"TikTokFont"}),"label:SpanUserNameText;"),He=(0,M.default)(Re.E,{target:"e1g2efjf4"})(({theme:e})=>(0,D.zy)({theme:e,typography:"P3",fontFamily:"TikTokDisplayFont",fontWeight:"semiBold"}),D.AB,{[`:hover ${Ve}`]:{textDecoration:"underline"}},"label:StyledUserLinkName;"),qe=(0,M.default)(Re.E,{shouldForwardProp:e=>"isInDetailPage"!==e,target:"e1g2efjf5"})(({theme:{direction:e},isInDetailPage:t})=>[{":hover":{[`~ ${Ne} ${He} ${Ve}`]:{textDecoration:"underline"}}},(0,D.mp)({direction:e,marginEnd:t?"16px":"12px"})],"label:StyledUserLinkAvatar;"),$e=(0,M.default)("p",{target:"e1g2efjf6"})(({theme:e})=>(0,D.zy)({theme:e,typography:"P2"}),{whiteSpace:"pre-line",wordBreak:"break-word",marginBottom:"6px"},"label:PCommentText;"),Ge=(0,M.default)("span",{target:"e1g2efjf8"})(({shouldOptBrowserMargin:e})=>e&&{display:Ee,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"top"},"label:SpanCreatedTime;"),Ke=(0,M.default)("p",{target:"e1g2efjf9"})(({theme:e,isUIOptimization:t})=>[(0,D.zy)({theme:e,typography:"P3",color:t?"TextTertiaryAlt":"TextTertiary"}),{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1rem"}],"label:PCommentSubContent;"),Ye=({inDetailPage:e,isUIOptimization:t})=>t?"TextTertiaryAlt":e?"TextPrimary":"TextTertiary",Ze=(0,M.default)("span",{target:"e1g2efjf10"})({cursor:"pointer"},({theme:e,inDetailPage:t=!1,isUIOptimization:i=!1})=>(0,D.zy)({theme:e,fontWeight:t?"semiBold":"normal",color:Ye({inDetailPage:t,isUIOptimization:i})}),({inDetailPage:e,theme:{direction:t}})=>(0,D.mp)({direction:t,marginStart:e?24:4}),"label:SpanReplyButton;"),Je=e=>e.AssistColorAzure,Xe=(0,M.default)(Re.E,{target:"e1g2efjf11"})(({theme:{colors:e}})=>({display:Ee,direction:"ltr",color:Je(e),cursor:"pointer",":hover":{color:Je(e)},"&:-webkit-any-link":{color:Je(e)},fontWeight:600}),"label:StyledUserLinkContent;"),Qe=(0,M.default)("span",{target:"e1g2efjf12"})(({theme:{colors:e}})=>({cursor:"pointer",color:e.AssistColorAzure,fontSize:"16px",lineHeight:"20px",fontWeight:600}),"label:SpanWordContainer;"),et=(0,M.default)("span",{target:"e1g2efjf13"})({display:Ee},"label:SpanWordWithIcon;"),tt=(0,M.default)($.A,{target:"e1g2efjf14"})(({theme:{colors:e}})=>({position:"relative",top:"-4px",width:"10px",height:"10px",color:e.AssistColorAzure}),"label:StyledMagnifyingGlass;"),it=(0,o.memo)(function(e){const{teaParams:t,cid:i,word:r,searchKeyword:s,searchKeywordId:c,onClose:_,isRTL:m,isRTLComment:v}=e,[f,k]=(0,o.useState)(!1),w=(0,a.zy)(),S=(0,a.W6)(),{isOpenNewTab:C}=(0,y.M4)(),{isBrowserModeShowing:j}=(0,o.useContext)(l.g),{handleClickReport:T,handleShowReport:I}=(0,x.HW)(),[{rootEnterFrom:P}]=(0,d.S)(b.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]});(0,o.useEffect)(()=>{f||(I({search_position:j?"video_detail":g.f.commonParams.page_name,words_content:s,comment_id:i,enter_group_id:t.group_id,video_page_type:j?"browser_mode":"video_detail",impr_id:t.logId,group_id:c,enter_from:P}),k(!0))},[i,I,f,j,s,c,t.group_id,t.logId,r,P]);const A=(0,o.useCallback)(e=>{const n=Date.now(),o=(0,h.FR)({location:w,to:{pathname:p.$T.searchHome(),search:{q:s,t:n}}}),a={searchSource:"comment_highlighted_words",enterMethod:"click_icon",videoPageType:j?"browser_mode":"video_detail",preClickId:t.logId};j&&C?window.open(u.stringifyUrl({url:o,query:a})):(null==_||_(e,!0),S.push(o,a)),T({search_position:j?"video_detail":g.f.commonParams.page_name,video_page_type:j?"browser_mode":"video_detail",words_content:s,enter_group_id:t.group_id,comment_id:i,impr_id:t.logId,group_id:c,enter_from:P})},[w,s,j,t.logId,t.group_id,C,T,i,c,_,S,P]),[M,L]=(0,o.useMemo)(()=>{if(v)return["",""];const e=r.trimEnd().lastIndexOf(" ")+1;return 0===e?["",r]:[r.slice(0,e),r.slice(e)]},[r,v]);return v?(0,n.jsx)(Qe,{"data-e2e":"search-comment-highlight-word",onClick:A,dir:"rtl",children:(0,n.jsxs)(et,{children:[!m&&(0,n.jsx)(n.Fragment,{children:" "}),r,(0,n.jsx)(tt,{})]})}):(0,n.jsxs)(Qe,{"data-e2e":"search-comment-highlight-word",onClick:A,dir:"ltr",children:[m&&(0,n.jsx)(n.Fragment,{children:" "}),M,(0,n.jsxs)(et,{children:[L,(0,n.jsx)(tt,{})]})]})}),nt=(0,o.memo)(e=>{const t=$e;return(0,n.jsx)(t,Object.assign({},e))});var ot,at=i(38820);!function(e){e[e.PlainText=0]="PlainText",e[e.SearchWordText=6]="SearchWordText",e[e.User=7]="User"}(ot||(ot={}));const rt=(0,o.memo)(function({cid:e,commentItem:t,e2eTag:i,teaParams:a,hasSearchKeyword:r=!1,onClose:l,onLinkClick:d}){const{text:c,text_extra:u,comment_language:p=""}=t,g=(0,Le._S)(t=>t.comments[e]),_=((0,s.s)(),(0,at.W)()),m=(0,o.useMemo)(()=>(0,De.xt)(p),[p]),h=(0,o.useMemo)(()=>function(e){const{text:t,textExtra:i,hasSearchKeyword:n,isRTL:o,isRTLComment:a}=e;if(!i||0===i.length)return[{type:0,text:t}];const r=[];let s=0;return i.forEach(({start:e,end:i,sec_uid:o,user_id:a,type:l,search_keyword:d,search_keyword_id:c})=>{if(s!==e&&r.push({type:0,text:t.substring(s,e)}),6===l){const o=t.substring(e,i)===d;r.push({type:n&&o?6:0,text:t.substring(e,i),searchKeyword:d,searchKeywordId:c})}else r.push({type:7,text:t.substring(e,i),uid:a,secUid:o});s=i}),r.push({type:0,text:t.substring(s,t.length)}),o&&r.reverse(),a&&r.reverse(),r}({text:c,textExtra:u,hasSearchKeyword:r,isRTL:_,isRTLComment:m}),[c,u,r,_,m]),v=(null==g?void 0:g.show)?[{type:0,text:null==g?void 0:g.text}]:h;return(0,n.jsxs)(nt,{"data-e2e":i,children:["",v.map(({text:t,type:i,uid:o,secUid:r,searchKeywordId:s,searchKeyword:c},u)=>0===i?(0,n.jsx)("span",{dir:m?"rtl":"",children:t},u):6===i?(0,n.jsx)(it,{teaParams:a,word:t,searchKeyword:c,searchKeywordId:s,cid:e,onClose:l,isRTL:_,isRTLComment:m},s):7===i?(0,n.jsx)(Xe,{uniqueId:null!=r?r:"",secUid:r,isInBrowserMode:!0,onLinkClick:d,teaParams:{to_user_id:null!=o?o:"",enter_method:"comment"},children:t},u):null)]})});var st=i(11534),lt=i(36677),dt=i(73256);const ct=(0,M.default)("div",{target:"eo72wou0"})({marginBottom:"20px"},"label:DivCommentItemContainer;"),ut=(0,M.default)("div",{target:"eo72wou1"})(({isLevel2:e,theme:{direction:t}})=>(0,D.mp)({direction:t,paddingStart:e?35:52}),"label:DivReplyContainer;"),pt=(0,M.default)("div",{target:"eo72wou2"})({display:"flex",flexDirection:"row",justifyContent:"space-between",position:"relative"},({isUnfold:e,hasMore:t,theme:{direction:i,colors:n}})=>e?[t?(0,D.mp)({direction:i,paddingStart:"52px"}):null,t?{"::before":Object.assign({content:'""',position:"absolute",top:"50%",width:"36px",height:"1px",background:n.LineSecondary,transform:"scaleY(0.5)"},(0,D.mp)({direction:i,start:"0"}))}:{justifyContent:"right"}]:null,"label:DivReplyActionContainer;"),gt=(0,M.default)(dt.A,{target:"eo72wou3"})(({reversed:e,theme:{direction:t}})=>[(0,D.mp)({direction:t,marginStart:"6px"}),{width:"14px",height:"14px",verticalAlign:"middle",transform:e?"rotate(180deg)":"none"}],"label:StyledChevronDownFill;"),_t=(0,M.default)("p",{target:"eo72wou4"})(({theme:e})=>(0,D.zy)({theme:e,color:"TextTertiary",typography:"P3",fontWeight:"semiBold"}),{cursor:"pointer",":hover":{textDecoration:"underline"}},"label:PReplyActionText;");var mt,ht=i(57615),vt=i(70169),ft=i(49252);!function(e){e[e.Level1=1]="Level1",e[e.Level2=2]="Level2"}(mt||(mt={}));const yt={1:40,2:24};var bt;!function(e){e[e.Creator=1]="Creator",e[e.Following=2]="Following",e[e.Friends=8]="Friends"}(bt||(bt={}));const xt={1:"creator",2:"following_acc",8:"friends_acc"},kt={1:"comment-creator",2:"comment-following",8:"comment-friends"},wt=(0,o.memo)(function({parentCid:e,item:t,level:i,disableReply:s,index:l,subIndex:d,teaParams:u,onClose:p,onLinkClick:g,videoReportParams:h,inDetailPage:b=!1}){var x,k,w,C,T;const{t:I,timeTranslator:P}=(0,me.T)(),M=(0,ge._u)(),L=(0,te.Tq)(e=>e[t.cid],ie.bN),{shouldOptimizeReply:D}=(0,y.kb)(),O=(0,ce.nW)(e=>{var t;return e.users[null!==(t=null==L?void 0:L.user)&&void 0!==t?t:""]},ie.bN),R=(0,o.useRef)(null),E=(0,y.HW)(),{loginUserId:F,loginUserUid:B,hasSearchPermission:z}=(0,c.P)(v.L,{selector:e=>{var t,i,n,o,a,r,s;return{loginUserId:null===(i=null===(t=e.appContext)||void 0===t?void 0:t.user)||void 0===i?void 0:i.uniqueId,loginUserUid:null===(o=null===(n=e.appContext)||void 0===n?void 0:n.user)||void 0===o?void 0:o.uid,hasSearchPermission:null===(s=null===(r=null===(a=e.appContext)||void 0===a?void 0:a.user)||void 0===r?void 0:r.hasSearchPermission)||void 0===s||s}},dependencies:[]}),U=(0,ue.F3)(e=>{var t;return e[null!==(t=null==L?void 0:L.aweme_id)&&void 0!==t?t:""]},ie.bN),{author:N,authorId:W,authorSecId:V}=null!=U?U:{},H=(0,ce.nW)(e=>e.users[null!=N?N:""],ie.bN),{videoIdList:q}=(0,c.P)(A.Zr,{selector:e=>{var t;return null!==(t=e.blockListMap[null!=B?B:A.yJ])&&void 0!==t?t:{}},dependencies:[B]}),$=(0,r.BY)(),G=(0,st.mo)(),{setReply:K,setReplyOptimize:Y,setReplyCid:Z}=(0,pe.$4)(),{showing:J,handleCardEnter:X,handleCardLeave:Q,handleItemEnter:ee,handleItemLeave:oe}=(0,be.C)(),ke=(0,o.useMemo)(()=>b&&1===i?48:yt[i],[i,b]),we=(0,o.useCallback)(()=>{if(!L)return;const{aweme_id:e,cid:t}=L;$.handleCommentLike({itemId:e,cid:t,teaAuthorId:W})},[$,L,W]),Se=(0,ye.G)({actionWhenUserLoggedIn:we,modalConfig:{query:{enter_method:"click_like_comment",group_id:null==u?void 0:u.group_id}},reportClickEvent:()=>{re.O.handleGeneralClick("like_comment",{group_id:null==u?void 0:u.group_id,play_mode:"browser_mode"})}}),{region:Ce=""}=null!==(x=(0,_.W)(()=>["region"],[]))&&void 0!==x?x:{},je=(0,o.useCallback)(()=>{if(!L)return;const{aweme_id:t,cid:i}=L;$.handleCommentDelete({itemId:t,cid:i,parentCid:e,index:l,subIndex:d})},[$,L,l,d,e]),Te=(0,o.useCallback)(()=>{Z("")},[Z]),Ie=(0,o.useCallback)(()=>{const{nickname:e=""}=null!=O?O:{},{cid:t="",reply_id:n=""}=null!=L?L:{};D&&(Z(t),setTimeout(()=>{var e;null===(e=R.current)||void 0===e||e.focus()},0)),(D?Y:K)({nickname:e,replyId:1===i?t:n,replyToReplyId:1===i?"0":t,position:l})},[O,L,D,Y,K,i,l,Z]),Pe=(0,ye.G)({actionWhenUserLoggedIn:Ie,modalConfig:{query:{enter_method:"click_reply_comment",group_id:null==u?void 0:u.group_id}},reportClickEvent:()=>{re.O.handleGeneralClick("reply_comment",{group_id:null==u?void 0:u.group_id,play_mode:"browser_mode"})}}),Le=(0,o.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||(e.stopPropagation(),e.preventDefault(),Pe())},[Pe]),De=(0,o.useCallback)(e=>{const t=ae.q7.includes(Ce);if(!B||!t||!L)return;const{cid:i,aweme_id:n,text:o}=L;e.stopPropagation();const a=M(U),r=(0,_e.X)(i);if(!r)return;const s=`${window.location.host}${a}?cid=${r}`,l=document.createElement("input");l.style.fontSize="16px",document.body.appendChild(l),l.value=s,l.select(),l.setSelectionRange(0,s.length),document.execCommand&&document.execCommand("copy"),l.remove(),S.F.open({content:I("WebApp_comment_copyurl_id"),duration:1,style:{width:"560px"},getContainer:j.M,getContainerPosition:"fixed"}),se.ao.handleCopyCommentUrl({copy:i,comment:o,group_id:n,user_id:B})},[Ce,B,N,V,L,I]),Oe=(0,o.useMemo)(()=>{var e;return Object.assign(Object.assign({},u),{to_user_id:null!==(e=null==O?void 0:O.id)&&void 0!==e?e:"",enter_method:"comment",logId:t.logId})},[null==O?void 0:O.id,u,t.logId]),{state:Re}=(0,a.zy)(),{id:Ee}=(0,he.L$)(ve.Qq.getItem("highlight_comment")),Fe=(0,fe.Ig)(),Be=(null==Re?void 0:Re.cid)===t.cid||Ee===t.cid&&Fe,{abTestVersion:ze}=null!==(k=(0,_.W)(()=>["abTestVersion"],[]))&&void 0!==k?k:{},$e=(0,m.Fc)(null!==(w=null==L?void 0:L.aweme_id)&&void 0!==w?w:"",q),Ye="v2"===(0,f.qt)(ze,"search_entry_comment_word")&&z&&!$e,{isUIOptimization:Je}=(0,y.ac)(),{shouldUseWebAppQueryCommentsPopover:Xe}=(0,y.ON)();if(!L||!O)return(0,ne.d)(["commentItem","user"]);const{avatarThumb:Qe,nickname:et,verified:tt,uniqueId:it,secUid:nt}=O,{label_type:ot,create_time:at,aweme_id:dt,cid:ct,digg_count:pt,user_digged:gt,is_author_digged:_t}=L,mt=P(1e3*Number(at)),bt=Boolean(F)&&N===F,wt=Boolean(F)&&it===F,St=!wt,Ct=bt||wt;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Ue,{isUIOptimization:Je&&b,id:t.cid,highlighted:Be,shouldOptProfile:!b,children:[Xe?(0,n.jsx)(ht.Xwo,{trigger:(0,n.jsx)("div",{children:(0,n.jsx)(qe,{style:{flex:`0 0 ${ke}px`},uniqueId:it,secUid:nt,isInDetailPage:b,onMouseEnter:ee,onMouseLeave:oe,isInBrowserMode:!0,teaParams:Oe,"data-e2e":`comment-avatar-${i}`,onLinkClick:g,children:(0,n.jsx)(de.e,{size:ke,src:Qe})})}),open:J,onMouseEnter:X,onMouseLeave:Q,placement:"bottom-start",style:{zIndex:3002},noArrow:!0,children:(0,n.jsx)(vt._,{uniqueId:it,secUid:null!=nt?nt:""})}):(0,n.jsx)(qe,{style:{flex:`0 0 ${ke}px`},uniqueId:it,secUid:nt,isInDetailPage:b,onMouseEnter:ee,onMouseLeave:oe,isInBrowserMode:!0,teaParams:Oe,"data-e2e":`comment-avatar-${i}`,onLinkClick:g,children:(0,n.jsx)(de.e,{size:ke,src:Qe})}),(0,n.jsxs)(Ne,{children:[(0,n.jsxs)(He,{uniqueId:it,secUid:nt,onMouseEnter:ee,onMouseLeave:oe,isInBrowserMode:!0,teaParams:Oe,onLinkClick:g,children:[(0,n.jsxs)(Ve,{"data-e2e":`comment-username-${i}`,children:[et," ",tt&&(0,n.jsx)(le.s,{"data-e2e":`comment-bluev-${i}`})]}),ot&&Boolean(xt[ot])&&(0,n.jsxs)(n.Fragment,{children:["·"," ",(0,n.jsx)(We,{isCreator:1===ot,"data-e2e":`${kt[ot]}-${i}`,children:I(xt[ot])})]})]}),(0,n.jsx)(rt,{teaParams:Oe,cid:ct,hasSearchKeyword:Ye,onClose:p,onLinkClick:g,commentItem:L,e2eTag:`comment-level-${i}`}),(0,n.jsxs)(Ke,{isUIOptimization:Je&&b,children:[(0,n.jsx)(Ge,{"data-e2e":`comment-time-${i}`,onClick:De,shouldOptBrowserMargin:!b,children:mt}),b?(0,n.jsx)(Ae,{isUIOptimization:Je,count:pt,liked:Boolean(gt),onClick:Se}):null,!s&&(0,n.jsx)(Ze,{"aria-label":I("comment_reply_btn"),role:"button",isUIOptimization:Je&&b,inDetailPage:b,onClick:Pe,"data-e2e":`comment-reply-${i}`,tabIndex:0,onKeyDown:Le,children:I("comment_reply_btn")}),E&&_t&&(0,n.jsx)(ft.n,{avatarUrl:null==H?void 0:H.avatarThumb})]})]}),(0,n.jsx)(Me,{itemId:dt,cid:ct,inDetailPage:b,count:pt,liked:Boolean(gt),onLike:Se,onDelete:je,isShowDelete:Ct,isShowReport:St}),!Xe&&J&&(0,n.jsx)(xe.t,{uniqueId:it,onMouseEnter:X,onMouseLeave:Q})]}),D&&G===ct&&(0,n.jsx)(ut,{isLevel2:1!==i,children:(0,n.jsx)(lt.gi,{childInputRef:R,onClose:Te,isReply:!0,itemId:dt,teaParams:Object.assign(Object.assign({},h),{author_id:null!==(C=null==h?void 0:h.author_id)&&void 0!==C?C:"",group_id:null!==(T=null==h?void 0:h.group_id)&&void 0!==T?T:""})})})]})}),St=(0,o.memo)(function({item:e,disableReply:t,index:i,onHideReply:a,teaParams:l,onClose:d,onLinkClick:c,inDetailPage:u=!1}){var p,g,_,m;const h=(0,s.s)(),v=(0,r.BY)(),f=(0,oe.Eo)(),y=(0,te.Tq)(t=>t[e.cid],ie.bN),b=(0,o.useCallback)(()=>{y&&v.handleShowMoreReply({itemId:y.aweme_id,cid:y.cid})},[v,y]),x=(0,o.useRef)(null),k=(0,o.useCallback)(()=>{var e,t;y&&(null==a||a(null!==(t=null===(e=x.current)||void 0===e?void 0:e.scrollHeight)&&void 0!==t?t:0),v.handleCollapseReply({itemId:y.aweme_id,cid:y.cid}))},[v,y,a]),w=(0,o.useCallback)(e=>t=>{13!==t.keyCode&&32!==t.keyCode||(t.stopPropagation(),t.preventDefault(),e?b():k())},[b,k]),S=(0,o.useMemo)(()=>w(!0),[w]),C=(0,o.useMemo)(()=>w(!1),[w]),j=(0,o.useMemo)(()=>{var t,i,o,a,r,s,l;if(!y)return null;if(null===(t=e.replyCache)||void 0===t?void 0:t.loading)return(0,n.jsx)(pt,{children:(0,n.jsx)(ee.R,{center:!0,size:"small"})});const d=null!==(o=null===(i=e.reply_comment)||void 0===i?void 0:i.length)&&void 0!==o?o:0,c=Number(null!==(a=y.reply_comment_total)&&void 0!==a?a:0)-d;if(!c&&Number(null===(r=e.reply_comment)||void 0===r?void 0:r.length)>0)return(0,n.jsx)(pt,{isUnfold:!0,hasMore:!1,children:(0,n.jsxs)(_t,{"aria-label":h("hide"),role:"button",onClick:k,onKeyDown:C,tabIndex:0,"data-e2e":"comment-hide",children:[h("hide"),(0,n.jsx)(gt,{reversed:!0})]})});if(!c)return null;const u=h("pcWeb_detailPage_comment_viewNumReply",{num:c,number:c}),p=h("pcWeb_detailPage_comment_viewNumMore",{number:c});if(!e.replyCache||!(null===(s=e.reply_comment)||void 0===s?void 0:s.length)){let e=h("view_more_replies",{num:c});return e=d>0?p:u,f&&(e=h("countsHidden_commentPanel_viewReply")),(0,n.jsx)(pt,{children:(0,n.jsxs)(_t,{"aria-label":e,role:"button",onClick:b,onKeyDown:S,tabIndex:0,"data-e2e":"view-more-1",children:[e,(0,n.jsx)(gt,{})]})})}const g=e.replyCache.hasMore||e.replyCache.comments.length>e.reply_comment.length;if(Number(null===(l=e.reply_comment)||void 0===l?void 0:l.length)>0){const e=p;return(0,n.jsxs)(pt,{isUnfold:!0,hasMore:g,children:[(0,n.jsx)(_t,{"aria-label":e,role:"button",onClick:b,onKeyDown:S,tabIndex:0,"data-e2e":"view-more-2",children:Boolean(g)&&(0,n.jsxs)(n.Fragment,{children:[f?h("countsHidden_commentPanel_viewReply"):e,(0,n.jsx)(gt,{})]})}),(0,n.jsxs)(_t,{"aria-label":h("hide"),role:"button",onClick:k,onKeyDown:C,tabIndex:0,"data-e2e":"comment-hide",children:[h("hide"),(0,n.jsx)(gt,{reversed:!0})]})]})}return null},[k,C,S,b,y,e.replyCache,null===(p=e.reply_comment)||void 0===p?void 0:p.length,h,f]);return y?(0,n.jsxs)(ct,{children:[(0,n.jsx)(wt,{inDetailPage:u,item:e,disableReply:t,index:i,level:1,teaParams:l,videoReportParams:Object.assign(Object.assign({},l),{group_id:null!==(g=null==l?void 0:l.group_id)&&void 0!==g?g:"",author_id:null!==(_=null==l?void 0:l.group_id)&&void 0!==_?_:""}),onClose:d,onLinkClick:c}),Boolean(y.reply_comment_total)&&(0,n.jsxs)(ut,{ref:x,children:[null===(m=e.reply_comment)||void 0===m?void 0:m.map((o,a)=>(0,n.jsx)(wt,{parentCid:e.cid,item:o,disableReply:t,index:i,subIndex:a,level:2,teaParams:l,onClose:d,onLinkClick:c,inDetailPage:u},o.cid)),j]})]}):(0,ne.d)(["item"])}),Ct=(0,Oe.i7)({"0%":{backgroundPositionX:"200%"},"100%":{backgroundPositionX:"-150%"}}),jt=(0,M.default)("div",{target:"eht1nyc0"})({width:"100%",marginTop:"16px",display:"flex",flexDirection:"column"},"label:DivCommentItemSkeletonContainer;"),Tt=(0,M.default)("div",{target:"eht1nyc1"})({width:"100%",marginBottom:"24px",display:"flex",alignItems:"flex-start"},"label:DivCommentItemSkeleton;"),It=(0,M.default)("div",{target:"eht1nyc2"})(({theme:e})=>({width:"40px",height:"40px",borderRadius:"100px",backgroundColor:e.colors.BGPlaceholderDefault,flexShrink:0,backgroundImage:"linear-gradient(90deg, rgba(22, 24, 35, 0) 0%, rgba(22, 24, 35, .04) 50%, rgba(22, 24, 35, 0) 100%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",animation:`${Ct} cubic-bezier(0, 0, 1, 1) 1.5s infinite`}),"label:DivCommentItemSkeletonAvatar;"),Pt=(0,M.default)("div",{target:"eht1nyc3"})({width:"100%",display:"flex",flexDirection:"column"},({theme:{direction:e}})=>(0,D.mp)({direction:e,marginStart:"20px"}),"label:DivCommentItemSkeletonInfo;"),At=(0,M.default)("div",{target:"eht1nyc4"})(({width:e="100%",height:t="24px",marginTop:i="0px",theme:n})=>({width:e,height:t,marginTop:i,backgroundColor:n.colors.BGPlaceholderDefault,backgroundImage:"linear-gradient(90deg, rgba(22, 24, 35, 0) 0%, rgba(22, 24, 35, .04) 50%, rgba(22, 24, 35, 0) 100%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",animation:`${Ct} cubic-bezier(0, 0, 1, 1) 1.5s infinite`}),"label:DivCommentItemSkeletonLine;"),Mt=(0,o.memo)(function({num:e=3}){const t=[];for(let i=0;i<e;i++)t.push(i);return(0,n.jsx)(jt,{children:t.map(e=>(0,n.jsxs)(Tt,{children:[(0,n.jsx)(It,{}),(0,n.jsxs)(Pt,{children:[(0,n.jsx)(At,{width:"160px"}),(0,n.jsx)(At,{height:"20px",marginTop:"4px"}),(0,n.jsx)(At,{height:"12px",marginTop:"8px",width:"96px"})]})]},e))})});var Lt=i(18433),Dt=i(86984);const Ot=e=>{const[t,i]=(0,r.kH)(t=>{var i;return null!==(i=t[e])&&void 0!==i?i:{awemeId:void 0,cursor:"0",comments:[],hasMore:!0,loading:!1}},ie.bN),{comments:n,hasMore:a,loading:s}=t;(0,o.useEffect)(()=>{!(0,Lt.X9)(e)&&e&&0===n.length&&a&&!s&&i.fetchComment({aweme_id:e,cursor:0,fetch_type:"preload_by_previous"})},[i,n.length,a,e,s])};var Rt=i(87900);const Et=(0,M.default)(Rt.mM,{target:"e1u1vkmc0"})(({isInHorizontalBoostUI:e,theme:{colors:t}})=>({borderTop:"none",padding:"16px",margin:0,background:e?t.BGPrimary:t.BGCreation3,border:"none",position:"relative",display:"flex",flexDirection:"column"}),"label:StyledDivCommentListContainerForSwiper;"),Ft=(0,o.memo)(e=>{const{isInHorizontalBoostUI:t}=(0,y.l2)(),i=t?Et:Rt.mM;return(0,n.jsx)(i,Object.assign({},e,{isInHorizontalBoostUI:t}))});var Bt=i(9408),zt=i(46083),Ut=i(21363);const Nt=()=>{const e=(0,s.s)();return(0,n.jsxs)(Ut.MT,{children:[(0,n.jsx)(Ut.XE,{})," ",(0,n.jsx)(Ut.O5,{children:e("ad_comment_close_des")})]})};var Wt=i(11675),Vt=i(61322);const Ht=(0,o.memo)((0,o.forwardRef)(function({itemId:e,disableReply:t,teaParams:i,onLinkClick:d,onClickScrollToTop:c,onClose:u,inDetailPage:p=!1,hasMore:g=!0,prefetchId1:_="",prefetchId2:m="",profileContent:h,showScrollToTop:v=!1,onTabChange:f,activeTab:b,isCommentDisabled:x,adsCommentDisabled:k,creatorTabDisabled:w,hideTab:S,showSkeleton:C,initialSkeletonNum:j=9},T){var I,P,A,M;const L=(0,r._B)(t=>{var i;return null!==(i=t[e])&&void 0!==i?i:{awemeId:void 0,cursor:"0",comments:[],hasMore:!0,loading:!0}},ie.bN),D=(0,a.zy)(),{allowRightPanelScroll:O,shouldShowCommentsCnt:R,shouldOptimizeCta:E,shouldOptimizeReply:F}=(0,y.kb)(),B=(0,s.s)();(e=>{const t=(0,o.useMemo)(()=>performance.now(),[e]),{enableOnDeviceML:i}=(0,Dt.K1)(),[{hasMore:n,loading:a,comments:s,isFirstLoad:l,fetchType:d},c]=(0,r.kH)(t=>{var i;return null!==(i=t[e])&&void 0!==i?i:r.lN},ie.bN);(0,o.useEffect)(()=>{if(!(0,Lt.X9)(e)&&e&&0===s.length&&n&&!a){if(i&&Dt.oS.get(e)){const t=Dt.oS.get(e);return c.handleCommentsPreload(t),void Dt.oS.delete(e)}c.fetchComment({aweme_id:e,cursor:0,fetch_type:"load_by_current"})}if(l&&!a){const i=performance.now()-t;se.ao.handleCommentLoadComplete({play_mode:"browser_mode",group_id:e,duration:i,fetch_type:d})}},[s.length,c,n,e,a,l])})(e),Ot(_),Ot(m);const z=(0,o.useMemo)(()=>{var e;if(C||!L||!(null===(e=L.comments)||void 0===e?void 0:e.length)&&L.loading&&g)return(0,n.jsx)(Mt,{num:Math.min(j,9)});const o=[];return L.comments.forEach((e,a)=>{var r;const s=(0,n.jsx)(St,{item:e,disableReply:t,index:a,teaParams:i,onClose:u,onLinkClick:d,inDetailPage:p},e.cid);(null===(r=D.state)||void 0===r?void 0:r.cid)===e.cid?o.unshift(s):o.push(s)}),o.length?(0,n.jsxs)(n.Fragment,{children:[o,L.loading&&(0,n.jsx)(Mt,{num:1})]}):(0,n.jsx)(Rt.T1,{marginTop:p,children:B(x?"comment_off":"comment_panel_zero")})},[L,g,t,i,u,d,p,null===(I=D.state)||void 0===I?void 0:I.cid,B,C]),{isBrowserModeShowing:U}=(0,o.useContext)(l.g),N=(0,o.useMemo)(()=>U?(0,n.jsx)(Q,{onClose:u,id:e}):null,[U,e,u]),W=!(null===(P=null==L?void 0:L.comments)||void 0===P?void 0:P.length),V=p||R,H=h?(0,n.jsx)(Rt._4,{shouldOptimizeCta:E,children:h}):null,q=F&&p,{isSearchEngineBot:$=!1}=(0,he.L$)((0,Vt.U)(()=>["isSearchEngineBot"],[])),G=(0,Wt.wW)(),K=$&&null!==(M=null===(A=null==G?void 0:G.parameters.seo_comment_bot_ui)||void 0===A?void 0:A.vid)&&void 0!==M?M:"v1";return(0,n.jsxs)(Ft,{"data-e2e":"search-comment-container",inDetailPage:p,empty:W,shouldShowCommentsCnt:R,noBackgroundColor:V,noBorderTop:W||V,overflowVisible:q,children:[!O&&N,(0,n.jsxs)(Rt.Ky,{inDetailPage:p,shouldOptimizeCta:E,overflowVisible:q,ref:T,seoExpVidGroup:K,"data-disable-type":x?"disabled":k?"ads":void 0,children:[H,O&&(0,n.jsxs)(n.Fragment,{children:[!p&&!S&&(0,n.jsx)(Bt.r,{itemId:e,isInCommentList:!0,commentTopSearch:N,descriptionPart:null,onTabChange:f,activeTab:b,isCommentDisabled:x||k,creatorTabDisabled:w}),v&&(0,n.jsx)(zt.x,{onClick:e=>{var t,n;se.ao.handleClickBackToTop({group_id:null!==(t=null==i?void 0:i.group_id)&&void 0!==t?t:"",authro_id:null!==(n=null==i?void 0:i.author_id)&&void 0!==n?n:""}),null==c||c(e)},isUp:!0,isInComment:!0})]}),k?(0,n.jsx)(Nt,{}):z]})]})}))},70169:(e,t,i)=>{"use strict";i.d(t,{_:()=>C});var n=i(24643),o=i(51425),a=i(57615),r=i(5786),s=i(16410);const l=(0,s.default)("div",{target:"eutiz1z0"})({padding:"20px",display:"flex",flexDirection:"column",width:"320px"},"label:DivUserPopoverContainer;"),d=(0,s.default)("div",{target:"eutiz1z1"})({display:"flex",flexDirection:"column",gap:"8px"},"label:DivUserHeaderContainer;"),c=(0,s.default)("div",{target:"eutiz1z2"})({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},"label:DivAvatarFollowContainer;"),u=(0,s.default)(r.E,{target:"eutiz1z3"})({display:"flex",flexDirection:"column",gap:"2px",":hover":{textDecoration:"none"}},"label:DivUserTitleContainer;"),p=(0,s.default)("div",{target:"eutiz1z4"})({display:"flex",flexDirection:"column",gap:"2px"},"label:DivSkeletonUserTitleContainer;"),g=(0,s.default)("div",{target:"eutiz1z5"})({display:"flex",flexDirection:"row",gap:"3px"},"label:DivUsernameContainer;"),_=(0,s.default)("div",{target:"eutiz1z6"})({display:"flex",flexDirection:"row",gap:"12px"},"label:DivUserStatsContainer;"),m=(0,s.default)("div",{target:"eutiz1z7"})({display:"flex",flexDirection:"row",gap:"6px"},"label:DivUserNumberLabelContainer;"),h=(0,s.default)("div",{target:"eutiz1z8"})({marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(22, 24, 35, 0.12)"},"label:DivDescriptionContainer;");var v=i(37082),f=i(87373),y=i(40099),b=i(31382),x=i(24479),k=i(71754),w=i(4200),S=i(27799);const C=({uniqueId:e,secUid:t})=>{const{data:i,isLoading:s,isError:C}=(0,o.useData)({query:"getUserDetail",queryKeyParams:{uniqueId:e},queryParams:{uniqueId:e,secUid:t}}),j=(0,S.s)(),T=(0,k.G)({modalConfig:{query:{enter_method:"click_follow"}}}),{isFollowing:I,handleFollow:P,text:A}=(0,b._6)({uniqueId:e,secUid:t,onNeedLogin:T,teaParams:{enter_method:"click_hover"}});if((0,y.useEffect)(()=>{f.c.handleDropdownCardShow()},[]),s||C)return(0,n.jsx)(l,{children:(0,n.jsxs)(d,{children:[(0,n.jsxs)(c,{children:[(0,n.jsx)(a.sO8,{width:"44px",height:"44px",borderRadius:"50%"}),(0,n.jsx)(a.sO8,{width:"108px",height:"40px",borderRadius:"5px"})]}),(0,n.jsxs)(p,{children:[(0,n.jsx)(g,{children:(0,n.jsx)(a.Fm,{color:"UIText1",size:18,weight:"bold","data-e2e":"user-card-username",children:e})}),(0,n.jsx)(a.sO8,{width:"72px",height:"21px",borderRadius:"5px"})]}),(0,n.jsxs)(_,{children:[(0,n.jsxs)(m,{children:[(0,n.jsx)(a.sO8,{width:"20px",height:"25.5px",borderRadius:"5px"}),(0,n.jsx)(a.sO8,{width:"72px",height:"25.5px",borderRadius:"5px"})]}),(0,n.jsxs)(m,{children:[(0,n.jsx)(a.sO8,{width:"20px",height:"25.5px",borderRadius:"5px"}),(0,n.jsx)(a.sO8,{width:"72px",height:"25.5px",borderRadius:"5px"})]})]})]})});const{avatarThumb:M,id:L,nickname:D,verified:O,signature:R,stateControlledMedia:E}=i.user,{followerCount:F,heart:B}=i.stats,z={to_user_id:L,author_id:L,enter_method:"click_dropdown_card"};return(0,n.jsxs)(l,{children:[(0,n.jsxs)(d,{children:[(0,n.jsxs)(c,{children:[(0,n.jsx)(r.E,{uniqueId:e,secUid:t,target:"_blank",rel:"opener",teaParams:z,"data-e2e":"user-card-avatar",children:(0,n.jsx)(v.e,{size:44,src:M})}),(0,n.jsx)(a.I05,{"data-e2e":"user-card-follow",size:"medium",variant:I?"secondary":"primary",label:A,onClick:P})]}),(0,n.jsxs)(u,{uniqueId:e,secUid:t,target:"_blank",rel:"opener",teaParams:z,children:[(0,n.jsxs)(g,{children:[(0,n.jsx)(a.Fm,{color:"UIText1",size:18,weight:"bold","data-e2e":"user-card-username",children:e}),O&&(0,n.jsx)(a.VA8,{size:"14","data-e2e":"user-card-bluev"})]}),(0,n.jsx)(a.Fm,{color:"UIText1",size:14,weight:"bold","data-e2e":"user-card-nickname",children:D}),(0,n.jsx)(x.w,{stateControlledMedia:E,labelType:2})]}),(0,n.jsxs)(_,{children:[(0,n.jsxs)(m,{children:[(0,n.jsx)(a.Fm,{color:"UIText1",size:17,weight:"bold","data-e2e":"user-card-follower-count",children:(0,w.D1)(F)}),(0,n.jsx)(a.Fm,{color:"UIText2",size:17,"data-e2e":"user-card-follower",children:j("Followers")})]}),(0,n.jsxs)(m,{children:[(0,n.jsx)(a.Fm,{color:"UIText1",size:17,weight:"bold","data-e2e":"user-card-like-count",children:(0,w.D1)(Number(B))}),(0,n.jsx)(a.Fm,{color:"UIText2",size:17,"data-e2e":"user-card-like",children:j("Likes")})]})]})]}),R&&(0,n.jsx)(h,{children:(0,n.jsx)(a.Fm,{color:"UIText1",size:14,"data-e2e":"user-card-user-bio",children:R})})]})}},70175:(e,t,i)=>{"use strict";i.d(t,{b:()=>Gi});var n=i(24643),o=i(40099),a=i(95074),r=i(73580),s=i(12391),l=i(78755),d=i(61198),c=i(45027),u=i(27799),p=i(75972),g=i(48156),_=i(46769),m=i(95501),h=i(47389),v=i(3912),f=i(16410),y=i(93584),b=i(73107);const x=(0,f.default)("div",{target:"eaptjjg0"})(({theme:{direction:e}})=>[{paddingTop:"8px",display:"flex",flexGrow:1,flexDirection:"column",alignItems:"stretch",position:"relative",height:"80vh"},(0,y.mp)({direction:e,paddingStart:"16px",paddingEnd:"24px"})],"label:DivReportDetail;"),k=(0,f.default)(b.y,{target:"eaptjjg1"})({marginTop:"12px",marginBottom:"16px",border:"none"},"label:MoreOptionsButton;"),w=(0,f.default)(b.y,{target:"eaptjjg2"})(({theme:{colors:e}})=>[{marginTop:"auto",marginBottom:"16px",background:e.Primary,color:e.ConstTextInverse}],"label:MobileMoreOptionsButton;"),S=(0,f.default)("div",{target:"eaptjjg3"})({flexGrow:1,overflowY:"auto",height:"100px"},"label:DivDetailsContainer;");var C=i(67114),j=i(69857),T=i(61322);const I=(0,f.default)("div",{target:"e1itzts50"})({padding:"16px",display:"flex",alignItems:"center"},"label:DivItemContainer;"),P=(0,f.default)("div",{target:"e1itzts51"})(({theme:{colors:e}})=>[{fontSize:"15px",fontStyle:"normal",fontWeight:"600",lineHeight:"130%",color:e.TextPrimary,marginLeft:"17px"}],"label:DivText;"),A=(0,f.default)("div",{target:"e1itzts52"})(({theme:{colors:e}})=>[{margin:"0px 16px",height:"0.5px",background:e.LineSecondary}],"label:DivLine;"),M=({text:e,icon:t,onClick:i,hideLine:o=!1})=>(0,n.jsxs)("div",{children:[(0,n.jsxs)(I,{onClick:i,children:[t,(0,n.jsx)(P,{children:e})]}),!1===o&&(0,n.jsx)(A,{})]});var L=i(3196),D=i(31161),O=i(54955),R=i(73258),E=i(30884),F=i(72355),B=i(54133),z=i(97854);const U={padding:"0px 0px 16px 0px"},N=({reportId:e,reportType:t})=>{var i;const{reportDetail:{isLoading:r,data:s}}=(0,a.P)(h.j),l=(0,c.w)(h.j),[d,p]=(0,o.useState)(!1),{isMobile:f}=(0,j.L$)((0,T.U)(()=>["isMobile"],[])),{refreshReport:y,loggedOutCode:b}=(0,a.P)(h.j),I=(0,u.s)(),P=(0,F.W6)(),A=(0,o.useCallback)(()=>{l.getReportDetail({reportId:e,reportType:t})},[e,t,l]);(0,o.useEffect)(()=>{null!==y&&(g.F.open({content:I(y.type),key:`refreshReport ${y.type}`,duration:3,widthType:"half"}),l.setRefreshReport(null))},[y]),(0,o.useEffect)(()=>{A()},[A]);const N=(0,o.useCallback)(e=>{switch(e){case C.B8.BLOCK_USER:return(0,n.jsx)(L.O,{size:20});case C.B8.UN_BLOCK_USER:return(0,n.jsx)(D.N,{size:20});case C.B8.REQUEST_ANOTHER_REVIEW:return(0,n.jsx)(O.Z,{size:20});case C.B8.DELETE_REPORT:return(0,n.jsx)(R.u,{size:20});default:return(0,n.jsx)(E._,{size:20})}},[]),W=()=>{p(!1),A()},V=(0,o.useCallback)(()=>{var t;return null===(t=null==s?void 0:s.see_option_infos)||void 0===t?void 0:t.map((t,i)=>C.yC.includes(t.code)?(0,n.jsx)(M,{onClick:()=>{(t=>{var i,n,o,a;let r,d;switch(t.code){case C.B8.RESUBMIT_REPORT:r=`/report/${null!==(i=null==s?void 0:s.object_type_name)&&void 0!==i?i:"video"}`;const c=(0,z.U)(null!==(n=null==s?void 0:s.ComplianceScene)&&void 0!==n?n:"");d=Object.assign(Object.assign(Object.assign({objectId:null!==(o=null==s?void 0:s.object_id)&&void 0!==o?o:"",ownerId:null!==(a=null==s?void 0:s.object_owner_id)&&void 0!==a?a:""},c),{report_record:JSON.stringify(null==s?void 0:s.report_record),report_id:e}),void 0!==b&&{logged_out_code:b}),P.push(`${r}?${(0,B.stringify)(d)}`);break;case C.B8.REQUEST_ANOTHER_REVIEW:r="/violation-appeal",d=Object.assign({reportId:null!=e?e:""},void 0!==b&&{logged_out_code:b}),P.push(`${r}?${(0,B.stringify)(d)}`);break;case C.B8.DELETE_REPORT:l.getDeleteReport({reportId:e}),A();break;case C.B8.UN_BLOCK_USER:l.getBlockUser({toolsType:C.B8.UN_BLOCK_USER,processedUserId:t.extra.unblock_uid}),A();break;case C.B8.BLOCK_USER:l.getBlockUser({toolsType:C.B8.BLOCK_USER,processedUserId:t.extra.block_uid}),A()}})(t),p(!1)},text:t.name,icon:N(t.code),hideLine:i===(null==s?void 0:s.see_option_infos.length)-1},t.code):(0,n.jsx)(n.Fragment,{}))},[null==s?void 0:s.see_option_infos]),H=(0,o.useCallback)(()=>{var t;return!1===f?(0,n.jsx)(C.Ay,{reportId:e,seeOptionsInfo:null!==(t=null==s?void 0:s.see_option_infos)&&void 0!==t?t:[],visible:d,onActionExecuted:W,onClose:()=>{p(!1)}}):(0,n.jsx)(_.l,{contentStyle:U,needTouchEvents:!1,visible:d,maskClosable:!0,closeStyle:{display:"none"},onClose:()=>{p(!1)},children:V()})},[f,d,s,e,V]),q=(0,o.useMemo)(()=>f?w:k,[f]);if(r)return(0,n.jsx)(m.R,{center:!0,size:"small"});if(!s)return(0,n.jsx)("div",{});const{text_infos:$}=s,G=void 0!==t;return(0,n.jsxs)(x,{role:"list",style:Object.assign({},f&&{height:"100%"}),children:[(0,n.jsx)(S,{style:Object.assign({},f&&{height:"100%"}),children:null==$?void 0:$.map((e,t)=>(0,n.jsx)(v.A,{item:e,isV2:G},t))}),H(),(null===(i=null==s?void 0:s.see_option_infos)||void 0===i?void 0:i.filter(e=>C.yC.includes(e.code)).length)>0&&(0,n.jsx)(q,{onClick:()=>{p(!d)},children:I("dsa_illegal_more_options_link")})]})};var W=i(8076),V=i(48384),H=i(76926);const q={id:"flag-icon-a28d5881",use:"flag-icon-a28d5881-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="flag-icon-a28d5881"><path fill-rule="evenodd" d="M16.58 6.023c-2.175-1.546-4.752-1.507-6.651-1.157a14.5 14.5 0 0 0-3.097.948 9 9 0 0 0-.252.116l-.016.008-.006.003-.004.001A1 1 0 0 0 6 6.838v20.495c0 .369.298.667.667.667h.666A.667.667 0 0 0 8 27.333v-8.247l.233-.09c.515-.19 1.236-.42 2.059-.57 1.674-.31 3.597-.27 5.129.819 2.174 1.546 4.751 1.506 6.65 1.156a14.5 14.5 0 0 0 3.097-.948 9 9 0 0 0 .253-.116l.015-.007h.001l.005-.003.003-.002A1 1 0 0 0 26 18.43V6.838a1 1 0 0 0-1.444-.896h-.001l-.006.003a3 3 0 0 1-.186.085 12.5 12.5 0 0 1-2.654.812c-1.675.309-3.598.27-5.13-.82zm-6.288.81c1.674-.308 3.597-.269 5.129.82 2.174 1.546 4.751 1.506 6.65 1.156a14 14 0 0 0 1.929-.5v9.464a12.5 12.5 0 0 1-2.292.661c-1.674.309-3.597.27-5.129-.82-2.174-1.545-4.751-1.506-6.65-1.156a14 14 0 0 0-1.929.5V7.495l.233-.09c.515-.19 1.236-.42 2.059-.57z" clip-rule="evenodd" /></symbol>'};function $(e){const t=(0,o.useContext)(H.X);return(0,o.useLayoutEffect)(()=>(t.add(q),()=>{t.remove("flag-icon-a28d5881")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#flag-icon-a28d5881"},void 0)}),void 0)}var G=i(8475),K=i(29450);const Y={101:"report_inbox_video",102:"report_inbox_comment",103:"report_inbox_account",107:"report_inbox_live",130:"report_inbox_livecomment",106:"report_inbox_directmessage",115:"report_inbox_directmessage",123:"report_inbox_directmessage",105:"report_inbox_sound",119:"report_inbox_hashtag",141:"shoutouts_detail_comment_report_title",142:"tns_intro_reporter_title",160:"%s - qareport_question",230:"profile_page_events_list",210:"webReport_inbox_photoReport_header"},Z={1:"report_inbox_inreview",3:"report_inbox_violation",2:"report_inbox_noviolation",4:"showVidStatus_reportInbox_vidStatusDeleted_label",5:"showVidStatus_reportInbox_vidStatusIneligible_label",6:"oSA_reportSummary_statusMoreInfo_title",7:"rIC_reportSummary_statusReviewing_desc"};var J=i(21434);const X=({report:e,index:t,onClick:i,onKeyDown:a})=>{const{timeTranslator:r}=(0,V.T)(),s=(0,u.s)(),{isMobile:l}=(0,j.L$)((0,T.U)(()=>["isMobile"],[])),[d,c]=(0,o.useState)(!1),p=Y[e.report_type]?s(Y[e.report_type]):"",g=r(1e3*Number(e.modify_time)),_=(0,o.useCallback)(()=>{i()},[i]),m=(0,o.useCallback)(()=>{c(!0)},[]),h=Z[e.status]?s(Z[e.status]):"";return(0,n.jsxs)(J.iA,{onClick:_,onKeyDown:a,isMobile:l,tabIndex:0,role:"button","aria-labelledby":`report-item-content-${t}`,children:[(0,n.jsx)(J.Fs,{children:(0,n.jsx)($,{width:32,height:32})}),(0,n.jsxs)(J.eH,{id:`report-item-content-${t}`,children:[(0,n.jsx)(J.dM,{children:(()=>{if(e.title)return e.title;if(160===e.report_type){const t=` - ${s("qareport_question")||"Question"}`;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(J.WA,{children:e.object_desc}),(0,n.jsx)("span",{children:t.padStart(t.length+1)})]})}return p.replace("%s",e.object_owner_name||e.object_desc||"")})()}),(0,n.jsxs)(J.tU,{children:[s("report_inbox_status"),": ",h,(0,n.jsx)(J.hH,{children:g.padStart(g.length+1)})]})]}),e.cover_image?(0,n.jsxs)(J.$2,{children:[(0,n.jsx)(J.mW,{isNotLoaded:!d,src:e.cover_image,onLoad:m}),3===e.status&&d&&(0,n.jsx)(J.xj,{children:(0,n.jsx)(K.A,{width:20,height:20})})]}):(0,n.jsx)(J.MH,{children:(0,n.jsx)(G.A,{width:16,height:16})})]})},Q=(0,f.default)("div",{target:"eq5dlep0"})({display:"flex",flexGrow:1,flexDirection:"column",alignItems:"stretch",overflow:"auto",height:"100%"},"label:DivReportList;"),ee=()=>{const{reportList:{data:e,hasNextPage:t}}=(0,a.P)(h.j),i=(0,c.w)(h.j),r=(0,o.useRef)(null);(0,o.useEffect)(()=>{e.length>0||i.getReportList()},[i,e.length]);const s=(0,o.useCallback)(()=>{i.getReportList()},[i]),l=(0,o.useCallback)(e=>()=>{i.updateActiveReport({reportId:e.report_id,reportType:e.report_type})},[i]),d=(0,o.useCallback)(e=>t=>{13!==t.keyCode&&32!==t.keyCode||i.updateActiveReport({reportId:e.report_id,reportType:e.report_type})},[i]);return(0,o.useEffect)(()=>{if(t&&e.length>0){if(!r.current)return;const{clientHeight:e,scrollHeight:n}=r.current;!(n>e)&&t&&i.getReportList()}},[t,r,i,e]),(0,W.O9)({elemRef:r,onHitBottom:s,bottomThreshold:200,throttle:200}),(0,n.jsxs)(Q,{ref:r,children:[e.map((e,t)=>(0,n.jsx)(X,{report:e,index:t,onClick:l(e),onKeyDown:d(e)},t)),t&&(0,n.jsx)("div",{children:(0,n.jsx)(m.R,{center:!0,size:"small"})})]})},te=(0,f.default)("div",{target:"e115u39r0"})({height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"stretch"},"label:DivReportInboxContainer;"),ie=(0,f.default)("div",{target:"e115u39r1"})({display:"flex",flexDirection:"row",alignItems:"center",padding:"0 16px",margin:"24px 0 18px"},"label:DivHeader;"),ne=(0,f.default)("span",{target:"e115u39r2"})(({theme:e})=>[(0,y.zy)({theme:e,fontFamily:"TikTokDisplayFont",typography:"H4",color:"TextPrimary",fontWeight:"bold"})],"label:SpanHeaderTitle;"),oe=(0,f.default)("div",{target:"e115u39r3"})(({theme:{direction:e,colors:t}})=>[Object.assign(Object.assign({width:"24px",height:"24px",cursor:"pointer"},"rtl"===e&&{transform:"rotate(180deg)"}),{"> svg > path":{fill:t.TextPrimary}})],"label:DivBackButton;"),ae=({onClose:e})=>{var t,i;const{reportDetail:r,activeReport:s}=(0,a.P)(h.j),l=(0,u.s)(),d=(0,c.w)(h.j),g=(0,o.useCallback)(()=>{null===s?e():d.setActiveReport(null)},[s,d,e]),_=(0,o.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),g())},[g]),m=l("report_inbox_title"),v=null!==s&&null!==(i=null===(t=r.data)||void 0===t?void 0:t.tab_title)&&void 0!==i?i:m,f=null!==s?"Back to report list":"Back to notification list";return(0,n.jsxs)(te,{children:[(0,n.jsxs)(ie,{children:[(0,n.jsx)(oe,{onClick:g,onKeyDown:_,tabIndex:0,role:"button","aria-label":f,children:(0,n.jsx)(p.A,{width:24,height:24})}),(0,n.jsx)(ne,{children:v})]}),null!==s?(0,n.jsx)(N,{reportId:s.reportId,reportType:s.reportType}):(0,n.jsx)(ee,{})]})};var re=i(20173),se=i(82778),le=i(61215),de=i(70589),ce=i(67518),ue=i(85767),pe=i(91128),ge=i(53602),_e=i(71199),me=i(71404);const he=(0,f.default)("div",{target:"e1d0xjxi0"})({padding:"88px 32px 0",display:"flex",flexDirection:"column",alignItems:"center"},"label:DivErrorContainer;"),ve=(0,f.default)("p",{target:"e1d0xjxi1"})(({theme:e})=>(0,y.zy)({theme:e,typography:"P2",fontWeight:"semiBold"}),{marginTop:"20px"},"label:PErrorTitle;"),fe=(0,f.default)("p",{target:"e1d0xjxi2"})(({theme:e})=>(0,y.zy)({theme:e,typography:"H6",color:"TextSecondary"}),{marginTop:"12px",textAlign:"center"},"label:PErrorDesc;"),ye={500:{title:"inbox_all_activity",desc:"inbox_default_text",Icon:ue.A},2:{title:"Inbox_Comments_on_your_videos",desc:"Inbox_When_someone_comments_on__one_of_your_videos_you_ll_see_it_here",Icon:pe.A},7:{title:"Inbox_New_followers",desc:"Inbox_When_someone_new_follows_you_you_ll_see_it_here",Icon:ge.A},3:{title:"Inbox_Likes_on_your_videos",desc:"Inbox_When_someone_likes_one_of_your_videos_you_ll_see_it_here",Icon:_e.A},505:{title:"Inbox_Likes_on_your_videos",desc:"Inbox_When_someone_likes_one_of_your_videos_you_ll_see_it_here",Icon:_e.A},6:{title:"Inbox_Mentions_of_You",desc:"Inbox_When_someone_mentions_you_you_ll_see_it_here",Icon:me.A}},be=(0,o.memo)(function({type:e}){const t=(0,u.s)(),{colors:i}=(0,ce.u)(),{title:o,desc:a,Icon:r}=ye[e];return(0,n.jsxs)(he,{children:[(0,n.jsx)(r,{width:70,height:70,fill:i.TextQuaternary}),(0,n.jsx)(ve,{children:t(o)}),(0,n.jsx)(fe,{children:t(a)})]})}),xe=({item:e,onClick:t})=>{var i,a,r,s,l,d,c;const{isMobile:u=!1}=null!==(i=(0,T.U)(()=>["isMobile"],[]))&&void 0!==i?i:{},{timeTranslator:p}=(0,V.T)(),g=p(1e3*Number(e.create_time)),_=null!==(s=null===(r=null===(a=e.template_notice)||void 0===a?void 0:a.notice)||void 0===r?void 0:r.content)&&void 0!==s?s:"",m=(0,o.useCallback)(()=>{u?window.location.href="/report/inbox":null==t||t()},[u,t]),h=(0,o.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),m())},[m]);return(0,n.jsxs)(J.iA,{isNotice:!0,onClick:m,onKeyDown:h,tabIndex:0,role:"button","aria-labelledby":"notice-report-title",children:[(0,n.jsx)(J.Fs,{children:(0,n.jsx)($,{width:32,height:32})}),(0,n.jsx)(J.eH,{children:(0,n.jsxs)(J.dM,{isNotice:!0,id:"notice-report-title",children:[null===(c=null===(d=null===(l=e.template_notice)||void 0===l?void 0:l.notice)||void 0===d?void 0:d.title)||void 0===c?void 0:c.title,":",(0,n.jsxs)(J.tU,{isNotice:!0,children:[_.padStart(_.length+1),(0,n.jsx)(J.hH,{children:g.padStart(g.length+1)})]})]})}),(0,n.jsx)(J.MH,{children:(0,n.jsx)(G.A,{width:16,height:16})})]})};var ke=i(35308),we=i(92693),Se=i(45375),Ce=i(20434),je=i(43703),Te=i(22797),Ie=i(96406),Pe=i(54253),Ae=i(43736),Me=i(49432);function Le({beforeStart:e,href:t,shouldUsePush:i,state:n,newTab:a=!1}){const r=(0,Ae.w)();return t=(0,Me.U)(t),(0,o.useCallback)(o=>{null==e||e(o),a?window.open(t,"_blank"):r(o,{href:t,shouldUsePush:i,state:n})},[e,r,t,a,i,n])}function De(e){let t=e.target;for(;!((null==t?void 0:t.dataset.method)||t===e.currentTarget&&t);)t=t.parentElement;return t.dataset.method}function Oe({uniqueId:e,onClick:t,enter_method:i,enter_from:n,previous_page:r,shouldHandleDom:s}){const l=(0,a.P)(re.L,{selector:t=>{var i;const{appContext:n}=t;return(null==n?void 0:n.user)&&(null===(i=null==n?void 0:n.user)||void 0===i?void 0:i.uniqueId)===e},dependencies:[e]});return(0,o.useCallback)(e=>{var o;let a=i;s&&(a=null!==(o=De(e))&&void 0!==o?o:i),null==t||t(e);const d={enter_method:a,page_name:null!=n?n:"homepage_message",enter_from:null!=n?n:"homepage_message",previous_page:null!=r?r:Ie.f.commonParams.page_name};l?Pe.q.handleEnterProfile(d):Pe.q.handleEnterUser(d)},[i,s,t,l,n,r])}var Re=i(57615),Ee=i(37082);const Fe=({theme:e})=>[(0,y.zy)({theme:e,typography:"H6"}),y.AB,{display:"flex",flexDirection:"row",padding:"10px 16px",alignItems:"flex-start",cursor:"pointer",":hover":{background:e.colors.BGView}}],Be=(0,f.default)("div",{target:"exfus50"})(Fe,"label:DivItemContainer;"),ze=(0,f.default)(Te.N_,{target:"exfus51"})(Fe,"label:LinkItemContainer;"),Ue=(0,f.default)("div",{target:"exfus52"})({position:"relative",width:"48px",height:"48px",flex:"0 0 48px"},"label:DivAvatarContainer;"),Ne=(0,f.default)(Ee.e,{target:"exfus53"})(({size:e,multiple:t,theme:i})=>t?{position:"absolute",border:`1px solid ${i.colors.BGPrimary}`,background:i.colors.BGPrimary,boxSizing:"content-box",":first-of-type":{right:0,top:0},":last-of-type":{left:0,bottom:0}}:{flex:`0 0 ${e}px`},"label:StyledAvatar;"),We=(0,f.default)(b.y,{target:"exfus54"})({alignSelf:"center",flex:"0 0 auto","& > svg":{marginRight:"6px"}},"label:StyledFollowButton;"),Ve=(0,f.default)("div",{target:"exfus55"})({flex:"0 0 42px",width:"42px",height:"56px",background:"center no-repeat",backgroundSize:"cover",borderRadius:"2px"},"label:DivVideoCover;"),He=(0,f.default)(Te.N_,{target:"exfus56"})({flex:"0 0 42px",width:"42px",height:"56px",background:"center no-repeat",backgroundSize:"cover",borderRadius:"2px"},"label:StyledLinkVideoCover;"),qe=(0,f.default)("div",{target:"exfus57"})({padding:"0 12px",flex:"1 1 auto"},"label:DivContentContainer;"),$e=({theme:e})=>({fontWeight:e.fontWeights.semiBold,wordBreak:"break-all"}),Ge=({theme:e})=>({fontWeight:e.fontWeights.semiBold,wordBreak:"break-all","&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}}),Ke=(0,f.default)("p",{target:"exfus58"})((0,y.m4)(1),$e,"label:PTitleText;"),Ye=(0,f.default)("a",{target:"exfus59"})((0,y.m4)(1),Ge,"label:ATitleLink;"),Ze=(0,f.default)(Te.N_,{target:"exfus510"})((0,y.m4)(1),$e,"label:StyledTitleTextLink;"),Je=(0,f.default)("p",{target:"exfus511"})((0,y.m4)(7),({theme:e})=>({color:e.colors.TextTertiary,maxHeight:130,wordBreak:"break-word"}),"label:PDescText;"),Xe=(0,f.default)("span",{target:"exfus512"})(({theme:{colors:e}})=>({color:e.TextPrimary}),"label:SpanPrimary;"),Qe=(0,f.default)(Je,{target:"exfus513"})(({theme:e})=>({position:"relative",paddingLeft:"8px",marginTop:"4px",lineClamp:1,WebkitLineClamp:1,"::before":{content:'""',position:"absolute",top:0,left:0,width:"2px",height:"100%",background:e.colors.LineSecondary}}),"label:StyledExtraText;"),et=(0,f.default)("div",{target:"exfus514"})({marginTop:"8px"},"label:DivFollowReqButtonWrapper;"),tt=(0,f.default)(b.y,{target:"exfus515"})({display:"inline-flex",":not(:first-of-type)":{marginLeft:"8px"}},"label:StyledFollowReqButton;"),it=(0,f.default)(F.N_,{target:"exfus516"})(({theme:e})=>({"&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}}),"label:StyledLink;"),nt=(0,f.default)("div",{target:"exfus517"})([Fe,{alignItems:"center"}],"label:DivSystemNotifItemContainer;"),ot=(0,f.default)("div",{target:"exfus518"})([{minWidth:"48px",width:"48px",height:"48px",borderRadius:"24px",border:"1px solid rgba(22, 24, 35, 1)",backgroundColor:"rgba(22, 24, 35, 1)",display:"flex",justifyContent:"center",alignItems:"center"}],"label:DivSystemNotifIconContainer;"),at=(0,f.default)("div",{target:"exfus519"})(({theme:{direction:e,colors:t}})=>[Object.assign(Object.assign({minWidth:"16px",width:"16px",height:"16px"},"rtl"===e&&{transform:"rotate(180deg)"}),{"> svg > path":{fill:t.TextTertiary}})],"label:DivArrowContainer;"),rt=(0,f.default)("p",{target:"exfus520"})((0,y.m4)(2),({theme:e})=>({color:e.colors.TextTertiary,maxHeight:130,wordBreak:"break-word"}),"label:PSystemNotifDescText;"),st=(0,f.default)("div",{target:"exfus521"})(({theme:e})=>({alignItems:"flex-start",backgroundColor:e.isDark?"rgba(54, 54, 54, 1)":"rgba(245, 245, 245, 1)",display:"flex",flexDirection:"column",borderRadius:"4px",margin:"0px 16px",marginBottom:"22px",padding:"16px",":hover":{cursor:"pointer"}}),"label:DivSystemNotifListItem;"),lt=(0,f.default)("div",{target:"exfus522"})({display:"flex",alignItems:"center"},"label:DivSystemNotifListItemHeader;"),dt=(0,f.default)("div",{target:"exfus523"})(({theme:e})=>({alignItems:"center",justifyContent:"center",display:"flex",borderRadius:"16px",border:"1px solid "+(e.isDark?"rgba(62, 62, 62, 1)":"rgba(232, 232, 232, 1)"),backgroundColor:e.isDark?"rgba(62, 62, 62, 1)":"rgba(232, 232, 232, 1)",color:e.colors.TextPrimary,minWidth:"32px",width:"32px",height:"32px",marginInlineEnd:"8px"}),"label:DivSystemNotifListItemHeaderIcon;"),ct=(0,f.default)("div",{target:"exfus524"})({marginTop:"8px",flex:1},"label:DivSystemNotifListItemBody;"),ut=(0,f.default)("hr",{target:"exfus525"})(({theme:e})=>({color:e.isDark?"rgb(255, 255, 255)":"rgb(22, 24, 35)",opacity:.1,borderTop:"1px solid",margin:"12px 0px 8px 0px",width:"100%"}),"label:HrDivider;"),pt=(0,f.default)(Re.Shl,{target:"exfus526"})(({theme:e})=>({transform:`translateX(${"rtl"===e.direction?"-100%":"100%"}) !important`}),"label:StyledBadgeDot;"),gt=(0,o.memo)(function({item:e,content:t}){var i,o;const{timeTranslator:a}=(0,V.T)(),{comment:r,create_time:s}=e,{comment_type:l,reply_comment:d}=r,c=(0,n.jsxs)(n.Fragment,{children:[" ",a(1e3*Number(s))]});return 2===l||11===l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[(0,n.jsx)(Xe,{children:t}),c]}),(0,n.jsx)(Qe,{children:`${null!==(o=null===(i=null==d?void 0:d.user)||void 0===i?void 0:i.nickname)&&void 0!==o?o:""}: ${null==d?void 0:d.text}`})]}):(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[(0,n.jsx)(Xe,{children:t}),c]})}),_t=(0,o.memo)(function({item:e}){var t;const{t:i}=(0,V.T)(),{user:o,content:a,itemHref:r,coverUrl:s,handleClickNotice:l,handleClickVideoCover:d}=(0,we.g)({item:e}),c=(0,Se.fJR)({uniqueId:null!==(t=null==o?void 0:o.uniqueId)&&void 0!==t?t:"",secUid:null==o?void 0:o.secUid}),u=Oe({uniqueId:null==o?void 0:o.uniqueId,onClick:Ce.dG,enter_method:"click_head"}),p=Oe({uniqueId:null==o?void 0:o.uniqueId,onClick:Ce.dG,enter_method:"click_name"});return o?(0,n.jsxs)(Be,{"data-e2e":"inbox-list-item",onClick:l,children:[(0,n.jsx)(Te.N_,{to:c,onClick:u,ariaLabel:i("accessibilityLabels_link_userProfile",{username:o.nickname}),children:(0,n.jsx)(Ne,{size:48,src:o.avatarThumb,multiple:!1,alt:""})}),(0,n.jsxs)(qe,{children:[(0,n.jsx)(Ze,{"data-e2e":"inbox-title",to:c,onClick:p,children:o.nickname}),(0,n.jsx)(gt,{item:e,user:o,content:a})]}),(0,n.jsx)(Te.N_,{to:r,onClick:d,children:(0,n.jsx)(Ve,{style:{backgroundImage:`url(${s})`}})})]}):(0,je.d)(["user"])});var mt=i(43887),ht=i(16356);const vt=(0,o.memo)(function({item:e}){var t,i,a,r,s,l;const{t:c,timeTranslator:u}=(0,V.T)(),p=(0,mt._u)(),g=(0,ht.nW)(t=>{var i;return t.users[null!==(i=e.duet.aweme.author.unique_id)&&void 0!==i?i:""]},d.bN),_=p({uniqueId:null!==(t=null==g?void 0:g.uniqueId)&&void 0!==t?t:"",secUid:null==g?void 0:g.secUid,videoId:e.duet.aweme.aweme_id,isPhotomode:150===e.duet.aweme.aweme_type}),m=(0,Se.fJR)({uniqueId:null!==(i=null==g?void 0:g.uniqueId)&&void 0!==i?i:"",secUid:null==g?void 0:g.secUid}),h=Oe({uniqueId:null==g?void 0:g.uniqueId,enter_method:"click_head"}),v=Oe({uniqueId:null==g?void 0:g.uniqueId,enter_method:"click_name"}),f=Le({href:_,shouldUsePush:!0,beforeStart:function(e){const{vid:t,authorId:i}=e;return(0,o.useCallback)(()=>{Pe.q.handleEnterVideo({enter_method:"click_noti",group_id:t,to_group_id:t,to_author_id:i})},[i,t])}({vid:e.duet.aweme.aweme_id,authorId:e.duet.aweme.author.uid})});return g?(0,n.jsxs)(Be,{"data-e2e":"inbox-list-item",onClick:f,children:[(0,n.jsx)(Te.N_,{to:m,onClick:h,ariaLabel:c("accessibilityLabels_link_userProfile",{username:g.nickname}),children:(0,n.jsx)(Ne,{size:48,src:g.avatarThumb,alt:""})}),(0,n.jsxs)(qe,{children:[(0,n.jsx)(Ze,{"data-e2e":"inbox-title",to:m,onClick:v,children:g.nickname}),(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[c("Inbox_created_a_duet_with_you").replace(/%(s|#)/g,"")," ",u(1e3*Number(e.create_time))]})]}),(0,n.jsx)(Ve,{style:{backgroundImage:`url(${null===(l=null===(s=null===(r=null===(a=e.duet.aweme)||void 0===a?void 0:a.video)||void 0===r?void 0:r.cover)||void 0===s?void 0:s.url_list)||void 0===l?void 0:l[0]})`}})]}):(0,je.d)(["user"])});var ft=i(60754);const yt=(0,o.memo)(function({item:e}){const{user:t,userHref:i,content:o,followButton:a,handleClickNotice:r}=(0,ft.U)({item:e,isPopup:!1}),{t:s,timeTranslator:l}=(0,V.T)();if(!t)return(0,je.d)(["user"]);const d=l(1e3*Number(e.create_time));return(0,n.jsxs)(Be,{"data-e2e":"inbox-list-item",onClick:r,children:[(0,n.jsx)(Ee.e,{size:48,src:t.avatarThumb,style:{flex:"0 0 48px"},"data-method":"click_head",alt:""}),(0,n.jsxs)(qe,{children:[(0,n.jsx)(Ye,{"data-e2e":"inbox-title",href:i,onClick:Ce.wo,"data-method":"click_name","aria-label":s("accessibilityLabels_link_userProfile",{username:t.nickname}),children:t.nickname}),(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[o," ",d]})]}),a]})});var bt,xt=i(73956);!function(e){e[e.Single=48]="Single",e[e.Multiple=36]="Multiple"}(bt||(bt={}));const kt=(0,o.memo)(function({users:e}){var t,i,o,a,r;const s=(0,u.s)(),l=Boolean(null==e?void 0:e[1]),d=Oe({uniqueId:null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.uniqueId,enter_method:"click_head"});if(!l){const{uniqueId:t="",secUid:a,nickname:r}=null!==(i=null==e?void 0:e[0])&&void 0!==i?i:{},l=(0,Se.fJR)({uniqueId:t,secUid:a});return(0,n.jsx)(Ue,{onClick:Ce.dG,children:(0,n.jsx)(it,{to:l,onClick:d,"aria-label":s("accessibilityLabels_link_userProfile",{username:r}),children:(0,n.jsx)(Ne,{size:48,src:null===(o=null==e?void 0:e[0])||void 0===o?void 0:o.avatarThumb,alt:""})})})}return(0,n.jsxs)(Ue,{"data-e2e":"inbox-avatar-multiple",children:[(0,n.jsx)(Ne,{size:36,multiple:!0,src:null===(a=null==e?void 0:e[1])||void 0===a?void 0:a.avatarThumb,alt:""}),(0,n.jsx)(Ne,{size:36,multiple:!0,src:null===(r=null==e?void 0:e[0])||void 0===r?void 0:r.avatarThumb,alt:""})]})}),wt=function({user:e}){const t=(0,u.s)(),i=Oe({uniqueId:null==e?void 0:e.uniqueId,enter_method:"click_name"});if(!e)return null;const{uniqueId:o,secUid:a,nickname:r}=e,s=(0,Se.fJR)({uniqueId:o,secUid:a});return(0,n.jsx)(it,{to:s,onClick:i,"aria-label":t("accessibilityLabels_link_userProfile",{username:r}),children:e.nickname})},St=(0,o.memo)(function({item:e,content:t}){var i;const{timeTranslator:o}=(0,V.T)(),a=o(1e3*Number(e.create_time),!0);if(1===e.digg.digg_type)return(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[t," ",a]});if(3===e.digg.digg_type){const{text:o,user:r}=null!==(i=e.digg.comment)&&void 0!==i?i:{};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[t," ",a]}),(0,n.jsxs)(Qe,{children:[null==r?void 0:r.nickname,": ",o]})]})}return null}),Ct=function({merge_count:e,users:t}){const i=(0,u.s)();return(null==t?void 0:t[1])?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(wt,{user:null==t?void 0:t[0]}),","," ",(0,n.jsx)(wt,{user:null==t?void 0:t[1]}),"number"==typeof e&&e>2&&(0,n.jsxs)(n.Fragment,{children:[" ",i("Inbox_and")," ",i("Inbox_others").replace(/%d/,String(e-2))]})]}):(0,n.jsx)(wt,{user:null==t?void 0:t[0]})},jt=(0,o.memo)(function({item:e}){const{users:t,content:i,itemHref:o,coverUrl:a,handleClickNotice:r,handleClickVideoCover:s}=(0,xt.w)({item:e});return(0,n.jsxs)(Be,{"data-e2e":"inbox-list-item",onClick:r,children:[(0,n.jsx)(kt,{users:t}),(0,n.jsxs)(qe,{children:[(0,n.jsx)(Ke,{"data-e2e":"inbox-title",onClick:Ce.dG,children:(0,n.jsx)(Ct,{users:t,merge_count:e.digg.merge_count})}),(0,n.jsx)(St,{item:e,content:i})]}),(0,n.jsx)(He,{onClick:s,to:o,style:{backgroundImage:`url(${a})`}})]})});var Tt=i(30669);const It=({item:e,content:t})=>{var i;const{timeTranslator:o}=(0,V.T)(),{create_time:a,at:r}=e,{sub_type:s,reply_comment:l}=r,d=(0,n.jsxs)(n.Fragment,{children:[" ",o(1e3*Number(a))]});return 1===s?(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[t,d]}):2===s?(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[(0,n.jsx)(Xe,{children:t}),d]}):5===s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[(0,n.jsx)(Xe,{children:t}),d]}),(0,n.jsx)(Qe,{children:null!==(i=null==l?void 0:l.text)&&void 0!==i?i:""})]}):null},Pt=(0,o.memo)(function({item:e}){var t;const{t:i}=(0,V.T)(),{user:o,content:a,itemHref:r,coverUrl:s,handleClickNotice:l,handleClickVideoCover:d}=(0,Tt.h)({item:e}),c=(0,Se.fJR)({uniqueId:null!==(t=null==o?void 0:o.uniqueId)&&void 0!==t?t:"",secUid:null==o?void 0:o.secUid}),u=Oe({uniqueId:null==o?void 0:o.uniqueId,onClick:Ce.dG,enter_method:"click_head"}),p=Oe({uniqueId:null==o?void 0:o.uniqueId,onClick:Ce.dG,enter_method:"click_name"});return o?(0,n.jsxs)(Be,{"data-e2e":"inbox-list-item",onClick:l,children:[(0,n.jsx)(Te.N_,{to:c,onClick:u,ariaLabel:i("accessibilityLabels_link_userProfile",{username:null==o?void 0:o.nickname}),children:(0,n.jsx)(Ne,{size:48,src:o.avatarThumb,alt:""})}),(0,n.jsxs)(qe,{children:[(0,n.jsx)(Ze,{"data-e2e":"inbox-title",to:c,onClick:p,children:o.nickname}),(0,n.jsx)(It,{item:e,content:a})]}),(0,n.jsx)(Te.N_,{to:r,onClick:d,children:(0,n.jsx)(Ve,{style:{backgroundImage:`url(${s})`}})})]}):(0,je.d)(["user"])});var At,Mt=i(97180);!function(e){e[e.Single=48]="Single",e[e.Multiple=36]="Multiple"}(At||(At={}));const Lt=(0,o.memo)(function({users:e}){var t,i,o,a,r;const s=(0,u.s)(),l=Boolean(e[1]),d=Oe({uniqueId:null===(t=e[0])||void 0===t?void 0:t.uniqueId,enter_method:"click_head"});if(!l){const{uniqueId:t="",secUid:a,nickname:r}=null!==(i=null==e?void 0:e[0])&&void 0!==i?i:{},l=(0,Se.fJR)({uniqueId:t,secUid:a});return(0,n.jsx)(Ue,{onClick:Ce.dG,children:(0,n.jsx)(it,{to:l,onClick:d,"aria-label":s("accessibilityLabels_link_userProfile",{username:r}),children:(0,n.jsx)(Ne,{size:48,src:null===(o=e[0])||void 0===o?void 0:o.avatarThumb,alt:""})})})}return(0,n.jsxs)(Ue,{"data-e2e":"inbox-avatar-multiple",children:[(0,n.jsx)(Ne,{size:36,multiple:!0,src:null===(a=e[1])||void 0===a?void 0:a.avatarThumb,alt:""}),(0,n.jsx)(Ne,{size:36,multiple:!0,src:null===(r=e[0])||void 0===r?void 0:r.avatarThumb,alt:""})]})}),Dt=function({user:e}){const t=(0,u.s)(),i=Oe({uniqueId:null==e?void 0:e.uniqueId,enter_method:"click_name"});if(!e)return null;const{uniqueId:o,secUid:a,nickname:r}=e,s=(0,Se.fJR)({uniqueId:o,secUid:a});return(0,n.jsx)(it,{to:s,onClick:i,"aria-label":t("accessibilityLabels_link_userProfile",{username:r}),children:e.nickname})},Ot=(0,o.memo)(function({item:e,content:t}){const{timeTranslator:i}=(0,V.T)(),o=i(1e3*Number(e.create_time),!0);return(0,n.jsxs)(Je,{"data-e2e":"inbox-content",children:[t," ",o]})}),Rt=function({mergeCount:e,users:t}){const i=(0,u.s)();return t[1]?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Dt,{user:t[0]}),","," ",(0,n.jsx)(Dt,{user:t[1]}),"number"==typeof e&&e>2&&(0,n.jsxs)(n.Fragment,{children:[" ",i("Inbox_and")," ",i("Inbox_others").replace(/%d/,String(e-2))]})]}):(0,n.jsx)(Dt,{user:t[0]})},Et=(0,o.memo)(function({item:e}){var t,i,o;const{users:a,content:r,itemHref:s,coverUrl:l,handleClickVideoCover:d}=(0,Mt.A)({item:e});return(0,n.jsxs)(ze,{"data-e2e":"inbox-list-item",onClick:d,to:s,children:[(0,n.jsx)(Lt,{users:a}),(0,n.jsxs)(qe,{children:[(0,n.jsx)(Ke,{"data-e2e":"inbox-title",onClick:Ce.dG,children:(0,n.jsx)(Rt,{users:a,mergeCount:null!==(o=null===(i=null===(t=e.template_notice.notice)||void 0===t?void 0:t.title)||void 0===i?void 0:i.merge_count)&&void 0!==o?o:0})}),(0,n.jsx)(Ot,{item:e,content:r})]}),l&&(0,n.jsx)(He,{onClick:d,to:s,style:{backgroundImage:`url(${l})`}})]})}),Ft=(0,o.memo)(function({item:e,onReportInboxClick:t}){return ke.BS.isFollowNotice(e)?(0,n.jsx)(yt,{item:e}):ke.BS.isLikeNotice(e)?(0,n.jsx)(jt,{item:e}):ke.BS.isCommentNotice(e)?(0,n.jsx)(_t,{item:e}):ke.BS.isDuetNotice(e)?(0,n.jsx)(vt,{item:e}):ke.BS.isMentionNotice(e)?(0,n.jsx)(Pt,{item:e}):ke.BS.isReportInboxNotice(e)?(0,n.jsx)(xe,{item:e,onClick:t}):ke.BS.isRepostInboxNotice(e)?(0,n.jsx)(Et,{item:e}):null});var Bt=i(6862),zt=i(76031);const Ut={id:"system-notif-inbox-icon-195ebab2",use:"system-notif-inbox-icon-195ebab2-usage",viewBox:"0 0 18 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 16" id="system-notif-inbox-icon-195ebab2"><path fill="white" d="M14.24 0c.828 0 1.56.454 1.808 1.123l1.78 4.81c.113.307.172.63.172.955V14.4c0 .425-.2.832-.555 1.131s-.837.469-1.34.469H1.895a2.08 2.08 0 0 1-1.34-.469C.2 15.232 0 14.824 0 14.4V6.888c0-.325.059-.648.173-.955l1.78-4.81C2.202.455 2.934 0 3.762 0zm-.918 2.133H4.678c-.284 0-.54.15-.651.379l-.031.079-.982 3.16a.5.5 0 0 0 .477.649h11.017a.5.5 0 0 0 .478-.648l-.983-3.161c-.083-.27-.363-.457-.681-.458" /></symbol>'};function Nt(e){const t=(0,o.useContext)(H.X);return(0,o.useLayoutEffect)(()=>(t.add(Ut),()=>{t.remove("system-notif-inbox-icon-195ebab2")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#system-notif-inbox-icon-195ebab2"},void 0)}),void 0)}var Wt=i(47323);const Vt=(0,o.memo)(function(e){var t,i;const o=(0,u.s)(),a=(0,zt.I$)(e=>{for(const t of e.noticeCount)if(661===t.group)return 0===t.count;return!0}),r=Wt.Sb[(0,ke.G6)(e.systemNotif.type)],s=r?o(r.label):null;return s?(0,n.jsxs)(nt,{onClick:e.onClick,children:[(0,n.jsx)(ot,{children:(0,n.jsx)(Nt,{width:16,height:16})}),(0,n.jsxs)(qe,{children:[(0,n.jsx)(pt,{size:"large",hideBadge:a,children:(0,n.jsx)(Ke,{children:o("system_notifications_inbox_header")})}),(0,n.jsxs)(rt,{children:[s,": ",null===(i=null===(t=e.systemNotif.template_notice)||void 0===t?void 0:t.notice)||void 0===i?void 0:i.content]})]}),(0,n.jsx)(at,{children:(0,n.jsx)(Bt.A,{style:{fontSize:16}})})]}):null});var Ht=i(77293);const qt=(0,o.memo)(function({uniqueId:e}){var t;const i=(0,u.s)(),r=(0,ht.nW)(t=>t.users[e],d.bN),s=(0,Ht.Cp)(),l=(0,o.useCallback)(t=>i=>{i.preventDefault(),i.stopPropagation(),s.postFollowReply({approveOrReject:t,uniqueId:e,uid:null==r?void 0:r.id})},[s,e,null==r?void 0:r.id]),c=(0,o.useCallback)(t=>i=>{13!==i.keyCode&&32!==i.keyCode||(i.preventDefault(),i.stopPropagation(),s.postFollowReply({approveOrReject:t,uniqueId:e,uid:null==r?void 0:r.id}))},[s,e,null==r?void 0:r.id]),p=(0,Se.fJR)({uniqueId:null!==(t=null==r?void 0:r.uniqueId)&&void 0!==t?t:"",secUid:null==r?void 0:r.secUid}),g=Le({href:p,shouldUsePush:!0,beforeStart:Oe({uniqueId:null==r?void 0:r.uniqueId,enter_method:"click_noti",enter_from:"follow_request_page",previous_page:"homepage_message",shouldHandleDom:!0})}),_=function({uniqueId:e,onKeyDown:t,enter_method:i,enter_from:n,previous_page:r,shouldHandleDom:s}){const l=(0,a.P)(re.L,{selector:t=>{var i;const{appContext:n}=t;return(null==n?void 0:n.user)&&(null===(i=null==n?void 0:n.user)||void 0===i?void 0:i.uniqueId)===e},dependencies:[e]});return(0,o.useCallback)(e=>{var o;let a=i;s&&(a=null!==(o=De(e))&&void 0!==o?o:i),null==t||t(e);const d={enter_method:a,page_name:null!=n?n:"homepage_message",enter_from:null!=n?n:"homepage_message",previous_page:null!=r?r:Ie.f.commonParams.page_name};l?Pe.q.handleEnterProfile(d):Pe.q.handleEnterUser(d)},[i,s,t,l,n,r])}({uniqueId:null==r?void 0:r.uniqueId,enter_method:"click_noti",enter_from:"follow_request_page",previous_page:"homepage_message",shouldHandleDom:!0}),m=function({beforeStart:e,href:t,shouldUsePush:i,state:n}){const a=(0,Ae.w)();return t=(0,Me.U)(t),(0,o.useCallback)(o=>{null==e||e(o),a(o,{href:t,shouldUsePush:i,state:n})},[e,a,t,i,n])}({href:p,shouldUsePush:!0,beforeStart:_}),h=(0,o.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),m(e))},[m]);return r?(0,n.jsxs)(Be,{"data-e2e":"inbox-list-item",onClick:g,onKeyDown:h,tabIndex:0,role:"listitem","aria-label":i("accessibilityLabels_link_userProfile",{username:r.nickname}),children:[(0,n.jsx)(Ne,{size:48,src:r.avatarThumb,"data-method":"click_head",alt:""}),(0,n.jsxs)(qe,{children:[(0,n.jsx)(Ye,{"data-e2e":"inbox-title",href:p,onClick:Ce.wo,"data-method":"click_name",tabIndex:-1,"aria-label":i("accessibilityLabels_link_userProfile",{username:r.nickname}),children:r.uniqueId}),(0,n.jsx)(Je,{children:r.nickname}),(0,n.jsxs)(et,{children:[(0,n.jsx)(tt,{size:"tiny",onClick:l(1),onKeyDown:c(1),"aria-label":i("delete"),children:i("delete")}),(0,n.jsx)(tt,{"data-e2e":"inbox-request-accept",size:"tiny",buttonTheme:"primary",onClick:l(0),onKeyDown:c(0),"aria-label":i("inbox_request_accept"),children:i("inbox_request_accept")})]})]})]}):(0,je.d)(["user"])});var $t=i(12527);const Gt=(0,f.default)("div",{target:"e11z9zg00"})({flex:"1 1 auto",overflow:"auto"},"label:DivInboxContentContainer;"),Kt=(0,f.default)("p",{target:"e11z9zg01"})(({theme:e})=>(0,y.zy)({theme:e,typography:"P3",fontWeight:"semiBold",color:"TextTertiary"}),{padding:"0 16px",marginTop:"8px"},"label:PTimeGroupTitle;"),Yt=(0,f.default)(Te.N_,{target:"e11z9zg02"})({display:"block",width:"54px",height:"72px",background:"center no-repeat",backgroundSize:"cover",borderRadius:"2px",margin:"auto"},"label:StyledAnchor;"),Zt=(0,f.default)("p",{target:"e11z9zg03"})(({theme:e})=>(0,y.zy)({theme:e,typography:"H6",color:"TextTertiary"}),y.PR,{padding:"8px 48px 2px"},"label:PCommentText;"),Jt=(0,f.default)("div",{target:"e11z9zg04"})(({theme:{colors:e}})=>({height:"1px",background:e.LineSecondary,transform:"scaleY(0.5)",margin:"8px 16px"}),"label:DivSplit;"),Xt=(0,f.default)("div",{target:"e11z9zg05"})({cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"8px"},({theme:{direction:e}})=>(0,y.mp)({direction:e,marginStart:"16px",marginEnd:"auto"}),"label:DivBack;"),Qt=(0,f.default)($t.A,{target:"e11z9zg06"})(({theme:{direction:e}})=>"ltr"===e?null:{transform:"rotate(180deg)"},"label:StyledChevronLeftOffset;"),ei=(0,f.default)("div",{target:"e11z9zg07"})(({theme:e})=>(0,y.zy)({theme:e,typography:"P3"}),{padding:"8px 24px 8px 16px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},"label:DivFollowReqEntranceContainer;"),ti=(0,f.default)("span",{target:"e11z9zg08"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:SpanHintContainer;"),ii=(0,f.default)("i",{target:"e11z9zg09"})(({theme:{colors:e,direction:t}})=>[{width:"8px",height:"8px",borderRadius:"8px",background:e.Primary},(0,y.mp)({direction:t,marginEnd:"8px"})],"label:IDot;"),ni=(0,f.default)("span",{target:"e11z9zg010"})(({theme:{colors:e,direction:t}})=>[{color:e.TextTertiary,marginRight:"8px"},(0,y.mp)({direction:t,marginEnd:"8px"})],"label:SpanHintText;"),oi=(0,f.default)("ul",{target:"e11z9zg011"})({padding:0,margin:0,listStyleType:"none"},"label:UlInboxItemListContainer;"),ai=(0,f.default)("li",{target:"e11z9zg012"})({padding:0,margin:0,listStyleType:"none"},"label:LiInboxItemWrapper;"),ri=(0,o.memo)(function(e){const t=(0,u.s)(),i=(0,o.useMemo)(()=>t("Back"),[t]);return(0,n.jsxs)(Xt,{"data-e2e":"inbox-second-back",onClick:e.onClickBack,onKeyDown:e.onBackKeyDown,tabIndex:0,role:"button","aria-label":i,children:[(0,n.jsx)($t.A,{}),(0,n.jsx)("span",{children:i})]})}),si=(0,o.memo)(function(e){const{item:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ri,{onClickBack:e.onClickBack,onBackKeyDown:e.onBackKeyDown}),(0,n.jsx)(Gt,{"data-e2e":"inbox-list",role:"list",children:t.users.map(e=>(0,n.jsx)(qt,{uniqueId:e},e))})]})});var li=i(68652);const di=(0,o.memo)(function(e){const{total:t}=e,i=(0,u.s)(),{colors:o}=(0,ce.u)();return(0,n.jsxs)(ei,{"data-e2e":"inbox-follow-request",onClick:e.onClick,onKeyDown:e.onKeyDown,tabIndex:0,role:"button","aria-labelledby":"inbox-follow-req-entrance-header",children:[(0,n.jsx)("h4",{id:"inbox-follow-req-entrance-header",children:i("Inbox_Follow_requests")}),(0,n.jsxs)(ti,{children:[(0,n.jsx)(ii,{}),(0,n.jsx)(ni,{children:t}),(0,n.jsx)(li.A,{fill:o.TextTertiary,width:12,height:12})]})]})});var ci=i(62738),ui=i(31382);const pi=(0,o.memo)(function({uniqueId:e}){var t;const i=(0,u.s)(),a=(0,ht.nW)(t=>t.users[e],d.bN),{handleFollow:r,isFollowing:s,text:l,relation:c}=(0,ui.Tu)({uniqueId:e,prevent:!0,teaParams:{enter_from:"homepage_message"}}),p=(0,o.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||r(e)},[r]),g=(0,Se.fJR)({uniqueId:null!==(t=null==a?void 0:a.uniqueId)&&void 0!==t?t:"",secUid:null==a?void 0:a.secUid}),_=Le({href:g,shouldUsePush:!0,beforeStart:Oe({uniqueId:e,enter_method:"click_noti",shouldHandleDom:!0})});return a?(0,n.jsxs)(Be,{"data-e2e":"inbox-list-item",onClick:_,children:[(0,n.jsx)(Ne,{size:48,src:a.avatarThumb,"data-method":"click_head",alt:""}),(0,n.jsxs)(qe,{children:[(0,n.jsx)(Ye,{"data-e2e":"inbox-title",href:g,onClick:Ce.wo,"data-method":"click_name","aria-label":i("accessibilityLabels_link_userProfile",{username:a.nickname}),children:a.uniqueId}),(0,n.jsx)(Je,{"data-e2e":"inbox-content",children:a.nickname})]}),(0,n.jsxs)(We,{onClick:r,onKeyDown:p,size:"tiny",buttonTheme:s?"default":"primary",children:[2===c?(0,n.jsx)(ci.A,{}):null,l]})]}):(0,je.d)(["user"])}),gi=(0,o.memo)(function(e){var t,i,a;const{item:r}=e,s=(0,u.s)(),l=(0,mt._u)(),[{loading:c,users:p},g]=(0,Ht.P4)(e=>e.diggList,d.bN);(0,o.useEffect)(()=>{var e,t;return g.fetchDiggListData({ref_id:null!==(t=null===(e=r.digg.comment)||void 0===e?void 0:e.cid)&&void 0!==t?t:r.digg.aweme.aweme_id}),()=>{g.setDiggList([]),g.setDiggListLoading(!1)}},[g,r.digg.aweme.aweme_id,null===(t=r.digg.comment)||void 0===t?void 0:t.cid]);const _=(0,o.useCallback)(()=>c&&!p.length?(0,n.jsx)(m.R,{size:"small",center:!0}):p.map(e=>(0,n.jsx)(pi,{uniqueId:e},e)),[c,p]),h=l(r),v=(0,Me.U)(h),f=(0,o.useCallback)(()=>{location.href=v},[v]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Xt,{"data-e2e":"inbox-second-back",onClick:e.onClickBack,onKeyDown:e.onBackKeyDown,tabIndex:0,role:"button","aria-label":s("Back"),children:[(0,n.jsx)(Qt,{}),(0,n.jsx)("span",{children:s("Back")})]}),(0,n.jsxs)(Gt,{"data-e2e":"inbox-list",children:[(0,n.jsx)(Yt,{to:v,style:{backgroundImage:`url(${null===(i=r.digg.aweme.video.cover.url_list)||void 0===i?void 0:i[0]})`},onClick:f}),(null===(a=r.digg.comment)||void 0===a?void 0:a.text)&&(0,n.jsx)(Zt,{children:r.digg.comment.text}),(0,n.jsx)(Jt,{}),_()]})]})});var _i;!function(e){e[e.New=0]="New",e[e.Today=1]="Today",e[e.Yesterday=2]="Yesterday",e[e.ThisWeek=3]="ThisWeek",e[e.ThisMonth=4]="ThisMonth",e[e.Previous=5]="Previous"}(_i||(_i={}));const mi={0:"Inbox_New",1:"Inbox_Today",2:"Inbox_Yesterday",3:"Inbox_This_Week",4:"Inbox_This_Month",5:"Inbox_Previous"},hi=[0,1,6,(new Date).getDate()].map(e=>function(e=0){return(new Date).setHours(0,0,0,0)/1e3-86400*e}(e)),vi=e=>{if(!e||!e.has_read)return 0;const t=hi.findIndex(t=>t<e.create_time);return-1===t?5:t+1},fi=(0,o.memo)(function({item:e,activeGroup:t,reportInboxList:i,onReportInboxClick:a,systemNotifItem:s,onSystemNotifItemClick:d}){var c,p;const g=(0,u.s)(),_=i[0],h=(0,r.Nj)(l.b),{isRepostNoticeEnabled:v}=(0,de.hn)(),f=(0,o.useMemo)(()=>{var i;let n=(null!==(i=e.notice_list)&&void 0!==i?i:[]).slice();if(v||(n=n.filter(e=>!ke.BS.isRepostInboxNotice(e))),500!==t||!_)return n;const o=vi(_),a=n;for(let e=0;e<a.length;e++){const t=a[e],i=vi(t);if(0===o&&0!==i)return a.splice(e,0,_),a;if(_.create_time>t.create_time)return a.splice(e,0,_),a}return a.push(_),a},[t,_,e.notice_list]),y=s&&500===t,b=y?(0,n.jsx)(Vt,{systemNotif:s,onClick:d}):null;(0,o.useEffect)(()=>{y&&h.handleSystemNotificationShow()},[h,y]);let x=vi(null==f?void 0:f[0]);const k=(0,o.useMemo)(()=>{const e=[];let t=0;if(null==f||f.map((i,n)=>{if(0===n||0===x&&i.has_read||i.create_time<hi[x-1]){if(x=vi(i),0!==n){const i=f.slice(t,n);e.push(i)}t=n}return i}),t<f.length){const i=f.slice(t);e.push(i)}if(y){const t=vi(s),i=Object.assign(Object.assign({},s),{isSystemNotif:!0});for(let n=0;n<e.length;n++){const o=e[n];if(t===vi(o[0])){o.splice(0,0,i);break}if(0===t||s.create_time>o[0].create_time){e.splice(n,0,[i]);break}if(n===e.length-1&&s.create_time<o[0].create_time){e.push([i]);break}}0===e.length&&e.push([i])}return e},[x,f,y]);return e.loading&&!(null===(c=e.notice_list)||void 0===c?void 0:c.length)?(0,n.jsx)(m.R,{center:!0,size:"small"}):k.length?(0,n.jsx)(n.Fragment,{children:null===(p=null!=k?k:[])||void 0===p?void 0:p.map(e=>{const t=vi(e[0]),i=(0,n.jsx)(Kt,{children:g(mi[t])});return(0,n.jsxs)(o.Fragment,{children:[i,(0,n.jsx)(oi,{children:e.map((e,t)=>{var i;const o=null!==(i="nid_str"in e?e.nid_str:e.nid)&&void 0!==i?i:t;return!0===e.isSystemNotif?(0,n.jsx)(ai,{children:b},o):(0,n.jsx)(ai,{children:(0,n.jsx)(Ft,{item:e,onReportInboxClick:a})},o)})})]},t)})}):(0,n.jsx)(be,{type:t})}),yi=(0,o.memo)(function(e){var t;const{activeGroup:i,item:a,systemNotifItem:c,reportInboxList:u,followItem:p,showFollow:g,onFollowChange:_,onHitBottom:h,onReportInboxClick:v,onSystemNotifItemClick:f}=e,y=(0,r.Nj)(l.b),[b,{setExpandedLikeItem:x}]=(0,s.nG)(e=>e.expandedLikeItem,d.bN),k=(0,o.useCallback)(()=>{x(null)},[x]),w=(0,o.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||x(null)},[x]),S=(0,o.useRef)(null);(0,le.O)({elementRef:S,onHitBottom:h,threshold:100});const C=(0,o.useCallback)(()=>{_(!1)},[_]),j=(0,o.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||_(!1)},[_]),T=(0,o.useCallback)(()=>{_(!0),y.handleEnterFollow({request_cnt:Number(p.total)})},[p.total,_,y]),I=(0,o.useCallback)(e=>{13!==e.keyCode&&32!==e.keyCode||T()},[T]),P=(0,ke.Bl)();return b?(0,n.jsx)(gi,{item:b,onClickBack:k,onBackKeyDown:w}):g?(0,n.jsx)(si,{onClickBack:C,onBackKeyDown:j,item:p}):(0,n.jsxs)(Gt,{"data-e2e":"inbox-list",id:"header-inbox-list",ref:S,tabIndex:0,role:"tabpanel","aria-labelledby":`inbox-tab-${P.indexOf(i)}`,children:[500===i&&Boolean(p.total)&&(0,n.jsx)(di,{onClick:T,onKeyDown:I,total:p.total}),(0,n.jsx)(fi,{item:a,reportInboxList:u,activeGroup:i,onReportInboxClick:v,systemNotifItem:c,onSystemNotifItemClick:f}),Boolean(null===(t=a.notice_list)||void 0===t?void 0:t.length)&&a.loading&&(0,n.jsx)(m.R,{center:!0,size:"small"})]})}),bi=(0,f.default)("div",{target:"e1bp8k4k0"})(({theme:{direction:e}})=>[{paddingTop:"24px",flex:"0 0 auto"},(0,y.mp)({direction:e,paddingStart:"16px"})],"label:DivInboxHeaderContainer;"),xi=(0,f.default)("h2",{target:"e1bp8k4k1"})([({theme:e})=>(0,y.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"bold",typography:"H4",color:"TextPrimary"}),({clickable:e=!1})=>({":hover":{cursor:e?"pointer":"auto"}}),{display:"flex"}],"label:H2InboxTitle;"),ki=(0,f.default)("div",{target:"e1bp8k4k2"})({marginInlineEnd:"22px"},"label:DivTitleIconContainer;"),wi=(0,f.default)("div",{target:"e1bp8k4k3"})(({theme:e})=>(0,y.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P3",color:"TextPrimary"}),{marginTop:"16px",display:"flex",flexDirection:"row",flexWrap:"wrap"},"label:DivGroupContainer;"),Si=e=>({0:{color:e.TextPrimary,background:e.BGPlaceholderDefault,":hover":{background:e.ShadowPrimary}},1:{color:e.BGPrimary,background:e.TextPrimary}}),Ci=(0,f.default)("button",{target:"e1bp8k4k4"})(({theme:{colors:e,direction:t},active:i})=>[Si(e)[Number(i)],{":not(:last-child)":[(0,y.mp)({direction:t,marginEnd:"8px"})]},{border:"none",padding:"2px 8px",marginBottom:"12px",textAlign:"center",cursor:"pointer",borderRadius:"12px",transition:"all 300ms"}],"label:ButtonGroupItem;"),ji={500:"Inbox_All",3:"Inbox_Likes",505:"Inbox_Likes",2:"Inbox_Comments",6:"Inbox_Mentions",7:"Followers"},Ti=["all","likes","comments","mentions","followers"],Ii=(0,o.memo)((0,o.forwardRef)(({value:e,onChange:t,onKeyDown:i},a)=>{const r=(0,u.s)(),s=(0,o.useCallback)(e=>()=>{t(e)},[t]),l=(0,o.useRef)(null),d=(0,ke.Bl)(),c=(0,o.useCallback)(e=>{var t,i;null===(i=null===(t=l.current)||void 0===t?void 0:t.children[d.indexOf(e)])||void 0===i||i.focus()},[]);return(0,o.useImperativeHandle)(a,()=>({setFocus:c})),(0,n.jsxs)(bi,{children:[(0,n.jsx)(xi,{id:"header-inbox-title",children:r("Inbox_Notifications")}),(0,n.jsx)(wi,{"data-e2e":"inbox-bar",id:"header-inbox-bar",onKeyDown:i,ref:l,role:"tablist","aria-labelledby":"header-inbox-title",children:d.map((t,i)=>(0,n.jsx)(Ci,{"data-e2e":Ti[i],id:`inbox-tab-${i}`,active:t===e,tabIndex:t===e?0:-1,onClick:s(t),role:"tab","aria-selected":t===e,"aria-controls":"header-inbox-list",children:r(ji[t])},t))})]})})),Pi=(0,f.default)("div",{target:"e32s1fi0"})({height:"100%",display:"flex",flexDirection:"column"},"label:DivInboxContainer;");var Ai=i(67476),Mi=i(43725),Li=i(53940),Di=i(41901),Oi=i(76443),Ri=i(66203),Ei=i(57951),Fi=i(71862),Bi=i(41928);const zi=(0,o.memo)(function(e){var t,i,a,s,d,u,p,g;const{t:_,timeTranslator:m}=(0,V.T)(),h=(0,c.w)(Ei.s),v=(0,c.w)(Di.L),f=(0,c.w)(Oi.y7),[y,b]=(0,o.useState)(!1),x=(0,o.useCallback)(()=>{b(!1)},[]),k=(0,r.Nj)(l.b),{notificationShouldBeClickable:w}=(0,Bi.AP)(),S=null!==(i=null===(t=e.notice.template_notice)||void 0===t?void 0:t.schema_url)&&void 0!==i?i:"";S&&(0,ke.Eo)(S)&&Ie.f.event("web_appeal_result_notification_view");const C=(0,o.useCallback)(()=>{var t,i,n,o,a,r;if(1!==e.notice.display_type)if(2===e.notice.display_type)k.handleSystemNotificationClick({enter_method:"click_get_app_for_pc"}),b(!0);else if(3===e.notice.display_type&&(k.handleSystemNotificationClick({}),window&&void 0!==(null===(t=e.notice.template_notice)||void 0===t?void 0:t.schema_url))){const t=null===(i=e.notice.template_notice)||void 0===i?void 0:i.schema_url;if(t&&t.startsWith(Fi.fZ)){const e=new URLSearchParams(new URL(t).search),i=null!==(n=e.get("object_id"))&&void 0!==n?n:void 0,s=null!==(o=e.get("object_type"))&&void 0!==o?o:void 0,l=null!==(a=e.get("punish_key"))&&void 0!==a?a:void 0,d=null!==(r=e.get("punish_id"))&&void 0!==r?r:void 0;return h.setViolationAppealInfo({objectId:i,objectType:s,punishKey:l,punishId:d}),void h.setVisible(!0)}if(t&&(0,ke.Eo)(t)){if(w){Ie.f.event("web_appeal_result_view_more_click");const e=JSON.parse(t);h.setViolationAppealInfo({objectId:e.vid,objectType:"1",penaltyDetails:e}),h.setVisible(!0)}return}if(t&&t.startsWith(Ri.OD))return void(t.includes(encodeURIComponent("is_appeal=1"))?v.setAppealInfoAndShow({url:t}):f.showRereport({rereportUrl:t}));window.location.href=t}},[k,e.notice.display_type,null===(a=e.notice.template_notice)||void 0===a?void 0:a.schema_url,h]),j=(0,o.useMemo)(()=>{var t,i,o,a;return 2===e.notice.display_type?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ut,{}),(0,n.jsx)(Ai.Fm,{type:"P3-Regular",children:_("system_notifications_details_button")})]}):3===e.notice.display_type&&(null===(i=null===(t=e.notice.template_notice)||void 0===t?void 0:t.schema_url)||void 0===i?void 0:i.includes(Ri.OD))?(null===(a=null===(o=e.notice.template_notice)||void 0===o?void 0:o.schema_url)||void 0===a?void 0:a.includes(encodeURIComponent("is_appeal=1")))?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ut,{}),(0,n.jsx)(Ai.Fm,{type:"P3-Regular",children:_("dsa_bi_illegal_more_options_link")})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ut,{}),(0,n.jsx)(Ai.Fm,{type:"P3-Regular",children:_("dsa_illegal_report_again_link")})]}):null},[e.notice.display_type,_]),T=Wt.Sb[(0,ke.G6)(e.notice.type)],I=T?_(T.label):null,P=null===(u=null===(d=null===(s=e.notice.template_notice)||void 0===s?void 0:s.notice)||void 0===d?void 0:d.title)||void 0===u?void 0:u.title,A=null===(g=null===(p=e.notice.template_notice)||void 0===p?void 0:p.notice)||void 0===g?void 0:g.content;if(null===I||null===P||null===A)return null;const M=null!==e.notice.create_time?(0,n.jsxs)(Ai.Fm,{type:"P4-Regular",color:"TextQuaternary",children:[" ",m(1e3*e.notice.create_time,!0)]}):null,L=(0,ke.fG)((0,ke.G6)(e.notice.type));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(st,{onClick:C,children:[(0,n.jsxs)(lt,{children:[(0,n.jsx)(dt,{children:L&&(0,n.jsx)(L,{style:{fontSize:16}})}),(0,n.jsx)(Ai.Fm,{type:"P3-Semibold",children:I})]}),(0,n.jsx)(ut,{}),(0,n.jsx)(Mi.F.P3,{style:{maxWidth:"100%",overflowX:"hidden",textOverflow:"ellipsis"},children:P}),(0,n.jsx)(ct,{children:(0,n.jsxs)(Ai.Fm,{type:"P4-Regular",children:[A,M]})}),j]}),y&&(0,n.jsx)(Li.u,{visible:y,onClose:x})]})}),Ui=(0,o.memo)(function({noticeItem:e,onHitBottom:t}){var i;const a=(0,o.useRef)(null);return(0,le.O)({elementRef:a,onHitBottom:t,threshold:100}),(0,n.jsxs)(Gt,{ref:a,tabIndex:0,role:"tabpanel",children:[(null!==(i=e.notice_list)&&void 0!==i?i:[]).map(e=>(0,n.jsx)(ai,{children:(0,n.jsx)(zi,{notice:e})},e.nid)),e.loading&&(0,n.jsx)(m.R,{center:!0,size:"small"})]})});var Ni=i(89008);const Wi=(0,o.memo)(({onHeaderClick:e})=>{const t=(0,u.s)(),i=(0,n.jsx)(ki,{children:(0,n.jsx)(Ni.A,{fontSize:18})});return(0,n.jsx)(bi,{children:(0,n.jsxs)(xi,{id:"header-inbox-title",onClick:e,clickable:null!=e,children:[i,t("system_notifications_inbox_header")]})})}),Vi=(0,f.default)("div",{target:"ewlck080"})({height:"100%",display:"flex",flexDirection:"column"},"label:DivInboxContainer;"),Hi=(0,f.default)("div",{target:"ewlck081"})({padding:"20px 16px"},"label:DivListBox;"),qi=(0,o.memo)(function(e){var t,i;const a=(0,u.s)(),[r,s]=(0,Ht.P4)(e=>e,d.bN),[l,c]=(0,o.useState)([661]);(0,o.useEffect)(()=>{var e;if(661!==r.activeSystemNoticeGroup)return;if(!(null===(e=r.noticeList.notice_list)||void 0===e?void 0:e.length))return void c([661]);const t=[],i=new Set;r.noticeList.notice_list.forEach(e=>{const n=(0,ke.G6)(e.type);i.has(n)||(t.push(n),i.add(n))}),c([661,...t])},[r.activeSystemNoticeGroup,r.noticeList.notice_list]);const p=(0,o.useRef)(!0),g=(0,o.useCallback)(()=>{p.current||(p.current=!0,s.fetchSystemNoticeData())},[s]);(0,o.useEffect)(()=>{p.current=Boolean(r.noticeList.loading)},[r.noticeList.loading]);const _=(0,o.useMemo)(()=>l.map(e=>Wt.Sb[e]?{value:e.toString(),label:a(Wt.Sb[e].label,{},Wt.Sb[e].label)}:null).filter(e=>null!==e),[l,a]),m=(0,o.useCallback)(e=>{Object.entries(Wt.Sb).forEach(t=>{t[0].toString()===e&&s.changeActiveSystemNoticeGroup(t[1].value)})},[s]),h=(0,n.jsx)(Wi,{onHeaderClick:e.onBack}),v=(0,n.jsx)(Hi,{children:(0,n.jsx)(Ai.dB,{block:!0,label:"",hideLabel:!0,value:null!==(i=null===(t=r.activeSystemNoticeGroup)||void 0===t?void 0:t.toString())&&void 0!==i?i:"",onChange:m,placeholder:"",options:_,size:"small"})}),f=(0,n.jsx)(Ui,{onHitBottom:g,noticeItem:r.noticeList});return(0,n.jsxs)(Vi,{children:[h,v,f]})});var $i=i(52919);const Gi=(0,o.memo)(function(){const[e,{setIsFollowRequestShowing:t}]=(0,s.nG)(e=>e.isFollowRequestShowing,d.bN),[i,{setActivePage:c}]=(0,s.nG)(e=>e.activePage,d.bN),u=(0,o.useCallback)(()=>{c("report-inbox")},[c]),p=(0,o.useCallback)(()=>{c("main")},[c]),g=(0,a.P)(re.L,{selector:e=>{var t,i,n,o,a;return{uid:null!==(n=null===(i=null===(t=e.appContext)||void 0===t?void 0:t.user)||void 0===i?void 0:i.uid)&&void 0!==n?n:"",did:null!==(a=null===(o=e.appContext)||void 0===o?void 0:o.wid)&&void 0!==a?a:""}},dependencies:[]}),_=(0,a.P)(se.kK,{selector:e=>e.reportInbox.noticeList,dependencies:[]}),[{activeGroup:m,noticeList:h,followRequest:v,latestSystemNotice:f},y]=(0,Ht.P4)(e=>{const{activeGroup:t,noticeList:i,followRequest:n,latestSystemNotice:o}=e;return{activeGroup:t,noticeList:i,followRequest:n,latestSystemNotice:o}},d.bN),{setExpandedLikeItem:b}=(0,s.i7)(),x=(0,o.useMemo)(ke.Bl,[]),[k,w]=(0,o.useState)(x.indexOf(m)),S=(0,o.useCallback)(e=>{y.changeActiveGroup({group:e}),b(null),t(!1),w(x.indexOf(e))},[y,b,t,x]),C=(0,r.Nj)(l.b),j=(0,o.useCallback)(()=>{C.handleChangeTab({to_tab_name:"system"}),c("system-notif"),y.changeActiveSystemNoticeGroup(661)},[y,C,c]);(0,o.useEffect)(()=>{e||setTimeout(()=>{y.fetchNoticeFollowRequest(Object.assign(Object.assign({},g),{refresh:!0}))},2e3)},[y,g,e]),(0,o.useEffect)(()=>{v.has_more||0!==v.total?v.has_more&&v.users.length<=10&&y.fetchNoticeFollowRequest(g):t(!1)},[y,v.has_more,v.total,v.users.length,g,t]);const T=(0,o.useRef)(!0),I=(0,o.useRef)(null),P=(0,o.useCallback)(()=>{T.current||(T.current=!0,y.fetchNoticeData())},[y]),A=(0,o.useCallback)(e=>{var t,i,n,o;switch(e.keyCode){case 39:e.stopPropagation(),e.preventDefault();const a=k<x.length-1?k+1:0;w(a),S(x[a]),null===(t=I.current)||void 0===t||t.setFocus(x[a]);break;case 37:e.stopPropagation(),e.preventDefault();const r=0===k?x.length-1:k-1;w(r),S(x[r]),null===(i=I.current)||void 0===i||i.setFocus(x[r]);break;case 36:w(0),S(x[0]),null===(n=I.current)||void 0===n||n.setFocus(x[0]);break;case 35:w(x.length-1),S(x[x.length-1]),null===(o=I.current)||void 0===o||o.setFocus(x[x.length-1]);break;default:return}},[k,x,S]);(0,o.useEffect)(()=>{T.current=Boolean(h.loading)},[h.loading]),(0,o.useEffect)(()=>{y.fetchLatestSystemNotice()},[y]);const M=(0,o.useCallback)(()=>{c("main"),S(500)},[S,c]);return"report-inbox"===i?(0,n.jsx)(ae,{onClose:p}):"system-notif"===i?(0,n.jsx)(qi,{onBack:M}):(0,n.jsx)($i.t,{isMobile:!1,containerStyle:{height:"100%",width:"100%"},children:(0,n.jsxs)(Pi,{"data-e2e":"inbox-notifications",children:[(0,n.jsx)(Ii,{value:m,onChange:S,onKeyDown:A,ref:I}),(0,n.jsx)(yi,{activeGroup:m,item:h,onHitBottom:P,followItem:v,showFollow:e,onFollowChange:t,reportInboxList:_,onReportInboxClick:u,systemNotifItem:f,onSystemNotifItemClick:j})]})})})},70199:(e,t,i)=>{"use strict";i.d(t,{Gz:()=>h,gV:()=>g,h4:()=>_,if:()=>m});var n=i(72516),o=i(64388),a=i(55352),r=i(66263),s=i(57297),l=i(4887),d=i(96330),c=i(65774);const u=(0,i(1183).p)("tt2dspAddSongAtom@tiktok/fe-shared",{platforms:[]}),p=({addSongResult:e,isFirstAdd:t,platform:i,errorCode:n,enterFrom:o,groupId:r,musicId:l})=>{var d,u;e===a.kd.Success?c.G.handleAddTttodspStatusReport({status:"1",group_id:null!=r?r:"",add_tttodsp_type:"song",time:t?"1":"0",enter_from:o,music_id:l,button_name:null!==(d=s.x1[i])&&void 0!==d?d:""}):c.G.handleAddTttodspStatusReport({status:"1",group_id:null!=r?r:"",add_tttodsp_type:"song",time:t?"1":"0",error_code:null!=n?n:"",enter_from:o,music_id:l,button_name:null!==(u=s.x1[i])&&void 0!==u?u:""})},{useAtomService:g,useServiceDispatchers:_,useServiceState:m,getStaticApi:h}=(0,o.i)(u,(e,t)=>({setSelectedPlatform(e){t(u,t=>Object.assign(Object.assign({},t),{selectedPlatform:null!=e?e:t.selectedPlatform}))},getAndUpdatePlatforms(){var i;return(0,n.__awaiter)(this,void 0,void 0,function*(){const{platforms:n}=e(u);if(n.length>0)return n;try{const e=yield(0,r.wh)(),{tt_to_dsp_platform_list:n}=e;if(!n)throw new Error("[TT2DSP] getPlatforms error: tt_to_dsp_platform_list is undefined");const o=null===(i=n.find(e=>e.platform_selected_by_user))||void 0===i?void 0:i.platform;let a;for(const e of n)1===e.platform&&(a=e.developer_token);return a&&(0,l.o4)().setAppleMusicDeveloperToken(a),t(u,e=>Object.assign(Object.assign({},e),{platforms:n,selectedPlatform:null!=o?o:e.selectedPlatform})),n}catch(e){return console.error(e),!1}})},updatePlatform(t){return(0,n.__awaiter)(this,void 0,void 0,function*(){try{return(yield(0,r.$r)({platform:t,action:2})).status_code===r.DM.Success?(e(u).selectedPlatform||this.setSelectedPlatform(t),a.kd.Success):a.kd.PlatformUpdateError}catch(e){return console.error(e),a.kd.PlatformUpdateError}})},addSong(t,i,o,c,g){return(0,n.__awaiter)(this,void 0,void 0,function*(){let _=a.Bp.Unknown;const m=yield(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){var e,n;try{if(!(null===(n=null===(e=t.tt2dsp)||void 0===e?void 0:e.tt_to_dsp_song_infos)||void 0===n?void 0:n.length))throw new Error("[TT2DSP] addSong error: tt_to_dsp_song_infos is undefined");if(!s.OC.includes(i))throw new Error("[TT2DSP] addSong error: platform is not supported");const c=t.tt2dsp.tt_to_dsp_song_infos.find(e=>e.platform===i);if(!(null==c?void 0:c.song_id))throw new Error("[TT2DSP] addSong error: songInfo is undefined");if(1===i){const e=(0,d.nr)().getStaticClips();t.id in e&&!e[t.id].applePreCheck&&e[t.id].appleEquivalentSongId&&(c.song_id=e[t.id].appleEquivalentSongId)}let u={};if(1===i){const e=(0,l.o4)().getStaticAppleMusicDeveloperToken();if(!e)throw new Error("[TT2DSP] addSong error: appleMusicDeveloperToken is undefined");const t=(0,l.o4)().getStaticAppleMusicUserToken();if(!t)throw new Error("[TT2DSP] addSong error: appleMusicUserToken is undefined");u={apple_music_token:{developer_token:e,user_token:t}}}else if(3===i){const e=(0,l.o4)().getStaticSpotifyAccessToken();if(!e)throw new Error("[TT2DSP] addSong error: spotifyAccessToken is undefined");u={spotify_music_token:{access_token:e}}}const p=yield(0,r.nf)({platform:i,song_id:c.song_id,auth_token:JSON.stringify(u),action:0,enter_from:o,meta_song_id:c.meta_song_id,clip_id:t.id});if(p.status_code===r.DM.Success)return a.kd.Success;if(_=p.status_code.toString(),p.status_code!==r.DM.INTL_ERR_TOKEN_EXPIRED&&p.status_code!==r.DM.MusicDSPUserTokenAuthFailed)return a.kd.AddSongError;if(1===i){if(o===s.ou.WebHomepageHot)return a.kd.AddSongError;const{status:e,accessToken:n}=yield(0,l.o4)().auth({platform:i,isSelectedByUser:!1,enterFrom:o,musicId:t.id,groupId:g});if(e!==a.kd.Success||!n)return e;"apple_music_token"in u&&(u.apple_music_token.user_token=n);const d=yield(0,r.nf)({platform:i,song_id:c.song_id,auth_token:JSON.stringify(u),action:0,enter_from:o,meta_song_id:c.meta_song_id,clip_id:t.id});return d.status_code!==r.DM.Success&&(_=d.status_code.toString()),d.status_code===r.DM.Success?a.kd.Success:a.kd.AddSongError}if(3===i){const{status:e,accessToken:n}=yield(0,l.o4)().requestAccessToken(i,1);if(e===a.lf.Success&&n)"spotify_music_token"in u&&(u.spotify_music_token.access_token=n);else{if(o===s.ou.WebHomepageHot)return a.kd.AddSongError;const{status:e,accessToken:n}=yield(0,l.o4)().auth({platform:i,isSelectedByUser:!1,enterFrom:o,musicId:t.id,groupId:g});if(e!==a.kd.Success||!n)return e;"spotify_music_token"in u&&(u.spotify_music_token.access_token=n)}const d=yield(0,r.nf)({platform:i,song_id:c.song_id,auth_token:JSON.stringify(u),action:0,enter_from:o,meta_song_id:c.meta_song_id,clip_id:t.id});return d.status_code!==r.DM.Success&&(_=d.status_code.toString()),d.status_code===r.DM.Success?a.kd.Success:a.kd.AddSongError}}catch(e){return console.error(e),a.kd.AddSongError}return a.kd.AddSongError}))();return m===a.kd.Success?(p({addSongResult:a.kd.Success,isFirstAdd:c,platform:i,enterFrom:o,groupId:g,musicId:t.id}),e(u).selectedPlatform||this.setSelectedPlatform(i)):p({addSongResult:m,isFirstAdd:c,platform:i,errorCode:_,enterFrom:o,groupId:g,musicId:t.id}),m})},getStaticSelectedPlatform:()=>e(u).selectedPlatform}))},70591:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var n=i(72516),o=i(7672),a=i(44094);let r=class{constructor(e){this.fetch=e}getTopSearch(e){return this.fetch.get("/api/search/general/full/",{query:e,baseUrlType:2})}getUserSearch(e){return this.fetch.get("/api/search/user/full/",{query:e,baseUrlType:2})}getVideoSearch(e){return this.fetch.get("/api/search/item/full/",{query:e,baseUrlType:2})}getLiveSearch(e){return this.fetch.get("/api/search/live/full/",{query:e,baseUrlType:2})}};r=(0,n.__decorate)([(0,o._)(),(0,n.__metadata)("design:paramtypes",[a.p])],r)},70716:(e,t,i)=>{"use strict";i.d(t,{$k:()=>E,BY:()=>R,FI:()=>s,GD:()=>y,Hy:()=>c,Ko:()=>L,Lj:()=>k,NC:()=>p,NR:()=>B,PF:()=>_,PZ:()=>u,Pj:()=>D,QD:()=>S,T0:()=>I,Uc:()=>r,Uq:()=>C,Uv:()=>F,VB:()=>v,W:()=>j,Z9:()=>w,aI:()=>m,bP:()=>a,bv:()=>M,c3:()=>g,fp:()=>b,gO:()=>A,hN:()=>h,kk:()=>x,ln:()=>P,lt:()=>O,tZ:()=>f,up:()=>l,w2:()=>d,xm:()=>T});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"eyem33g1"})(()=>({}),"label:STMInfo;"),r=(0,n.default)("div",{target:"eyem33g2"})(()=>({fontSize:"16px",fontWeight:"600",lineHeight:"24px",margin:"0 8px 20px"}),"label:STMEditTitleText;"),s=(0,n.default)("div",{target:"eyem33g3"})(({theme:e})=>({fontSize:"16px",fontWeight:"400",lineHeight:"130%",margin:"0 8px 8px",color:e.colors.UIText2}),"label:STMSleepEditTitleText;"),l=(0,n.default)("div",{target:"eyem33g4"})(({theme:{direction:e}})=>[{fontSize:"16px",fontWeight:400,lineHeight:"24px",margin:"0px 0px 20px 21px"},(0,o.mp)({direction:e})],"label:STMEditText;"),d=(0,n.default)("div",{target:"eyem33g5"})(()=>({display:"flex",alignItems:"center",fontSize:"16px",fontWeight:"600",lineHeight:"24px",margin:"20px 0px 10px"}),"label:DivSTMEditSubTitle;"),c=(0,n.default)("div",{target:"eyem33g6"})(({theme:e})=>({display:"flex",alignItems:"center",fontSize:"13px",fontWeight:"400",lineHeight:"130%",margin:"4px 16px",color:e.colors.UIText3}),"label:DIVFooter;"),u=(0,n.default)("span",{target:"eyem33g7"})(()=>({display:"inline-block",marginLeft:"5px"}),"label:SpanSTMEditSubTitle;"),p=(0,n.default)("div",{target:"eyem33g8"})(()=>({display:"flex",margin:"20px 8px 20px",justifyContent:"space-between",alignItems:"center"}),"label:DivDailySTMSwitch;"),g=(0,n.default)("span",{target:"eyem33g9"})(()=>({fontSize:"16px",fontWeight:"600",lineHeight:"24px"}),"label:SpanDailySTMSwitch;"),_=(0,n.default)("div",{target:"eyem33g10"})(({theme:{colors:e,isDark:t}})=>({boxSizing:"border-box",padding:"12px",backgroundColor:`${t?e.BGPrimary:"rgba(22, 24, 35, .03)"}`}),"label:DivSTMSettingContainer;"),m=(0,n.default)("div",{target:"eyem33g11"})(({theme:{colors:e,isDark:t}})=>({boxSizing:"border-box",borderRadius:"12px",backgroundColor:`${t?e.BGPrimary:"rgba(22, 24, 35, .03)"}`}),"label:DivSleepSettingContainer;"),h=(0,n.default)("span",{target:"eyem33g12"})(()=>({margin:"20px 8px 20px",display:"flex",gap:"6px",justifyContent:"space-around"}),"label:DivSTMSettingButtons;"),v=(0,n.default)("span",{target:"eyem33g13"})(()=>({display:"flex",flexDirection:"column",gap:"15px"}),"label:DivSTMSettingScroll;"),f=(0,n.default)("button",{target:"eyem33g14"})(({width:e,isSelected:t,theme:{colors:i}})=>({boxSizing:"border-box",appearance:"none",height:"36px",minWidth:"80px",paddingInline:"11px",display:"flex",alignItems:"center",justifyContent:"space-around",border:`1px solid ${t?i.Primary:i.LineSecondary}`,borderRadius:"2px",backgroundColor:`${i.BGPrimary}`,outline:"none",cursor:"pointer",fontWeight:"600",color:`${t?i.Primary:i.TextPrimary}`,width:e,"&:hover":{backgroundColor:`${t?"rgba(254, 44, 85, .1);":i.BGPrimary}`}}),"label:ButtonSTMSettingButton;"),y=(0,n.default)("div",{target:"eyem33g15"})(()=>({marginTop:"20px",display:"flex",justifyContent:"flex-end"}),"label:DIVSTMSettingButton;"),b=(0,n.default)("div",{target:"eyem33g16"})(()=>({margin:"25px 0"}),"label:DIVProvider;"),x=(0,n.default)("div",{target:"eyem33g17"})(()=>({display:"flex",flexDirection:"column",justifyContent:"space-around",padding:"5px"}),"label:DIVSleepReminderItem;"),k=(0,n.default)("div",{target:"eyem33g18"})(()=>({marginBottom:"18px",fontSize:"16px",fontWeight:"600",lineHeight:"24px"}),"label:DIVSleepReminderItemText;"),w=(0,n.default)("div",{target:"eyem33g19"})(()=>[{display:"flex",alignItems:"center",gap:"60px",fontSize:"16px",fontWeight:400,lineHeight:"24px"}],"label:DIVSleepReminderTimeInputContainer;"),S=(0,n.default)("div",{target:"eyem33g20"})(({theme:{direction:e,colors:t}})=>[{color:`${t.TextSecondary}`},(0,o.mp)({direction:e})],"label:DIVSleepReminderIntervalInfo;"),C=(0,n.default)("div",{target:"eyem33g21"})(()=>({}),"label:DIVScrollInputContainer;"),j=(0,n.default)("button",{target:"eyem33g22"})(({isSelected:e,width:t,theme:{colors:i}})=>({boxSizing:"border-box",appearance:"none",height:"36px",minWidth:"80px",width:`${t||"auto"}`,paddingInline:"11px",display:"flex",alignItems:"center",justifyContent:"space-around",border:`1px solid ${e?i.Primary:i.LineSecondary}`,borderRadius:"2px",backgroundColor:`${i.BGPrimary}`,outline:"none",cursor:"pointer",fontWeight:"600",color:`${e?i.Primary:i.TextPrimary}`,"&:hover":{backgroundColor:`${e?"rgba(254, 44, 85, .1);":i.BGPrimary}`}}),"label:ButtonScrollInputButton;"),T=(0,n.default)("div",{target:"eyem33g23"})(()=>({height:"224px",display:"flex"}),"label:DIVScrollInputPopoverContent;"),I=(0,n.default)("div",{target:"eyem33g24"})(({theme:{colors:e}})=>({overflow:"auto",paddingBlock:"96px","&:not(:first-child)":{borderInlineEnd:`1px solid ${e.LineSecondary}`}}),"label:DIVScrollInputList;"),P=(0,n.default)("div",{target:"eyem33g25"})(({isSelected:e,isDisabled:t,theme:{colors:i}})=>{const n={color:i.TextPrimary,backgroundColor:"none",fontWeight:"400"};return e&&t?(n.color=i.ConstTextInverse,n.backgroundColor=i.Negative):e?(n.color=i.Primary,n.backgroundColor=i.BGPrimary,n.fontWeight="700"):t&&(n.color=i.TextTertiary),[Object.assign({display:"flex",alignItems:"center",justifyContent:"center",height:"32px",width:"64px",cursor:"pointer"},n)]},"label:DIVScrollInputTimeOption;"),A=(0,n.default)("span",{target:"eyem33g26"})(()=>({margin:"20px 8px 20px",display:"flex",gap:"6px",justifyContent:"flex-end"}),"label:DIVSleepSettingButtons;"),M=(0,n.default)("div",{target:"eyem33g27"})(()=>({display:"flex",justifyContent:"flex-end"}),"label:DIVSleepSettingButton;"),L=(0,n.default)("div",{target:"eyem33g28"})([()=>({display:"flex",flexDirection:"row",justifyContent:"center"})],"label:NudgeImageContainer;"),D=(0,n.default)("img",{target:"eyem33g29"})([()=>({height:147,width:"auto"})],"label:NudgeImage;"),O=(0,n.default)("div",{target:"eyem33g30"})(()=>({display:"flex",flexDirection:"column",padding:"0px 32px 32px 32px",gap:"16px"}),"label:NudgeContainer;"),R=(0,n.default)("div",{target:"eyem33g31"})(()=>({display:"flex",flexDirection:"row",gap:"8px"}),"label:NudgeButtons;"),E=(0,n.default)("div",{target:"eyem33g33"})(({theme:e})=>({display:"flex",fontSize:"16px",fontWeight:400,color:e.colors.UIText2,alignItems:"center",textAlign:"center"}),"label:NudgeSubtitleText;"),F=(0,n.default)("div",{target:"eyem33g34"})(()=>({display:"flex",justifyContent:"space-between",padding:"10px 16px",alignItems:"center"}),"label:DIVSleepReminderItemSleepHours;"),B=(0,n.default)("div",{target:"eyem33g35"})(()=>({fontSize:"16px",fontWeight:"400",lineHeight:"24px"}),"label:DIVSleepReminderItemSleepHoursText;")},70962:(e,t,i)=>{"use strict";i.d(t,{q:()=>o});var n=i(40099);function o(){const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>(t(!0),()=>{t(!1)}),[]),e}},71052:(e,t,i)=>{"use strict";i.d(t,{CZ:()=>d,Ec:()=>s,K3:()=>l,Le:()=>a,R:()=>r});var n=i(16410),o=i(95501);const a=(0,n.default)("div",{target:"e1yey0rl0"})(({horizontal:e,mode:t,theme:{colors:i}})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:1===t?i.BGPlaceholderOpaque:i.BGPlaceholderDefault,backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},2===t||1===t||4===t&&{display:"flex",alignItems:"center",justifyContent:"center"}],"label:DivContainer;"),r=(0,n.default)("img",{target:"e1yey0rl1"})(({horizontal:e,mode:t,fetchPriority:i="auto"})=>2!==t&&3!==t&&4!==t?{width:"100%",height:"100%",objectFit:"cover",fetchPriority:i}:{width:"100%",height:"100%",objectFit:e?"contain":"cover",fetchPriority:i},"label:ImgPoster;"),s=(0,n.default)("div",{target:"e1yey0rl2"})(({horizontal:e=!0})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"},"& .tiktok-web-player video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"}}),"label:DivBasicPlayerWrapper;"),l=(0,n.default)(o.R,{target:"e1yey0rl3"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},"label:StyledLoading;"),d=(0,n.default)("video",{target:"e1yey0rl4"})(({horizontal:e})=>({display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"}),"label:VideoBasic;")},71413:(e,t,i)=>{"use strict";i.d(t,{J:()=>g,K:()=>p});var n=i(40099),o=i(90976),a=i(61322),r=i(69857),s=i(51426);const l=["homepage_hot","explore_page","graphic_detail","video_detail","search_video","search_user","general_search"],d=["homepage_hot"];function c(){const{user:e,region:t}=(0,r.L$)((0,o.W)(()=>["user","region"],[])),{forceLoginSpecialRegions:i}=(0,r.L$)((0,a.U)(()=>["forceLoginSpecialRegions"],[]));return(0,n.useMemo)(()=>Boolean(!e&&(null==i?void 0:i.includes(t))),[i,t,e])}function u(){window&&(window.location.href=`/login?redirect_url=${(0,s.Q2)()}`)}function p(e){const t=c(),{isMobile:i=!1}=(0,r.L$)((0,a.U)(()=>["isMobile"],[])),o=i?d:l,s=!!e&&(null==o?void 0:o.includes(e));(0,n.useEffect)(()=>{t&&s&&u()},[e,t,s])}function g(){const e=c();return(0,n.useCallback)(()=>!!e&&(u(),!0),[e])}},71492:(e,t,i)=>{"use strict";i.d(t,{J:()=>d});var n=i(24643),o=i(10010),a=i.n(o),r=i(40099);function s(e){let t;return t="number"==typeof e?`${e}px`:e||"100%",t}const l=(0,i(16410).default)("div",{target:"e1b0r8240"})(({width:e,height:t})=>({width:s(e),height:s(t),overflow:"hidden",margin:"0 auto",outline:"none"}),"label:DivContainer;"),d=(0,r.memo)(function(e){const{width:t,height:i,className:o,options:s,eventListeners:d=[],lottieRef:c,containerRef:u,customStyle:p={}}=e,g=(0,r.useRef)(null),_=(0,r.useRef)(null);return(0,r.useEffect)(()=>(_.current=a().loadAnimation(Object.assign({container:g.current,renderer:"svg"},s)),c&&(c.current=_.current),()=>{var e;null===(e=_.current)||void 0===e||e.destroy(),_.current=null,c&&(c.current=null)}),[s]),(0,r.useEffect)(()=>(d.forEach(({eventName:e,callback:t})=>{var i;null===(i=_.current)||void 0===i||i.addEventListener(e,t)}),()=>{d.forEach(({eventName:e,callback:t})=>{var i;null===(i=_.current)||void 0===i||i.removeEventListener(e,t)})}),[d]),(0,n.jsx)(l,{width:t,height:i,className:o,style:p,ref:e=>{g.current=e,u&&(u.current=e)}})})},71612:(e,t,i)=>{"use strict";i.d(t,{F:()=>a});var n=i(24643);const o=(0,i(16410).default)("div",{target:"e1txrytm0"})(({theme:{colors:e,fontFamilies:t},useSmallBadge:i})=>({display:"inline-flex",padding:"0.0625rem 0.3125rem",alignItems:"center",gap:"0.625rem",borderRadius:"4px",background:"#fe2c55",color:e.ConstTextInverse,textAlign:"center",fontSize:i?"0.65rem":"0.75rem",fontStyle:"normal",fontFamily:t.TikTokFont,fontWeight:500,lineHeight:i?"110%":"130%",letterSpacing:"0.01006rem"}),"label:DivBadge;"),a=({children:e,useSmallBadge:t})=>(0,n.jsx)(o,{"data-e2e":"video-card-badge",useSmallBadge:t,children:e})},71898:(e,t,i)=>{"use strict";i.d(t,{Sm:()=>a,YD:()=>s,uM:()=>l,yn:()=>r});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"er9w8f60"})({width:"30px",height:"10px",position:"absolute",bottom:"-10px",left:"50%",transform:"translateX(-50%)","> svg":{position:"absolute",left:0,top:0}},"label:DivArrowIcon;"),r=(0,n.default)("div",{target:"er9w8f61"})(({theme:e})=>[(0,o.zy)({theme:e,typography:"P3",fontWeight:"normal"}),{maxWidth:"180px",height:"auto",position:"absolute",visibility:"hidden",backgroundColor:"#545454",fontWeight:600,borderRadius:8,padding:12,textAlign:"center",zIndex:3001,color:e.colors.ConstTextInverse}],"label:DivControlTip;"),s=(0,n.default)("div",{target:"er9w8f62"})(({disableHover:e,theme:t})=>({color:t.colors.ConstTextInverse,cursor:e?"auto":"pointer",userSelect:"none",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 6px",minHeight:"28px"}),"label:DivControlContainer;"),l=(0,n.default)("div",{target:"er9w8f63"})(({isBrowserMode:e})=>[{borderRadius:2,minWidth:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},e?{backgroundColor:"rgba(84, 84, 84, 0.5)",width:40,height:40,fontSize:22,borderRadius:"50%",overflow:"hidden",":hover":{backgroundColor:"rgba(37, 37, 37, .6)",opacity:.7},":active":{opacity:.5}}:{fontSize:22}],"label:DivControlIcon;")},72073:(e,t,i)=>{"use strict";i.d(t,{k:()=>f});var n=i(24643),o=i(40099),a=i(27799),r=i(20434),s=i(77272),l=i(70589),d=i(6418),c=i(16410),u=i(93584);const p=(0,c.default)("div",{target:"e1mzilcj0"})(({paddingBottom:e})=>({display:"flex",width:"100%",overflow:"hidden",position:"relative",paddingBottom:e}),"label:DivWrapper;"),g=(0,c.default)("div",{target:"e1mzilcj1"})(({shouldShow3Dot:e,shouldDesOnlyShow2Lines:t,isUnfold:i,lineClamp:n,lineHeight:o,marginTop:a,theme:{colors:r}})=>[{width:"100%",overflow:"hidden",textOverflow:"ellipsis",display:e?"-webkit-box":"box",WebkitLineClamp:n,WebkitBoxOrient:"vertical",span:{display:"inline"},"*":{fill:r.Primary2},":before":{content:'""',height:`calc(100% - ${o}px)`,float:"right",width:0,marginTop:`${a}px`}},!i&&t&&{br:{display:"none"}}],"label:DivText;"),_=(0,c.default)("button",{target:"e1mzilcj2"})(({theme:e})=>[(0,u.zy)({theme:e,typography:"P2",fontWeight:"semiBold",color:"TextPrimary"}),{border:"none",outline:"none",background:"none",cursor:"pointer"}],"label:ButtonExpand;"),m=(0,c.default)(_,{target:"e1mzilcj3"})(({bottomBtnLeftOffset:e,isRightSide:t,theme:{direction:i},shouldAdjustLeftBtn:n})=>[(0,u.mp)({direction:i,end:t?e:"",start:t?"":e}),{position:"absolute",bottom:n?16:0}],"label:StyledButtonBottom;"),h=(0,c.default)("div",{target:"e1mzilcj4"})(({moreBtnBottom:e,isMobileUiOptimize:t,btnShow:i,lineHeight:n,theme:{direction:o}})=>[{float:"rtl"===o?"left":"right",clear:"both",cursor:"pointer",display:i?"flex":"none",alignItems:"center",lineHeight:`${n}px`},t&&{position:"relative",bottom:e}],"label:DivBtnWrapper;"),v=(0,c.default)("div",{target:"e1mzilcj5"})(({isUnfold:e,maxHeight:t})=>e?{overflowY:"auto",maxHeight:t,scrollbarWidth:"none","::-webkit-scrollbar":{width:4}}:{},"label:DivOverflowContainer;"),f=(0,o.memo)(({children:e,lineClamp:t=2,overflowLineNum:i=0,onlyKey:c="",maxLine:u=999,btnOnClick:f,lineHeight:y=21,fontSize:b,showExpandButton:x=!0,btnStyle:k,expandBtnText:w,isMobile:S=!1,forceRightSide:C=!1,isCtaClick:j=!1,ctaTrigger:T,showTranslation:I,hasDefaultMaxHeight:P=!1})=>{const{isMobileUiOptimize:A}=(0,l.Eo)(),M=(0,a.s)(),L=(0,o.useRef)(null),D=(0,o.useRef)(null),[O,R]=(0,o.useState)(!1),[E,F]=(0,o.useState)(!1),[B,z]=(0,o.useState)(!1),[U,N]=(0,o.useState)(t),[W,V]=(0,o.useState)(P?t*y+2+"px":"unset"),[H,q]=(0,o.useState)(!1),$=(0,o.useMemo)(()=>b?(y-b)/2:0,[b,y]),G=M(E?"pc_web_less_btn":"pc_web_more_btn");let K=y*i+"px";A&&(K="42vh");const Y=null!=w?w:G,Z={shouldShow3Dot:!S&&B};let J=S?"26px":"55px";E||(J="unset");const X=S?"0":"-4px";let Q="3px";S||(Q=Z.shouldShow3Dot?"1px":"6px");const ee=(0,o.useCallback)(()=>{setTimeout(()=>{var e,i,n,o,a,r,s;if(null==L?void 0:L.current)if(E)V("unset"),(null!==(a=null===(o=D.current)||void 0===o?void 0:o.scrollHeight)&&void 0!==a?a:0)>(null!==(s=null===(r=D.current)||void 0===r?void 0:r.clientHeight)&&void 0!==s?s:0)&&q(!0);else{const o=null!==(e=L.current.scrollHeight)&&void 0!==e?e:0,a=null!==(i=L.current.clientHeight)&&void 0!==i?i:0,r=null!==(n=L.current.offsetHeight)&&void 0!==n?n:0;q(!1);const s=o-a>15||o>=y*t+15||r>=y*t+15;R(s),s&&V(t*y+2+"px")}},0)},[E,y,t]),te=(0,o.useCallback)(e=>{j&&T&&(e.stopPropagation(),e.preventDefault(),T())},[j,T]),ie=(0,o.useCallback)(e=>{(0,r.Gu)(e),N(e=>e===t?u:t),j||F(e=>!e),f&&f(E)},[f,E,t,u,j]);return(0,o.useEffect)(()=>(L.current&&s.P.bind(L.current,ee),()=>{L.current&&s.P.remove(L.current,ee)}),[ee]),(0,o.useEffect)(()=>{ee()},[I,ee]),(0,o.useEffect)(()=>{F(!1),N(t),R(!1),ee()},[c]),(0,o.useEffect)(()=>{(0,r.nr)()||z(!0)},[]),(0,n.jsxs)(p,{paddingBottom:J,children:[(0,n.jsxs)(g,Object.assign({isUnfold:E,ref:L,lineClamp:U,lineHeight:y,marginTop:$,style:{maxHeight:W}},Z,{shouldDesOnlyShow2Lines:!S,children:[(0,n.jsx)(h,{btnShow:O,lineHeight:y,isMobileUiOptimize:A,moreBtnBottom:Q,children:x&&!E&&(0,n.jsx)(_,{style:k,type:"button",onClick:ie,children:Y})}),i>0?(0,n.jsx)(v,{lineClamp:t,ref:D,isUnfold:E,maxHeight:K,isMobileUiOptimize:A,className:E&&A&&H?d.dj:"",onClick:te,children:e}):e]})),E&&(0,n.jsx)(m,{style:k,type:"button",onClick:ie,isRightSide:S&&A||C,shouldAdjustLeftBtn:!S,bottomBtnLeftOffset:X,children:Y})]})})},72292:(e,t,i)=>{"use strict";i.d(t,{C:()=>ae});var n=i(72516),o=i(24643),a=i(40099),r=i(67476),s=i(81015),l=i(50293),d=i(57615),c=i(16410);const u=(0,c.default)("div",{target:"e3yo8em0"})({display:"flex",flexDirection:"row",width:"100%",flexWrap:"wrap"},"label:DivContainer;"),p=(0,c.default)("div",{target:"e3yo8em1"})(({theme:e})=>[{display:"flex",flexDirection:"row",width:"100%",backgroundColor:e.colors.BGView,margin:"10px 0 10px 0",padding:"20px",borderRadius:"10px"}],"label:DivSectionContainer;"),g=(0,c.default)("div",{target:"e3yo8em2"})({display:"flex",flexDirection:"row",flex:1,alignItems:"center",flexWrap:"wrap",paddingInlineEnd:"6px",overflow:"hidden"},"label:DivContentContainer;"),_=(0,c.default)("div",{target:"e3yo8em3"})({display:"flex",flexDirection:"row",width:"100%",alignItems:"center",marginBottom:"6px"},"label:DivContentTitleContainer;"),m=(0,c.default)("div",{target:"e3yo8em4"})({".TUXRadioStandalone-container":{width:"24px",height:"24px"}},"label:DivRadioContainer;"),h=(0,c.default)("div",{target:"e3yo8em5"})({".TUXRadioStandalone-container":{width:"24px",height:"24px"},".TUXRadioStandalone-input":{outline:"none !important"}},"label:PCDivRadioContainer;");var v=i(27799);const f=({text:e})=>(0,o.jsx)(r.Fm,{type:"P4-Regular",as:"label",color:"ConstTextInverse",marginInlineStart:"8px",lineHeight:1,deprecatedStyle:{backgroundColor:"var(--tux-colorTextTertiary)",padding:"4px",borderRadius:"4px"},children:e}),y=e=>{var t,i,n,a,c,y,b,x;const{isExistingUser:k,showSelectRadio:w=!0,isPrivateSelected:S=!0,updateIsPrivateSelected:C,privateAccount:j,text:T={},isNewWebRadio:I=!1}=e,P=(0,v.s)();return(0,o.jsxs)(u,{children:[(0,o.jsxs)(p,{onClick:()=>C(!0),children:[(0,o.jsxs)(g,{children:[(0,o.jsxs)(_,{children:[(0,o.jsx)(s.A,{fill:"var(--TextPrimary)"}),(0,o.jsx)(r.Fm,{marginInlineStart:"8px",type:"P3-Semibold",color:"TextPrimary",children:P("privateAccountPrompt_manageAccount_privateAccount_title")}),k&&j&&(0,o.jsx)(f,{text:null!==(i=null===(t=T.privacy)||void 0===t?void 0:t.existingUserText)&&void 0!==i?i:P("privateAccountPrompt_account_permission_current_label")})]}),(0,o.jsx)(r.Fm,{type:"P4-Regular",color:"TextTertiary",children:null!==(a=null===(n=T.privacy)||void 0===n?void 0:n.privacyText)&&void 0!==a?a:P("privateAccountPrompt_manageAccount_privateAccount_body")})]}),w&&(0,o.jsx)(o.Fragment,{children:I?(0,o.jsx)(h,{children:(0,o.jsx)(d.v32,{name:"",value:"",checked:S,label:""},"")}):(0,o.jsx)(m,{children:(0,o.jsx)(r.v3,{name:"",value:"",checked:S,label:""},"")})})]}),(0,o.jsxs)(p,{onClick:()=>C(!1),children:[(0,o.jsxs)(g,{children:[(0,o.jsxs)(_,{children:[(0,o.jsx)(l.A,{fill:"var(--TextPrimary)"}),(0,o.jsx)(r.Fm,{marginInlineStart:"8px",type:"P3-Semibold",color:"TextPrimary",children:P("privateAccountPrompt_manageAccount_publicAccount_title")}),k&&!j&&(0,o.jsx)(f,{text:null!==(y=null===(c=T.public)||void 0===c?void 0:c.existingUserText)&&void 0!==y?y:P("privateAccountPrompt_account_permission_current_label")})]}),(0,o.jsx)(r.Fm,{type:"P4-Regular",color:"TextTertiary",children:null!==(x=null===(b=T.public)||void 0===b?void 0:b.publicText)&&void 0!==x?x:P("privateAccountPrompt_manageAccount_publicAccount_body2")})]}),w&&(0,o.jsx)(o.Fragment,{children:I?(0,o.jsx)(h,{children:(0,o.jsx)(d.v32,{name:"",value:"",checked:!S,label:""},"")}):(0,o.jsx)(m,{children:(0,o.jsx)(r.v3,{name:"",value:"",checked:!S,label:""},"")})})]})]})},b=(0,c.default)("div",{target:"ev85kfx0"})({padding:"8px 20px"},"label:DivContentWrapper;"),x=(0,c.default)("div",{target:"ev85kfx1"})({maxWidth:"483px"},"label:DivModalWrapper;"),k=(0,c.default)("a",{target:"ev85kfx2"})({":focus":{outline:"none"}},"label:ALinkContainer;");var w=i(99411),S=i(35762),C=i(17384);const j="https://support.tiktok.com/en/account-and-privacy/account-privacy-settings/making-your-account-public-or-private";var T=i(93584);const I=(0,c.default)("div",{target:"e1h1bu0s0"})(({theme:e})=>[(0,T.zy)({theme:e,color:"TextTertiary"}),{button:{border:"none",backgroundColor:"transparent"}}],"label:DivSuppressedButtonWrapper;");var P,A,M;!function(e){e[e.PrivateAccount=1]="PrivateAccount",e[e.PublicAccount=0]="PublicAccount"}(P||(P={})),function(e){e[e.PrivateOrPublicAccount=1]="PrivateOrPublicAccount",e[e.RemindLater=2]="RemindLater"}(A||(A={})),function(e){e.NewUser="private_account_prompt",e.ExistingUser="privacy_account_prompt_review"}(M||(M={}));const L=e=>{var{label:t,privateAccount:i,onSubmit:a,isLoading:s,loadingButtonType:l,isExitingUser:d}=e,c=(0,n.__rest)(e,["label","privateAccount","onSubmit","isLoading","loadingButtonType","isExitingUser"]);const u=(0,v.s)(),p=s&&3!==l,g=s&&3===l;return(0,o.jsx)(r.I0,Object.assign({label:u(t),onClick:()=>a({privateAccount:i,recordName:d?"privacy_account_prompt_review":"private_account_prompt",recordValue:1,buttonType:3}),loading:g,disabled:p},c))},D=e=>{var{isMobile:t}=e,i=(0,n.__rest)(e,["isMobile"]);return(0,o.jsx)(L,Object.assign({label:"privateAccountPrompt_stayPrivate_button",variant:"primary",size:t?"large":void 0,privateAccount:1,block:t},i))},O=e=>{var{isMobile:t}=e,i=(0,n.__rest)(e,["isMobile"]);return(0,o.jsx)(L,Object.assign({label:"privateAccountPrompt_stayPublic_button",variant:"secondary",size:t?"large":void 0,privateAccount:0,block:t},i))},R=({isLoading:e,onSubmit:t,loadingButtonType:i,isMobile:n})=>{const a=(0,v.s)(),s=e&&2!==i,l=e&&2===i,d=n?"large":void 0,c=(0,o.jsx)(r.I0,{label:a("privateAccountPrompt_manageAccount_privateAccount_button2"),variant:"secondary",onClick:()=>t({privateAccount:1,recordValue:2,buttonType:2}),loading:l,disabled:s,block:n,size:d});return n?(0,o.jsx)(I,{children:c}):c},E=e=>{var{label:t,isLoading:i,onSubmit:a,loadingButtonType:s,privateAccount:l,isExitingUser:d}=e,c=(0,n.__rest)(e,["label","isLoading","onSubmit","loadingButtonType","privateAccount","isExitingUser"]);const u=(0,v.s)(),p=i&&4!==s,g=i&&4===s;return(0,o.jsx)(r.I0,Object.assign({label:u(t),onClick:()=>a({privateAccount:l,recordName:d?"privacy_account_prompt_review":"private_account_prompt",recordValue:1,buttonType:4}),loading:g,disabled:p},c))},F=e=>{var{isMobile:t}=e,i=(0,n.__rest)(e,["isMobile"]);return(0,o.jsx)(E,Object.assign({label:"privateAccountPrompt_switchPrivate_button",variant:"primary",size:t?"large":void 0,privateAccount:1,block:t},i))},B=e=>{var{isMobile:t}=e,i=(0,n.__rest)(e,["isMobile"]);return(0,o.jsx)(E,Object.assign({label:"privateAccountPrompt_switchPublic_button",variant:"secondary",size:t?"large":void 0,privateAccount:0,block:t},i))},z=({isLoading:e,onSubmit:t,loadingButtonType:i,isMobile:n})=>{const a=(0,v.s)(),s=e&&1!==i,l=e&&1===i,d=n?"large":void 0;return(0,o.jsx)(r.I0,{label:a("privateAccountPrompt_manageAccount_privateAccount_button3"),variant:"primary",onClick:()=>t({privateAccount:1,recordValue:1,buttonType:1}),loading:l,disabled:s,block:n,size:d})},U=({isLoading:e,onSubmit:t,loadingButtonType:i,isMobile:n})=>{const a=(0,v.s)(),s=e&&1!==i,l=e&&1===i,d=n?"large":void 0;return(0,o.jsx)(r.I0,{label:a("privateAccountPrompt_manageAccount_privateAccount_button4"),variant:"primary",onClick:()=>t({privateAccount:0,recordValue:1,buttonType:1}),loading:l,disabled:s,block:n,size:d})};var N,W,V;!function(e){e[e.PrivateAccount=1]="PrivateAccount",e[e.PublicAccount=0]="PublicAccount"}(N||(N={})),function(e){e[e.PrivateOrPublicAccount=1]="PrivateOrPublicAccount",e[e.RemindLater=2]="RemindLater"}(W||(W={})),function(e){e.NewUser="private_account_prompt",e.ExistingUser="privacy_account_prompt_review"}(V||(V={}));const H=({isLoading:e,onSubmit:t,loadingButtonType:i,isMobile:n})=>{const a=(0,v.s)(),r=e&&2!==i,s=e&&2===i,l=(0,o.jsx)(d.I05,{label:a("privateAccountPrompt_manageAccount_privateAccount_button2"),shape:"borderless",variant:"secondary",onClick:()=>t({privateAccount:1,recordValue:2,buttonType:2}),loading:s,disabled:r,size:"large"});return n?(0,o.jsx)(I,{children:l}):l},q=({isLoading:e,onSubmit:t,loadingButtonType:i,isMobile:n})=>{const a=(0,v.s)(),r=e&&1!==i,s=e&&1===i;return(0,o.jsx)(d.I05,{label:a("privateAccountPrompt_manageAccount_privateAccount_button3"),variant:"primary",onClick:()=>t({privateAccount:1,recordValue:1,buttonType:1}),loading:s,disabled:r,block:n,size:"large"})},$=({isLoading:e,onSubmit:t,loadingButtonType:i,isMobile:n})=>{const a=(0,v.s)(),r=e&&1!==i,s=e&&1===i;return(0,o.jsx)(d.I05,{label:a("privateAccountPrompt_manageAccount_privateAccount_button4"),variant:"primary",onClick:()=>t({privateAccount:0,recordValue:1,buttonType:1}),loading:s,disabled:r,block:n,size:"large"})},G=e=>{var{label:t,privateAccount:i,onSubmit:a,isLoading:r,loadingButtonType:s,isExitingUser:l}=e,c=(0,n.__rest)(e,["label","privateAccount","onSubmit","isLoading","loadingButtonType","isExitingUser"]);const u=(0,v.s)(),p=r&&3!==s,g=r&&3===s;return(0,o.jsx)(d.I05,Object.assign({label:u(t),onClick:()=>a({privateAccount:i,recordName:l?"privacy_account_prompt_review":"private_account_prompt",recordValue:1,buttonType:3}),loading:g,disabled:p},c))},K=e=>{var{isMobile:t}=e,i=(0,n.__rest)(e,["isMobile"]);return(0,o.jsx)(G,Object.assign({label:"privateAccountPrompt_stayPrivate_button",variant:"primary",size:"large",privateAccount:1,block:t},i))},Y=e=>{var{label:t,isLoading:i,onSubmit:a,loadingButtonType:r,privateAccount:s,isExitingUser:l}=e,c=(0,n.__rest)(e,["label","isLoading","onSubmit","loadingButtonType","privateAccount","isExitingUser"]);const u=(0,v.s)(),p=i&&4!==r,g=i&&4===r;return(0,o.jsx)(d.I05,Object.assign({label:u(t),onClick:()=>a({privateAccount:s,recordName:l?"privacy_account_prompt_review":"private_account_prompt",recordValue:1,buttonType:4}),loading:g,disabled:p},c))},Z=e=>{var{isMobile:t}=e,i=(0,n.__rest)(e,["isMobile"]);return(0,o.jsx)(Y,Object.assign({label:"privateAccountPrompt_switchPublic_button",variant:"secondary",size:"large",privateAccount:0,block:t},i))};var J=i(67164);const X=(0,c.default)("div",{target:"e1nq6efr0"})({maxWidth:"483px",padding:"24px"},"label:DivModalWrapper;"),Q=(0,c.default)("div",{target:"e1nq6efr1"})(({theme:{direction:e}})=>(0,T.mp)({textAlign:"start",direction:e}),"label:DivModalTitle;"),ee=(0,c.default)("div",{target:"e1nq6efr2"})({margin:"14px 0px 10px"},"label:DivModalBody;"),te=(0,c.default)("div",{target:"e1nq6efr3"})({padding:"8px 16px 0px"},"label:DivContentWrapper;"),ie=(0,c.default)("div",{target:"e1nq6efr4"})({display:"flex",flexDirection:"column",marginTop:"16px",gap:"20px",button:{borderRadius:"8px"},div:{fontWeight:600}},"label:DivFooterWrapper;"),ne=(0,c.default)("a",{target:"e1nq6efr10"})({":focus":{outline:"none"}},"label:ALinkContainer;"),oe=e=>{const{isOpen:t,title:i,isPrivateSelected:n,updateIsPrivateSelected:a,disclaimer:s,isExistingUser:l=!1,privateAccount:d=!1,showSelectRadio:c=!0,footerButtons:u}=e,p=(0,v.s)();return(0,o.jsx)(w.i,{compact:!0,closeOnBackdropClick:!1,closeOnEsc:!1,isOpen:t,children:(0,o.jsxs)(X,{children:[(0,o.jsx)(Q,{children:(0,o.jsx)(r.Fm,{type:"P1-Bold",as:"h1",color:"TextPrimary",children:i})}),(0,o.jsx)(ee,{children:(0,o.jsx)(y,{isExistingUser:l,privateAccount:d,showSelectRadio:c,isPrivateSelected:n,updateIsPrivateSelected:a,text:{privacy:{existingUserText:p("UKprivateAccountPrompt_manageAccount_privateAccount_body2"),privacyText:p("UKprivateAccountPrompt_manageAccount_privateAccount_body2")},public:{existingUserText:p("UKprivateAccountPrompt_manageAccount_publicAccount_body2"),privacyText:p("UKprivateAccountPrompt_manageAccount_publicAccount_body2")}},isNewWebRadio:!0})}),(0,o.jsxs)(te,{children:[(0,o.jsx)(r.Fm,{type:"P5-Regular",color:"TextSecondary",children:s}),(0,o.jsx)(ne,{href:j,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(r.Fm,{marginInlineStart:"2px",type:"P5-Semibold",color:"TextPrimary",children:p("privateAccountPrompt_manageAccount_privateAccount_placeholder")})}),(0,o.jsx)(ie,{children:u})]})]})})},ae=e=>{const{privacyAccountPromptVariant:t,privateAccount:i,showNewPrompt:s,selectPrivateByDefault:l=!0}=e,[d,c]=(0,a.useState)(!0),[u,p]=(0,a.useState)(!1),[g,_]=(0,a.useState)(!1),[m,h]=(0,a.useState)(void 0),f=1===t,T=!(3===t&&i)&&(0,J.Rx)(t)&&!u;(0,a.useEffect)(()=>{c(!!l||Boolean(i))},[l,i]);const I=(0,v.s)(),P=(0,r.Ab)({zIndex:10010}),A=(0,a.useCallback)(e=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){h(e.buttonType),_(!0);try{yield(e=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){const{privateAccount:t,recordValue:i,recordName:o="private_account_prompt"}=e;var a;if(0!==(yield(a={private_account:t},(0,n.__awaiter)(void 0,void 0,void 0,function*(){return yield S.h.post("/api/privacy/user/private_account_prompt/v1",{query:a,baseUrlType:2,headers:{[C.nk]:S.h.csrfToken}})}))).status_code)throw new Error("setPrivateAccountPrompt error");try{yield(e=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){return yield S.h.post("/api/privacy/agreement/record/agree/v1",{query:e,baseUrlType:2,headers:{[C.nk]:S.h.csrfToken}})}))({record_name:o,record_value:i})}catch(e){}}))({privateAccount:e.privateAccount,recordValue:e.recordValue,recordName:e.recordName}),p(!0)}catch(e){P.open({message:I("Something went wrong. Please try again.")})}_(!1),h(void 0)}),[P,I]),M=s?{1:(0,o.jsxs)(o.Fragment,{children:[d?(0,o.jsx)(q,{isLoading:g,onSubmit:A,loadingButtonType:m}):(0,o.jsx)($,{isLoading:g,onSubmit:A,loadingButtonType:m}),(0,o.jsx)(H,{isLoading:g,onSubmit:A,loadingButtonType:m})]}),2:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(K,{isLoading:g,onSubmit:A,loadingButtonType:m}),(0,o.jsx)(Z,{isLoading:g,onSubmit:A,loadingButtonType:m})]}),3:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O,{isLoading:g,onSubmit:A,loadingButtonType:m,isExitingUser:!0}),(0,o.jsx)(F,{isLoading:g,onSubmit:A,loadingButtonType:m,isExitingUser:!0})]})}:{1:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(R,{isLoading:g,onSubmit:A,loadingButtonType:m}),d?(0,o.jsx)(z,{isLoading:g,onSubmit:A,loadingButtonType:m}):(0,o.jsx)(U,{isLoading:g,onSubmit:A,loadingButtonType:m})]}),2:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(B,{isLoading:g,onSubmit:A,loadingButtonType:m}),(0,o.jsx)(D,{isLoading:g,onSubmit:A,loadingButtonType:m})]}),3:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(O,{isLoading:g,onSubmit:A,loadingButtonType:m,isExitingUser:!0}),(0,o.jsx)(F,{isLoading:g,onSubmit:A,loadingButtonType:m,isExitingUser:!0})]})},L={title:{1:I("privateAccountPrompt_manageAccount_title"),2:I("privateAccountPrompt_popUp_prompt_title"),3:I("privateAccountPrompt_welcomePage_title")},disclaimer:{1:I("privateAccountPrompt_manageAccount_privateAccount_description3").replace("%s",""),2:I("privateAccountPrompt_popUp_prompt_description").replace("%s",""),3:I("privateAccountPrompt_account_permission_disclaimer").replace("%s","")}};return(0,o.jsx)(o.Fragment,{children:s?(0,o.jsx)(oe,{isOpen:T,title:L.title[null!=t?t:""],isPrivateSelected:d,updateIsPrivateSelected:c,disclaimer:L.disclaimer[null!=t?t:""],isExistingUser:3===t,privateAccount:i,showSelectRadio:f,footerButtons:M[null!=t?t:""]}):(0,o.jsx)(w.i,{compact:!0,closeOnBackdropClick:!1,closeOnEsc:!1,isOpen:T,children:(0,o.jsxs)(x,{children:[(0,o.jsx)(r.ND,{children:t&&L.title[t]}),(0,o.jsx)(r.Te,{children:(0,o.jsx)(y,{isExistingUser:3===t,privateAccount:null!=i&&i,showSelectRadio:f,isPrivateSelected:d,updateIsPrivateSelected:c})}),(0,o.jsx)(r.Qx,{}),(0,o.jsxs)(b,{children:[(0,o.jsx)(r.Fm,{type:"P5-Regular",color:"TextSecondary",children:t&&L.disclaimer[t]}),(0,o.jsx)(k,{href:j,target:"_blank",rel:"noopener noreferrer",children:(0,o.jsx)(r.Fm,{marginInlineStart:"2px",type:"P5-Semibold",color:"TextPrimary",children:I("privateAccountPrompt_manageAccount_privateAccount_placeholder")})})]}),(0,o.jsx)(r.KW,{children:t&&M[t]})]})})})}},72318:(e,t,i)=>{"use strict";i.d(t,{n:()=>d});var n=i(24643),o=i(28591),a=i(72355),r=i(27799),s=i(14869),l=i(68252);const d=()=>{const e=(0,r.s)(),{pathname:t}=(0,a.zy)();return(0,n.jsxs)(o.mg,{children:[(0,n.jsx)("title",{children:e("seo_downloader_metaTitle")}),(0,n.jsx)("meta",{name:"robots",content:"index, follow"}),(0,n.jsx)("meta",{name:"description",content:e("seo_downloader_metaDesc")}),(0,n.jsx)("meta",{name:"keywords",content:e("seo_downloader_mainMetaKeywords")}),(0,n.jsx)("link",{rel:"canonical",href:`${s.C}${t}`},"canonical"),(0,l.T)(`${s.C}/download-video`,"path")]})}},72406:(e,t,i)=>{"use strict";i.d(t,{D:()=>n,o:()=>o});const n=e=>["animals","beauty","comedy","dance","food","gaming","sports"].includes(e),o=e=>{switch(e){case"animals":return 5;case"beauty":return 4;case"comedy":return 0;case"dance":return 3;case"food":return 2;case"gaming":return 1;case"sports":return 6}}},72547:(e,t,i)=>{"use strict";i.d(t,{Z8:()=>C,jE:()=>T,mT:()=>j,L_:()=>M,io:()=>P});var n=i(57432),o=i.n(n),a=i(54133),r=i(37801),s=i(16734),l=i(10594),d=i(60652),c=i(70363),u=i(53577),p=i(95748),g=i(3732),_=i(40815),m=i(1983),h=i(84879),v=i(78116),f=i(31287),y=i(25628),b=i(23037),x=i(24643);let k=0;var w=i(1908);const S=(0,i(40099).memo)(function(e){var t;return(0,x.jsx)(w.j,{isColor:!0,showTick:null!==(t=e.isReposted)&&void 0!==t&&t,isStrong:!1,size:e.width})}),C=Object.assign(Object.assign({},y.Ag),{viber:"viber",kakaotalk:"kakaotalk",messenger:"messenger"}),j={facebook:"{Share to} Facebook",pinterest:"{Share to} Pinterest",twitter:"{Share to} X",copy:"{copy_link}",embed:"{embed}",whatsapp:"{Share to} WhatsApp",reddit:"{Share to} Reddit",vk:"{Share to} VK",sms:"{Share to} Sms",telegram:"{Share to} Telegram",line:"{Share to} Line",linkedin:"{Share to} LinkedIn",email:"{Share to} Email",message:"{support_webapp_sharing_option_button}",repost:"{pcWeb_repost_btn}"},T={facebook:r.A,pinterest:s.A,twitter:f.b,copy:l.A,embed:d.A,whatsapp:c.A,reddit:u.A,vk:p.A,telegram:g.A,line:_.A,linkedin:m.A,email:h.A,message:v.A,sms:function({width:e="1em",height:t="1em",style:i={}}){return k++,(0,x.jsxs)("svg",{width:e,height:t,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i,children:[(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0002 47.001C36.7028 47.001 47.0002 36.7035 47.0002 24.001C47.0002 11.2984 36.7028 1.00098 24.0002 1.00098C11.2977 1.00098 1.00024 11.2984 1.00024 24.001C1.00024 36.7035 11.2977 47.001 24.0002 47.001Z",fill:`url(#sms_icon_paint0_linear_${k})`}),(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.6501 23.569C36.6501 29.3645 30.9865 34.0628 24.0001 34.0628C23.1537 34.0628 22.3267 33.9938 21.5269 33.8623C20.826 33.7948 20.4086 33.8602 19.689 34.0827C19.4224 34.1652 19.1109 34.3318 18.7539 34.5226C17.9542 34.9503 16.9262 35.5 15.6626 35.5C15.6388 35.5 15.7188 35.4207 15.8558 35.285C16.3095 34.8358 17.3876 33.7682 17.3876 32.9125V32.5167C13.7656 30.6708 11.3501 27.3539 11.3501 23.569C11.3501 17.7735 17.0137 13.0753 24.0001 13.0753C30.9865 13.0753 36.6501 17.7735 36.6501 23.569Z",fill:"white"}),(0,x.jsx)("defs",{children:(0,x.jsxs)("linearGradient",{id:`sms_icon_paint0_linear_${k}`,x1:"73.7964",y1:"64.0399",x2:"58.9088",y2:"-4.65515",gradientUnits:"userSpaceOnUse",children:[(0,x.jsx)("stop",{stopColor:"#43E6A2"}),(0,x.jsx)("stop",{offset:"1",stopColor:"#18D037"})]})})]})},repost:S},I="copy";function P({platform:e,url:t,targetDOM:i}){switch(e){case"facebook":return(0,a.stringifyUrl)({url:"https://www.facebook.com/sharer/sharer.php",query:{u:t,display:"popup",sdk:"joey"}});case"twitter":return(0,a.stringifyUrl)({url:"https://twitter.com/intent/tweet",query:{refer_source:t,text:t}});case"pinterest":return(0,a.stringifyUrl)({url:"https://pinterest.com/pin/create/button/",query:{url:t,media:"https://lf16-tiktok-web.ttwstatic.com/obj/tiktok-web-common-sg/mtact/static/images/share_img.png",desc:t}});case"whatsapp":return(0,a.stringifyUrl)({url:"https://wa.me/",query:{text:t}});case"reddit":return(0,a.stringifyUrl)({url:"https://www.reddit.com/submit",query:{url:t}});case"vk":return(0,a.stringifyUrl)({url:"https://vk.com/share.php",query:{url:t}});case"copy":return function(){var e;if(navigator.clipboard)return navigator.clipboard.writeText(t);{const n=document.createElement("input");let o=!1;n.style.fontSize="16px",i?i.appendChild(n):(null!==(e=document[null===b.e||void 0===b.e?void 0:b.e.fullscreenElement])&&void 0!==e?e:document.body).appendChild(n),n.value=t||"",n.select(),n.setSelectionRange(0,t.length),document.execCommand&&(o=document.execCommand(I)),n.remove()}};case"telegram":return(0,a.stringifyUrl)({url:"https://t.me/share/url",query:{url:t,text:t}});case"line":return(0,a.stringifyUrl)({url:"https://lineit.line.me/share/ui",query:{url:t,text:t}});case"linkedin":return(0,a.stringifyUrl)({url:"https://www.linkedin.com/sharing/share-offsite",query:{url:t}});case"email":return(0,a.stringifyUrl)({url:"mailto:",query:{subject:t,body:t}});case"embed":case"message":case"repost":return o();default:return"#"}}const A={pc:{US:["copy","sms","facebook","reddit","pinterest","twitter","whatsapp","embed"],RU:["copy","whatsapp","vk","facebook","twitter","embed"],UA:["copy","whatsapp","vk","facebook","twitter","embed"],JP:["copy","twitter","facebook","whatsapp","embed"],default:["copy","whatsapp","facebook","twitter","embed"]},mobile:{US:["copy","facebook","reddit","pinterest","twitter","whatsapp","embed"],RU:["copy","whatsapp","vk","sms","facebook","twitter","embed"],UA:["copy","whatsapp","vk","sms","facebook","twitter","embed"],JP:["copy","twitter","facebook","sms","whatsapp","embed"],default:["copy","whatsapp","sms","facebook","twitter","embed"]}};function M({region:e,isMobile:t=!1,enableRepost:i=!1}){const n=t?"mobile":"pc",o=A[n][e]||A[n].default;return i?["repost",...o]:o}},72552:(e,t,i)=>{"use strict";function n(e=1e3){return new Promise(t=>setTimeout(t,e))}i.d(t,{cb:()=>n})},72741:(e,t,i)=>{"use strict";i.d(t,{Mi:()=>l,VW:()=>m,Ys:()=>d,Zh:()=>r,a_:()=>h,ex:()=>f,hJ:()=>u,mB:()=>_,oH:()=>p,pp:()=>c,qF:()=>v,rb:()=>g,wV:()=>s});var n=i(16410),o=i(93584),a=i(1003);const r=20,s=(0,n.default)("div",{target:"e1mecfx00"})(({noPaddingTop:e})=>[{flex:"0 0 544px",width:"544px",display:"flex",flexDirection:"column",padding:"32px 0 0",paddingTop:"24px"},e&&{paddingTop:0}],"label:DivContentContainer;"),l=(0,n.default)("div",{target:"e1mecfx01"})(({shouldOptProfile:e,shouldOptimizeCta:t})=>[{padding:e?"":"0 32px",overflow:"visible",display:"flex",flexDirection:"column",flexShrink:0},t&&{padding:"0 20px"}],"label:DivMainContent;"),d=(0,n.default)(a.Z,{target:"e1mecfx02"})(({theme:{colors:e}})=>({marginTop:"9px",marginBottom:"17px",background:"transparent",color:e.TextSecondary}),"label:StyledScheduleTime;"),c=(0,n.default)("div",{target:"e1mecfx03"})(({theme:{colors:e}})=>({width:"100%",padding:"0 32px",boxSizing:"border-box",backgroundColor:e.BGPrimary,borderTop:"none",borderBottom:"1px solid rgba(18, 18, 18, 0.12)",overflowX:"hidden",flexGrow:1}),"label:DivCommentContainerPolyfill;"),u=(0,n.default)("div",{target:"e1mecfx04"})(({theme:{colors:e}})=>({flex:"0 0 auto",backgroundColor:e.BGPrimary,margin:"0 30px",padding:"21px 0"}),"label:DivBottomCommentContainer;"),p=(0,n.default)("div",{target:"e1mecfx05"})(({theme:{colors:e}})=>({flex:"0 0 auto",backgroundColor:e.BGPrimary,margin:"0 30px",height:"78px",display:"flex",alignItems:"center",justifyContent:"center","& > button":{width:"496px"}}),"label:DivAltBottomCommentContainer;"),g=(0,n.default)("div",{target:"e1mecfx06"})(({theme:e})=>[(0,o.zy)({theme:e,typography:"P2",color:"TextSecondary"}),{flex:"1 1 0px",display:"flex",alignItems:"center",justifyContent:"center"}],"label:DivErrorMessage;"),_=(0,n.default)("div",{target:"e1mecfx07"})(({theme:e,isUIOptimization:t})=>[(0,o.zy)({theme:e,fontWeight:"semiBold",color:t?"TextQuaternary":"Primary"}),{height:"100%",background:t?e.colors.BGInput:e.colors.BGPlaceholderOpaque,borderRadius:t?"8px":"2px",padding:"14px 16px",fontSize:"16px",cursor:"pointer",textAlign:t?"center":"unset",whiteSpace:"pre-wrap"}],"label:DivLoginBar;"),m=(0,n.default)("div",{target:"e1mecfx08"})(({theme:e})=>[(0,o.zy)({theme:e,fontWeight:"semiBold",color:"Primary"}),{padding:"14px 16px",fontSize:"18px",lineHeight:"23.4px",cursor:"pointer",textAlign:"center"}],"label:DivAltLoginBar;"),h=(0,n.default)("h1",{target:"e1mecfx09"})({marginBottom:"8px",fontWeight:"700",fontSize:"20px",lineHeight:"24px"},"label:H1PhotoTitle;"),v=(0,n.default)("div",{target:"e1mecfx010"})({display:"flex",gap:"4px"},"label:DivTagContainer;"),f=(0,n.default)("div",{target:"e1mecfx011"})(({shouldShowCommentsCnt:e,theme:t})=>({background:t.colors.BGView,borderRadius:"12px",marginLeft:`${r}px`,marginRight:`${r}px`,padding:"16px",paddingBottom:e?0:""}),"label:DivDescriptionContentWrapper;")},72870:(e,t,i)=>{"use strict";i.d(t,{_:()=>q});var n=i(24643),o=i(67518),a=i(40099),r=i(41577),s=i(79749),l=i(82376),d=i(27799),c=i(18650),u=i(13910),p=i(34038),g=i(20597),_=i(10757),m=i(70589),h=i(16410),v=i(97118),f=i(87852),y=i(87588),b=i(93584),x=i(39965),k=i(33822),w=i(57615);const S=(0,h.default)("ul",{target:"ebh6by60"})({padding:"8px 0px",margin:0,minWidth:"200px",listStyle:"none",boxSizing:"border-box",borderRadius:"8px",userSelect:"none"},"label:UlPopupContainer;"),C=(0,h.default)("li",{target:"ebh6by61"})(({theme:{colors:e},isBrowserMode:t})=>[{display:"flex",alignItems:"center",position:"relative",borderBottom:"",padding:"8px 16px",boxSizing:"border-box",":hover":{background:t?e.ConstBGContainer2:e.BGView},":after":{content:'""',display:"block",width:"calc(100% - 32px)",height:"0.5px",position:"absolute",bottom:0,left:"16px",background:e.ConstLineInverse2},":last-child":{":after":{display:"none"}}}],"label:LiItemWrapper;"),j=(0,h.default)("div",{target:"ebh6by62"})(({theme:e,isBrowserMode:t})=>({width:"24px",height:"24px",display:"flex",justifyContent:"center",alignItems:"center",color:e.colors.TextPrimary,svg:{fill:t?e.colors.ConstTextInverse:e.colors.TextPrimary}}),"label:DivIconWrapper;"),T=(0,h.default)("span",{target:"ebh6by63"})(({theme:e,isBrowserMode:t,isSecondaryText:i,alignRight:n})=>[(0,b.zy)({theme:e,typography:"P3",fontWeight:"semiBold",fontFamily:"TikTokFont",color:t?"ConstTextInverse":"TextPrimary"}),{display:"inline-block",height:"24px",lineHeight:"24px",marginInline:"8px",whiteSpace:"nowrap",alignItems:i?"end":"normal"},(0,b.mp)(Object.assign({direction:e.direction},n&&{marginStart:"auto",marginEnd:"0px"}))],"label:SpanItemText;"),I=(0,h.default)(v.A,{target:"ebh6by64"})({width:"20px",height:"20px"},"label:StyledReport;"),P=(0,h.default)(f.A,{target:"ebh6by65"})({width:"20px",height:"20px"},"label:StyledHeartBroken;"),A=(0,h.default)(y.A,{target:"ebh6by66"})({width:"20px",height:"20px"},"label:StyledAboutThisAdIcon;"),M=(0,h.default)(x.A,{target:"ebh6by67"})({width:"20px",height:"20px"},"label:StyledAutoScrollIcon;"),L=(0,h.default)(k.A,{target:"ebh6by68"})({width:"20px",height:"20px"},"label:StyledHDIcon;"),D=(0,h.default)(w.IuZ,{target:"ebh6by69"})(({theme:{direction:e,colors:t},isBrowserMode:i})=>[(0,b.mp)({direction:e,marginStart:"auto",marginEnd:"0px"}),{width:"20px",height:"20px",fill:i?t.ConstTextInverse:t.TextPrimary}],"label:StyledCheckMark;");var O=i(46221),R=i(98042),E=i(72995),F=i(97245);const B=(0,a.memo)(function(e){const{videoId:t,playMode:i}=e,o=(0,R.eu)(),r=(0,R.J3)(),s=(0,a.useCallback)(()=>{E.p.handleClickAutoScroll({play_mode:i,group_id:t},!o),r.toggleAutoScroll()},[i,t,o,r]);return(0,n.jsx)(O.H,{children:(0,n.jsx)(F.d,{checked:o,onChange:s})})});var z,U=i(18775),N=i(50654),W=i(47910),V=i(6473),H=i(19664);!function(e){e.Main="main",e.Resolution="resolution"}(z||(z={}));const q=(0,a.memo)(function({active:e,margin:t=0,e2eTag:i,onDismissPanel:h,onClickReport:v,onClickNotInterested:f,onSelectResolution:y,itemId:b,bannerAdsItem:x,authorId:k,playModeForTea:O,isBrowserMode:R=!1,isVideoDetailBannerAds:E=!1,isShowTop:F=!1,newPopupPosition:z=!1,actionItemPosition:q=!1,showNotInterested:$=!0,extraItems:G,index:K}){var Y;const Z=(0,d.s)(),{colors:J}=(0,o.u)(),{isRTL:X}=(0,c.m)();let Q,ee;R?Q=X?"bottomLeft":"bottomRight":F?(Q=X?"topRight":"topLeft",ee={transform:"translateY(-7px) "+(X?"translateX(13px)":"translateX(-13px)")}):q?(Q=X?"bottomRight":"bottomLeft",ee={transform:`translateY(24px) ${X?"translateX(-57px)":"translateX(57px)"} translateY(-100%)`}):z?(Q=X?"bottomRight":"bottomLeft",ee={transform:"translateY(-24px) "+(X?"translateX(-57px)":"translateX(57px)")}):E?(Q=X?"topLeft":"topRight",ee={transform:"translateY(165px) translateX(4px)"}):(Q=X?"bottomRight":"bottomLeft",ee={transform:"translateY(-58px) "+(X?"translateX(-57px)":"translateX(57px)")});const te=(0,a.useMemo)(()=>({group_id:b,author_id:k,play_mode:O}),[b,k,O]),ie=(0,a.useCallback)(e=>t=>{null==e||e(t),null==h||h()},[h]),ne=U.e.useServiceDispatchers();let oe=(0,u.k)(b);const ae=(0,g.mx)(oe);E&&(oe=x);const re=!!(null==oe?void 0:oe.ad_info),{showAboutThisAd:se}=(0,_.s)(),le=(0,H.gu)(null!=K?K:0),{actualResolution:de}=(0,W.qW)(),ce=(0,H.fD)();let ue=void 0!==K?le:de;ue||(ue="540P");const[pe,ge]=(0,a.useState)("main"),{allowSelectResolution:_e}=(0,m.lZ)(),me=[...new Set(null!==(Y=null==oe?void 0:oe.resolutionList)&&void 0!==Y?Y:[])].filter(e=>!["360P","480P"].includes(e)).map(e=>({key:e,onClick:()=>null==y?void 0:y({resolution:e})})),he=(0,a.useCallback)(()=>{var e,t;r.Y.resolutionButtonClick(te,null!=ue?ue:"",ce?"1":"0"),(null===(e=null==oe?void 0:oe.resolutionList)||void 0===e?void 0:e.length)&&(null===(t=null==oe?void 0:oe.resolutionList)||void 0===t?void 0:t.length)>1&&ge("resolution")},[null==oe?void 0:oe.resolutionList]),ve=[{icon:(0,n.jsx)(I,{}),key:"pc_web_report_btn",onClick:v}];$&&f&&ve.unshift({icon:(0,n.jsx)(P,{}),key:"webapp_forYoufeed_notInterested_btn",onClick:f}),re&&se&&ve.push({icon:(0,n.jsx)(A,{}),key:"about_this_ad_title",onClick:()=>{ne.setVideoId(b,E?oe:null),ne.setModalShowing(!0)}});const{isAutoScrollReposition:fe}=(0,m.sF)(),ye=(0,m.eu)();(fe&&!R&&!E||ye&&R)&&ve.unshift({icon:(0,n.jsx)(M,{"data-e2e":"auto-scroll"}),key:"pcWeb_autoScroll",onClick:()=>{},extra:(0,n.jsx)(B,{videoId:b,playMode:R?"browser_mode":"one_column"})});const{isEntranceInMoreMenu:be}=(0,N.vN)(),xe=(0,V.K)(),ke=be&&!re&&!(null==oe?void 0:oe.scheduleTime)&&!ae,we=(0,a.useCallback)(()=>{xe.setIsCaptionModalOn(!0),s.lN.handleCaptionButtonClick(te)},[xe,te]);ke&&ve.unshift({icon:(0,n.jsx)(w.qY7,{style:{width:"20px",height:"20px"}}),key:"claSeeTranslation_fyp_longPressPanel_captionsLabelV2",onClick:we});const Se="resolutionUpgrade_player_qualityMenuItem_label",Ce=!ae&&!re&&!(null==oe?void 0:oe.scheduleTime)&&_e;return Ce&&ve.unshift({icon:(0,n.jsx)(L,{}),key:Se,onClick:he,extra:(0,n.jsx)(T,{isBrowserMode:R,isSecondaryText:!0,alignRight:!0,children:ce?Z("resolutionUpgrade_player_qualityMenuItem_selection1"):ue})}),(0,a.useEffect)(()=>{e&&ge("main")},[e]),(0,a.useEffect)(()=>{e&&(l.V.handleDislikeShow(te),be&&s.lN.handleCaptionButtonShow(te),Ce&&r.Y.resolutionButtonShow(te))},[te,e,be,Ce]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p.z,{style:ee,backgroundColor:R?J.BGCreation2:J.BGSecondary,placement:Q,active:e,margin:t,hideArrow:!0,children:"main"===pe?(0,n.jsxs)(S,{"data-e2e":i,children:[ve.map(({icon:e,key:t,onClick:i,extra:o=null})=>(0,n.jsx)(C,{onClick:t===Se?i:ie(i),isBrowserMode:R,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{isBrowserMode:R,children:e}),(0,n.jsx)(T,{isBrowserMode:R,children:Z(t)}),o]})},t)),G]}):(0,n.jsxs)(S,{"data-e2e":i,children:[me.map(({key:e,onClick:t})=>(0,n.jsx)(C,{onClick:ie(t),isBrowserMode:R,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T,{isBrowserMode:R,children:Z("auto"===e?"resolutionUpgrade_player_qualityMenuItem_selection1":e)}),ce?"auto"===e&&(0,n.jsx)(D,{isBrowserMode:R}):ue===e&&(0,n.jsx)(D,{isBrowserMode:R})]})},e)),G]})})})})},73137:(e,t,i)=>{"use strict";i.d(t,{ey:()=>u,Zh:()=>s,iU:()=>l,BS:()=>p,b_:()=>c});var n=i(40099),o=i(61317),a=i(18433),r=i(20434);const s=e=>!!e&&/^https?:\/\/.*\.mp4$/.test(e),l=e=>1===e,d=e=>11===e?{enter_from_merge:"homepage_follow",entrance_detail:"homepage_follow"}:{enter_from_merge:"homepage_hot",entrance_detail:"homepage_hot_live_head"};function c({item:e,author:t,pageType:i}){const r=(0,n.useMemo)(()=>(0,a.Jl)(e)?"live_head":"video_head",[e]),c=(0,n.useMemo)(()=>{var t,n;return Object.assign(Object.assign({},d(i)),{enter_method:r,video_id:null==e?void 0:e.id,request_id:null==e?void 0:e.logId,is_highlight:s(null===(t=null==e?void 0:e.liveRoomInfo)||void 0===t?void 0:t.streamData)?"1":"0",is_landscape:l(null===(n=null==e?void 0:e.liveRoomInfo)||void 0===n?void 0:n.landscape)?"1":"0"})},[i,e,r]);return{avatarShowParams:(0,n.useMemo)(()=>{var i,n,a,r,s,l;return Object.assign(Object.assign({},c),{room_id:null!==(i=null==t?void 0:t.roomId)&&void 0!==i?i:null===(n=null==e?void 0:e.liveRoomInfo)||void 0===n?void 0:n.roomID,anchor_id:null!==(a=null==t?void 0:t.id)&&void 0!==a?a:null===(s=null===(r=null==e?void 0:e.liveRoomInfo)||void 0===r?void 0:r.ownerInfo)||void 0===s?void 0:s.id,live_type:o.t9[Number(null===(l=null==e?void 0:e.liveRoomInfo)||void 0===l?void 0:l.mode)],play_mode:"one_column"})},[e,t,c]),avatarLinkQuery:(0,n.useMemo)(()=>Object.assign(Object.assign({},c),{from_play_mode:"one_column"}),[c]),followClickQuery:(0,n.useMemo)(()=>{var i,n,a,r,s,l,d,u,p;return Object.assign(Object.assign({},c),{enter_method:"live_cell",live_type:o.t9[Number(null===(i=null==e?void 0:e.liveRoomInfo)||void 0===i?void 0:i.mode)],room_id:null!==(n=null==t?void 0:t.roomId)&&void 0!==n?n:null===(a=null==e?void 0:e.liveRoomInfo)||void 0===a?void 0:a.roomID,anchor_id:null!==(r=null==t?void 0:t.id)&&void 0!==r?r:null===(l=null===(s=null==e?void 0:e.liveRoomInfo)||void 0===s?void 0:s.ownerInfo)||void 0===l?void 0:l.id,to_user_id:null!==(d=null==t?void 0:t.id)&&void 0!==d?d:null===(p=null===(u=null==e?void 0:e.liveRoomInfo)||void 0===u?void 0:u.ownerInfo)||void 0===p?void 0:p.id,play_mode:"one_column"})},[c,t,i,e])}}const u=()=>(0,r._S)("ENTER_ROOM_TIME_STAMP_STORAGE_KEY",""),p=e=>[3,-2].includes(e)},73288:(e,t,i)=>{"use strict";i.d(t,{u:()=>U});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(46657),l=i(23999),d=i(63700),c=i(68628),u=i(98812),p=i(26324),g=i(95719),_=i(62564),m=i(8536),h=i(24451),v=i(74690),f=i(35572),y=i(80339),b=i(20259),x=i(19578),k=i(53900),w=i(20434),S=i(25961),C=i(55867),j=i(21002),T=i(43521),I=i(60267),P=i(59071),A=i(89136),M=i(66604);let L=class extends o.E{constructor(e,t){super(),this.userModule=e,this.userService=t,this.defaultState={users:{}}}multiSetUsers(e,t){const{users:i}=e;return{users:Object.assign(Object.assign({},i),t)}}setUserRelation(e,{uid:t,relation:i}){const n=e.users[t];n&&(n.relation=i)}blockUser(e){return e.pipe((0,h.E)(this.state$),(0,m.Z)(([{uid:e,isBlock:t},{users:i}])=>{var n;const{secUid:o="",uniqueId:a=""}=null!==(n=i[e])&&void 0!==n?n:{};return this.userService.blockUser({sec_user_id:o,block_type:t?1:0}).pipe((0,m.Z)(i=>{const{status_code:n}=i,o=t?4:0;return 0!==n?s.w:(0,l.of)(this.getActions().setUserRelation({uid:e,relation:o}),this.userModule.getActions().setUserRelation({uniqueId:a,relation:o}))}),(0,C.n)({}))}))}};(0,n.__decorate)([(0,a.HI)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"multiSetUsers",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"setUserRelation",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],L.prototype,"blockUser",null),L=(0,n.__decorate)([(0,r.nV)("MessageUserModule"),(0,n.__metadata)("design:paramtypes",[I.U,M.D])],L);var D=i(69484),O=i(7672),R=i(44094);let E=class{constructor(e){this.fetch=e}getBaLabelMapping(){return this.fetch.get("/api/ba/business/suite/contact/label/mapping",{baseUrlType:2})}};E=(0,n.__decorate)([(0,O._)(),(0,n.__metadata)("design:paramtypes",[R.p])],E);var F=i(82970);let B=class extends o.E{constructor(e){super(),this.service=e,this.defaultState={allConversationTagGroupList:[],allConversationTagList:[],selectedConversationTagList:[],unreadOnly:!1,isLoading:!0}}setSelectedConversationTagList(e,t){e.selectedConversationTagList=t}setAllConversationTagGroupList(e,t){e.allConversationTagGroupList=t}setAllConversationTagList(e,t){e.allConversationTagList=t}setUnreadOnly(e,t){e.unreadOnly=t}setLoading(e,t){e.isLoading=t}getAllConversationTags(e){return e.pipe((0,f.p)(()=>(0,F.z)([this.service.getBaLabelMapping()]).pipe((0,f.p)(([e])=>{const t=e.label_groups,i=(null!=t?t:[]).filter(e=>e.labels&&e.labels.length>0).map(e=>e.labels).flat(2);return(0,l.of)(this.getActions().setAllConversationTagGroupList(null!=t?t:[]),this.getActions().setAllConversationTagList(i))}),(0,v.Z)(this.getActions().setLoading(!0)),(0,y.q)(this.getActions().setLoading(!1)))))}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],B.prototype,"setSelectedConversationTagList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],B.prototype,"setAllConversationTagGroupList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],B.prototype,"setAllConversationTagList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],B.prototype,"setUnreadOnly",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],B.prototype,"setLoading",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],B.prototype,"getAllConversationTags",null),B=(0,n.__decorate)([(0,r.nV)("ConversationTagModule"),(0,n.__metadata)("design:paramtypes",[E])],B);const z="web_dm_storage_";let U=class extends o.E{constructor(e,t,i,n,o,a){super(),this.service=e,this.user=t,this.conversation=i,this.messageUser=n,this.slardar=o,this.conversationTag=a,this.defaultState={initialized:!1,messageCount:0,recentUserList:[],recentUserNameList:[],recentUidList:[],allUidList:[],followingUser:{list:[],nicknameList:[],uidList:[],hasMore:!0,maxCursor:0,minCursor:0},isFollowingLoading:!1,isSendMessageFailed:!1,isSendMessageLoading:!1,conversationMap:{},allConversationList:[],conversationList:[],strangerConversationList:[],successSentMessageCount:0,isListLoading:!0,hasMoreFriends:!0,hasMoreStranger:!0,otherUid:"",isMediaSafeTipShown:!0,isMediaSelectionTipShown:!0,videoPlayerVolume:0},this.recentUids="",this.friendsCursor=20}initSDK(e){return e.pipe((0,g.M)(e=>{this.service.options$.next(e)}),(0,_.T)(()=>this.noop()))}initWebDMLocalStorage(e){return e.pipe((0,m.Z)(e=>{const t=`${z}${e}`;let i=!0;try{localStorage.getItem(t)}catch(e){i=!1}if(!i)return s.w;const n=(0,w._S)(t);let o={},a=!1;try{n&&(o=JSON.parse(n))}catch(e){a=!0}n&&!a&&"object"==typeof o||((0,w.AP)(t,"{}"),o={});const r=[];return o.isMediaSafeTipShown||r.push(this.getActions().setIsMediaSafeTipShown(!1)),o.isMediaSelectionTipShown||r.push(this.getActions().setIsMediaSelectionTipShown(!1)),"number"==typeof o.videoPlayerVolume&&r.push(this.getActions().setVideoPlayerVolume(o.videoPlayerVolume)),(0,l.of)(...r)}))}closeMediaSafeTip(e){return e.pipe((0,_.T)(e=>((0,D.L9)(`${z}${e}`,"isMediaSafeTipShown",!0),this.getActions().setIsMediaSafeTipShown(!0))))}closeMediaSelectionTip(e){return e.pipe((0,_.T)(e=>((0,D.L9)(`${z}${e}`,"isMediaSelectionTipShown",!0),this.getActions().setIsMediaSelectionTipShown(!0))))}saveVideoPlayerVolume(e){return e.pipe((0,_.T)(({uid:e,volume:t})=>((0,D.L9)(`${z}${e}`,"videoPlayerVolume",t),this.getActions().setVideoPlayerVolume(t))))}startRefreshMessage(e){return(0,d.h)(this.service.refreshMessage$,e).pipe((0,_.T)(()=>this.noop()))}setMessageCount(e,t){e.messageCount=t,(0,D.Hz)("new-message",{count:t})}setConversationMap(e,t){e.conversationMap=Object.assign({},t)}setConversationList(e,t){t.sort((e,t)=>{if(e.isStickOnTop&&t.isStickOnTop||!e.isStickOnTop&&!t.isStickOnTop){const i=Math.max(e.customLocalLike?e.customLocalLike.date.getTime():-1,e.lastVisibleMessage?e.lastVisibleMessage.createdAt.getTime():-1);return Math.max(t.customLocalLike?t.customLocalLike.date.getTime():-1,t.lastVisibleMessage?t.lastVisibleMessage.createdAt.getTime():-1)-i}return 0}),e.conversationList=[...t]}setAllConversationList(e,t){e.allConversationList=[...t]}setStrangerConversationList(e,t){e.strangerConversationList=[...t]}setHasMoreStranger(e,t){e.hasMoreStranger=t}setListLoading(e,t){e.isListLoading=t}updateRecentUserList(e,t){const{uniqueIdList:i,nicknameList:n,uidList:o}=t;e.recentUserList=[...i],e.recentUserNameList=[...n],e.recentUidList=[...o]}updateFollowingUserList(e,t){e.followingUser=t}setFollowingLoading(e,t){e.isFollowingLoading=t}setUidList(e,t){e.allUidList=t}addSentMessageSuccessCount(e){e.successSentMessageCount=e.successSentMessageCount+1}setSendMessageStatus(e,t){var i,n;e.isSendMessageFailed=null!==(i=t.isFailed)&&void 0!==i&&i,e.isSendMessageLoading=null!==(n=t.isLoading)&&void 0!==n&&n,void 0!==t.successCount&&(e.successSentMessageCount=t.successCount)}setOtherUid(e,t){e.otherUid=t}setInitialized(e,t){e.initialized=t}setIsMediaSafeTipShown(e,t){e.isMediaSafeTipShown=t}setIsMediaSelectionTipShown(e,t){e.isMediaSelectionTipShown=t}setVideoPlayerVolume(e,t){e.videoPlayerVolume=t}handleImEvent(e){return e.pipe((0,_.T)(({event:e,sdk:t,params:i,uid:n,abTestVersion:o})=>{switch(e){case t.IMEvent.ConversationChange:return this.getActions().startConversationChange();case t.IMEvent.MessageSend:return this.conversation.getActions().handleMessageSend(Object.assign(Object.assign({},i),{abTestVersion:o}));case t.IMEvent.ReceiveNewMessage:return this.conversation.getActions().handleReceiveNewMessage(Object.assign(Object.assign({},i),{abTestVersion:o}));case t.IMEvent.MessageDelete:return this.conversation.getActions().handleMessageDelete(Object.assign(Object.assign({},i),{abTestVersion:o}));case t.IMEvent.MessagePropertyUpsert:return this.conversation.getActions().handleMessagePropertyUpsert(Object.assign(Object.assign({},i),{uid:n}));case t.IMEvent.RefreshMessage:return this.conversation.getActions().handleRefreshMessage(Object.assign({},i));case t.IMEvent.MessageUpsert:return this.conversation.getActions().handleMessageUpsert({message:i,abTestVersion:o});default:return this.noop()}}))}startConversationChange(e){return e.pipe((0,m.Z)(()=>this.service.getConversationListOnline()),(0,h.E)(this.state$,this.conversation.state$),(0,m.Z)(([e=[],{otherUid:t},{selectedConversation:i}])=>{const n=[],o={};t&&n.push(t);const a=e.reduce((e,a)=>{const{id:r,mode:s,isStrangerConversation:l,toParticipantUserId:d,unreadCount:c,isMuted:u,inboxType:p}=a;if(1===p)return e;if(0===s&&!l){const s=d;if(s&&(s!==t&&n.push(s),o[s]=a),0!==c&&!u&&r!==(null==i?void 0:i.id))return e+1}return e},0),r=n.slice(0,20);return(0,l.of)(this.getActions().setMessageCount(a),this.getActions().setConversationMap(o),this.getActions().setAllConversationList(e),this.getActions().setConversationList(e.slice(0,this.friendsCursor)),this.getActions().setUidList(n),this.getActions().setInitialized(!0),this.getActions().getStrangerPreview(),this.getActions().getMultiUsersByUids({uidList:r,isGetRecentUsers:!0}),this.conversation.getActions().multiSetConversation({list:e,isStranger:!1}),this.getActions().getConversationListWithFilter())}),(0,v.Z)(this.getActions().setListLoading(!0)),(0,C.n)({}))}getMoreConversationList(e){return e.pipe((0,h.E)(this.state$),(0,m.Z)(([e,{allUidList:t,allConversationList:i}])=>{if(this.friendsCursor>=i.length)return s.w;const n=this.friendsCursor;return this.friendsCursor=this.friendsCursor+15,(0,l.of)(this.getActions().getMultiUsersByUids({uidList:t.slice(n,this.friendsCursor)}),this.getActions().setConversationList(i.slice(0,this.friendsCursor)),this.getActions().setListLoading(!0))}))}getConversationListWithFilter(e){return e.pipe((0,h.E)(this.conversationTag.state$),(0,m.Z)(([e,{unreadOnly:t,selectedConversationTagList:i}])=>{const n=e=>{for(const t of i)if(!e.userConversationTags.includes(String(t.label_id)))return!1;return!0};return t?this.service.getConversationListOnline(e=>e.unreadCount>0&&n(e)).pipe((0,f.p)((e=[])=>(0,l.of)(this.getActions().setConversationList(e)))):this.service.getConversationListOnline(e=>n(e)).pipe((0,f.p)((e=[])=>(0,l.of)(this.getActions().setConversationList(e))))}))}getStrangerPreview(e){return e.pipe((0,h.E)(this.messageUser.state$,this.state$),(0,m.Z)(([e,{users:t},{allConversationList:i,conversationList:n}])=>this.service.getStrangerPreview().pipe((0,m.Z)(e=>{var o,a;const r=null==e?void 0:e.conversation,d=null==r?void 0:r.toParticipantUserId;if(!d)return s.w;const c=[...i],u=[...n],p=null!==(a=null===(o=null==r?void 0:r.lastVisibleMessage)||void 0===o?void 0:o.createdAt.getTime())&&void 0!==a?a:-1;c.some((e,t)=>{var i,n;if((null!==(n=null===(i=null==e?void 0:e.lastVisibleMessage)||void 0===i?void 0:i.createdAt.getTime())&&void 0!==n?n:-1)<p&&!(null==e?void 0:e.isStickOnTop))return c.splice(t,0,r),!0;t===c.length-1&&c.splice(t+1,0,r)}),u.some((e,t)=>{var i,n;if((null!==(n=null===(i=null==e?void 0:e.lastVisibleMessage)||void 0===i?void 0:i.createdAt.getTime())&&void 0!==n?n:-1)<p&&!(null==e?void 0:e.isStickOnTop))return u.splice(t,0,r),!0;t===u.length-1&&u.splice(t+1,0,r)}),c.length||(c.splice(0,0,r),u.splice(0,0,r));const g=[this.getActions().setAllConversationList(c),this.getActions().setConversationList(u),this.conversation.getActions().multiSetConversation({list:[r],isStranger:!0})];return t[d]||g.push(this.getActions().getMultiUsersByUids({uidList:[d]})),(0,l.of)(...g)}),(0,C.n)({}))))}getStrangerConversationList(e){return e.pipe((0,h.E)(this.state$,this.conversation.state$),(0,m.Z)(([{isLoadMore:e},{strangerConversationList:t},{strangers:i}])=>this.service.getStrangerConversationList({cursor:e?this.strangerCursor:0,limit:15}).pipe((0,h.E)(this.state$),(0,m.Z)(([{conversation:e,hasMore:t,cursor:n},{strangerConversationList:o}])=>{this.strangerCursor=n;const a=o.reduce((e,t)=>(e[t.id]=t,e),{}),r=e.filter(e=>!i[e.id]||!a[e.id]);if(1!==e.length&&!r.length)return s.w;const d=r.map(e=>{var t;return null!==(t=e.toParticipantUserId)&&void 0!==t?t:""});return(0,l.of)(this.getActions().setStrangerConversationList([...e]),this.conversation.getActions().multiSetConversation({list:r,isStranger:!0}),this.getActions().setHasMoreStranger(t),this.getActions().getMultiUsersByUids({uidList:d}))}),(0,v.Z)(t.length?this.noop():this.getActions().setListLoading(!0)),(0,y.q)(this.getActions().setListLoading(!1)))))}getMultiUsersByUids(e){return e.pipe((0,h.E)(this.messageUser.state$,this.state$),(0,f.p)(([{uidList:e,isGetRecentUsers:t},{users:i},{otherUid:n}])=>{const{pathname:o}=location;if(!(0,S.tO)(o)&&5===(0,S.M5)(o))return s.w;const a=String(e),r=e.filter(e=>void 0===(null==i?void 0:i[e]));return e.length&&this.recentUids!==a&&r.length?(this.recentUids=a,this.service.getMultiUsersByUids(a).pipe((0,f.p)(i=>{var o;const a=null!==(o=null==i?void 0:i.userMap)&&void 0!==o?o:{},r=[],s=[],d=[],c=e.map(e=>{if(a[e])return n===e&&(0,D.Hz)("user-select",{uid:e,uniqueId:a[e].uniqueId,from:"message-init"}),a[e].id=e,r.push(a[e].uniqueId),s.push(a[e].nickname),d.push(e),a[e];a[e]=null}).filter(e=>e);if(!c.length)return(0,l.of)(this.noop(),this.getActions().setListLoading(!1));(0,x.py)().multiSetUsers(a);const u=[this.user.getActions().multiSetUser(c)];return t&&u.push(this.getActions().updateRecentUserList({uniqueIdList:r,nicknameList:s,uidList:d})),(0,l.of)(...u)}),(0,y.q)(this.getActions().setListLoading(!1)))):(0,l.of)(this.getActions().setListLoading(!1))}),(0,C.n)({}))}getFollowingUserListWithCanShare(e){return e.pipe((0,h.E)(this.state$),(0,_.T)(([{count:e},t])=>Object.assign(Object.assign({},t.followingUser),{count:e})),(0,m.Z)(e=>{var{list:t,nicknameList:i,uidList:o}=e,a=(0,n.__rest)(e,["list","nicknameList","uidList"]);return this.service.getFollowingUserListWithCanShare(a).pipe((0,f.p)(e=>{const{status_code:n,max_time:a,min_time:r,followings:s=[],has_more:d}=e,c=[],u=[],p=[];if(0===n){let e=[];return s&&(e=s.map(e=>{var t;return c.push(null!==(t=e.unique_id)&&void 0!==t?t:""),u.push(e.nickname),p.push(e.uid),(0,j.RS)(e)})),(0,l.of)(this.getActions().updateFollowingUserList({list:[...t,...c],nicknameList:[...i,...u],uidList:[...o,...p],maxCursor:a,minCursor:r,hasMore:Boolean(d)}),this.user.getActions().multiSetUser(null!=e?e:[]),this.getActions().setFollowingLoading(!1))}return(0,l.of)(this.noop(),this.getActions().setFollowingLoading(!1))}),(0,v.Z)(this.getActions().setFollowingLoading(!0)))}),(0,C.n)({}))}sendMessage(e){return e.pipe((0,h.E)(this.conversation.state$),(0,m.Z)(([{uid:e,relation:t=0,type:i,content:n,hasConversation:o,chatType:a,messageType:r,convId:d,fileInfo:c},{friends:u,strangers:p}])=>{var g;return(o?(0,l.of)({type:i,content:n,conversation:null!==(g=u[d])&&void 0!==g?g:p[d],fileInfo:c}):this.service.createConversation({uid:e}).pipe((0,_.T)(({payload:e})=>({type:i,content:n,conversation:null!=e?e:{},fileInfo:c})),(0,C.n)({}))).pipe((0,m.Z)(({type:e,content:t,conversation:i,fileInfo:n})=>this.service.createMessage({conversation:i,type:e,content:JSON.stringify(t),fileInfo:n})),(0,m.Z)(e=>49999===i?s.w:this.service.sendMessage({message:e})),(0,m.Z)(i=>{var n,o,s;const{success:d,checkMsg:c,payload:u}=i,p=[this.getActions().setSendMessageStatus({isFailed:!1,isLoading:!1}),this.getActions().addSentMessageSuccessCount()];return d?(k.w.handleSendMessage({chat_type:null!=a?a:"private",conversation_id:null!==(n=null==u?void 0:u.conversationId)&&void 0!==n?n:"",message_type:null!=r?r:"share_video",relation_tag:t,to_user_id:e}),(0,D.Hz)("message-send",{uid:e})):(k.w.handleFailSendMessage({chat_type:null!=a?a:"private",conversation_id:null!==(o=null==u?void 0:u.conversationId)&&void 0!==o?o:"",message_type:null!=r?r:"share_video",error_code:null!==(s=JSON.parse(null!=c?c:"{}").status_code)&&void 0!==s?s:-1,relation_tag:t,to_user_id:e}),(null==u?void 0:u.clientId)&&p.push(this.conversation.getActions().addFailedMessage({[null==u?void 0:u.clientId]:null!=c?c:"null"}))),(0,l.of)(...p)}),(0,b.W)(()=>(k.w.handleFailSendMessage({chat_type:null!=a?a:"private",conversation_id:"",message_type:null!=r?r:"share_video",error_code:-1,relation_tag:t,to_user_id:e}),(0,l.of)(this.getActions().setSendMessageStatus({isFailed:!0,isLoading:!1})))))}),(0,C.n)({}),(0,v.Z)(this.getActions().setSendMessageStatus({isFailed:!1,isLoading:!1})))}batchSendMessages(e){return e.pipe((0,h.E)(this.conversation.state$),(0,m.Z)(([{uid:e,relation:t=0,hasConversation:i,chatType:n,convId:o,batchList:a},{friends:r,strangers:s}])=>{var d;return(i?(0,l.of)({conversation:null!==(d=r[o])&&void 0!==d?d:s[o],batchList:a}):this.service.createConversation({uid:e}).pipe((0,_.T)(({payload:e})=>({conversation:null!=e?e:{},batchList:a})),(0,C.n)({}))).pipe((0,m.Z)(({conversation:i,batchList:o})=>(0,c.H)(o).pipe((0,u.H)(e=>{const{type:t,content:n,fileInfo:o}=e;return this.service.createMessage({conversation:i,type:t,content:JSON.stringify(n),fileInfo:o}).pipe((0,_.T)(t=>({message:t,messageParams:e})))}),(0,m.Z)(({message:e,messageParams:t})=>this.service.sendMessage({message:e}).pipe((0,_.T)(e=>({res:e,messageParams:t})))),(0,m.Z)(({res:i,messageParams:o})=>{var a,r,s,d;const{success:c,checkMsg:u,payload:p,statusCode:g,statusMsg:_,innerError:m}=i,h=[this.getActions().addSentMessageSuccessCount(),this.conversation.getActions().setSendingProgress({messageId:null!==(a=null==p?void 0:p.clientId)&&void 0!==a?a:"",sendingProgress:{finished:!0}})],v=[],f={chat_type:null!=n?n:"private",conversation_id:null!==(r=null==p?void 0:p.conversationId)&&void 0!==r?r:"",message_type:null!==(s=o.messageType)&&void 0!==s?s:"default",relation_tag:t,to_user_id:e};if(c)k.w.handleSendMessage(f),(0,D.Hz)("message-send",{uid:e});else{(null==p?void 0:p.clientId)&&v.push(this.conversation.getActions().addFailedMessage({[p.clientId]:null!=u?u:"null"}));const e=Object.assign(Object.assign({},f),{error_code:null!==(d=JSON.parse(null!=u?u:"{}").status_code)&&void 0!==d?d:-1,status_code:null!=g?g:-1,status_msg:null!=_?_:""});k.w.handleFailSendMessage(e),this.slardar.handleSendMediaFail(Object.assign(Object.assign({},e),{inner_error:`${m}`}))}return(0,l.of)(...h,...v)}),(0,b.W)(()=>(k.w.handleFailSendMessage({chat_type:null!=n?n:"private",conversation_id:"",message_type:"media",error_code:-1,relation_tag:t,to_user_id:e}),(0,l.of)(this.getActions().setSendMessageStatus({isFailed:!0,isLoading:!1})))))))}),(0,C.n)({}),(0,v.Z)(this.getActions().setSendMessageStatus({isFailed:!1,isLoading:!1})))}};(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"initSDK",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"initWebDMLocalStorage",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"closeMediaSafeTip",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"closeMediaSelectionTip",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"saveVideoPlayerVolume",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"startRefreshMessage",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setMessageCount",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setConversationMap",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setConversationList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setAllConversationList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setStrangerConversationList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setHasMoreStranger",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setListLoading",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"updateRecentUserList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"updateFollowingUserList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setFollowingLoading",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setUidList",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"addSentMessageSuccessCount",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setSendMessageStatus",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setOtherUid",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setInitialized",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setIsMediaSafeTipShown",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setIsMediaSelectionTipShown",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"setVideoPlayerVolume",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",p.c)],U.prototype,"handleImEvent",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"startConversationChange",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"getMoreConversationList",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"getConversationListWithFilter",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"getStrangerPreview",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"getStrangerConversationList",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"getMultiUsersByUids",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"getFollowingUserListWithCanShare",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"sendMessage",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],U.prototype,"batchSendMessages",null),U=(0,n.__decorate)([(0,r.nV)("MessageModule"),(0,n.__metadata)("design:paramtypes",[A.b,I.U,P._,L,T.Z,B])],U)},73289:(e,t,i)=>{"use strict";i.d(t,{R:()=>g});var n=i(24643),o=i(40099),a=i(71612),r=i(27799),s=i(16410);const l=(0,s.default)("div",{target:"e1ario2k0"})(({padding:e,theme:{direction:t}})=>({position:"absolute",top:0,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",padding:null!=e?e:".5rem",direction:t,zIndex:1}),"label:DivHeaderContainer;"),d=(0,s.default)("div",{target:"e1ario2k1"})(({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-start",direction:e}),"label:DivLeftSection;"),c=(0,s.default)("div",{target:"e1ario2k2"})(({theme:{direction:e}})=>({display:"flex",alignItems:"center",justifyContent:"flex-end",direction:e}),"label:DivRightSection;"),u=(0,o.memo)(function({left:e,right:t}){return(0,n.jsxs)(l,{children:[e&&(0,n.jsx)(d,{children:e}),t&&(0,n.jsx)(c,{children:t})]})});var p=i(20597);const g=(0,o.memo)(function({videoData:e,pageType:t,itemListKey:i,sortType:o}){const s=(0,r.s)();if(!(0,p.n5)(e,"user-post"===i&&1!==o&&2!==o))return null;const l=1===t&&(0,n.jsx)(a.F,{children:s("profile_page_pin",{},"Pinned")});return(0,n.jsx)(u,{left:l})})},73506:(e,t,i)=>{"use strict";i.d(t,{f:()=>r,q:()=>a});var n=i(40099),o=i(56581);function a(e){const{infoEnable:t,roomInfo:i,playerContainerRef:o}=e,[a,r]=(0,n.useState)(!1),{anchorId:s,roomId:l,liveRoomMode:d}=i,c=(0,n.useRef)(),[u,p]=(0,n.useState)({anchorId:"",roomId:"",liveRoomMode:0,channelId:"",canvasWidth:0,canvasHeight:0,infoEnable:!1,grids:[],playerContainerRef:o}),g=(0,n.useCallback)(e=>{var i,n,a,u,g,_,m,h,v,f;const y=null===(i=e.app_data)||void 0===i?void 0:i.ver;if(c.current&&c.current!==y&&r(!1),20!==y)return;c.current=20;const b=null===(n=e.app_data)||void 0===n?void 0:n.grids,x=null!==(u=null===(a=e.app_data)||void 0===a?void 0:a.channel_id)&&void 0!==u?u:"",k=null!==(m=null===(_=null===(g=e.app_data)||void 0===g?void 0:g.canvas)||void 0===_?void 0:_.width)&&void 0!==m?m:0,w=null!==(f=null===(v=null===(h=e.app_data)||void 0===h?void 0:h.canvas)||void 0===v?void 0:v.height)&&void 0!==f?f:0;k&&w&&o.current&&s&&l&&x&&(r(Number(null==b?void 0:b.length)>1),b&&(null==b?void 0:b.length)>1&&p(e=>Object.assign(Object.assign({},e),{canvasWidth:k,canvasHeight:w,infoEnable:t,grids:b,roomId:l,anchorId:s,liveRoomMode:d,channelId:x,playerContainerRef:o})))},[t,o,d,s,l]),_=(0,n.useCallback)(({bottom:e})=>{p(t=>Object.assign(Object.assign({},t),{bottom:e}))},[]);return(0,n.useEffect)(()=>()=>{r(!1),p({anchorId:"",roomId:"",liveRoomMode:0,channelId:"",canvasWidth:0,canvasHeight:0,infoEnable:!1,grids:[],playerContainerRef:o})},[o,s,l]),{visible:a,handleChangeVoiceChatPosition:_,handleVoiceChatPanelSeiParsed:g,voiceChannelControllerProps:u}}const r=e=>{const[t,i]=(0,n.useState)(!1),{playerContainerRef:a,canvasWidth:r,canvasHeight:s,bottom:l}=e,d=(0,n.useMemo)(()=>r>s?"horizontal":"vertical",[r,s]),[c,u]=(0,n.useState)(),p=(0,n.useCallback)(()=>{if(a.current&&"vertical"===d){const e=a.current.offsetHeight*(9/16),t=a.current.offsetWidth,n=.28*e;u(i=>Object.assign(Object.assign({},i),{width:`${n}px`,right:(t-e+12)/(2*t)*100+"%",height:"75%",bottom:"12px"})),i(n<=80)}},[a,d]);return(0,o.w)({callback:p,element:a}),(0,n.useEffect)(()=>{"horizontal"===d?u(e=>Object.assign(Object.assign({},e),{left:"16px",height:"100px",display:"flex",alignItems:"flex-end",bottom:l})):p()},[p,a,r,s,l,d]),{hiddenInfoInPhoneSize:t,panelStyleType:d,controllerStyle:c}}},73699:(e,t,i)=>{"use strict";i.d(t,{B:()=>y});var n=i(73580),o=i(40099),a=i(72516),r=i(7672),s=i(74463),l=i(23999),d=i(24451),c=i(62564),u=i(20434),p=i(55867),g=i(17384),_=i(44094),m=i(89744),h=i(83692);const v=()=>{let e=0,t=0;try{performance.getEntriesByType("paint").forEach(i=>{"first-paint"===i.name?e=i.startTime:"first-contentful-paint"===i.name&&(t=i.startTime)});const i=performance.getEntriesByType("navigation"),n=i.length>0?i[0].responseStart:0;return{fp:e,fcp:t,ttfb:n}}catch(i){return{fp:e,fcp:t,ttfb:0}}};let f=class{constructor(e,t,i){this.bizContext=e,this.fetch=t,this.router=i,this.pageConfig={bid:m.Gu,pid:""},this.initialized=!1}setBid(e,t,i){this.init(t,i),this.pageConfig.bid=e}setPid(e,t,i){this.init(t,i),this.pageConfig.pid=e}getPageStart(){return Number((performance.timeOrigin||performance.timing.navigationStart||Date.now()).toFixed(0))}init(e,t){this.initialized||(this.initialized=!0,this.router&&this.router.router$.subscribe(()=>{this.send("route_change",e,t)}),(0,u.nr)()?window.addEventListener("pagehide",i=>{i.persisted||this.send("page_hide",e,t)},!1):(0,u.Gz)(()=>{this.send("page_hide",e,t)},()=>{this.pageStart=Date.now()}))}send(e,t,i){this.performanceArgs||(this.performanceArgs=v()),(0,l.of)({now:Date.now(),trigger:e}).pipe((0,d.E)(this.bizContext.state$),(0,c.T)(([{now:e,trigger:n},o])=>{var a,r,s,l;return Object.assign(Object.assign(Object.assign({},this.pageConfig),null!==(a=this.performanceArgs)&&void 0!==a?a:v()),{botType:t,isLogin:i,isMobile:null!==(s=null===(r=o.bizContext)||void 0===r?void 0:r.isMobile)&&void 0!==s&&s,timestamp:e-(null!==(l=this.pageStart)&&void 0!==l?l:this.getPageStart()),trigger_event:n})}),(0,c.T)(e=>{this.sendHeartbeat(e),this.pageStart=Date.now()}),(0,p.n)({})).subscribe()}sendHeartbeat(e){const t=`${(0,g.$_)(3)}/whale/heartbeat`,i=(e=>{const t=Object.keys(e);return new URLSearchParams(t.map(t=>[t,`${e[t]}`]))})(e);"function"==typeof navigator.sendBeacon?navigator.sendBeacon(t,i):this.fetch.post(t,{body:i})}};f=(0,a.__decorate)([(0,r._)(),(0,a.__metadata)("design:paramtypes",[h.$,_.p,s.iI])],f);const y=(e,t,i)=>{const a=(0,n.Nj)(f);(0,o.useEffect)(()=>{a.setPid(e,t,i)},[a,e,t,i])}},73739:(e,t,i)=>{"use strict";i.d(t,{W6:()=>s,k9:()=>l,MA:()=>d});var n=i(69857),o=i(2232),a=i(90976);const r="abTestVersion",s=()=>{var e;const{abTestVersion:t}=(0,n.L$)((0,a.W)(()=>[r],[]));return"v1"===(null!==(e=(0,o.V7)(t,"live_survey_open"))&&void 0!==e?e:"v0")},l=()=>{var e;const{abTestVersion:t}=null!==(e=(0,a.W)(()=>[r],[]))&&void 0!==e?e:{};return"v1"===(0,o.V7)(t,"live_card_open_direct")},d=()=>{var e;const{abTestVersion:t}=(0,n.L$)((0,a.W)(()=>["abTestVersion"],[]));return"v1"===(null!==(e=(0,o.qt)(t,"show_live_preview_content"))&&void 0!==e?e:"v0")}},73899:(e,t,i)=>{"use strict";i.d(t,{g:()=>o});var n=i(69857);const o=e=>{var t,i,o,a,r;const{video:s}=(0,n.L$)(e),{claInfo:l}=(0,n.L$)(s);let d="show captions";return!(null==l?void 0:l.captionInfos)&&(d="show captions (unavailable)"),(null===(i=null===(t=null==l?void 0:l.captionInfos)||void 0===t?void 0:t[0])||void 0===i?void 0:i.isAutoGen)&&(d="show captions auto generate"),{captionOptions:d,captionLanguage:null!==(r=null===(a=null===(o=null==l?void 0:l.captionInfos)||void 0===o?void 0:o[0])||void 0===a?void 0:a.language)&&void 0!==r?r:""}}},74201:(e,t,i)=>{"use strict";i.d(t,{AK:()=>l,Vi:()=>d,gt:()=>r,ht:()=>u,l5:()=>s,n9:()=>c,p5:()=>a});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"e1n49v430"})({width:"100%",height:"12px",position:"absolute",bottom:0,cursor:"initial"},"label:DivVideoControlBottom;"),r=(0,n.default)("div",{target:"e1n49v431"})({width:"100%",height:"16px",flex:"1 1 auto",position:"relative"},"label:DivSeekBarContainer;"),s=(0,n.default)("div",{target:"e1n49v432"})({flex:"0 0 64px",maxWidth:"64px",marginInlineStart:"8px",fontSize:"10px",lineHeight:"16px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"},"label:DivSeekBarTimeContainer;"),l=(0,n.default)("div",{target:"e1n49v433"})(({theme:{colors:e}})=>({height:"2px",width:"100%",backgroundColor:e.ConstTextInverse5,position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",cursor:"pointer"}),"label:DivSeekBarProgress;"),d=(0,n.default)("div",{target:"e1n49v434"})(({theme:{direction:e,colors:t}})=>({height:"2px",width:"100%",backgroundColor:t.ConstTextInverse,position:"absolute",top:"50%",transform:"translateY(-50%)",cursor:"pointer",transformOrigin:"rtl"===e?"right":"left"}),"label:DivSeekBar;"),c=(0,n.default)("div",{target:"e1n49v435"})(({theme:{direction:e}})=>(0,o.mp)({direction:e}),({theme:{direction:e}})=>({display:"none",width:"12px",height:"12px",backgroundColor:"#ffffff",borderRadius:"12px",position:"absolute",top:"50%",transform:`translate(${"rtl"===e?"50%":"-50%"}, -50%)`,cursor:"pointer",zIndex:1}),"label:DivSeekBarCircle;"),u=(0,n.default)("div",{target:"e1n49v436"})(({show:e})=>({width:"100%",height:"16px",paddingInline:"12px",position:"absolute",opacity:e?"1":"0",transition:"opacity .3s",bottom:"12px",cursor:"initial",display:"flex",[`:hover ${l}`]:{height:"4px"},[`:hover ${d}`]:{height:"4px"},[`:hover ${c}`]:{display:"block"}}),"label:DivVideoControlContainer;")},74367:(e,t,i)=>{"use strict";i.d(t,{g:()=>p,l:()=>g});var n=i(24643),o=i(40099),a=i(89768),r=i(63131),s=i(21722),l=i(37783),d=i(61198),c=i(1908),u=i(71754);function p({itemId:e,iconConfig:t}){const{user:i}=(0,a.x)(),[{isReposted:r}]=(0,l.l8)(t=>{const n=t[e];return(null==n?void 0:n.repostList)&&i?{isReposted:n.repostList.some(e=>e.secUid===i.secUid)}:{isReposted:!1}},d.bN);return(0,o.useMemo)(()=>(0,n.jsx)(c.j,Object.assign({},t,{showTick:r&&t.showTick})),[t,r])}function g(e){const{itemId:t,playMode:i,playlistId:n}=e,{user:c}=(0,a.x)(),[{isReposted:p,canRepost:g},{postRepostVideo:_}]=(0,l.l8)(e=>{var i,n;const o=e[t],a=void 0!==o&&(null===(n=null===(i=o.item_control)||void 0===i?void 0:i.can_repost)||void 0===n||n);return(null==o?void 0:o.repostList)&&c?{isReposted:o.repostList.some(e=>e.secUid===c.secUid),canRepost:a}:{isReposted:!1,canRepost:a}},d.bN),m=function(e){return"string"==typeof e}(i)?i:r.Jr[i],h=(0,o.useCallback)(()=>_({id:t,playMode:m,playlistId:n}),[_,t,m,n]),v=(0,u.G)({actionWhenUserLoggedIn:h,modalConfig:{query:{enter_method:"click_repost",group_id:t}},reportClickEvent:()=>{s.O.handleGeneralClick("repost",{group_id:t,play_mode:m})}});return{handleClickRepost:(0,o.useCallback)(e=>{e&&(e.preventDefault(),e.stopPropagation()),v()},[v]),canRepost:g,isReposted:p}}},74908:(e,t,i)=>{"use strict";i.d(t,{U$:()=>h,Si:()=>p,yy:()=>m,Sl:()=>l,_m:()=>c,xU:()=>u,F$:()=>r,JN:()=>v,Mu:()=>d});var n=i(72516),o=i(54133);const a=JSON.parse('{"scene":[{"scene":4,"version":10,"desc":"1vN","layout_id":{"panel_float":"1011_B","panel_fix":"1012_B","grid_float":"1013","grid_fix":"1014","zoom_panel":"9004_B","zoom_grid_guest":"9005","zoom_grid_anchor":"9006"}},{"scene":4,"version":9,"desc":"1vN","layout_id":{"panel_float":"1001","panel_fix":"1002_B","grid_float":"1005","grid_fix":"1006","zoom_panel":"9001_B","zoom_grid_guest":"9002","zoom_grid_anchor":"9003"}},{"scene":4,"version":7,"desc":"1vN","layout_id":{"panel_float":"1011_A","panel_fix":"1012_A","grid_float":"1013","grid_fix":"1014","zoom_panel":"9004_A","zoom_grid_guest":"9005","zoom_grid_anchor":"9006"}},{"scene":4,"version":6,"desc":"1vN","layout_id":{"panel_float":"1001","panel_fix":"1002_A","grid_float":"1005","grid_fix":"1006","zoom_panel":"9001_A","zoom_grid_guest":"9002","zoom_grid_anchor":"9003"}},{"scene":4,"version":4,"desc":"1vN","layout_id":{"panel_float":"1011","panel_fix":"1012","grid_float":"1013","grid_fix":"1014","zoom_panel":"9004","zoom_grid_guest":"9005","zoom_grid_anchor":"9006"}},{"scene":4,"version":2,"desc":"1vN","layout_id":{"panel_float":"1001","panel_fix":"1002","grid_float":"1005","grid_fix":"1006","zoom_panel":"9001","zoom_grid_guest":"9002","zoom_grid_anchor":"9003"}},{"scene":4,"version":5,"desc":"1v3","layout_id":{"grid_fix":"1015","zoom_grid_guest":"9007","zoom_grid_anchor":"9008"}},{"scene":4,"version":11,"desc":"1v2","layout_id":{"grid_fix":"1016","zoom_grid_guest":"9010","zoom_grid_anchor":"1016"}},{"scene":2,"version":1,"desc":"multi-host","layout_id":{"grid_float_cohost_old":"2000","grid_float":"2001","grid_float_new":"2002","grid_float_redesign":"2003","grid_float_LS_landscape":"2020","grid_float_LS_portrait":"2021"}},{"scene":4,"version":8,"desc":"1vN","layout_id":{"grid_fix":"4001","zoom_grid_guest":"9009","zoom_grid_anchor":"4001"}}],"layouts":[{"layoutId":"1001","zoomLayoutId":"9001","anchorZoomLayoutId":"1001","micCount":5,"type":"float","overlay":1,"needSplitLine":0,"view_for_link":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_5_main","config_id":"layout_linkmic_float_full"}},"c2":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_5_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.75,0.7281,0.9778,0.8781],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"}},"c3":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_5_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.75,0.7281,0.9778,0.8781],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"},"3":{"pos":[0.75,0.5719,0.9778,0.7219],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"}},"c4":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_5_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.75,0.7281,0.9778,0.8781],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"},"3":{"pos":[0.75,0.5719,0.9778,0.7219],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"},"4":{"pos":[0.75,0.4156,0.9778,0.5656],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"}},"c5":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_5_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.75,0.7281,0.9778,0.8781],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"},"3":{"pos":[0.75,0.5719,0.9778,0.7219],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"},"4":{"pos":[0.75,0.4156,0.9778,0.5656],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"},"5":{"pos":[0.75,0.2594,0.9778,0.4094],"reso_id":"res","business_id":"linkmic_panel_float_5","config_id":"layout_linkmic_float_5"}}},"divideDataForAndroid":{},"resolution":{"res_main":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"linkmic_panel_float_5_main","e_w":720,"e_h":1280},"res":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_panel_float_5","e_w":240,"e_h":320}}},{"layoutId":"1002","zoomLayoutId":"9001","anchorZoomLayoutId":"1002","micCount":5,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.909,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.909,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.909,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.909,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.909,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c5":{"1":{"pos":[0,0,0.772,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_5_main","config_id":"layout_linkmic_panel_main"},"2":{"pos":[0.778,0,1,0.245],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"},"3":{"pos":[0.778,0.25,1,0.495],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"},"4":{"pos":[0.778,0.5,1,0.747],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"},"5":{"pos":[0.778,0.753,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"}}},"divideDataForAndroid":{"c5":[{"left":0.772,"top":0,"right":0.778,"bottom":1},{"left":0.778,"top":0.245,"right":1,"bottom":0.25},{"left":0.778,"top":0.495,"right":1,"bottom":0.5},{"left":0.778,"top":0.747,"right":1,"bottom":0.753}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_5_main","e_w":540,"e_h":960},"res":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_panel_fix_5","e_w":240,"e_h":320}}},{"layoutId":"1002_A","zoomLayoutId":"9001_A","anchorZoomLayoutId":"1002_A","micCount":5,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c5":{"1":{"pos":[0,0,0.772,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_5_main","config_id":"layout_linkmic_panel_main"},"2":{"pos":[0.778,0,1,0.245],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"},"3":{"pos":[0.778,0.25,1,0.495],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"},"4":{"pos":[0.778,0.5,1,0.747],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"},"5":{"pos":[0.778,0.753,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"}}},"divideDataForAndroid":{"c5":[{"left":0.772,"top":0,"right":0.778,"bottom":1},{"left":0.778,"top":0.245,"right":1,"bottom":0.25},{"left":0.778,"top":0.495,"right":1,"bottom":0.5},{"left":0.778,"top":0.747,"right":1,"bottom":0.753}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_5_main","e_w":540,"e_h":960},"res":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_panel_fix_5","e_w":240,"e_h":320}}},{"layoutId":"1005","zoomLayoutId":"9002","anchorZoomLayoutId":"9003","micCount":6,"type":"float","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_1","business_id":"linkmic_grid_float_half_1","config_id":"layout_linkmic_float_full"}},"c2":{"1":{"pos":[0,0,0.499,1],"reso_id":"res_2","business_id":"linkmic_grid_float_half_2","config_id":"layout_linkmic_grid_half"},"2":{"pos":[0.504,0,1,1],"reso_id":"res_2","business_id":"linkmic_grid_float_half_2","config_id":"layout_linkmic_grid_half"}},"c3":{"1":{"pos":[0,0,0.499,1],"reso_id":"res_3_main","business_id":"linkmic_grid_float_half_3_main","config_id":"layout_linkmic_grid_half"},"2":{"pos":[0.504,0,1,0.497],"reso_id":"res_3","business_id":"linkmic_grid_float_half_3","config_id":"layout_linkmic_grid_4"},"3":{"pos":[0.504,0.503,1,1],"reso_id":"res_3","business_id":"linkmic_grid_float_half_3","config_id":"layout_linkmic_grid_4"}},"c4":{"1":{"pos":[0,0,0.499,0.497],"reso_id":"res_4","business_id":"linkmic_grid_float_half_4","config_id":"layout_linkmic_grid_4"},"2":{"pos":[0.504,0,1,0.497],"reso_id":"res_4","business_id":"linkmic_grid_float_half_4","config_id":"layout_linkmic_grid_4"},"3":{"pos":[0,0.503,0.499,1],"reso_id":"res_4","business_id":"linkmic_grid_float_half_4","config_id":"layout_linkmic_grid_4"},"4":{"pos":[0.504,0.503,1,1],"reso_id":"res_4","business_id":"linkmic_grid_float_half_4","config_id":"layout_linkmic_grid_4"}},"c5":{"1":{"pos":[0,0,0.499,0.497],"reso_id":"res_5_main","business_id":"linkmic_grid_float_half_5_main","config_id":"layout_linkmic_grid_4"},"2":{"pos":[0.504,0,1,0.497],"reso_id":"res_5_main","business_id":"linkmic_grid_float_half_5_main","config_id":"layout_linkmic_grid_4"},"3":{"pos":[0,0.503,0.331,1],"reso_id":"res_5","business_id":"linkmic_grid_float_half_5","config_id":"layout_linkmic_grid_6"},"4":{"pos":[0.336,0.503,0.667,1],"reso_id":"res_5","business_id":"linkmic_grid_float_half_5","config_id":"layout_linkmic_grid_6"},"5":{"pos":[0.672,0.503,1,1],"reso_id":"res_5","business_id":"linkmic_grid_float_half_5","config_id":"layout_linkmic_grid_6"}},"c6":{"1":{"pos":[0,0,0.331,0.497],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"2":{"pos":[0.336,0,0.667,0.497],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"3":{"pos":[0.672,0,1,0.497],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"4":{"pos":[0,0.503,0.331,1],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"5":{"pos":[0.336,0.503,0.667,1],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"6":{"pos":[0.672,0.503,1,1],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"}}},"divideDataForAndroid":{"c2":[{"left":0.499,"top":0,"right":0.504,"bottom":1}],"c3":[{"left":0.499,"top":0,"right":0.504,"bottom":1},{"left":0.504,"top":0.497,"right":1,"bottom":0.503}],"c4":[{"left":0.499,"top":0,"right":0.504,"bottom":1},{"left":0,"top":0.497,"right":1,"bottom":0.503}],"c5":[{"left":0.499,"top":0,"right":0.504,"bottom":0.497},{"left":0,"top":0.497,"right":1,"bottom":0.503},{"left":0.331,"top":0.503,"right":0.336,"bottom":1},{"left":0.667,"top":0.503,"right":0.672,"bottom":1}],"c6":[{"left":0.331,"top":0,"right":0.336,"bottom":1},{"left":0.667,"top":0,"right":0.672,"bottom":1},{"left":0,"top":0.506,"right":1,"bottom":0.512}]},"resolution":{"res_1":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"linkmic_grid_float_half_1","e_w":720,"e_h":1280},"res_2":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"linkmic_grid_float_half_2","e_w":360,"e_h":640},"res_3_main":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"linkmic_grid_float_half_3_main","e_w":360,"e_h":640},"res_3":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"linkmic_grid_float_half_3","e_w":360,"e_h":320},"res_4":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"linkmic_grid_float_half_4","e_w":360,"e_h":320},"res_5_main":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"linkmic_grid_float_half_5_main","e_w":360,"e_h":320},"res_5":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_grid_float_half_5","e_w":240,"e_h":320},"res_6":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_grid_float_half_6","e_w":240,"e_h":320}}},{"layoutId":"1006","zoomLayoutId":"9002","anchorZoomLayoutId":"9003","micCount":6,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c6":{"1":{"pos":[0,0,0.331,0.497],"reso_id":"res","business_id":"linkmic_grid_fix_half_6","config_id":"layout_linkmic_grid_6"},"2":{"pos":[0.336,0,0.667,0.497],"reso_id":"res","business_id":"linkmic_grid_fix_half_6","config_id":"layout_linkmic_grid_6"},"3":{"pos":[0.672,0,1,0.497],"reso_id":"res","business_id":"linkmic_grid_fix_half_6","config_id":"layout_linkmic_grid_6"},"4":{"pos":[0,0.503,0.331,1],"reso_id":"res","business_id":"linkmic_grid_fix_half_6","config_id":"layout_linkmic_grid_6"},"5":{"pos":[0.336,0.503,0.667,1],"reso_id":"res","business_id":"linkmic_grid_fix_half_6","config_id":"layout_linkmic_grid_6"},"6":{"pos":[0.672,0.503,1,1],"reso_id":"res","business_id":"linkmic_grid_fix_half_6","config_id":"layout_linkmic_grid_6"}}},"divideDataForAndroid":{"c6":[{"left":0,"top":0.497,"right":1,"bottom":0.503},{"left":0.331,"top":0,"right":0.336,"bottom":1},{"left":0.667,"top":0,"right":0.672,"bottom":1}]},"resolution":{"res":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_grid_fix_half_6","e_w":240,"e_h":320}}},{"layoutId":"1011","zoomLayoutId":"9004","anchorZoomLayoutId":"1011","micCount":7,"type":"float","overlay":1,"needSplitLine":0,"view_for_link":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"}},"c2":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c3":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c4":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c5":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"5":{"pos":[0.7917,0.4719,0.975,0.575],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c6":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"5":{"pos":[0.7917,0.4719,0.975,0.575],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"6":{"pos":[0.7917,0.3625,0.975,0.4656],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c7":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"5":{"pos":[0.7917,0.4719,0.975,0.575],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"6":{"pos":[0.7917,0.3625,0.975,0.4656],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"7":{"pos":[0.7917,0.2531,0.975,0.3563],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}}},"divideDataForAndroid":{},"resolution":{"res_main":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"linkmic_panel_float_7_main","e_w":720,"e_h":1280},"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_panel_float_7","e_w":176,"e_h":176}}},{"layoutId":"1011_A","zoomLayoutId":"9004_A","anchorZoomLayoutId":"1011_A","micCount":7,"type":"float","overlay":1,"needSplitLine":0,"view_for_link":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"}},"c2":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c3":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c4":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c5":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"5":{"pos":[0.7917,0.4719,0.975,0.575],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c6":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"5":{"pos":[0.7917,0.4719,0.975,0.575],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"6":{"pos":[0.7917,0.3625,0.975,0.4656],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c7":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"5":{"pos":[0.7917,0.4719,0.975,0.575],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"6":{"pos":[0.7917,0.3625,0.975,0.4656],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"7":{"pos":[0.7917,0.2531,0.975,0.3563],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}}},"divideDataForAndroid":{},"resolution":{"res_main":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"linkmic_panel_float_7_main","e_w":720,"e_h":1280},"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_panel_float_7","e_w":176,"e_h":176}}},{"layoutId":"1012","zoomLayoutId":"9004","anchorZoomLayoutId":"1012","micCount":7,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.859,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.859,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.859,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.859,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.859,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c7":{"1":{"pos":[0,0,0.805,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_7_main","config_id":"layout_linkmic_panel_main"},"2":{"pos":[0.811,0,1,0.165],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"3":{"pos":[0.811,0.169,1,0.332],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"4":{"pos":[0.811,0.337,1,0.499],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"5":{"pos":[0.811,0.504,1,0.666],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"6":{"pos":[0.811,0.671,1,0.833],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"7":{"pos":[0.811,0.838,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"}}},"divideDataForAndroid":{"c7":[{"left":0.805,"top":0,"right":0.811,"bottom":1},{"left":0.805,"top":0.165,"right":1,"bottom":0.169},{"left":0.805,"top":0.332,"right":1,"bottom":0.337},{"left":0.805,"top":0.499,"right":1,"bottom":0.504},{"left":0.805,"top":0.666,"right":1,"bottom":0.671},{"left":0.805,"top":0.833,"right":1,"bottom":0.838}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_7_main","e_w":540,"e_h":960},"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_panel_fix_7","e_w":176,"e_h":176}}},{"layoutId":"1012_A","zoomLayoutId":"9004_A","anchorZoomLayoutId":"1012_A","micCount":7,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c7":{"1":{"pos":[0,0,0.776,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_7_main","config_id":"layout_linkmic_panel_main"},"2":{"pos":[0.782,0,1,0.165],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"3":{"pos":[0.782,0.169,1,0.332],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"4":{"pos":[0.782,0.337,1,0.499],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"5":{"pos":[0.782,0.504,1,0.666],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"6":{"pos":[0.782,0.671,1,0.833],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"7":{"pos":[0.782,0.838,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"}}},"divideDataForAndroid":{"c7":[{"left":0.776,"top":0,"right":0.782,"bottom":1},{"left":0.776,"top":0.165,"right":1,"bottom":0.169},{"left":0.776,"top":0.332,"right":1,"bottom":0.337},{"left":0.776,"top":0.499,"right":1,"bottom":0.504},{"left":0.776,"top":0.666,"right":1,"bottom":0.671},{"left":0.776,"top":0.833,"right":1,"bottom":0.838}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_7_main","e_w":540,"e_h":960},"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_panel_fix_7","e_w":176,"e_h":176}}},{"layoutId":"1013","zoomLayoutId":"9005","anchorZoomLayoutId":"9006","micCount":9,"type":"float","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_1","business_id":"linkmic_grid_float_half_1","config_id":"layout_linkmic_float_full"}},"c2":{"1":{"pos":[0,0,0.499,1],"reso_id":"res_2","business_id":"linkmic_grid_float_half_2","config_id":"layout_linkmic_grid_half"},"2":{"pos":[0.504,0,1,1],"reso_id":"res_2","business_id":"linkmic_grid_float_half_2","config_id":"layout_linkmic_grid_half"}},"c3":{"1":{"pos":[0,0,0.499,1],"reso_id":"res_3_main","business_id":"linkmic_grid_float_half_3_main","config_id":"layout_linkmic_grid_half"},"2":{"pos":[0.504,0,1,0.497],"reso_id":"res_3","business_id":"linkmic_grid_float_half_3","config_id":"layout_linkmic_grid_4"},"3":{"pos":[0.504,0.503,1,1],"reso_id":"res_3","business_id":"linkmic_grid_float_half_3","config_id":"layout_linkmic_grid_4"}},"c4":{"1":{"pos":[0,0,0.499,0.497],"reso_id":"res_4","business_id":"linkmic_grid_float_half_4","config_id":"layout_linkmic_grid_4"},"2":{"pos":[0.504,0,1,0.497],"reso_id":"res_4","business_id":"linkmic_grid_float_half_4","config_id":"layout_linkmic_grid_4"},"3":{"pos":[0,0.503,0.499,1],"reso_id":"res_4","business_id":"linkmic_grid_float_half_4","config_id":"layout_linkmic_grid_4"},"4":{"pos":[0.504,0.503,1,1],"reso_id":"res_4","business_id":"linkmic_grid_float_half_4","config_id":"layout_linkmic_grid_4"}},"c5":{"1":{"pos":[0,0,0.499,0.497],"reso_id":"res_5_main","business_id":"linkmic_grid_float_half_5_main","config_id":"layout_linkmic_grid_4"},"2":{"pos":[0.504,0,1,0.497],"reso_id":"res_5_main","business_id":"linkmic_grid_float_half_5_main","config_id":"layout_linkmic_grid_4"},"3":{"pos":[0,0.503,0.331,1],"reso_id":"res_5","business_id":"linkmic_grid_float_half_5","config_id":"layout_linkmic_grid_6"},"4":{"pos":[0.336,0.503,0.667,1],"reso_id":"res_5","business_id":"linkmic_grid_float_half_5","config_id":"layout_linkmic_grid_6"},"5":{"pos":[0.672,0.503,1,1],"reso_id":"res_5","business_id":"linkmic_grid_float_half_5","config_id":"layout_linkmic_grid_6"}},"c6":{"1":{"pos":[0,0,0.331,0.497],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"2":{"pos":[0.336,0,0.667,0.497],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"3":{"pos":[0.672,0,1,0.497],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"4":{"pos":[0,0.503,0.331,1],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"5":{"pos":[0.336,0.503,0.667,1],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"},"6":{"pos":[0.672,0.503,1,1],"reso_id":"res_6","business_id":"linkmic_grid_float_half_6","config_id":"layout_linkmic_grid_6"}},"c7":{"1":{"pos":[0,0,0.331,0.329],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"2":{"pos":[0.336,0,0.667,0.329],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"3":{"pos":[0.672,0,1,0.329],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"4":{"pos":[0,0.335,0.331,0.665],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"5":{"pos":[0.336,0.335,0.667,0.665],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"6":{"pos":[0.672,0.335,1,0.665],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"7":{"pos":[0,0.671,0.331,1],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"8":{"pos":[0.336,0.671,0.667,1],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"9":{"pos":[0.672,0.671,1,1],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"}},"c8":{"1":{"pos":[0,0,0.331,0.329],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"2":{"pos":[0.336,0,0.667,0.329],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"3":{"pos":[0.672,0,1,0.329],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"4":{"pos":[0,0.335,0.331,0.665],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"5":{"pos":[0.336,0.335,0.667,0.665],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"6":{"pos":[0.672,0.335,1,0.665],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"7":{"pos":[0,0.671,0.331,1],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"8":{"pos":[0.336,0.671,0.667,1],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"9":{"pos":[0.672,0.671,1,1],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"}},"c9":{"1":{"pos":[0,0,0.331,0.329],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"2":{"pos":[0.336,0,0.667,0.329],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"3":{"pos":[0.672,0,1,0.329],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"4":{"pos":[0,0.335,0.331,0.665],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"5":{"pos":[0.336,0.335,0.667,0.665],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"6":{"pos":[0.672,0.335,1,0.665],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"7":{"pos":[0,0.671,0.331,1],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"8":{"pos":[0.336,0.671,0.667,1],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"},"9":{"pos":[0.672,0.671,1,1],"reso_id":"res_9","business_id":"linkmic_grid_float_half_9","config_id":"layout_linkmic_grid_9"}}},"divideDataForAndroid":{"c2":[{"left":0.499,"top":0,"right":0.504,"bottom":1}],"c3":[{"left":0.499,"top":0,"right":0.504,"bottom":1},{"left":0.504,"top":0.497,"right":1,"bottom":0.503}],"c4":[{"left":0.499,"top":0,"right":0.504,"bottom":1},{"left":0,"top":0.497,"right":1,"bottom":0.503}],"c5":[{"left":0.499,"top":0,"right":0.504,"bottom":0.497},{"left":0,"top":0.497,"right":1,"bottom":0.503},{"left":0.331,"top":0.503,"right":0.336,"bottom":1},{"left":0.667,"top":0.503,"right":0.672,"bottom":1}],"c6":[{"left":0.331,"top":0,"right":0.336,"bottom":1},{"left":0.667,"top":0,"right":0.672,"bottom":1},{"left":0,"top":0.497,"right":1,"bottom":0.503}],"c7":[{"left":0,"top":0.329,"right":1,"bottom":0.335},{"left":0,"top":0.665,"right":1,"bottom":0.671},{"left":0.331,"top":0,"right":0.336,"bottom":1},{"left":0.667,"top":0,"right":0.672,"bottom":1}],"c8":[{"left":0,"top":0.329,"right":1,"bottom":0.335},{"left":0,"top":0.665,"right":1,"bottom":0.671},{"left":0.331,"top":0,"right":0.336,"bottom":1},{"left":0.667,"top":0,"right":0.672,"bottom":1}],"c9":[{"left":0,"top":0.329,"right":1,"bottom":0.335},{"left":0,"top":0.665,"right":1,"bottom":0.671},{"left":0.331,"top":0,"right":0.336,"bottom":1},{"left":0.667,"top":0,"right":0.672,"bottom":1}]},"resolution":{"res_1":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"linkmic_grid_float_half_1","e_w":720,"e_h":1280},"res_2":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"linkmic_grid_float_half_2","e_w":360,"e_h":640},"res_3_main":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"linkmic_grid_float_half_3_main","e_w":360,"e_h":640},"res_3":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"linkmic_grid_float_half_3","e_w":360,"e_h":320},"res_4":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"linkmic_grid_float_half_4","e_w":360,"e_h":320},"res_5_main":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"linkmic_grid_float_half_5_main","e_w":360,"e_h":320},"res_5":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_grid_float_half_5","e_w":240,"e_h":320},"res_6":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_grid_float_half_6","e_w":240,"e_h":320},"res_9":{"w":240,"h":240,"fps":15,"bits":200,"business_id":"linkmic_grid_float_half_9","e_w":240,"e_h":240}}},{"layoutId":"1014","zoomLayoutId":"9005","anchorZoomLayoutId":"9006","micCount":9,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c9":{"1":{"pos":[0,0,0.331,0.329],"reso_id":"res","business_id":"linkmic_grid_fix_half_9","config_id":"layout_linkmic_grid_9"},"2":{"pos":[0.336,0,0.667,0.329],"reso_id":"res","business_id":"linkmic_grid_fix_half_9","config_id":"layout_linkmic_grid_9"},"3":{"pos":[0.672,0,1,0.329],"reso_id":"res","business_id":"linkmic_grid_fix_half_9","config_id":"layout_linkmic_grid_9"},"4":{"pos":[0,0.335,0.331,0.665],"reso_id":"res","business_id":"linkmic_grid_fix_half_9","config_id":"layout_linkmic_grid_9"},"5":{"pos":[0.336,0.335,0.667,0.665],"reso_id":"res","business_id":"linkmic_grid_fix_half_9","config_id":"layout_linkmic_grid_9"},"6":{"pos":[0.672,0.335,1,0.665],"reso_id":"res","business_id":"linkmic_grid_fix_half_9","config_id":"layout_linkmic_grid_9"},"7":{"pos":[0,0.671,0.331,1],"reso_id":"res","business_id":"linkmic_grid_fix_half_9","config_id":"layout_linkmic_grid_9"},"8":{"pos":[0.336,0.671,0.667,1],"reso_id":"res","business_id":"linkmic_grid_fix_half_9","config_id":"layout_linkmic_grid_9"},"9":{"pos":[0.672,0.671,1,1],"reso_id":"res","business_id":"linkmic_grid_fix_half_9","config_id":"layout_linkmic_grid_9"}}},"divideDataForAndroid":{"c9":[{"left":0,"top":0.329,"right":1,"bottom":0.335},{"left":0,"top":0.665,"right":1,"bottom":0.671},{"left":0.331,"top":0,"right":0.336,"bottom":1},{"left":0.667,"top":0,"right":0.672,"bottom":1}]},"resolution":{"res":{"w":240,"h":240,"fps":15,"bits":200,"business_id":"linkmic_grid_fix_half_9","e_w":240,"e_h":240}}},{"layoutId":"1015","zoomLayoutId":"9007","anchorZoomLayoutId":"9008","micCount":4,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c4":{"1":{"pos":[0,0,0.499,0.497],"reso_id":"res_4","business_id":"linkmic_grid_fix_half_4","config_id":"layout_linkmic_grid_4"},"2":{"pos":[0.504,0,1,0.497],"reso_id":"res_4","business_id":"linkmic_grid_fix_half_4","config_id":"layout_linkmic_grid_4"},"3":{"pos":[0,0.503,0.499,1],"reso_id":"res_4","business_id":"linkmic_grid_fix_half_4","config_id":"layout_linkmic_grid_4"},"4":{"pos":[0.504,0.503,1,1],"reso_id":"res_4","business_id":"linkmic_grid_fix_half_4","config_id":"layout_linkmic_grid_4"}}},"divideDataForAndroid":{"c4":[{"left":0.499,"top":0,"right":0.504,"bottom":1},{"left":0,"top":0.497,"right":1,"bottom":0.503}]},"resolution":{"res_4":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"linkmic_grid_fix_half_4","e_w":360,"e_h":320}}},{"layoutId":"1016","zoomLayoutId":"9010","anchorZoomLayoutId":"1016","micCount":3,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c3":{"1":{"pos":[0,0,0.499,1],"reso_id":"res_main","business_id":"linkmic_grid_fix_half_3_main","config_id":"layout_linkmic_grid_half"},"2":{"pos":[0.504,0,1,0.497],"reso_id":"res","business_id":"linkmic_grid_fix_half_3","config_id":"layout_linkmic_grid_4"},"3":{"pos":[0.504,0.503,1,1],"reso_id":"res","business_id":"linkmic_grid_fix_half_3","config_id":"layout_linkmic_grid_4"}}},"divideDataForAndroid":{"c3":[{"left":0.499,"top":0,"right":0.504,"bottom":1},{"left":0.504,"top":0.497,"right":1,"bottom":0.503}]},"resolution":{"res":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"linkmic_grid_fix_half_3","e_w":360,"e_h":320},"res_main":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"linkmic_grid_fix_half_3_main","e_w":360,"e_h":640}}},{"layoutId":"2000","micCount":2,"type":"float","overlay":0,"view_for_link":{"insets":[0,167,0,345],"insetsForAndroid":[0,130,0,32],"ratio":1.3839,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.3839,"align":"custom","align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_audience":{"insets":[0,166,0,345],"insetsForAndroid":[0,0,0,32],"ratio":1.3839,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_pad":{"insets":[0,166,0,345],"insetsForAndroid":[0,0,0,32],"ratio":1.3839,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_search":{"insets":[0,166,0,345],"insetsForAndroid":[0,0,0,32],"ratio":1.3839,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_1","business_id":"link_cross_grid_1","config_id":"layout_link_cross_grid_1"}},"c2":{"1":{"pos":[0,0,0.5,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.5,0,1,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"}}},"divideDataForAndroid":{"c2":[{"left":0.5,"top":0,"right":0.5,"bottom":1}]},"resolution":{"res_1":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"link_cross_grid_1","e_w":720,"e_h":1280},"res_2":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_2","e_w":360,"e_h":640}}},{"layoutId":"2001","micCount":4,"type":"float","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,167,0,345],"insetsForAndroid":[0,130,0,32],"ratio":1.25,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.25,"align":"custom","align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_audience":{"insets":[0,166,0,345],"insetsForAndroid":[0,12,0,32],"ratio":1.25,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_pad":{"insets":[0,166,0,345],"insetsForAndroid":[0,0,0,32],"ratio":1.25,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_search":{"insets":[0,166,0,345],"insetsForAndroid":[0,0,0,32],"ratio":1.25,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_1","business_id":"link_cross_grid_1","config_id":"layout_link_cross_grid_1"}},"c2":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"}},"c3":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,0.497333],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"3":{"pos":[0.502667,0.503333,1,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"}},"c4":{"1":{"pos":[0,0,0.497333,0.497333],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"2":{"pos":[0.502667,0,1,0.497333],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"3":{"pos":[0,0.503333,0.497333,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"4":{"pos":[0.502667,0.503333,1,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"}}},"divideDataForAndroid":{"c2":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1}],"c3":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0.502667,"top":0.497333,"right":1,"bottom":0.503333}],"c4":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0,"top":0.497333,"right":1,"bottom":0.503333}]},"resolution":{"res_1":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"link_cross_grid_1","e_w":720,"e_h":1280},"res_2":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_2","e_w":360,"e_h":640},"res_3":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_3","e_w":360,"e_h":640},"res_4":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"link_cross_grid_4","e_w":360,"e_h":320}}},{"layoutId":"2002","micCount":4,"type":"float","needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.102941,"align":"custom","align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.144,"scale_type":"fill_width"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.144,"scale_type":"fill_width"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,166,0,306],"insetsForAndroid":[0,0,0,0],"ratio":1.102941,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.144,"scale_type":"fill_width"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_1","business_id":"link_cross_grid_1","config_id":"layout_link_cross_grid_1"}},"c2":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"}},"c3":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,0.497059],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"3":{"pos":[0.502667,0.501409,1,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"}},"c4":{"1":{"pos":[0,0,0.497333,0.497059],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"2":{"pos":[0.502667,0,1,0.497059],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"3":{"pos":[0,0.501409,0.497333,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"4":{"pos":[0.502667,0.501409,1,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"}}},"divideDataForAndroid":{"c2":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1}],"c3":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0.502667,"top":0.497059,"right":1,"bottom":0.501409}],"c4":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0,"top":0.497059,"right":1,"bottom":0.501409}]},"resolution":{"res_1":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"link_cross_grid_1","e_w":720,"e_h":1280},"res_2":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_2","e_w":360,"e_h":640},"res_3":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_3","e_w":360,"e_h":640},"res_4":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"link_cross_grid_4","e_w":360,"e_h":320}}},{"layoutId":"2003","micCount":4,"type":"float","needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1,"align":"custom","align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.144,"scale_type":"fill_width"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.144,"scale_type":"fill_width"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,166,0,306],"insetsForAndroid":[0,0,0,0],"ratio":1,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.144,"scale_type":"fill_width"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_1","business_id":"link_cross_grid_1","config_id":"layout_link_cross_grid_1"}},"c2":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"}},"c3":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,0.497059],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"3":{"pos":[0.502667,0.501409,1,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"}},"c4":{"1":{"pos":[0,0,0.497333,0.497059],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"2":{"pos":[0.502667,0,1,0.497059],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"3":{"pos":[0,0.501409,0.497333,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"4":{"pos":[0.502667,0.501409,1,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"}}},"divideDataForAndroid":{"c2":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1}],"c3":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0.502667,"top":0.497059,"right":1,"bottom":0.501409}],"c4":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0,"top":0.497059,"right":1,"bottom":0.501409}]},"resolution":{"res_1":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"link_cross_grid_1","e_w":720,"e_h":1280},"res_2":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_2","e_w":360,"e_h":640},"res_3":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_3","e_w":360,"e_h":640},"res_4":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"link_cross_grid_4","e_w":360,"e_h":320}}},{"layoutId":"2010","micCount":2,"type":"fix","overlay":0,"needSplitLine":0,"view_for_link":{"insets":[0,167,0,345],"insetsForAndroid":[0,130,0,32],"ratio":1.25,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.25,"align":"custom","align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_audience":{"insets":[0,166,0,345],"insetsForAndroid":[0,12,0,32],"ratio":1.25,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_pad":{"insets":[0,166,0,345],"insetsForAndroid":[0,0,0,32],"ratio":1.25,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_search":{"insets":[0,166,0,345],"insetsForAndroid":[0,0,0,32],"ratio":1.25,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"layoutData":{"c2":{"1":{"pos":[0,0,0.5,1],"reso_id":"res_2"},"2":{"pos":[0.5,0,1,1],"reso_id":"res_2"}}},"divideDataForAndroid":{"c2":[{"left":0.5,"top":0,"right":0.5,"bottom":1}]},"resolution":{"res":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"link_cross_grid_1","e_w":720,"e_h":1280}}},{"layoutId":"2011","micCount":2,"type":"fix","overlay":0,"needSplitLine":0,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.102941,"align":"custom","align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_search":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"layoutData":{"c2":{"1":{"pos":[0,0,0.5,1],"reso_id":"res_2"},"2":{"pos":[0.5,0,1,1],"reso_id":"res_2"}}},"divideDataForAndroid":{"c2":[{"left":0.5,"top":0,"right":0.5,"bottom":1}]},"resolution":{"res":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"link_cross_grid_1","e_w":720,"e_h":1280}}},{"layoutId":"2020","micCount":4,"type":"float","needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.102941,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fill_height"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.102941,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_1","business_id":"link_cross_grid_1","config_id":"layout_link_cross_grid_1"}},"c2":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"}},"c3":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,0.497059],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"3":{"pos":[0.502667,0.501409,1,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"}},"c4":{"1":{"pos":[0,0,0.497333,0.497059],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"2":{"pos":[0.502667,0,1,0.497059],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"3":{"pos":[0,0.501409,0.497333,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"4":{"pos":[0.502667,0.501409,1,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"}}},"divideDataForAndroid":{"c2":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1}],"c3":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0.502667,"top":0.497059,"right":1,"bottom":0.501409}],"c4":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0,"top":0.497059,"right":1,"bottom":0.501409}]},"resolution":{"res_1":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"link_cross_grid_1","e_w":720,"e_h":1280},"res_2":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_2","e_w":360,"e_h":640},"res_3":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_3","e_w":360,"e_h":640},"res_4":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"link_cross_grid_4","e_w":360,"e_h":320}}},{"layoutId":"2021","micCount":4,"type":"float","needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fill_width"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.102941,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.102941,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.102941,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_1","business_id":"link_cross_grid_1","config_id":"layout_link_cross_grid_1"}},"c2":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,1],"reso_id":"res_2","business_id":"link_cross_grid_2","config_id":"layout_link_cross_grid_2"}},"c3":{"1":{"pos":[0,0,0.497333,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"2":{"pos":[0.502667,0,1,0.497059],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"},"3":{"pos":[0.502667,0.501409,1,1],"reso_id":"res_3","business_id":"link_cross_grid_3","config_id":"layout_link_cross_grid_2"}},"c4":{"1":{"pos":[0,0,0.497333,0.497059],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"2":{"pos":[0.502667,0,1,0.497059],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"3":{"pos":[0,0.501409,0.497333,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"},"4":{"pos":[0.502667,0.501409,1,1],"reso_id":"res_4","business_id":"link_cross_grid_4","config_id":"layout_link_cross_grid_4"}}},"divideDataForAndroid":{"c2":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1}],"c3":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0.502667,"top":0.497059,"right":1,"bottom":0.501409}],"c4":[{"left":0.497333,"top":0,"right":0.502667,"bottom":1},{"left":0,"top":0.497059,"right":1,"bottom":0.501409}]},"resolution":{"res_1":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"link_cross_grid_1","e_w":720,"e_h":1280},"res_2":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_2","e_w":360,"e_h":640},"res_3":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"link_cross_grid_3","e_w":360,"e_h":640},"res_4":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"link_cross_grid_4","e_w":360,"e_h":320}}},{"layoutId":"3001","micCount":9,"type":"fix","needSplitLine":0,"view_for_link":{"view_percent":[0.0614,0,0.0614,0],"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.0123,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"view_percent":[0.0694,0,0.0694,0],"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.0123,"align":"custom","align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_audience":{"view_percent":[0.0614,0,0.0614,0],"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.0123,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"view_percent":[0.0614,0,0.0614,0],"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.0123,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"view_percent":[0,0,0,0],"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.0123,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c9":{"1":{"pos":[0,0,0.3333,0.3497],"reso_id":"res"},"2":{"pos":[0.3333,0,0.6667,0.3497],"reso_id":"res"},"3":{"pos":[0.6667,0,1,0.3497],"reso_id":"res"},"4":{"pos":[0,0.3497,0.3333,0.6994],"reso_id":"res"},"5":{"pos":[0.3333,0.3497,0.6667,0.6994],"reso_id":"res"},"6":{"pos":[0.6667,0.3497,1,0.6994],"reso_id":"res"},"7":{"pos":[0,0.6994,0.3333,1],"reso_id":"res"},"8":{"pos":[0.3333,0.6994,0.6667,1],"reso_id":"res"},"9":{"pos":[0.6667,0.6994,1,1],"reso_id":"res"}}},"divideDataForAndroid":{},"resolution":{"res":{"w":16,"h":16,"e_w":16,"e_h":16,"fps":1,"bits":10,"business_id":"linkmic_voice_chat_grid_3v3"}}},{"layoutId":"3002","micCount":9,"type":"fix","needSplitLine":0,"view_for_link":{"view_percent":[0.036,0,0.036,0],"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1083,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"view_percent":[0.1042,0,0.1042,0],"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.1083,"align":"custom","align_greater_ratio":"custom","align_less_ratio":"custom","stream_offset":0.19,"scale_type":"fill_width"},"view_for_audience":{"view_percent":[0.036,0,0.036,0],"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1083,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"view_percent":[0.036,0,0.036,0],"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1083,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"view_percent":[0,0,0,0],"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.1083,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c9":{"1":{"pos":[0.375,0,0.625,0.3503],"reso_id":"res"},"2":{"pos":[0,0.3503,0.25,0.7006],"reso_id":"res"},"3":{"pos":[0.25,0.3503,0.5,0.7006],"reso_id":"res"},"4":{"pos":[0.5,0.3503,0.75,0.7006],"reso_id":"res"},"5":{"pos":[0.75,0.3503,1,0.7006],"reso_id":"res"},"6":{"pos":[0,0.7006,0.25,1],"reso_id":"res"},"7":{"pos":[0.25,0.7006,0.5,1],"reso_id":"res"},"8":{"pos":[0.5,0.7006,0.75,1],"reso_id":"res"},"9":{"pos":[0.75,0.7006,1,1],"reso_id":"res"}}},"divideDataForAndroid":{},"resolution":{"res":{"w":16,"h":16,"e_w":16,"e_h":16,"fps":1,"bits":10,"business_id":"linkmic_voice_chat_grid_1v8"}}},{"layoutId":"4001","zoomLayoutId":"9009","anchorZoomLayoutId":"4001","micCount":9,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,0],"insetsForAndroid":[0,130,0,164],"ratio":0.979,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.979,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,0],"insetsForAndroid":[0,130,0,164],"ratio":0.979,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,0],"insetsForAndroid":[0,130,0,164],"ratio":0.979,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.979,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c9":{"1":{"pos":[0,0,1,0.551],"reso_id":"res_max","business_id":"linkmic_grid_land_max","config_id":"layout_grid_land_half"},"2":{"pos":[0,0.556,0.246,0.775],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"3":{"pos":[0.251,0.556,0.497,0.775],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"4":{"pos":[0.503,0.556,0.749,0.775],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"5":{"pos":[0.754,0.556,1,0.775],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"6":{"pos":[0,0.781,0.246,1],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"7":{"pos":[0.251,0.781,0.497,1],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"8":{"pos":[0.503,0.781,0.749,1],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"9":{"pos":[0.754,0.781,1,1],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"}}},"divideDataForAndroid":{"c9":[{"left":0,"top":0,"right":0,"bottom":0}]},"resolution":{"resolution":{"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_grid_land_min","e_w":176,"e_h":176},"res_max":{"w":720,"h":360,"fps":15,"bits":840,"business_id":"linkmic_grid_land_max","e_w":720,"e_h":320}}}},{"layoutId":"9001","micCount":5,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.909,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.909,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.909,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.909,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.909,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c5":{"1":{"pos":[0.778,0,1,0.245],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"2":{"pos":[0.778,0.25,1,0.495],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"3":{"pos":[0.778,0.5,1,0.747],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"4":{"pos":[0.778,0.753,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"5":{"pos":[0,0,0.772,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_enlarge_5_max","config_id":"layout_linkmic_panel_main"}}},"divideDataForAndroid":{"c5":[{"left":0.772,"top":0,"right":0.778,"bottom":1},{"left":0.778,"top":0.245,"right":1,"bottom":0.25},{"left":0.778,"top":0.495,"right":1,"bottom":0.5},{"left":0.778,"top":0.747,"right":1,"bottom":0.753}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_enlarge_5_max","e_w":540,"e_h":960},"res":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_panel_fix_enlarge_5_min","e_w":240,"e_h":320}}},{"layoutId":"9001_A","micCount":5,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c5":{"1":{"pos":[0.778,0,1,0.245],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"2":{"pos":[0.778,0.25,1,0.495],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"3":{"pos":[0.778,0.5,1,0.747],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"4":{"pos":[0.778,0.753,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"5":{"pos":[0,0,0.772,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_enlarge_5_max","config_id":"layout_linkmic_panel_main"}}},"divideDataForAndroid":{"c5":[{"left":0.772,"top":0,"right":0.778,"bottom":1},{"left":0.778,"top":0.245,"right":1,"bottom":0.25},{"left":0.778,"top":0.495,"right":1,"bottom":0.5},{"left":0.778,"top":0.747,"right":1,"bottom":0.753}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_enlarge_5_max","e_w":540,"e_h":960},"res":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_panel_fix_enlarge_5_min","e_w":240,"e_h":320}}},{"layoutId":"9002","micCount":6,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c6":{"1":{"pos":[0.672,0,1,0.329411],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"},"2":{"pos":[0.672,0.335294,1,0.664705],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"},"3":{"pos":[0,0.670588,0.330666,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"},"4":{"pos":[0.336,0.670588,0.666666,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"},"5":{"pos":[0.672,0.670588,1,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"},"6":{"pos":[0,0,0.666666,0.664705],"reso_id":"res_max","business_id":"linkmic_grid_enlarge_6_max","config_id":"layout_linkmic_grid_enlarge_6_max"}}},"divideDataForAndroid":{"c6":[{"left":0.666666,"top":0,"right":0.672,"bottom":1},{"left":0,"top":0.666666,"right":1,"bottom":0.670588},{"left":0.330666,"top":0.670588,"right":0.336,"bottom":1},{"left":0.672,"top":0.329411,"right":1,"bottom":0.335294}]},"resolution":{"res_max":{"w":480,"h":480,"fps":15,"bits":800,"business_id":"linkmic_grid_enlarge_6_max","e_w":480,"e_h":480},"res_min":{"w":240,"h":240,"fps":15,"bits":280,"business_id":"linkmic_grid_enlarge_6_min","e_w":240,"e_h":240}}},{"layoutId":"9003","micCount":6,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c6":{"1":{"pos":[0,0,0.666666,0.664705],"reso_id":"res_max","business_id":"linkmic_grid_enlarge_6_max","config_id":"layout_linkmic_grid_enlarge_6_max"},"2":{"pos":[0.672,0,1,0.329411],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"},"3":{"pos":[0.672,0.335294,1,0.664705],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"},"4":{"pos":[0,0.670588,0.330666,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"},"5":{"pos":[0.336,0.670588,0.666666,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"},"6":{"pos":[0.672,0.670588,1,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_6_min","config_id":"layout_linkmic_grid_9"}}},"divideDataForAndroid":{"c6":[{"left":0.666666,"top":0,"right":0.672,"bottom":1},{"left":0,"top":0.666666,"right":1,"bottom":0.670588},{"left":0.330666,"top":0.670588,"right":0.336,"bottom":1},{"left":0.672,"top":0.329411,"right":1,"bottom":0.335294}]},"resolution":{"res_max":{"w":480,"h":480,"fps":15,"bits":800,"business_id":"linkmic_grid_enlarge_6_max","e_w":480,"e_h":480},"res_min":{"w":240,"h":240,"fps":15,"bits":280,"business_id":"linkmic_grid_enlarge_6_min","e_w":240,"e_h":240}}},{"layoutId":"9004","micCount":7,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.859,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.859,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.859,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.859,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.859,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c7":{"1":{"pos":[0.811,0,1,0.165],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"2":{"pos":[0.811,0.169,1,0.332],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"3":{"pos":[0.811,0.337,1,0.499],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"4":{"pos":[0.811,0.504,1,0.666],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"5":{"pos":[0.811,0.671,1,0.833],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"6":{"pos":[0.811,0.838,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"7":{"pos":[0,0,0.805,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_enlarge_7_max","config_id":"layout_linkmic_panel_main"}}},"divideDataForAndroid":{"c7":[{"left":0.805,"top":0,"right":0.811,"bottom":1},{"left":0.805,"top":0.165,"right":1,"bottom":0.169},{"left":0.805,"top":0.332,"right":1,"bottom":0.337},{"left":0.805,"top":0.499,"right":1,"bottom":0.504},{"left":0.805,"top":0.666,"right":1,"bottom":0.671},{"left":0.805,"top":0.833,"right":1,"bottom":0.838}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_enlarge_7_max","e_w":540,"e_h":960},"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_panel_fix_enlarge_7_min","e_w":176,"e_h":176}}},{"layoutId":"9004_A","micCount":7,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c7":{"1":{"pos":[0.782,0,1,0.165],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"2":{"pos":[0.782,0.169,1,0.332],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"3":{"pos":[0.782,0.337,1,0.499],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"4":{"pos":[0.782,0.504,1,0.666],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"5":{"pos":[0.782,0.671,1,0.833],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"6":{"pos":[0.782,0.838,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"7":{"pos":[0,0,0.776,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_enlarge_7_max","config_id":"layout_linkmic_panel_main"}}},"divideDataForAndroid":{"c7":[{"left":0.776,"top":0,"right":0.782,"bottom":1},{"left":0.782,"top":0.165,"right":1,"bottom":0.169},{"left":0.782,"top":0.332,"right":1,"bottom":0.337},{"left":0.782,"top":0.499,"right":1,"bottom":0.504},{"left":0.782,"top":0.666,"right":1,"bottom":0.671},{"left":0.782,"top":0.833,"right":1,"bottom":0.838}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_enlarge_7_max","e_w":540,"e_h":960},"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_panel_fix_enlarge_7_min","e_w":176,"e_h":176}}},{"layoutId":"9005","micCount":9,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c9":{"1":{"pos":[0.504,0,0.752,0.2471],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"2":{"pos":[0.7573,0,1,0.2471],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"3":{"pos":[0.504,0.2529,0.752,0.5],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"4":{"pos":[0.7573,0.2529,1,0.5],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"5":{"pos":[0.504,0.5059,0.752,0.75],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"6":{"pos":[0.7573,0.5059,1,0.75],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"7":{"pos":[0.504,0.7559,0.752,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"8":{"pos":[0.7573,0.7559,1,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"9":{"pos":[0,0,0.4987,1],"reso_id":"res_max","business_id":"linkmic_grid_enlarge_9_max","config_id":"layout_linkmic_grid_half"}}},"divideDataForAndroid":{"c9":[{"left":0.4987,"top":0,"right":0.504,"bottom":1},{"left":0.752,"top":0,"right":0.7573,"bottom":1},{"left":0.504,"top":0.2471,"right":1,"bottom":0.2529},{"left":0.504,"top":0.5,"right":1,"bottom":0.5059},{"left":0.504,"top":0.75,"right":1,"bottom":0.7559}]},"resolution":{"res_max":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"linkmic_grid_enlarge_9_max","e_w":360,"e_h":640},"res_min":{"w":176,"h":160,"fps":15,"bits":160,"business_id":"linkmic_grid_enlarge_9_min","e_w":176,"e_h":160}}},{"layoutId":"9006","micCount":9,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.103,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.103,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c9":{"1":{"pos":[0,0,0.4987,1],"reso_id":"res_max","business_id":"linkmic_grid_enlarge_9_max","config_id":"layout_linkmic_grid_half"},"2":{"pos":[0.504,0,0.752,0.2471],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"3":{"pos":[0.7573,0,1,0.2471],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"4":{"pos":[0.504,0.2529,0.752,0.5],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"5":{"pos":[0.7573,0.2529,1,0.5],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"6":{"pos":[0.504,0.5059,0.752,0.75],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"7":{"pos":[0.7573,0.5059,1,0.75],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"8":{"pos":[0.504,0.7559,0.752,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"},"9":{"pos":[0.7573,0.7559,1,1],"reso_id":"res_min","business_id":"linkmic_grid_enlarge_9_min","config_id":"layout_linkmic_grid_16"}}},"divideDataForAndroid":{"c9":[{"left":0.4987,"top":0,"right":0.504,"bottom":1},{"left":0.752,"top":0,"right":0.7573,"bottom":1},{"left":0.504,"top":0.2471,"right":1,"bottom":0.2529},{"left":0.504,"top":0.5,"right":1,"bottom":0.5059},{"left":0.504,"top":0.75,"right":1,"bottom":0.7559}]},"resolution":{"res_max":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"linkmic_grid_enlarge_9_max","e_w":360,"e_h":640},"res_min":{"w":176,"h":160,"fps":15,"bits":160,"business_id":"linkmic_grid_enlarge_9_min","e_w":176,"e_h":160}}},{"layoutId":"9007","micCount":4,"type":"fix","needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.1,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.1,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c4":{"1":{"pos":[0.7021,0,1,0.3294],"reso_id":"res","business_id":"linkmic_grid_enlarge_4_min","config_id":"layout_linkmic_grid_9"},"2":{"pos":[0.7021,0.3353,1,0.6647],"reso_id":"res","business_id":"linkmic_grid_enlarge_4_min","config_id":"layout_linkmic_grid_9"},"3":{"pos":[0.7021,0.6706,1,1],"reso_id":"res","business_id":"linkmic_grid_enlarge_4_min","config_id":"layout_linkmic_grid_9"},"4":{"pos":[0,0,0.6968,1],"reso_id":"res_main","business_id":"linkmic_grid_enlarge_4_max","config_id":"layout_linkmic_panel_4_main"}}},"divideDataForAndroid":{"c4":[{"left":0.6968,"top":0,"right":0.7021,"bottom":1},{"left":0.7021,"top":0.3294,"right":1,"bottom":0.3353},{"left":0.7021,"top":0.6647,"right":1,"bottom":0.6706}]},"resolution":{"res_main":{"w":480,"h":640,"fps":15,"bits":900,"business_id":"linkmic_grid_enlarge_4_max","e_w":480,"e_h":640},"res":{"w":240,"h":240,"fps":15,"bits":200,"business_id":"linkmic_grid_enlarge_4_min","e_w":240,"e_h":240}}},{"layoutId":"9008","micCount":4,"type":"fix","needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.1,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.1,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c4":{"1":{"pos":[0,0,0.6968,1],"reso_id":"res_main","business_id":"linkmic_grid_enlarge_4_max","config_id":"layout_linkmic_panel_4_main"},"2":{"pos":[0.7021,0,1,0.3294],"reso_id":"res","business_id":"linkmic_grid_enlarge_4_min","config_id":"layout_linkmic_grid_9"},"3":{"pos":[0.7021,0.3353,1,0.6647],"reso_id":"res","business_id":"linkmic_grid_enlarge_4_min","config_id":"layout_linkmic_grid_9"},"4":{"pos":[0.7021,0.6706,1,1],"reso_id":"res","business_id":"linkmic_grid_enlarge_4_min","config_id":"layout_linkmic_grid_9"}}},"divideDataForAndroid":{"c4":[{"left":0.6968,"top":0,"right":0.7021,"bottom":1},{"left":0.7021,"top":0.3294,"right":1,"bottom":0.3353},{"left":0.7021,"top":0.6647,"right":1,"bottom":0.6706}]},"resolution":{"res_main":{"w":496,"h":656,"fps":15,"bits":900,"business_id":"linkmic_grid_enlarge_4_max","e_w":496,"e_h":656},"res":{"w":224,"h":224,"fps":15,"bits":270,"business_id":"linkmic_grid_enlarge_4_min","e_w":224,"e_h":224}}},{"layoutId":"9009","micCount":9,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,0],"insetsForAndroid":[0,130,0,164],"ratio":0.979,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.979,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,0],"insetsForAndroid":[0,130,0,164],"ratio":0.979,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,0],"insetsForAndroid":[0,130,0,164],"ratio":0.979,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.979,"align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c9":{"1":{"pos":[0,0.556,0.246,0.775],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"2":{"pos":[0.251,0.556,0.497,0.775],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"3":{"pos":[0.503,0.556,0.749,0.775],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"4":{"pos":[0.754,0.556,1,0.775],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"5":{"pos":[0,0.781,0.246,1],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"6":{"pos":[0.251,0.781,0.497,1],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"7":{"pos":[0.503,0.781,0.749,1],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"8":{"pos":[0.754,0.781,1,1],"reso_id":"res","business_id":"linkmic_grid_land_min","config_id":"layout_linkmic_panel_7"},"9":{"pos":[0,0,1,0.551],"reso_id":"res_max","business_id":"linkmic_grid_land_max","config_id":"layout_grid_land_half"}}},"divideDataForAndroid":{"c9":[{"left":0,"top":0,"right":0,"bottom":0}]},"resolution":{"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_grid_land_min","e_w":176,"e_h":176},"res_max":{"w":720,"h":360,"fps":15,"bits":840,"business_id":"linkmic_grid_land_max","e_w":720,"e_h":320}}},{"layoutId":"1002_B","zoomLayoutId":"9001_B","anchorZoomLayoutId":"1002_B","micCount":5,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c5":{"1":{"pos":[0,0,0.772,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_5_main","config_id":"layout_linkmic_panel_main"},"2":{"pos":[0.778,0,1,0.245],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"},"3":{"pos":[0.778,0.25,1,0.495],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"},"4":{"pos":[0.778,0.5,1,0.747],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"},"5":{"pos":[0.778,0.753,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_5","config_id":"layout_linkmic_panel_5"}}},"divideDataForAndroid":{"c5":[{"left":0.772,"top":0,"right":0.778,"bottom":1},{"left":0.778,"top":0.245,"right":1,"bottom":0.25},{"left":0.778,"top":0.495,"right":1,"bottom":0.5},{"left":0.778,"top":0.747,"right":1,"bottom":0.753}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_5_main","e_w":540,"e_h":960},"res":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_panel_fix_5","e_w":240,"e_h":320}}},{"layoutId":"1011_B","zoomLayoutId":"9004_B","anchorZoomLayoutId":"1011_B","micCount":7,"type":"float","overlay":1,"needSplitLine":0,"view_for_link":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_pad":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.5625,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c1":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"}},"c2":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c3":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c4":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c5":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"5":{"pos":[0.7917,0.4719,0.975,0.575],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c6":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"5":{"pos":[0.7917,0.4719,0.975,0.575],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"6":{"pos":[0.7917,0.3625,0.975,0.4656],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}},"c7":{"1":{"pos":[0,0,1,1],"reso_id":"res_main","business_id":"linkmic_panel_float_7_main","config_id":"layout_linkmic_float_full"},"2":{"pos":[0.7917,0.8,0.975,0.9031],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"3":{"pos":[0.7917,0.6906,0.975,0.7938],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"4":{"pos":[0.7917,0.5813,0.975,0.6844],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"5":{"pos":[0.7917,0.4719,0.975,0.575],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"6":{"pos":[0.7917,0.3625,0.975,0.4656],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"},"7":{"pos":[0.7917,0.2531,0.975,0.3563],"reso_id":"res","business_id":"linkmic_panel_float_7","config_id":"layout_linkmic_float_7"}}},"divideDataForAndroid":{},"resolution":{"res_main":{"w":720,"h":1280,"fps":15,"bits":2000,"business_id":"linkmic_panel_float_7_main","e_w":720,"e_h":1280},"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_panel_float_7","e_w":176,"e_h":176}}},{"layoutId":"1012_B","zoomLayoutId":"9004_B","anchorZoomLayoutId":"1012_B","micCount":7,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c7":{"1":{"pos":[0,0,0.776,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_7_main","config_id":"layout_linkmic_panel_main"},"2":{"pos":[0.782,0,1,0.165],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"3":{"pos":[0.782,0.169,1,0.332],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"4":{"pos":[0.782,0.337,1,0.499],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"5":{"pos":[0.782,0.504,1,0.666],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"6":{"pos":[0.782,0.671,1,0.833],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"},"7":{"pos":[0.782,0.838,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_7","config_id":"layout_linkmic_panel_7"}}},"divideDataForAndroid":{"c7":[{"left":0.776,"top":0,"right":0.782,"bottom":1},{"left":0.776,"top":0.165,"right":1,"bottom":0.169},{"left":0.776,"top":0.332,"right":1,"bottom":0.337},{"left":0.776,"top":0.499,"right":1,"bottom":0.504},{"left":0.776,"top":0.666,"right":1,"bottom":0.671},{"left":0.776,"top":0.833,"right":1,"bottom":0.838}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_7_main","e_w":540,"e_h":960},"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_panel_fix_7","e_w":176,"e_h":176}}},{"layoutId":"9001_B","micCount":5,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c5":{"1":{"pos":[0.778,0,1,0.245],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"2":{"pos":[0.778,0.25,1,0.495],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"3":{"pos":[0.778,0.5,1,0.747],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"4":{"pos":[0.778,0.753,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_5_min","config_id":"layout_linkmic_panel_5"},"5":{"pos":[0,0,0.772,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_enlarge_5_max","config_id":"layout_linkmic_panel_main"}}},"divideDataForAndroid":{"c5":[{"left":0.772,"top":0,"right":0.778,"bottom":1},{"left":0.778,"top":0.245,"right":1,"bottom":0.25},{"left":0.778,"top":0.495,"right":1,"bottom":0.5},{"left":0.778,"top":0.747,"right":1,"bottom":0.753}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_enlarge_5_max","e_w":540,"e_h":960},"res":{"w":240,"h":320,"fps":15,"bits":400,"business_id":"linkmic_panel_fix_enlarge_5_min","e_w":240,"e_h":320}}},{"layoutId":"9004_B","micCount":7,"type":"fix","overlay":0,"needSplitLine":1,"view_for_link":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,56],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,78],"insetsForAndroid":[0,130,0,64],"ratio":0.762,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":0.762,"align_greater_ratio":"center","align_less_ratio":"right_center","scale_type":"fill_height"},"layoutData":{"c7":{"1":{"pos":[0.782,0,1,0.165],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"2":{"pos":[0.782,0.169,1,0.332],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"3":{"pos":[0.782,0.337,1,0.499],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"4":{"pos":[0.782,0.504,1,0.666],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"5":{"pos":[0.782,0.671,1,0.833],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"6":{"pos":[0.782,0.838,1,1],"reso_id":"res","business_id":"linkmic_panel_fix_enlarge_7_min","config_id":"layout_linkmic_panel_7"},"7":{"pos":[0,0,0.776,1],"reso_id":"res_main","business_id":"linkmic_panel_fix_enlarge_7_max","config_id":"layout_linkmic_panel_main"}}},"divideDataForAndroid":{"c7":[{"left":0.776,"top":0,"right":0.782,"bottom":1},{"left":0.782,"top":0.165,"right":1,"bottom":0.169},{"left":0.782,"top":0.332,"right":1,"bottom":0.337},{"left":0.782,"top":0.499,"right":1,"bottom":0.504},{"left":0.782,"top":0.666,"right":1,"bottom":0.671},{"left":0.782,"top":0.833,"right":1,"bottom":0.838}]},"resolution":{"res_main":{"w":540,"h":960,"fps":15,"bits":1200,"business_id":"linkmic_panel_fix_enlarge_7_max","e_w":540,"e_h":960},"res":{"w":176,"h":176,"fps":15,"bits":160,"business_id":"linkmic_panel_fix_enlarge_7_min","e_w":176,"e_h":176}}},{"layoutId":"9010","micCount":3,"type":"fix","needSplitLine":1,"view_for_link":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_canvas":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.1,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"view_for_audience":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_pad":{"insets":[0,166,0,306],"insetsForAndroid":[0,130,0,164],"ratio":1.1,"align_greater_ratio":"top_center","align_less_ratio":"top_center","scale_type":"fit"},"view_for_search":{"insets":[0,0,0,0],"insetsForAndroid":[0,0,0,0],"ratio":1.1,"align":"center","align_greater_ratio":"center","align_less_ratio":"center","scale_type":"fit"},"layoutData":{"c3":{"1":{"pos":[0.504,0,1,0.497],"reso_id":"res","business_id":"linkmic_grid_fix_half_3","config_id":"layout_linkmic_grid_4"},"2":{"pos":[0.504,0.503,1,1],"reso_id":"res","business_id":"linkmic_grid_fix_half_3","config_id":"layout_linkmic_grid_4"},"3":{"pos":[0,0,0.499,1],"reso_id":"res_main","business_id":"linkmic_grid_fix_half_3_main","config_id":"layout_linkmic_grid_half"}}},"divideDataForAndroid":{"c3":[{"left":0.499,"top":0,"right":0.504,"bottom":1},{"left":0.504,"top":0.497,"right":1,"bottom":0.503}]},"resolution":{"res":{"w":360,"h":320,"fps":15,"bits":500,"business_id":"linkmic_grid_fix_half_3","e_w":360,"e_h":320},"res_main":{"w":360,"h":640,"fps":15,"bits":800,"business_id":"linkmic_grid_fix_half_3_main","e_w":360,"e_h":640}}}]}');function r(e){return["1005","1013","1001","1011","1011_A","1011_B"].includes(e)}function s(e){return["9006","9003","9008","1016"].includes(e)}function l(e){return(null==e?void 0:e.length)?null==e?void 0:e.reduce((e,t)=>`${e}${e?",":""}${t.uid_str}`,""):""}function d(e){const t={},i=[];return e.forEach(e=>{var n,o,a,r,s,l,d,c,u,p;if(!e.linkmic_id_str)return;const g=null!==(n=e.linkmic_id_str)&&void 0!==n?n:"";t[g]={linkMicId:g,uid:null!==(a=null===(o=e.user)||void 0===o?void 0:o.id_str)&&void 0!==a?a:"",avatarUrl:null!==(d=null===(l=null===(s=null===(r=e.user)||void 0===r?void 0:r.avatar_medium)||void 0===s?void 0:s.url_list)||void 0===l?void 0:l[0])&&void 0!==d?d:"",userName:null!==(u=null===(c=e.user)||void 0===c?void 0:c.nickname)&&void 0!==u?u:"",coin:Number(null!==(p=e.fan_ticket)&&void 0!==p?p:0)},e.user=Object.assign(Object.assign({},e.user),{fan_ticket:e.fan_ticket}),i.push(e.user)}),{linkedMicUsers:i,linkedMicUserMap:t}}function c(e){var t,i,n;let o=null!==(t=null==e?void 0:e.regions)&&void 0!==t?t:[];if(null==e?void 0:e.app_data)try{(null===(i=e.app_data.grids)||void 0===i?void 0:i.length)&&(o=null===(n=e.app_data.grids)||void 0===n?void 0:n.sort((e,t)=>{var i,n;return(null!==(i=e.p)&&void 0!==i?i:0)-(null!==(n=t.p)&&void 0!==n?n:0)}))}catch(e){}return o}function u(e){const{grid:t,contentStyle:i,needFixSize:n}=e,o=t.w*i.width,a=t.h*i.height,r=t.y*i.height;let s=t.x*i.width;return n&&(s-=1),{width:o,height:a,top:Math.floor(r),left:s}}function p(e,t){return Number(e).toFixed(null!=t?t:3)}const g={};let _=null;function m(e,t,i,o){var r,l;return(0,n.__awaiter)(this,void 0,void 0,function*(){if(!e)return[];const d=yield function(){return(0,n.__awaiter)(this,void 0,void 0,function*(){if(!_){const e=a,{layouts:t}=e,i={};t.length&&(t.forEach(e=>{e.layoutId&&(i[e.layoutId]=e)}),e.layoutMap=i),_=e}return _})}(),c=null===(r=d.layoutMap)||void 0===r?void 0:r[e],u=Number(null==c?void 0:c.micCount)>6&&t.length>6;if(!c||"float"===c.type&&!u)return[];if((function(e){return["9007","9005","9002","9001","9001_A","9001_B","9004","9004_A","9004_B","9009","9010"].includes(e)}(e)||s(e))&&!s(e)&&function(e,t,i){let n=-1;e.forEach(e=>{void 0!==e.p&&e.uid_str&&t===e.uid_str&&(n=e.p)}),e.forEach(e=>{void 0!==e.p&&(e.p===n?e.p=i-1:e.p>n&&(e.p-=1))})}(t,i,c.micCount),g[e])return g[e];const p="fix"===c.type?c.layoutData[`c${c.micCount}`]:c.layoutData[`c${t.length}`],m=t[0],h=m.y,v=m.h,f=[],y=m.x,b=m.w,x=p[String(Math.max(null!==(l=m.p)&&void 0!==l?l:0,0)+1)],k=v/(x.pos[3]-x.pos[1]),w=b/(x.pos[2]-x.pos[0]);if(o)for(const e of Object.keys(p)){const t=p[e],{pos:i}=t;f[Number(e)-1]={w:Number(((i[2]-i[0])*w).toFixed(3)),x:Number((i[0]*w+y).toFixed(3)),h:i[3]-i[1],y:i[1]}}else for(const e of Object.keys(p)){const t=p[e],{pos:i}=t;f[Number(e)-1]={w:i[2]-i[0],x:i[0],h:Number(((i[3]-i[1])*k).toFixed(3)),y:Number((i[1]*k+h).toFixed(3))}}return g[e]=f,f})}const h=e=>{const t=e.infos;if(!(null==t?void 0:t.length))return!1;const i=t[0];return Boolean(i.uid&&void 0!==i.volume)},v=(e,t,i)=>{var n,a;if(!e||!t)return;const r=null===(a=null===(n=o.parseUrl(location.href))||void 0===n?void 0:n.query)||void 0===a?void 0:a.seiLog;!r||r!==t&&"all"!==r||("error"===i?console.error(`【${t}】`,e):console.log(`【${t}】`,e))}},74967:(e,t,i)=>{"use strict";i.d(t,{C:()=>r});var n=i(40099),o=i(80049),a=i(24806);function r({handleParentPlayError:e}){const{openH265:t}=(0,o.A)(),i=(0,n.useCallback)((i,n)=>{t&&((0,a.GH)(),null==e||e(Number(i),n))},[t,e]);return{enableH265ErrorDetected:t,onHEVCDecodeError:i}}},75168:(e,t,i)=>{"use strict";i.d(t,{z:()=>d});var n=i(24643),o=i(95074),a=i(28591),r=i(72355),s=i(26930),l=i(83303);const d=function(e){const{appContext:t}=e,{location:i}=(0,r.W6)(),d=`https://${null==t?void 0:t.host}${i.pathname}${i.search}`,c=Object.assign(Object.assign({},(0,o.P)(l.J).value),{"og:url":d});return(0,s.o)(()=>Promise.resolve(),[]),(0,n.jsx)(a.mg,{children:Object.keys(c).map(e=>(0,n.jsx)("meta",{property:e,content:c[e]},e))})};d.deferSSREffects=!0},75226:(e,t,i)=>{"use strict";i.d(t,{P:()=>S});var n=i(72516),o=i(40099),a=i(52957),r=i(80179),s=i(26930),l=i(26225),d=i(71111),c=i(20173),u=i(83692),p=i(2232),g=i(40746),_=i(9991),m=i.n(_),h=i(43134),v=i.n(h),f=i(54133);const y=(0,g.M)({csr:function(){return window.location.search}});const b=(0,l.y)(c.L),x=(0,l.y)(u.$),k=(0,d.atom)(e=>{var t,i,n;const{appContext:o}=e(b),{bizContext:a}=e(x),r=null!==(i=null===(t=null==o?void 0:o.env)||void 0===t?void 0:t.type)&&void 0!==i?i:"prod",s=null!==(n=null==a?void 0:a.canUseQuery)&&void 0!==n&&n,l="ppe"===r||"boe"===r||(0,p.tU)();return{isDebugEnv:l||s,isDebugPanelEnable:l}}),w=(0,a.z)({initState:{loading:!0},rehydrationDataKey:"shared.debug.queryParams",fetchAction:()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var e;return Object.assign(Object.assign({},null!==(e=function(){const e=y(),t=(0,f.parse)(e,{parseNumbers:!0,parseBooleans:!0}),i={};return Object.keys(t).forEach(e=>{if(null!==t[e])if(e.includes(".")){const[n,o]=e.split(".");i[n]=Object.assign(Object.assign({},function(e,t){return v()(e,t)&&m()(e[t])?e[t]:{}}(i,n)),{[o]:t[e]})}else i[e]=t[e]}),i}())&&void 0!==e?e:{}),{loading:!1})})});function S({name:e,defaultValue:t,predicate:i}){const[{atomState:l},d]=(0,a.I)(w),{isDebugEnv:c}=(0,r.useAtomValue)(k);return(0,s.o)(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){return c?d():null}),[c,d]),(0,o.useMemo)(()=>{var n;if(!c)return{value:t,loading:!1};if(!Object.prototype.hasOwnProperty.call(l,e))return{value:t,loading:l.loading};const o=l[e];return null===(n=null==i?void 0:i(o))||void 0===n||n?{value:o,loading:!1}:{value:t,loading:!1}},[l,e,t,i,c])}},75310:(e,t,i)=>{"use strict";i.d(t,{z:()=>s});var n=i(72516),o=i(57794),a=i(17384),r=i(35762);const s=({timeout:e,isEnhanceUSGetCoinsEntranceExperiment:t=!1}={})=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){const i=e=>(console.error(e),{show_external_entry:!1});try{const n=`${(0,a.$_)(4)}${o.$z.RECHARGE_CHECK_EXTERNAL_ENTRY}`,s={page_source:0,is_experiment_group:t},l=r.h.post(n,{query:s}),d=e?new Promise((t,i)=>setTimeout(()=>i(new Error("Timeout Error")),e)):null,{data:c,status_code:u}=yield d?Promise.race([l,d]):l;return!c||u?i(`Check external entry api failed with status_code=${u}`):c}catch(e){return i(`Check show get coins entrance failed ${e}`)}})},75557:(e,t,i)=>{"use strict";i.d(t,{f:()=>n});const n={compact:{ratio:196/260,borderRadius:0},"following-recommend":{ratio:.75,borderRadius:8},"search-video-list":{ratio:229/305,borderRadius:2},explore:{ratio:.75,borderRadius:8}}},75582:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});var n=i(40099),o=i(72355),a=i(80440);function r(e=!1){const{pathname:t}=(0,o.zy)();(0,n.useEffect)(()=>{e&&a.qk.includes(t)||window.scrollTo(0,0)},[e,t])}},75886:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(24643),o=i(40099),a=i(76926);const r={id:"qr-code-wrapper-9e84af22",use:"qr-code-wrapper-9e84af22-usage",viewBox:"0 0 200 200",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" id="qr-code-wrapper-9e84af22"><path fill="#161823" fill-rule="evenodd" d="M189.562 1.164a9.28 9.28 0 0 1 9.279 9.279v11.546a1.031 1.031 0 0 1-2.062 0V10.443a7.217 7.217 0 0 0-7.217-7.217h-11.546a1.031 1.031 0 0 1 0-2.062z" clip-rule="evenodd" /><path fill="#25F4E8" fill-rule="evenodd" d="M188.394 0a9.28 9.28 0 0 1 9.279 9.278v11.547a1.031 1.031 0 0 1-2.062 0V9.278a7.217 7.217 0 0 0-7.217-7.216h-11.546a1.031 1.031 0 0 1 0-2.062z" clip-rule="evenodd" style="mix-blend-mode:multiply" /><path fill="#FE2C55" fill-rule="evenodd" d="M190.722 2.328A9.28 9.28 0 0 1 200 11.606v11.547a1.03 1.03 0 1 1-2.061 0V11.606a7.217 7.217 0 0 0-7.217-7.216h-11.546a1.03 1.03 0 1 1 0-2.062z" clip-rule="evenodd" style="mix-blend-mode:multiply" /><path fill="url(#pattern0)" d="M12.675 12.674h174.656v174.651H12.675z" /><path fill="white" d="M80.931 81.443h38.146v38.144H80.931z" /><path fill="#161823" fill-rule="evenodd" d="M1.163 10.443a9.28 9.28 0 0 1 9.279-9.279h11.546a1.03 1.03 0 1 1 0 2.062H10.442a7.216 7.216 0 0 0-7.217 7.217v11.546a1.031 1.031 0 1 1-2.062 0z" clip-rule="evenodd" /><path fill="#25F4E8" fill-rule="evenodd" d="M0 9.278A9.28 9.28 0 0 1 9.277 0h11.546a1.031 1.031 0 1 1 0 2.062H9.278A7.216 7.216 0 0 0 2.06 9.278v11.547a1.03 1.03 0 0 1-2.062 0z" clip-rule="evenodd" style="mix-blend-mode:multiply" /><path fill="#FE2C55" fill-rule="evenodd" d="M2.327 11.606a9.28 9.28 0 0 1 9.279-9.278h11.546a1.031 1.031 0 1 1 0 2.062H11.606a7.216 7.216 0 0 0-7.217 7.216v11.547a1.03 1.03 0 0 1-2.062 0z" clip-rule="evenodd" style="mix-blend-mode:multiply" /><path fill="#161823" fill-rule="evenodd" d="M198.841 189.558a9.28 9.28 0 0 1-9.279 9.278h-11.546a1.03 1.03 0 1 1 0-2.062h11.546a7.217 7.217 0 0 0 7.217-7.216v-11.547a1.03 1.03 0 0 1 2.062 0z" clip-rule="evenodd" /><path fill="#25F4E8" fill-rule="evenodd" d="M197.673 188.393a9.28 9.28 0 0 1-9.278 9.278h-11.547a1.03 1.03 0 1 1 0-2.061h11.547a7.217 7.217 0 0 0 7.216-7.217v-11.546a1.03 1.03 0 1 1 2.062 0z" clip-rule="evenodd" style="mix-blend-mode:multiply" /><path fill="#FE2C55" fill-rule="evenodd" d="M200.001 190.722a9.28 9.28 0 0 1-9.279 9.278h-11.546a1.032 1.032 0 0 1 0-2.062h11.546a7.217 7.217 0 0 0 7.217-7.216v-11.547a1.03 1.03 0 1 1 2.062 0z" clip-rule="evenodd" style="mix-blend-mode:multiply" /><path fill="#161823" fill-rule="evenodd" d="M10.442 198.836a9.28 9.28 0 0 1-9.279-9.278v-11.546a1.03 1.03 0 1 1 2.062 0v11.546a7.216 7.216 0 0 0 7.217 7.216h11.546a1.031 1.031 0 0 1 0 2.062z" clip-rule="evenodd" /></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("qr-code-wrapper-9e84af22")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#qr-code-wrapper-9e84af22"},void 0)}),void 0)}},75976:(e,t,i)=>{"use strict";i.d(t,{p:()=>u});var n=i(24643),o=i(40099),a=i(97882),r=i(16410);const s=(0,r.default)("div",{target:"etpzwn70"})({width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:1,overflow:"hidden"},"label:DivLiveBlurBg;"),l=(0,r.default)("div",{target:"etpzwn71"})(({loaded:e})=>({width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:3,overflow:"hidden",filter:e?"blur(30px)":"none",transform:"scale3d(1.15, 1.15, 1)"}),"label:DivFilter;"),d=(0,r.default)("div",{target:"etpzwn72"})({width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:2,background:"rgba(0, 0, 0, 0.6)"},"label:DivMask;"),c=(0,r.default)("div",{target:"etpzwn73"})({width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:1},"label:DivCover;"),u=({urls:e})=>{const[t,i]=(0,o.useState)(!1),r=(0,o.useCallback)(()=>{i(!0)},[]);return(0,n.jsx)(s,{children:(0,n.jsxs)(l,{loaded:t,children:[t&&(0,n.jsx)(d,{}),(0,n.jsx)(c,{children:(0,n.jsx)(a.I,{width:"100%",height:"100%",src:e,skeleton:"videoCover",onLoaded:r})})]})})}},76534:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(24643),o=i(40099),a=i(76926);const r={id:"block-055d3c46",use:"block-055d3c46-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="block-055d3c46"><path d="m4.48 3.994 7.526 7.527A5.333 5.333 0 0 0 4.48 3.994m7.056 8-7.53-7.53a5.333 5.333 0 0 0 7.529 7.529M3.765 3.75a6 6 0 1 1 8.47 8.5 6 6 0 0 1-8.47-8.5" clip-rule="evenodd" /></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("block-055d3c46")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#block-055d3c46"},void 0)}),void 0)}},76824:(e,t,i)=>{"use strict";i.d(t,{R:()=>o});var n=i(16410);i(95501);const o=(0,n.default)("img",{target:"ec2xuek1"})(({horizontal:e,mode:t,fetchPriority:i="auto"})=>2!==t&&3!==t&&4!==t?{width:"100%",height:"100%",objectFit:"cover",fetchPriority:i}:{width:"100%",height:"100%",objectFit:e?"contain":"cover",fetchPriority:i},"label:ImgPoster;")},76869:(e,t,i)=>{"use strict";i.d(t,{f:()=>v});var n=i(72516),o=i(24643),a=i(40099),r=i(57615),s=i(65774),l=i(20434),d=i(18650),c=i(55352),u=i(96330),p=i(70199),g=i(4887),_=i(57297),m=i(79054);const h=(0,i(16410).default)("div",{target:"e1so2mfy0"})(({theme:e})=>({display:"flex",flexShrink:"0",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:"0 4px",height:"20px",fontSize:"12px",borderRadius:"4px",backgroundColor:"rgba(255, 255, 255, 0.2)",color:e.colors.ConstTextInverse2,fontFamily:e.fontFamilies.TikTokDisplayFont,fontWeight:e.fontWeights.medium,"&:hover":{textDecoration:"underline"}}),"label:DivButton;"),v=({groupId:e,music:t})=>{const i=(0,a.useRef)(null),[{selectedPlatform:v},{addSong:f}]=(0,p.gV)(),{auth:y}=(0,g.VJ)(),{canFYPTT2DSP:b}=(0,u.LO)(),{isRTL:x}=(0,d.m)(),k=(0,a.useMemo)(()=>e&&t&&v&&b[e],[e,t,v,b]);(0,a.useEffect)(()=>{var i;if(k){const n=null!=v?v:0;s.G.handleShowTttodspMusicReport({group_id:e,enter_from:_.ou.WebHomepageHot,music_id:null==t?void 0:t.id,button_name:null!==(i=_.x1[n])&&void 0!==i?i:"null"})}},[k,e,null==t?void 0:t.id,v]);const w=(0,a.useMemo)(()=>{var e;return _.OC.includes(Number(v))&&null!==(e=_.Zc[Number(v)])&&void 0!==e?e:null},[v]),S=(0,a.useCallback)(o=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var n,a,r,d,u;if(o.stopPropagation(),!t)return;if(!v)return;s.G.handleClickTttodspMusicReport({group_id:e,enter_from:_.ou.WebHomepageHot,music_id:t.id,button_name:null!==(n=_.x1[v])&&void 0!==n?n:"null"}),(0,l.Gu)(o);let{status:p,isUserLoginOnWeb:g=!1}=yield y({platform:Number(v),isSelectedByUser:!0,enterFrom:_.ou.WebHomepageHot,musicId:t.id,groupId:e});p===c.kd.Success&&(p=yield f(t,Number(v),_.ou.WebHomepageHot,g,e)),p===c.kd.Success?null===(a=i.current)||void 0===a||a.show(null!==(d=null===(r=_.je[Number(v)])||void 0===r?void 0:r.add)&&void 0!==d?d:m.X.Error):null===(u=i.current)||void 0===u||u.show(m.X.Error)}),[f,y,e,t,v]);return(0,o.jsx)(o.Fragment,{children:k&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(h,{style:x?{marginLeft:"4px"}:{marginRight:"4px"},onClick:S,children:[(0,o.jsx)(r.ipH,{style:x?{marginLeft:"2px"}:{marginRight:"2px"}}),w]}),(0,o.jsx)(m.p,{ref:i})]})})}},77034:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>me});var n=i(24643),o=i(45027),a=i(40099),r=i(67977),s=i(54622),l=i(27799),d=i(20434),c=i(69857),u=i(90494),p=i(10114),g=i(1404),_=i(65964),m=i(13590),h=i(54133),v=i(73107),f=i(45375),y=i(29098),b=i(85556),x=i(90886),k=i(16410),w=i(72355),S=i(93584),C=i(97882);const j=(0,k.default)("div",{target:"e1ebu80n4"})({display:"flex",justifyContent:"flex-start",alignItems:"center",height:38,cursor:"pointer"},"label:DivUserProfile;"),T=(0,k.default)("div",{target:"e1ebu80n5"})({flex:1},"label:DivProfileInfo;"),I=(0,k.default)(w.N_,{target:"e1ebu80n6"})({display:"block",textDecoration:"none","&:hover":{textDecoration:"none"}},"label:StyledProfileLink;"),P=(0,k.default)("div",{target:"e1ebu80n7"})(({theme:e})=>[(0,S.mp)({direction:e.direction,marginEnd:12})],"label:DivAvatarContainer;"),A=(0,k.default)(C.I,{target:"e1ebu80n8"})(({theme:e})=>[(0,S.mp)({direction:e.direction,marginEnd:12}),{width:40,height:40,borderRadius:"50%",position:"relative"}],"label:StyledProfileAvatar;"),M=(0,k.default)("div",{target:"e1ebu80n9"})(({theme:e})=>({fontSize:16,lineHeight:"22px",color:e.colors.TextPrimary,fontWeight:"bold",fontFamily:e.fontFamilies.TikTokDisplayFont,display:"inline-flex",alignItems:"center",justifyContent:"center",textDecoration:"none"}),"label:DivUniqueId;"),L=(0,k.default)("h2",{target:"e1ebu80n10"})(({theme:e})=>[(0,S.zy)({theme:e,typography:"P2",fontWeight:"bold",fontFamily:"TikTokFont",color:"TextPrimary"}),{lineHeight:"26px",fontSize:"18px",display:"block",overflow:"hidden",textOverflow:"ellipsis"}],"label:H2UniqueId;"),D=(0,k.default)("h3",{target:"e1ebu80n11"})(({theme:e})=>[(0,S.zy)({theme:e,typography:"P3",fontWeight:"normal",fontFamily:"TikTokFont",color:"TextSecondary"}),{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}],"label:H3Nickname;"),O=(0,k.default)("div",{target:"e1ebu80n12"})({display:"flex",alignItems:"center"},"label:DivExtraContainer;"),R=(0,a.memo)(e=>{const{avatarUri:t,uniqueId:i,nickname:o,verified:a,href:r="",avatarCircle:s=!1,loading:l,onMouseEnter:d,onMouseLeave:c}=e,u=(0,n.jsxs)(j,{children:[(0,n.jsx)(A,{src:"",size:48,skeleton:"avatar"}),(0,n.jsxs)(T,{children:[(0,n.jsx)(M,{children:(0,n.jsx)(b.EA.Title,{style:{width:140,height:24}})}),(0,n.jsx)(O,{children:(0,n.jsx)(b.EA.Title,{style:{width:160,height:15}})})]})]}),p=(0,n.jsx)(I,{to:r,target:"tiktok_live_view_window",rel:"noreferrer noopener",children:(0,n.jsxs)(j,{onMouseEnter:d,onMouseLeave:c,children:[(0,n.jsx)(P,{children:(0,n.jsx)(x.i,{size:40,needAnimation:!0,isShowLive:s,src:t})}),(0,n.jsxs)(T,{children:[(0,n.jsxs)(M,{children:[(0,n.jsx)(L,{children:i}),a&&(0,n.jsx)(y.A,{width:14,height:14,style:{margin:"0 4px"}})]}),(0,n.jsx)(O,{children:(0,n.jsx)(D,{children:o})})]})]})});return l?u:p});var E=i(61317);const F=(0,k.default)("div",{target:"e4h3q9j0"})({flex:"0 0 544px",width:"544px",display:"flex",flexDirection:"column",padding:"32px 30px"},"label:DivLiveRoomDescriptionPanel;"),B=(0,k.default)("div",{target:"e4h3q9j1"})({margin:"16px 0",fontStyle:"normal",fontWeight:400,fontSize:16,lineHeight:"24px"},"label:DivLiveRoomDescriptionContent;"),z=(0,a.memo)(({isEnd:e=!1,liveInfo:t,requestId:i})=>{const{commonLiveParams:o}=function({liveInfo:e,isEnd:t,requestId:i}){const n=(0,a.useMemo)(()=>{var t;return{room_id:null==e?void 0:e.roomID,anchor_id:null===(t=null==e?void 0:e.ownerInfo)||void 0===t?void 0:t.id,play_mode:"browser_mode",request_id:i,enter_from_merge:"homepage_hot",live_room_mode:null==e?void 0:e.mode}},[i,e]);return(0,a.useEffect)(()=>{t||(E.YH.handleLiveShow(Object.assign(Object.assign({},n),{enter_method:"live_head"})),E.YH.handleLiveShow(Object.assign(Object.assign({},n),{enter_method:"live_btn"})))},[t]),{commonLiveParams:n}}({requestId:i,liveInfo:t,isEnd:e}),r=(0,a.useCallback)(e=>(0,h.stringifyUrl)({url:(0,f.G2o)({uniqueId:null==t?void 0:t.ownerInfo.uniqueId,secUid:null==t?void 0:t.ownerInfo.secUid}),query:{enter_from_merge:o.enter_from_merge,from_play_mode:o.play_mode,enter_method:e?"live_btn":"live_head"}}),[t,o]),s=(0,a.useCallback)(()=>{(null==t?void 0:t.ownerInfo.uniqueId)&&window.open(r(!0),"tiktok_live_view_window")},[r,t]),d=(0,l.s)(),c=(0,a.useMemo)(()=>e?(0,f.fJR)({uniqueId:null==t?void 0:t.ownerInfo.uniqueId,secUid:null==t?void 0:t.ownerInfo.secUid}):r(!1),[e,null==t?void 0:t.ownerInfo.uniqueId,null==t?void 0:t.ownerInfo.secUid,r]);return(0,n.jsxs)(F,{children:[(0,n.jsx)(R,{avatarUri:t.ownerInfo.avatarThumb,uniqueId:t.ownerInfo.uniqueId,nickname:t.ownerInfo.nickname,href:c,avatarCircle:!e,verified:t.ownerInfo.verified}),(0,n.jsx)(B,{children:t.title}),!e&&(0,n.jsx)(v.y,{buttonTheme:"primary",size:"largeNew",onClick:s,children:d("pm_web_fullpage_entry")})]})});var U=i(10535),N=i(93459),W=i(31614),V=i(95074),H=i(16842),q=i(71225),$=i(72516),G=i(71450),K=i(4126),Y=i(13356),Z=i(57432),J=i.n(Z),X=i(23999),Q=i(26324),ee=i(8536),te=i(26225),ie=i(24443);let ne=class extends G.E{constructor(){super(),this.defaultState={isOpen:!1,url:"",isRedirectToProfilePage:!1,closeable:!1,isBannerActive:!1,bannerEnabled:!1,content:{title:"",desc:"",btnOpenText:""},iframeStyle:{},handleDownload:J(),handleLogin:J(),closeCallback:J(),loginModalShow:!1,maskCloseable:!1,userId:"",groupId:"",enterMethod:void 0,pageType:5,modalType:"",hasCheckedPeriodicLogin:!1,hasCheckedPredictionLogin:!1,hasCheckedGuestMode:!1,showLoginOnLoad:!1,isLoginOnLoadClosed:!1,redirectToHomePage:!1,isGuestMode:!1,isGuestModeUI:!1}}setCloseable(e,t){(0,ie.CP)().setCloseable(t)}setUrl(e,t){(0,ie.CP)().setUrl(t)}setLoginPath(e,t){(0,ie.CP)().setLoginPath(t)}setCloseCallback(e,t){t&&(0,ie.CP)().setCloseCallback(t)}setIsOpen(e,t){(0,ie.CP)().setIsOpen(t)}setContent(e,t){t&&(0,ie.CP)().setContent(t)}setHandleDownload(e,t){t&&(0,ie.CP)().setHandleDownload(t)}setHandleLogin(e,t){t&&(0,ie.CP)().setHandleLogin(t)}setIframeStyle(e,t){(0,ie.CP)().setIframeStyle(t)}setModalType(e,t){(0,ie.CP)().setModalType(t)}setLoginModalShow(e,t){(0,ie.CP)().setLoginModalShow(t)}setMaskCloseable(e,t){(0,ie.CP)().setMaskCloseable(t)}setPageType(e,t){(0,ie.CP)().setPageType(t)}setUserId(e,t){(0,ie.CP)().setUserId(t)}setGroupId(e,t){(0,ie.CP)().setGroupId(t)}setLastGroupId(e,t){(0,ie.CP)().setLastGroupId(t)}setEnterMethod(e,t){(0,ie.CP)().setEnterMethod(t)}setModalImage(e,t){(0,ie.CP)().setModalImage(t)}setPopupType(e,t){(0,ie.CP)().setPopupType(t)}setIsRedirectToProfilePage(e,t){(0,ie.CP)().setIsRedirectToProfilePage(t)}setIsGuestMode(e,t){(0,ie.CP)().setIsGuestMode(t)}setIsGuestModeUI(e,t){(0,ie.CP)().setIsGuestModeUI(t)}setPredictionPayload(e,t){(0,ie.CP)().setPredictionPayload(t)}setIsLinkPhoneOrEmail(e,t){(0,ie.CP)().setIsLinkPhoneOrEmail(t)}openModal(e){return e.pipe((0,ee.Z)(e=>(0,X.of)((0,ie.CP)().openModal(e)).pipe((0,ee.Z)(()=>(0,X.of)(this.noop())))))}setCheckPeriodicLogin(e,t){(0,ie.CP)().setCheckPeriodicLogin(t)}setCheckPredictionLogin(e,t){(0,ie.CP)().setCheckPredictionLogin(t)}setCheckGuestModeLogin(e,t){(0,ie.CP)().setCheckGuestModeLogin(t)}setIsLoginOnLoadClosed(e,t){(0,ie.CP)().setIsLoginOnLoadClosed(t)}setClearShowLoginOnLoad(e){(0,ie.CP)().setClearShowLoginOnLoad()}closeModal(e){return e.pipe((0,ee.Z)(e=>(0,X.of)((0,ie.CP)().closeModal(e)).pipe((0,ee.Z)(()=>(0,X.of)(this.noop())))))}setIsBannerActive(e,t){(0,ie.CP)().setIsBannerActive(t)}};ne.jotaiAtom=ie.JF,(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Boolean]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setCloseable",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,String]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setUrl",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,String]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setLoginPath",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setCloseCallback",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Boolean]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setIsOpen",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setContent",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setHandleDownload",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setHandleLogin",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setIframeStyle",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setModalType",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Boolean]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setLoginModalShow",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setMaskCloseable",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Number]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setPageType",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setUserId",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setGroupId",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setLastGroupId",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setEnterMethod",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setModalImage",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setPopupType",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Boolean]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setIsRedirectToProfilePage",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Boolean]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setIsGuestMode",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Boolean]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setIsGuestModeUI",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,String]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setPredictionPayload",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Boolean]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setIsLinkPhoneOrEmail",null),(0,$.__decorate)([(0,K.Mj)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Q.c]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"openModal",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setCheckPeriodicLogin",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setCheckPredictionLogin",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setCheckGuestModeLogin",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setIsLoginOnLoadClosed",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setClearShowLoginOnLoad",null),(0,$.__decorate)([(0,K.Mj)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Q.c]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"closeModal",null),(0,$.__decorate)([(0,K.h5)(),(0,$.__metadata)("design:type",Function),(0,$.__metadata)("design:paramtypes",[Object,Boolean]),(0,$.__metadata)("design:returntype",void 0)],ne.prototype,"setIsBannerActive",null),ne=(0,$.__decorate)([(0,Y.nV)("LoginModal"),(0,$.__metadata)("design:paramtypes",[])],ne),ie.JF.__SIGI_MODULE__=ne,(0,te.y)(ne);var oe=i(35938),ae=i(76926);const re={id:"logo-icon-5f8ed36e",use:"logo-icon-5f8ed36e-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="logo-icon-5f8ed36e"><g fill-rule="evenodd" clip-path="url(#logo-icon-5f8ed36e_a)" clip-rule="evenodd"><path d="M0 36c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12V12c0-6.628-5.373-12-12-12H12C5.373 0 0 5.372 0 12z" /><path fill="#25F4EE" d="M30.636 6.288A9.2 9.2 0 0 1 30.35 4h-6.97v26.133c0 3.014-2.056 5.457-5.062 5.457s-5.443-2.443-5.443-5.456 2.437-5.457 5.443-5.457c.6 0 .797.098 1.337.278v-7.051c-.562-.079-.754-.12-1.337-.12C11.515 17.785 6 23.315 6 30.135s5.515 12.349 12.318 12.349c6.708 0 12.357-5.375 12.51-12.062V17.049c2.528 1.733 5.395 2.746 8.689 2.746V13.19c-4.275 0-7.866-2.933-8.88-6.902z" /><path fill="#fff" d="M33.12 8.77a9.2 9.2 0 0 1-.287-2.288h-6.971v26.134c0 3.014-2.055 5.456-5.061 5.456s-5.443-2.442-5.443-5.456a5.45 5.45 0 0 1 5.443-5.456c.6 0 .797.097 1.337.277v-7.05c-.562-.08-.754-.12-1.337-.12-6.803 0-12.318 5.529-12.318 12.349S13.998 44.965 20.8 44.965c6.707 0 12.357-5.374 12.51-12.062V19.531c2.528 1.733 5.395 2.747 8.689 2.747v-6.606c-4.275 0-7.866-2.933-8.88-6.901z" /><path fill="#FE2C55" d="M15.92 35.033a5.45 5.45 0 0 1-.562-2.416c0-3.014 2.437-5.457 5.443-5.457.523 0 .739.074 1.143.212l.194.066v-7.051l-.21-.03c-.411-.059-.623-.09-1.127-.09q-.58 0-1.146.053v4.635l-.194-.066c-.404-.138-.62-.212-1.143-.212-3.006 0-5.443 2.443-5.443 5.457a5.46 5.46 0 0 0 3.045 4.9zm-4.972 4.997a12.29 12.29 0 0 0 9.853 4.935c6.707 0 12.357-5.374 12.51-12.061V19.532c2.528 1.733 5.395 2.746 8.689 2.746v-6.605a9.2 9.2 0 0 1-2.483-.341v4.463c-3.294 0-6.161-1.013-8.69-2.746v13.372c-.152 6.688-5.802 12.062-12.509 12.062-2.763 0-5.314-.912-7.37-2.453m23.455-28.401a9.2 9.2 0 0 1-3.715-5.146h2.145a9.15 9.15 0 0 0 1.57 5.146" /></g><defs><clipPath id="logo-icon-5f8ed36e_a"><rect width="48" height="48" fill="#fff" rx="10.5" /></clipPath></defs></symbol>'};function se(e){const t=(0,a.useContext)(ae.X);return(0,a.useLayoutEffect)(()=>(t.add(re),()=>{t.remove("logo-icon-5f8ed36e")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#logo-icon-5f8ed36e"},void 0)}),void 0)}const le=(0,k.default)("div",{target:"e1g3y02w0"})(({theme:{colors:e}})=>({position:"fixed",left:0,top:0,right:0,bottom:0,background:e.BGPrimary,zIndex:3e3,display:"flex",flexDirection:"row"}),"label:DivBrowserModeContainer;"),de=(0,k.default)("div",{target:"e1g3y02w1"})({position:"absolute",width:"10%",height:"10%",filter:"blur(2px)",left:"50%",top:"50%",transform:"scale(11)",opacity:"0.3",background:"center no-repeat",backgroundSize:"cover"},"label:DivBlurBackground;"),ce=(0,k.default)("svg",{target:"e1g3y02w2"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",pointerEvents:"none"},"label:SvgPlayIcon;");ce.defaultProps=Object.assign(Object.assign({},ce.defaultProps),{"data-e2e":"browse-video-play"});const ue=(0,k.default)("button",{target:"e1g3y02w3"})(({theme:{colors:e}})=>({position:"absolute",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",width:"40px",height:"40px",background:e.ConstLineInverse,borderRadius:"50%",cursor:"pointer",border:"none",outline:"none",fontsize:0,WebkitAppRegion:"no-drag"}),({theme:e,isUiOptimise:t})=>(0,S.oO)({theme:e,isUiOptimise:t}),"label:ButtonBasicButtonContainer;"),pe=(0,k.default)(ue,{target:"e1g3y02w4"})(({theme:e,isUiOptimise:t})=>({top:"20px",transition:"opacity .3s",backgroundColor:t?"":e.colors.ConstBGContainer,":hover":{opacity:.7},":active":{opacity:.5}}),({theme:{direction:e}})=>(0,S.mp)({direction:e,start:"20px"}),"label:StyledCloseIconContainer;");pe.defaultProps=Object.assign(Object.assign({},pe.defaultProps),{"data-e2e":"browse-close"});const ge=(0,k.default)(se,{target:"e1g3y02w5"})({position:"absolute",zIndex:1,top:"20px",borderRadius:"100px",fill:"black"},({theme:{direction:e}})=>(0,S.mp)({direction:e,start:"84px"}),"label:StyledLogo;");ge.defaultProps=Object.assign(Object.assign({},ge.defaultProps),{"data-e2e":"browse-logo"});const _e=(0,k.default)("div",{target:"e1g3y02w6"})(({theme:{colors:e}})=>({flex:"1 0 600px",background:e.ConstBGInverse,position:"relative",overflow:"hidden"}),"label:DivPlayerContainer;"),me=(0,a.memo)(function({itemListKey:e,currentIndex:t,onCloseBrowserMode:i,onNextVideo:v,onPrevVideo:y,zIndex:b=3e3}){const{handlePlayErrorReport:x}=(0,W.Fb)(),k=(0,U.b)(),{currentId:w="",listLength:S}=(0,c.L$)((0,u.Ky)({itemListKey:e,currentIndex:t})),[C,j]=(0,a.useState)(!1),[T,I]=(0,a.useState)(!1),[P,A]=(0,a.useState)(!1),M=t<S-1,L=(0,l.s)();(0,p.Ux)(2);const D=(0,a.useCallback)(()=>{A(!0)},[]),O=(0,a.useCallback)(()=>{j(!C)},[C]),R=(0,a.useCallback)(()=>{v()},[v]),E=(0,a.useCallback)(()=>{y()},[y]),F=(0,a.useCallback)(()=>{i()},[i]),B=(0,u.FQ)({handleNext:R,handlePrev:E,hasNext:M,currentIndex:t,itemListKey:e}),{liveRoomInfo:$,requestId:G}=(0,u.jd)({itemListKey:e,currentIndex:t}),K=(0,o.w)(g.O);!function({liveRoomInfo:e,onCloseBrowserMode:t}){(0,a.useEffect)(()=>{if(!e)return;const t=(0,h.stringifyUrl)({url:(0,f.G2o)({uniqueId:e.ownerInfo.uniqueId}),query:{live_room_mode:null==e?void 0:e.mode,play_mode:"browser_mode",enter_from_merge:"homepage_hot",enter_method:"live_cell"}});window.history.replaceState(window.history.state,"live-card",t)},[e]),(0,a.useEffect)(()=>{const e=()=>{t({fromPopState:!0})};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[])}({liveRoomInfo:$,onCloseBrowserMode:i}),function({currentId:e,togglePlay:t,handleNext:i,handlePrev:n,handleClose:o}){const r=(0,a.useRef)(!0),s=(0,q.i3)(),l=(0,q.S4)(),d=(0,a.useRef)(-1),c=(0,V.P)(ne,{selector:e=>e.isOpen,dependencies:[]}),u=(0,a.useCallback)(()=>{oe.lA.setItem("muted",!s),l.setMute(!s)},[l,s]),p=(0,a.useCallback)(e=>{if(c)return;const a=new Map([[27,()=>{o()}],[40,()=>{i()}],[32,()=>{t()}],[38,()=>{n()}],[77,()=>{u()}]]);if(a.has(e.keyCode)){e.preventDefault(),e.stopPropagation();const t=a.get(e.keyCode);return null==t||t(),!1}},[c,o,n,t,i,u]),g=(0,a.useRef)(p);g.current=p,(0,a.useEffect)(()=>{const e=e=>g.current(e);return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);const _=(0,H._g)(e=>{e.stopPropagation(),d.current&&clearTimeout(d.current),d.current=window.setTimeout(()=>{if(r.current)return;const t=-e.deltaY||-e.detail;Math.max(-1,Math.min(1,t))<0?i():n(),r.current=!1},100)},[e,i,n],20);(0,a.useEffect)(()=>(document.addEventListener("wheel",_),()=>{document.removeEventListener("wheel",_)}),[_]),(0,a.useEffect)(()=>{setTimeout(()=>{r.current=!1},2e3)},[])}({currentId:w,togglePlay:O,handleNext:R,handlePrev:E,handleClose:F});const{showModal:Y,hideModal:Z}=(0,_.g9)();(0,a.useEffect)(()=>(Y(!0),j(!0),()=>{Z(),j(!1)}),[Z,Y]);const J=(0,a.useCallback)(()=>{I(!0)},[]),X=(0,a.useCallback)(()=>{D()},[D]);(0,a.useEffect)(()=>{P&&w&&K.deleteLiveItem(w)},[P,w,K]),(0,a.useEffect)(()=>{$||i()},[$,i]);const Q=(0,N.t4)();return(0,n.jsx)(r.Ay,{returnFocus:!0,children:(0,n.jsxs)(le,{style:{zIndex:b},children:[(0,n.jsxs)(_e,{children:[(0,n.jsx)(de,{style:{backgroundImage:`url(${null==$?void 0:$.coverUrl})`}}),(0,n.jsx)(m.C,{liveInfo:$,requestId:G,loggerConfig:Q,onLiveEndTimeoutStart:J,onLiveEndTimeoutEnd:X,onPlayError:x,isBrowserMode:!0,active:C,autoplay:!0,volumeProps:k}),(0,n.jsx)(pe,{role:"button","aria-label":L("Close"),onClick:F,onMouseDown:d.dG,children:(0,n.jsx)(s.A,{width:18,height:18,fill:"#fff"})}),(0,n.jsx)(ge,{width:40,height:40}),B]}),$&&(0,n.jsx)(z,{requestId:G,isEnd:T,liveInfo:$})]})})})},77293:(e,t,i)=>{"use strict";i.d(t,{Cp:()=>pe,P4:()=>ce,Kd:()=>ge});var n=i(72516),o=i(40099),a=i(93869),r=i(28334),s=i(58448),l=i(92396),d=i(89768),c=i(42186),u=i(76031),p=i(61198),g=i(70589),_=i(95074),m=i(45027),h=i(34778),v=i(47323),f=i(18499),y=i(300),b=i.n(y),x=i(78755),k=i(43703),w=i(12391),S=i(16356),C=i(39301),j=i(71111),T=i(64388),I=i(35762),P=i(17384);function A(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){return I.h.get("/api/notice/multi/",{query:e,baseUrlType:2})})}function M(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){return I.h.get("/api/inbox/notice_list/",{query:e,baseUrlType:2})})}var L=i(35308);const D=1,O={has_more:1,max_time:0,min_time:0,notice_list:[],loading:!1},R={diggList:{users:[],loading:!1,has_more:1,max_cursor:0,min_cursor:0},activeSystemNoticeGroup:null,noticeList:O,followRequest:{has_more:!1,min_time:0,total:0,users:[],loading:!1},latestSystemNotice:null},E=(0,j.atom)(R),F=(0,j.atom)(e=>Object.assign(Object.assign({},e(E)),{inboxTabShowing:e(w.eh).isShowing,activeGroup:e(w.eh).activeGroup}),(e,t)=>{t(E,R)});let B;F.debugLabel="noticeAtom";const{useAtomService:z,useServiceState:U,useServiceDispatchers:N,getStaticApi:W}=(0,T.i)(F,(e,t)=>({setInboxTabShowing(e){(0,w.Hp)().setIsShowing(e)},setActiveGroup(e){(0,w.Hp)().setActiveGroup(e)},setActiveSystemNoticeGroup(e){t(E,t=>Object.assign(Object.assign({},t),{activeSystemNoticeGroup:e}))},setNoticeList(e){t(E,t=>Object.assign(Object.assign({},t),{noticeList:e}))},setNoticeListLoading(e){t(E,t=>Object.assign(Object.assign({},t),{noticeList:Object.assign(Object.assign({},t.noticeList),{loading:e})}))},setLatestSystemNotice(e){t(E,t=>Object.assign(Object.assign({},t),{latestSystemNotice:e}))},changeActiveGroup({group:e}){return(0,n.__awaiter)(this,void 0,void 0,function*(){B||(B=x.b.getInstance()),B.handleChangeTab({to_tab_name:v.zv[e]}),(0,f.unstable_batchedUpdates)(()=>{this.setActiveGroup(e),this.setNoticeList(O)});const t=[this.fetchNoticeData()];500===e&&t.push(this.fetchLatestSystemNotice()),yield Promise.all(t)})},changeActiveSystemNoticeGroup(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){B||(B=x.b.getInstance()),B.handleChangeSystemNotificationTab({to_tab_name:v.Nr[e]}),(0,f.unstable_batchedUpdates)(()=>{this.setActiveSystemNoticeGroup(e),this.setNoticeList(O)}),yield this.fetchSystemNoticeData()})},fetchNoticeData(t){var i;return(0,n.__awaiter)(this,void 0,void 0,function*(){const{activeGroup:n,noticeList:o}=e(F),{fetchLatest:a,markAsRead:r=D}=null!=t?t:{};if(r&&(0,u.wU)().clearActivityNotifUnreadCount(),o.loading||!a&&!o.has_more)return;const s={count:20,is_mark_read:r?1:0,group:n,max_time:a?0:o.max_time,min_time:a?o.max_time:o.min_time};this.setNoticeListLoading(!0);try{const e=yield A({aid:1988,group_list:JSON.stringify([s])});if((0,k.G)(e.status_code,[0]),0===e.status_code){const{notice_lists:t}=e;if(null==t?void 0:t.length){const{has_more:e,max_time:n,min_time:r,notice_list:s=[]}=t[0];s.forEach(e=>{(0,L.mX)(e)});const l=b()([...null!==(i=o.notice_list)&&void 0!==i?i:[],...s].sort((e,t)=>Number(BigInt(t.create_time)-BigInt(e.create_time))),e=>{var t;return null!==(t=e.nid_str)&&void 0!==t?t:e.nid});(0,f.unstable_batchedUpdates)(()=>{(0,S.Gp)().multiSetUser(this.getNoticeUsers(s)),a?this.setNoticeList({has_more:o.has_more,max_time:l[0].create_time,min_time:o.min_time,notice_list:l,loading:!1}):this.setNoticeList({has_more:e,max_time:n,min_time:r,notice_list:l,loading:!1})})}else this.setNoticeList({has_more:0,min_time:o.min_time,max_time:o.max_time,notice_list:o.notice_list,loading:!1})}}catch(e){this.setNoticeListLoading(!1)}})},markAsRead(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){const t={count:1,is_mark_read:1,group:500,max_time:Number(e.create_time)+.001,min_time:e.create_time},i=(0,u.wU)();try{i.updateUnreadCount(e.type,"read");const{status_code:n}=yield A({aid:1988,group_list:JSON.stringify([t])});(0,k.G)(n,[0]),0!==n&&i.updateUnreadCount(e.type,"unread")}catch(e){}})},fetchSystemNoticeData(){var t;return(0,n.__awaiter)(this,void 0,void 0,function*(){const{activeSystemNoticeGroup:i,noticeList:n}=e(F);if((0,u.wU)().clearSystemNotifUnreadCount(),!n.loading&&n.has_more&&null!=i){this.setNoticeListLoading(!0);try{const e=yield M({aid:1988,group_list:JSON.stringify([{count:20,is_mark_read:D,group:i,max_time:n.max_time,min_time:n.min_time}])});if(0!==e.status_code)return void this.setNoticeListLoading(!1);const{notice_lists:o}=e;if(null==o?void 0:o.length){const{has_more:e,max_time:i,min_time:a,notice_list:r=[]}=o[0];this.setNoticeList({has_more:e?1:0,max_time:i,min_time:a,notice_list:[...null!==(t=n.notice_list)&&void 0!==t?t:[],...r],loading:!1})}else this.setNoticeList({has_more:0,min_time:n.min_time,max_time:n.max_time,notice_list:n.notice_list,loading:!1})}catch(e){}this.setNoticeListLoading(!1)}})},fetchLatestSystemNotice(){var e,t;return(0,n.__awaiter)(this,void 0,void 0,function*(){const i=yield M({aid:1988,group_list:JSON.stringify([{count:1,is_mark_read:0,group:661,max_time:0,min_time:0}])});if(0!==i.status_code)return;const{notice_lists:n}=i;(null==n?void 0:n.length)?this.setLatestSystemNotice(null!==(t=null===(e=n[0].notice_list)||void 0===e?void 0:e[0])&&void 0!==t?t:null):this.setLatestSystemNotice(null)})},setDiggList(e){t(E,t=>Object.assign(Object.assign({},t),{diggList:Object.assign(Object.assign({},t.diggList),{users:e})}))},setDiggListLoading(e){t(E,t=>Object.assign(Object.assign({},t),{diggList:Object.assign(Object.assign({},t.diggList),{loading:e})}))},fetchDiggListData({ref_id:t}){var i;return(0,n.__awaiter)(this,void 0,void 0,function*(){const{diggList:o}=e(F);if(o.loading||!o.has_more)return;const a={count:20,max_cursor:o.max_cursor,min_cursor:o.min_cursor,digg_type:1,ref_id:t,aid:1988};this.setDiggListLoading(!0);const r=yield function(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){return I.h.get("/api/notice/digg/list/",{query:e,baseUrlType:2})})}(a),s=(null!==(i=r.digg_infos)&&void 0!==i?i:[]).map(({simple_user:e})=>(0,C.bg)(e));(0,f.unstable_batchedUpdates)(()=>{(0,S.Gp)().multiSetUser(s),this.setDiggList(s.map(({uniqueId:e})=>e)),this.setDiggListLoading(!1)})})},setNoticeFollowRequest(e){t(E,t=>Object.assign(Object.assign({},t),{followRequest:e}))},setNoticeFollowRequestLoading(e){t(E,t=>Object.assign(Object.assign({},t),{followRequest:Object.assign(Object.assign({},t.followRequest),{loading:e})}))},fetchNoticeFollowRequest({uid:t,refresh:i}){var o;return(0,n.__awaiter)(this,void 0,void 0,function*(){const{followRequest:a}=e(F),r={user_id:t,count:20,max_time:i?0:a.min_time,aid:1988};this.setNoticeFollowRequestLoading(!0);try{const e=yield function(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){return I.h.get("/api/user/following/request/list/",{query:e,baseUrlType:2})})}(r);if((0,k.G)(e.status_code,[0]),0===e.status_code){const t=(null!==(o=e.request_users)&&void 0!==o?o:[]).map(e=>(0,C.bg)(e)),n=t.map(({uniqueId:e})=>e);(0,f.unstable_batchedUpdates)(()=>{(0,S.Gp)().multiSetUser(t),this.setNoticeFollowRequest({has_more:e.has_more,loading:!1,min_time:e.min_time,total:e.total,users:i?n:a.users.concat(n),from:"fetchNoticeFollowRequest"})})}}catch(e){this.setNoticeFollowRequestLoading(!1)}})},setNoticeFollowRequestReply(i){const{followRequest:n}=e(F),o=n.users.indexOf(i);o>=0&&t(E,e=>{let t=e.followRequest.total;return"string"==typeof t?t=t.replace(/(.+?)(\d0*$)/,(e,t,i)=>t+String(Number(i)-1)):t-=1,Object.assign(Object.assign({},e),{followRequest:Object.assign(Object.assign({},e.followRequest),{users:e.followRequest.users.filter((e,t)=>t!==o),total:t})})})},postFollowReply(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){const{approveOrReject:t,uniqueId:i,uid:o=""}=e;B||(B=x.b.getInstance()),B.handleFollowRequestAction({action:0===t?"accept":"delete",to_user_id:o});const a=0===t?function(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){return I.h.post("/api/commit/follow/request/approve/",{query:{from_user_id:e,from:33},headers:{[P.nk]:I.h.csrfToken}})})}(o):function(e){return(0,n.__awaiter)(this,void 0,void 0,function*(){return I.h.post("/api/commit/follow/request/reject/",{query:{from_user_id:e,from:33},headers:{[P.nk]:I.h.csrfToken}})})}(o);yield a,this.setNoticeFollowRequestReply(i)})},getNoticeUsers:e=>e.reduce((e,t)=>{var i,n,o,a;return L.BS.isFollowNotice(t)&&e.push((0,C.bg)(t.follow.from_user)),L.BS.isFollowApprovalNotice(t)&&e.push((0,C.bg)(t.follow_request_approve.from_user)),L.BS.isLikeNotice(t)&&(null===(i=t.digg.from_user)||void 0===i||i.forEach(t=>e.push((0,C.bg)(t)))),L.BS.isCommentNotice(t)&&e.push((0,C.bg)(t.comment.comment.user)),L.BS.isDuetNotice(t)&&e.push((0,C.bg)(t.duet.aweme.author)),L.BS.isMentionNotice(t)&&t.at.user_info&&e.push((0,C.bg)(t.at.user_info)),L.BS.isRepostInboxNotice(t)&&(null===(a=null===(o=null===(n=t.template_notice.notice)||void 0===n?void 0:n.title)||void 0===o?void 0:o.from_users)||void 0===a||a.forEach(t=>e.push((0,C.bg)(Object.assign({short_id:"",gender:0,birthday:""},t))))),e},[])}));var V=i(71450),H=i(4126),q=i(13356),$=i(23999),G=i(46657),K=i(26324),Y=i(95719),Z=i(8536),J=i(24451),X=i(72916),Q=i(74690),ee=i(80339),te=i(35572),ie=i(8453),ne=i(55867),oe=i(60267),ae=i(7672),re=i(44094);let se=class{constructor(e){this.fetch=e}getNoticeGroupData(e){return this.fetch.get("/api/notice/multi/",{query:e,baseUrlType:2})}getSystemNoticeGroupData(e){return this.fetch.get("/api/inbox/notice_list/",{query:e,baseUrlType:2})}getNoticeDiggList(e){return this.fetch.get("/api/notice/digg/list/",{query:e,baseUrlType:2})}getNoticeFollowRequestList(e){return this.fetch.get("/api/user/following/request/list/",{query:e,baseUrlType:2})}postFollowReplyApprove(e){return this.fetch.post("/api/commit/follow/request/approve/",{query:{from_user_id:e,from:33},headers:{[P.nk]:this.fetch.csrfToken}})}postFollowReplyReject(e){return this.fetch.post("/api/commit/follow/request/reject/",{query:{from_user_id:e,from:33},headers:{[P.nk]:this.fetch.csrfToken}})}};se=(0,n.__decorate)([(0,ae._)(),(0,n.__metadata)("design:paramtypes",[re.p])],se);let le=class extends V.E{constructor(e,t,i){super(),this.report=e,this.service=t,this.user=i,this.defaultNoticeList={has_more:1,max_time:0,min_time:0,notice_list:[],loading:!1},this.defaultFollowRequest={has_more:!1,min_time:0,total:0,users:[],loading:!1},this.defaultState={diggList:{users:[],loading:!1,has_more:1,max_cursor:0,min_cursor:0},inboxTabShowing:!1,activeGroup:500,activeSystemNoticeGroup:null,noticeList:this.defaultNoticeList,followRequest:this.defaultFollowRequest,latestSystemNotice:null}}setInboxTabShowing(e,t){e.inboxTabShowing=t}setActiveGroup(e,t){e.activeGroup=t}setActiveSystemNoticeGroup(e,t){e.activeSystemNoticeGroup=t}setNoticeList(e,t){e.noticeList=t}setNoticeListLoading(e,t){e.noticeList.loading=t}setLatestSystemNotice(e,t){e.latestSystemNotice=t}changeActiveGroup(e){return e.pipe((0,Y.M)(({group:e})=>{this.report.handleChangeTab({to_tab_name:v.zv[e]})}),(0,Z.Z)(({group:e})=>(0,$.of)(this.getActions().setActiveGroup(e),this.getActions().setNoticeList(this.defaultNoticeList),this.getActions().fetchNoticeData(),500===e?this.getActions().fetchLatestSystemNotice():this.noop())))}changeActiveSystemNoticeGroup(e){return e.pipe((0,Y.M)(e=>{this.report.handleChangeSystemNotificationTab({to_tab_name:v.Nr[e]})}),(0,Z.Z)(e=>(0,$.of)(this.getActions().setActiveSystemNoticeGroup(e),this.getActions().setNoticeList(this.defaultNoticeList),this.getActions().fetchSystemNoticeData())))}fetchNoticeData(e){return e.pipe((0,J.E)(this.state$),(0,X.n)(([e,{activeGroup:t,noticeList:i}])=>{if(i.loading||!i.has_more)return G.w;const n={count:20,is_mark_read:1,group:t,max_time:i.max_time,min_time:i.min_time};return this.service.getNoticeGroupData({aid:1988,group_list:JSON.stringify([n])}).pipe((0,Y.M)(e=>{(0,k.G)(e.status_code,[0])}),(0,Z.Z)(e=>{var t;if(0===e.status_code){const{notice_lists:n}=e;if(!(null==n?void 0:n.length))return(0,$.of)(this.getActions().setNoticeList({has_more:0,min_time:i.min_time,max_time:i.max_time,notice_list:i.notice_list,loading:!1}));const{has_more:o,max_time:a,min_time:r,notice_list:s=[]}=n[0];return s.forEach(e=>{(0,L.mX)(e)}),(0,$.of)(this.user.getActions().multiSetUser(this.getNoticeUsers(s)),this.getActions().setNoticeList({has_more:o,max_time:a,min_time:r,notice_list:[...null!==(t=i.notice_list)&&void 0!==t?t:[],...s],loading:!1}))}return(0,$.of)(this.noop())}),(0,Q.Z)(this.getActions().setNoticeListLoading(!0)),(0,ee.q)(this.getActions().setNoticeListLoading(!1)),(0,ne.n)({}))}))}fetchSystemNoticeData(e){return e.pipe((0,J.E)(this.state$),(0,X.n)(([e,{activeSystemNoticeGroup:t,noticeList:i}])=>i.loading||!i.has_more||null==t?G.w:this.service.getSystemNoticeGroupData({aid:1988,group_list:JSON.stringify([{count:20,is_mark_read:1,group:t,max_time:i.max_time,min_time:i.min_time}])}).pipe((0,Z.Z)(e=>{var t;if(0!==e.status_code)return(0,$.of)(this.noop());const{notice_lists:n}=e;if(!(null==n?void 0:n.length))return(0,$.of)(this.getActions().setNoticeList({has_more:0,min_time:i.min_time,max_time:i.max_time,notice_list:i.notice_list,loading:!1}));const{has_more:o,max_time:a,min_time:r,notice_list:s=[]}=n[0];return(0,$.of)(this.getActions().setNoticeList({has_more:o?1:0,max_time:a,min_time:r,notice_list:[...null!==(t=i.notice_list)&&void 0!==t?t:[],...s],loading:!1}))}),(0,Q.Z)(this.getActions().setNoticeListLoading(!0)),(0,ee.q)(this.getActions().setNoticeListLoading(!1)),(0,ne.n)({}))))}fetchLatestSystemNotice(e){return e.pipe((0,X.n)(e=>this.service.getSystemNoticeGroupData({aid:1988,group_list:JSON.stringify([{count:1,is_mark_read:0,group:661,max_time:0,min_time:0}])}).pipe((0,Z.Z)(e=>{var t,i;if(0!==e.status_code)return(0,$.of)(this.noop());const{notice_lists:n}=e;return(null==n?void 0:n.length)?(0,$.of)(this.getActions().setLatestSystemNotice(null!==(i=null===(t=n[0].notice_list)||void 0===t?void 0:t[0])&&void 0!==i?i:null)):(0,$.of)(this.getActions().setLatestSystemNotice(null))}))))}setDiggList(e,t){e.diggList.users=t}setDiggListLoading(e,t){e.diggList.loading=t}fetchDiggListData(e){return e.pipe((0,J.E)(this.state$),(0,te.p)(([{ref_id:e},{diggList:t}])=>{if(t.loading||!t.has_more)return G.w;const i={count:20,max_cursor:t.max_cursor,min_cursor:t.min_cursor,digg_type:1,ref_id:e,aid:1988};return this.service.getNoticeDiggList(i).pipe((0,Z.Z)(e=>{var t;const i=(null!==(t=e.digg_infos)&&void 0!==t?t:[]).map(({simple_user:e})=>(0,C.bg)(e));return(0,$.of)(this.user.getActions().multiSetUser(i),this.getActions().setDiggList(i.map(({uniqueId:e})=>e)))}),(0,Q.Z)(this.getActions().setDiggListLoading(!0)),(0,ee.q)(this.getActions().setDiggListLoading(!1)))}))}setNoticeFollowRequest(e,t){e.followRequest=t}setNoticeFollowRequestLoading(e,t){e.followRequest.loading=t}fetchNoticeFollowRequest(e){return e.pipe((0,J.E)(this.state$),(0,Z.Z)(([{uid:e,refresh:t},{followRequest:i}])=>{const n={user_id:e,count:20,max_time:t?0:i.min_time,aid:1988};return this.service.getNoticeFollowRequestList(n).pipe((0,Y.M)(e=>{(0,k.G)(e.status_code,[0])}),(0,Z.Z)(e=>{var n;if(0===e.status_code){const o=(null!==(n=e.request_users)&&void 0!==n?n:[]).map(e=>(0,C.bg)(e)),a=o.map(({uniqueId:e})=>e);return(0,$.of)(this.user.getActions().multiSetUser(o),this.getActions().setNoticeFollowRequest({has_more:e.has_more,loading:!1,min_time:e.min_time,total:e.total,users:t?a:i.users.concat(a),from:"fetchNoticeFollowRequest"}))}return(0,$.of)(this.noop())}),(0,Q.Z)(this.getActions().setNoticeFollowRequestLoading(!0)),(0,ee.q)(this.getActions().setNoticeFollowRequestLoading(!1)),(0,ne.n)({}))}))}setNoticeFollowRequestReply(e,t){const i=e.followRequest.users.indexOf(t);if(i>=0){e.followRequest.users.splice(i,1);const{total:t}=e.followRequest;e.followRequest.total="string"==typeof t?t.replace(/(.+?)(\d0*$)/,(e,t,i)=>t+String(Number(i)-1)):t-1}}postFollowReply(e){return e.pipe((0,Y.M)(({approveOrReject:e,uid:t=""})=>{this.report.handleFollowRequestAction({action:0===e?"accept":"delete",to_user_id:t})}),(0,Z.Z)(({approveOrReject:e,uniqueId:t,uid:i=""})=>(0===e?this.service.postFollowReplyApprove(i):this.service.postFollowReplyReject(i)).pipe((0,ie.u)(this.getActions().setNoticeFollowRequestReply(t)))))}getNoticeUsers(e){return e.reduce((e,t)=>{var i,n,o,a;return L.BS.isFollowNotice(t)&&e.push((0,C.bg)(t.follow.from_user)),L.BS.isLikeNotice(t)&&(null===(i=t.digg.from_user)||void 0===i||i.forEach(t=>e.push((0,C.bg)(t)))),L.BS.isCommentNotice(t)&&e.push((0,C.bg)(t.comment.comment.user)),L.BS.isDuetNotice(t)&&e.push((0,C.bg)(t.duet.aweme.author)),L.BS.isMentionNotice(t)&&t.at.user_info&&e.push((0,C.bg)(t.at.user_info)),L.BS.isRepostInboxNotice(t)&&(null===(a=null===(o=null===(n=t.template_notice.notice)||void 0===n?void 0:n.title)||void 0===o?void 0:o.from_users)||void 0===a||a.forEach(t=>e.push((0,C.bg)(Object.assign({short_id:"",gender:0,birthday:""},t))))),e},[])}};(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setInboxTabShowing",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setActiveGroup",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setActiveSystemNoticeGroup",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setNoticeList",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setNoticeListLoading",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setLatestSystemNotice",null),(0,n.__decorate)([(0,H.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[K.c]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"changeActiveGroup",null),(0,n.__decorate)([(0,H.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[K.c]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"changeActiveSystemNoticeGroup",null),(0,n.__decorate)([(0,H.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[K.c]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"fetchNoticeData",null),(0,n.__decorate)([(0,H.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[K.c]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"fetchSystemNoticeData",null),(0,n.__decorate)([(0,H.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[K.c]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"fetchLatestSystemNotice",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setDiggList",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setDiggListLoading",null),(0,n.__decorate)([(0,H.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[K.c]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"fetchDiggListData",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setNoticeFollowRequest",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setNoticeFollowRequestLoading",null),(0,n.__decorate)([(0,H.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[K.c]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"fetchNoticeFollowRequest",null),(0,n.__decorate)([(0,H.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"setNoticeFollowRequestReply",null),(0,n.__decorate)([(0,H.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[K.c]),(0,n.__metadata)("design:returntype",void 0)],le.prototype,"postFollowReply",null),le=(0,n.__decorate)([(0,q.nV)("Notice"),(0,n.__metadata)("design:paramtypes",[x.b,se,oe.U])],le);var de=i(20434);const{useSigiOrJotaiService:ce,useSigiOrJotaiState:ue,useSigiOrJotaiDispatchers:pe}=function(e,t,i){function n(n,a,r){const s=e(),l=i.useServiceState(n,null!=a?a:p.bN),d=(0,_.P)(t,{selector:n,dependencies:null!=r?r:[]});return(0,o.useMemo)(()=>s?l:d,[s,l,d])}function a(){const n=e(),a=i.useServiceDispatchers(),r=(0,m.w)(t);return(0,o.useMemo)(()=>n?a:r,[n,a,r])}return{useSigiOrJotaiService:function(e,t,i){const r=n(e,t,i),s=a();return(0,o.useMemo)(()=>[r,s],[r,s])},useSigiOrJotaiState:n,useSigiOrJotaiDispatchers:a}}(()=>(0,g.$4)().isInAppNotificationEnabled,le,{useServiceState:U,useServiceDispatchers:N});function ge(e=1e4){const{layoutType:t}=(0,g.mf)(),i=(0,o.useRef)(null),_=(0,o.useRef)(!1),m=(0,o.useRef)(!0),f=(0,o.useRef)(!0),y=(0,h.JD)(e=>e.showingBrowserMode,p.bN),b=(0,c.Z9)(e=>e.isOpen,p.bN),[{noticeList:x,followRequest:k},w]=z(e=>({noticeList:e.noticeList,followRequest:e.followRequest}),p.bN),S=(0,u.tP)(),{user:C,wid:j=""}=(0,o.useMemo)(d.x,[]),T=(0,o.useMemo)(()=>{var e;return{uid:null!==(e=null==C?void 0:C.uid)&&void 0!==e?e:"",wid:j,refresh:!0}},[null==C?void 0:C.uid,j]),I=(0,o.useCallback)(e=>{"type"in e&&w.markAsRead(e)},[w]),P=(0,a.h)({layoutType:t,onInteract:I}),A=()=>(0,n.__awaiter)(this,void 0,void 0,function*(){if(!y&&!b&&m.current)try{yield Promise.all([w.fetchNoticeData({fetchLatest:!0,markAsRead:!1}),w.fetchNoticeFollowRequest(T)]),_.current=!0}catch(e){}i.current=setTimeout(A,e)}),M=(0,o.useRef)(A);M.current=A,(0,o.useEffect)(()=>{var e,t,i,n,o,a,d,c,u,p;if(!_.current||!(null==C?void 0:C.uid)||x.loading||k.loading)return;const g=(0,r.Y)(s.H.InAppNotificationShown),m=(0,r.Y)(s.H.InAppNotificationSettings),h=null!==(e=g.getLocalStorage())&&void 0!==e?e:{},y=null!==(t=h[C.uid])&&void 0!==t?t:{followRequests:[],lastActivityCreatedAt:0},b=new Set(y.followRequests),w=y.lastActivityCreatedAt,j=null!==(n=(null!==(i=m.getLocalStorage())&&void 0!==i?i:{})[C.uid])&&void 0!==n?n:{},T=new Set(Object.keys(j).filter(e=>!1===j[e])),I=k.users.filter(e=>!b.has(e)),A=[];let M=v.BP;!T.has("followPush")&&I.length>0&&(A.push(Object.assign(Object.assign({},k),{users:I})),M-=1);const L=null!==(a=null===(o=x.notice_list)||void 0===o?void 0:o.filter(e=>Number(e.create_time)>w&&!1===e.has_read))&&void 0!==a?a:[],D=null!==(d=L.filter(e=>!(l.BS.isCommentNotice(e)&&T.has("commentPush")||(l.BS.isFollowNotice(e)||l.BS.isFollowRequest(e)||l.BS.isFollowApprovalNotice(e))&&T.has("followPush")||l.BS.isLikeNotice(e)&&T.has("diggPush")||l.BS.isMentionNotice(e)&&T.has("mentionPush")||l.BS.isRepostInboxNotice(e)&&T.has("repostPush"))).slice(0,M).reverse())&&void 0!==d?d:[];[...A,...D].forEach(e=>P.show({notification:e})),f.current?f.current=!1:L.forEach(e=>S.updateUnreadCount(e.type,"unread")),g.setLocalStorage(Object.assign(Object.assign({},h),{[C.uid]:{followRequests:k.users,lastActivityCreatedAt:Math.max(Number(null!==(p=null===(u=null===(c=x.notice_list)||void 0===c?void 0:c[0])||void 0===u?void 0:u.create_time)&&void 0!==p?p:0),w)}}))},[k,k.loading,k.users,S,x.loading,x.notice_list,P,null==C?void 0:C.uid]),(0,o.useEffect)(()=>{(y||b)&&P.dismissAll()},[b,P,y]),(0,o.useEffect)(()=>(m.current=!document.hidden,(0,de.Gz)(()=>{m.current=!1},()=>{m.current=!0})),[]),(0,o.useEffect)(()=>(!i.current&&C&&(i.current=setTimeout(M.current,0)),()=>{i.current&&(clearTimeout(i.current),i.current=null)}),[])}},77547:(e,t,i)=>{"use strict";i.d(t,{Y:()=>yt});var n=i(24643),o=i(45027),a=i(95074),r=i(40099),s=i(68652),l=i(12527),d=i(54622),c=i(27799),u=i(29547),p=i(99411),g=i(18650),_=i(76443),m=i(67518),h=i(71615),v=i(26722),f=i(66203),y=i(95501),b=i(52340),x=i(90976),k=i(19053),w=i(8836),S=i(18805),C=i(16410);const j=(0,C.default)("div",{target:"ejurlyw0"})(({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`}),"label:DivMid;"),T=(0,C.default)("button",{target:"ejurlyw1"})(({theme:e})=>({width:"240px",height:"44px",margin:"133px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"}),"label:ButtonRetry;"),I=()=>{var e,t,i,d,u;const p=(0,c.s)(),{isRTL:C}=(0,g.m)(),{user:I}=null!==(e=(0,x.W)(()=>["user","region"],[]))&&void 0!==e?e:{},P=(0,o.w)(_.y7),{colors:A}=(0,m.u)(),M=(0,a.P)(_.y7,{selector:e=>{const{lastStatus:t,requesting:i,loading:n,PageState:o,PageStateData:a,UserData:r,reportTarget:s,reasons:l}=e;return{lastStatus:t,requesting:i,loading:n,PageState:o,PageStateData:a,UserData:r,reportTarget:s,reasons:l}},dependencies:[]}),L=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),M.reportTarget&&P.getReasons({reportTarget:M.reportTarget,uid:null==I?void 0:I.uid})},[P,M.reportTarget]),D=e=>e.reason_type_id,O=(0,r.useCallback)(e=>t=>{var i,n,o,a,r,s,l,d,c,u,p,g,m,h,v,y;t.preventDefault(),t.stopPropagation();let x=null===(n=null===(i=M.PageStateData)||void 0===i?void 0:i.reasons)||void 0===n?void 0:n.find(t=>D(t)===e);if(x&&P.setUserData({selectedReason:x,HistoryReason:[...null!==(o=M.UserData.HistoryReason)&&void 0!==o?o:[],x]}),!x)return;if(x.reason_type_id===f.ek.IPInfringementRightOwner){const e="https://www.tiktok.com/business/en/report?end_type=web";return void window.open(e,"_blank")}const w=(0,k.zW)(null===(a=M.reportTarget)||void 0===a?void 0:a.ad_info);S.J.handleAdReasonSelect({tag:(null===(r=M.reportTarget)||void 0===r?void 0:r.play_mode)&&b.EM[M.reportTarget.play_mode]||b.xY.OneColumn,category:b.XJ,refer:b.Hq.Button,value:String(null===(l=null===(s=M.reportTarget)||void 0===s?void 0:s.ad_info)||void 0===l?void 0:l.creative_id),log_extra:(null===(c=null===(d=M.reportTarget)||void 0===d?void 0:d.ad_info)||void 0===c?void 0:c.log_extra)||JSON.stringify({rit:(null===(u=M.reportTarget)||void 0===u?void 0:u.isVideoDetailBannerAds)?b.uY:b.OZ,req_id:null==w?void 0:w.req_id}),reason_id:`${(null===(p=M.UserData.selectedReason)||void 0===p?void 0:p.reason_type_id)||""}`,description:x.desc||"",is_ad_event:"1"});const C=null!==(g=x.sub_reason)&&void 0!==g?g:[],j=JSON.parse(null!==(m=x.option)&&void 0!==m?m:"{}"),{action:T}=j;if(C.length>0)P.handleNextReason({nextReason:null!==(h=x.sub_reason)&&void 0!==h?h:[],reason_id:x.reason_type_id});else switch((null==T?void 0:T.action_type)||"submit"){case"submit":case"route":break;default:const e=T.action_params.route_path||"Desc";P.handleNextForm(_.wl[e])}!x||Boolean(null===(v=x.sub_reason)||void 0===v?void 0:v.length)?P.handleNextReason({nextReason:null!==(y=x.sub_reason)&&void 0!==y?y:[],reason_id:x.reason_type_id}):P.handleNextForm((0,f.f2)(x.reason_type_id)?2:1)},[M.PageStateData,P,M.UserData.HistoryReason,I,M.reportTarget]);return(0,n.jsx)(w.an,{children:M.loading?(0,n.jsx)(w.TU,{children:(0,n.jsx)(y.R,{})}):0===(null===(i=null===(t=M.PageStateData)||void 0===t?void 0:t.reasons)||void 0===i?void 0:i.length)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j,{top:57,children:(0,n.jsx)(h.A,{width:72,height:72})}),(0,n.jsx)(j,{top:20,style:{fontSize:"18px",lineHeight:"24px",color:A.TextPrimary},children:p("pm_mt_live_page_sth_wrong")}),(0,n.jsx)(j,{top:12,style:{fontSize:"16px",lineHeight:"22px",color:A.TextSecondary},children:p("pm_mt_live_page_try_again")}),(0,n.jsxs)(T,{onClick:L,children:[(0,n.jsx)(v.A,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}}),p("report_inbox_retry_btn")]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.Rh,{children:p("Please select a scenario")}),null===(u=null===(d=M.PageStateData)||void 0===d?void 0:d.reasons)||void 0===u?void 0:u.map(e=>(0,n.jsxs)(w.KW,{onClick:O(D(e)),children:[(0,n.jsx)(w.Lo,{children:e.text}),C?(0,n.jsx)(l.A,{style:{color:A.TextTertiary},width:20,height:20}):(0,n.jsx)(s.A,{style:{color:A.TextTertiary},width:20,height:20})]},D(e)))]})})};var P=i(28319),A=i(73580),M=i(41077),L=i.n(M),D=i(73635),O=i(90046),R=i(74593),E=i(65964);const F=(0,C.default)("div",{target:"e1n238hh0"})({position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:3001},"label:DivPreviewImageContainer;"),B=(0,C.default)("div",{target:"e1n238hh1"})(({theme:e})=>({position:"absolute",left:0,top:0,right:0,bottom:0,background:e.colors.SDPrimary}),"label:DivMaskContainer;"),z=(0,C.default)("div",{target:"e1n238hh2"})({position:"absolute",zIndex:1,left:0,top:0,right:0,bottom:0},"label:DivImageContainer;"),U=(0,C.default)("div",{target:"e1n238hh3"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"692px",height:"810px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"},"label:DivPreviewImage;"),N=(0,C.default)("div",{target:"e1n238hh4"})(({theme:e})=>({position:"absolute",top:"20px",right:"20px",width:"48px",height:"48px",borderRadius:"24px",backgroundColor:e.colors.ConstTextInverse5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7}}),"label:DivIconClose;"),W={position:"absolute",top:"50%",transform:"translateY(-50%)",width:"48px",height:"48px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5,":hover":{opacity:1}},V=(0,C.default)("div",{target:"e1n238hh5"})(Object.assign(Object.assign({},W),{left:"32px"}),"label:DivIconPrev;"),H=(0,C.default)("div",{target:"e1n238hh6"})(Object.assign(Object.assign({},W),{left:"auto",right:"32px"}),"label:DivIconNext;"),q=(0,r.memo)(function({imgList:e,defaultIndex:t,onClose:i}){const[o,a]=(0,r.useState)(t>e.length-1?e.length-1:t<0?0:t),{showModal:d,hideModal:c}=(0,E.g9)();(0,r.useEffect)(()=>(d(),()=>{c()}),[d,c]);const u=(0,r.useCallback)(()=>{null==i||i()},[i]),p=(0,r.useCallback)(()=>a(e=>e-1),[]),g=(0,r.useCallback)(()=>a(e=>e+1),[]);return(0,n.jsxs)(F,{children:[(0,n.jsx)(B,{}),(0,n.jsxs)(z,{children:[(0,n.jsx)(U,{style:{backgroundImage:`url(${e[o]})`}}),(0,n.jsx)(N,{onClick:u,children:(0,n.jsx)(D.A,{height:24,width:24,fill:"#fff"})}),o>0&&(0,n.jsx)(V,{onClick:p,children:(0,n.jsx)(l.A,{height:30,width:30,fill:"#fff"})}),o<e.length-1&&(0,n.jsx)(H,{onClick:g,children:(0,n.jsx)(s.A,{height:30,width:30,fill:"#fff"})})]})]})}),$=(0,C.default)("div",{target:"e1nzkl7u0"})(({theme:e})=>({fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,display:"flex",flexWrap:"wrap"}),"label:DivUploadImageContainer;"),G=(0,C.default)("div",{target:"e1nzkl7u1"})(({theme:e,size:t})=>({boxSizing:"border-box",width:`${t}px`,height:`${t}px`,display:"flex",alignItems:"center",flexDirection:"column",background:e.colors.BGInput,borderRadius:"2px",overflow:"hidden",cursor:"pointer",paddingTop:(t-50)/2+"px"}),"label:DivImageUploadElement;"),K=(0,C.default)("div",{target:"e1nzkl7u2"})(({theme:e,size:t})=>({width:`${t}px`,height:`${t}px`,marginRight:"12px",position:"relative",borderRadius:"2px",overflow:"hidden",cursor:"pointer",":before":{content:'""',position:"absolute",width:"200%",height:"200%",borderRadius:"4px",border:`1px solid ${e.colors.LineSecondary}`,transform:"scale(.5)",left:"-50%",top:"-50%",boxSizing:"border-box"},img:{objectFit:"cover",zIndex:3,transform:"translateZ(10px)"}}),"label:DivImageItem;"),Y=(0,C.default)("span",{target:"e1nzkl7u3"})({position:"absolute",display:"flex",boxSizing:"border-box",padding:"5px",top:0,right:0,width:"16px",height:"16px",background:"rgba(22, 24, 35, 0.75)",borderBottomLeftRadius:"2px",cursor:"pointer"},"label:SpanClose;"),Z=(0,C.default)("span",{target:"e1nzkl7u4"})(({theme:e})=>({fontSize:"12px",lineHeight:"15px",color:e.colors.TextTertiary,marginTop:"4px"}),"label:SpanImageNumber;"),J=(0,C.default)("input",{target:"e1nzkl7u5"})({display:"none",width:0,height:0},"label:InputImage;"),X=(0,C.default)("div",{target:"e1nzkl7u6"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMid;");let Q=0;const ee=Number(1048576),te=(e,t)=>e>=5242880?t?.1:.2:e>=1572864?t?.3:.5:e>=524288?t?.4:.6:t?.6:.8,ie=(0,r.memo)(function({max:e,onChange:t,size:i=72}){const o=(0,A.Nj)(R.D),[a,s]=(0,r.useState)([]),[l,d]=(0,r.useState)(0),[c,u]=(0,r.useState)(!1),p=(0,r.useRef)([]),{colors:g}=(0,m.u)(),_=(0,r.useCallback)(t=>{const i=[],n=t.target.files,o=e-a.length;if(n){const e=n.length>o?o:n.length;for(let t=0;t<e;t++)if(n[t].type.match("image")){const o=new FileReader;o.readAsDataURL(n[t]),o.onload=t=>{i.push({id:Q++,uri:t.target.result,uploaded:!1}),i.length===e&&s(e=>[...e,...i])},p.current.push(n[t])}t.target.value=""}},[e,a.length]),h=(0,r.useCallback)(e=>()=>{d(e),u(!0)},[]),v=(0,r.useCallback)(e=>{const t=p.current[e];new(L())(t,{quality:te(t.size),convertSize:ee,success:i=>{p.current[e]=i,i.width=t.width,i.height=t.height,o.uploadImage(i).subscribe(t=>{const n=[...a];n[e]=Object.assign(Object.assign({},n[e]),{url:t.data.url_list[0],size:i.size,uploaded:!0}),s(n)})}})},[a,p,o]),f=e=>()=>{const t=a.slice();t.splice(e,1),s(t),p.current.splice(e,1)},b=(0,r.useCallback)(()=>{u(!1)},[]);return(0,r.useEffect)(()=>{a.forEach((e,t)=>{!1===a[t].uploaded&&v(t)}),t(a)},[a,t,v]),(0,n.jsxs)("div",{children:[(0,n.jsxs)($,{children:[a.map((e,t)=>(0,n.jsxs)(K,{size:i,children:[(0,n.jsx)("img",{src:e.uri,width:i,height:i,style:e.uploaded?{}:{filter:"blur(1px)"},onClick:h(t)}),(0,n.jsx)(Y,{className:"close",onClick:f(t),children:(0,n.jsx)(D.A,{width:7,height:7,fill:"#fff"})}),e.uploaded?null:(0,n.jsx)(X,{children:(0,n.jsx)(y.R,{size:20})})]},e.id)),c&&(0,n.jsx)(q,{defaultIndex:l,imgList:a.map(e=>e.uri),onClose:b}),e<=a.length?null:(0,n.jsx)("label",{htmlFor:"upload-image-file",children:(0,n.jsxs)(G,{size:i,children:[(0,n.jsx)(O.A,{height:30,width:30,fill:g.TextTertiary}),(0,n.jsxs)(Z,{className:"img-number",children:[a.length,"/",e]})]})})]}),(0,n.jsx)(J,{multiple:!0,className:"file-input",accept:"image/png,image/jpeg,image/jpg,image/bmp",type:"file",onChange:_,id:"upload-image-file"})]})});var ne=i(93584);const oe=(0,C.default)("div",{target:"e1b69dc70"})({height:"413px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivMainContainer;"),ae=(0,C.default)("div",{target:"e1b69dc71"})({display:"flex",flexDirection:"column",alignItems:"stretch",padding:"0px"},"label:DivScrollContainer;"),re=(0,C.default)("div",{target:"e1b69dc72"})({display:"flex",flexDirection:"row",justifyContent:"center",boxSizing:"border-box",padding:"16px 24px 12px"},"label:DivSectionHeader;"),se=(0,C.default)("div",{target:"e1b69dc73"})(({theme:e})=>({display:"flex",flexDirection:"column",boxSizing:"border-box",padding:"16px 24px",backgroundColor:e.colors.BGView,marginBottom:"8px"}),"label:DivSectionLine;"),le=(0,C.default)("div",{target:"e1b69dc74"})(({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary}),"label:DivSectionLineTitle;"),de=(0,C.default)("div",{target:"e1b69dc75"})(({theme:e})=>({marginTop:"4px",fontSize:"12px",lineHeight:"16px",color:e.colors.TextQuaternary}),"label:DivSectionLineSubTitle;"),ce=(0,C.default)("span",{target:"e1b69dc76"})(({theme:e})=>[(0,ne.zy)({theme:e,color:"Link",fontWeight:"semiBold",cursor:"pointer"})],"label:LinkSpan;"),ue=(0,C.default)("span",{target:"e1b69dc77"})(({theme:e})=>({flex:1,fontSize:"18px",lineHeight:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary}),"label:SpanSectionTitle;"),pe=(0,C.default)("span",{target:"e1b69dc78"})(({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary}),"label:SpanWordCount;"),ge=(0,C.default)("textarea",{target:"e1b69dc79"})(({theme:e})=>Object.assign(Object.assign({},(e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}))(e)),{resize:"none",height:"80px",backgroundColor:e.colors.BGPrimary}),"label:TextareaDescription;"),_e=(0,C.default)("div",{target:"e1b69dc711"})({margin:"4px 24px"},"label:DivImageUploader;"),me=(0,C.default)("div",{target:"e1b69dc712"})(({theme:e})=>({margin:"12px 24px 0 24px",fontFamily:e.fontFamilies.TikTokFont,fontSize:"14px",color:"rgba(0, 0, 0, 0.56)"}),"label:DivTiper;"),he=(0,C.default)("div",{target:"e1b69dc713"})(({theme:e})=>({marginTop:"4px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"12px",color:e.colors.Primary}),"label:DivFileSizeWarning;"),ve=(0,r.memo)(function({onClose:e}){var t,i;const s=(0,c.s)(),l=(0,o.w)(_.y7),d=(0,a.P)(_.y7,{selector:e=>{const{UserData:t,PreState:i,reportTarget:n}=e;return{UserData:t,PreState:i,reportTarget:n}},dependencies:[]}),[u,p]=(0,r.useState)(""),[g,m]=(0,r.useState)([]),[h,v]=(0,r.useState)(!1),[y,C]=(0,r.useState)(!1),{region:j="",user:T}=null!==(t=(0,x.W)(()=>["region","user"],[]))&&void 0!==t?t:{},I=(0,r.useMemo)(()=>{var e,t,i;return null!==(i=null===(t=null===(e=d.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type_id)&&void 0!==i?i:0},[]),A=(0,r.useMemo)(()=>{var e,t,i;return null!==(i=null===(t=null===(e=d.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.text)&&void 0!==i?i:""},[]);(0,r.useEffect)(()=>{C(!0)},[u,g,h]),(0,r.useEffect)(()=>{var e,t,i,n,o,a,r;const s=(0,k.zW)(null===(e=d.reportTarget)||void 0===e?void 0:e.ad_info);S.J.handleAdEditPageView({tag:(null===(t=d.reportTarget)||void 0===t?void 0:t.play_mode)&&b.EM[d.reportTarget.play_mode]||b.xY.OneColumn,category:b.XJ,log_extra:(null===(n=null===(i=d.reportTarget)||void 0===i?void 0:i.ad_info)||void 0===n?void 0:n.log_extra)||JSON.stringify({rit:(null===(o=d.reportTarget)||void 0===o?void 0:o.isVideoDetailBannerAds)?b.uY:b.OZ,req_id:null==s?void 0:s.req_id}),value:String(null===(r=null===(a=d.reportTarget)||void 0===a?void 0:a.ad_info)||void 0===r?void 0:r.creative_id),refer:b.Hq.Button,reason_id:`${I}`,description:A,is_ad_event:"1"})},[]);const M=(0,r.useCallback)(e=>{v(!1);for(const t of e)t.size&&t.size>10485760&&v(!0);m(e)},[]),L=(0,r.useCallback)(e=>{e.stopPropagation()},[]),D=(0,r.useCallback)(e=>p(e.target.value),[]),O=(0,r.useCallback)(()=>{e()},[e]),R=(0,r.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),I&&y){const e={description:u,uri:g.map(e=>e.url).join(",")};l.postReport({reason:I,text:A,extraData:e,region:j,uid:null==T?void 0:T.uid,closeModal:O})}},[u,g,I,y,l]),E=(()=>{var e,t;return I===f.YB.AISynthetic?(0,n.jsxs)(de,{children:[s("ad_report_reason_L1Misinfo_L2aigc_0"),(0,n.jsxs)("ul",{style:{margin:0,marginTop:"5px",paddingLeft:"20px"},children:[(0,n.jsx)("li",{children:s("ad_report_reason_L1Misinfo_L2aigc_1")}),(0,n.jsx)("li",{children:s("ad_report_reason_L1Misinfo_L2aigc_2")}),(0,n.jsx)("li",{children:s("ad_report_reason_L1Misinfo_L2aigc_3")}),(0,n.jsx)("li",{children:s("ad_report_reason_L1Misinfo_L2aigc_4")}),(0,n.jsx)("li",{children:s("ad_report_reason_L1Misinfo_L2aigc_5")}),(0,n.jsx)("li",{children:s("ad_report_reason_L1Misinfo_L2aigc_6")})]})]}):(null===(e=d.UserData.selectedReason)||void 0===e?void 0:e.desc)?(0,n.jsxs)(de,{children:[`${d.UserData.selectedReason.desc}`,(null===(t=d.UserData.selectedReason)||void 0===t?void 0:t.link)&&(0,n.jsx)(ce,{onClick:()=>{var e;window.open((null===(e=d.UserData.selectedReason)||void 0===e?void 0:e.link)||"","_blank")},children:s("dsa_illegal_placeholder_learnmore")})]}):null})();return(0,n.jsxs)(oe,{children:[(0,n.jsxs)(ae,{children:[(0,n.jsxs)(se,{children:[(0,n.jsx)(le,{children:`${s("Web_report_reason_select")} ${null===(i=d.UserData.selectedReason)||void 0===i?void 0:i.text}`}),E]}),(0,n.jsxs)(re,{children:[(0,n.jsx)(ue,{children:s("Web_report_description")}),(0,n.jsxs)(pe,{children:[u.length,"/",5e3]})]}),(0,n.jsx)(ge,{rows:5,maxLength:5e3,placeholder:s("report_details_toast"),value:u,onChange:D,onKeyDown:L}),(0,n.jsxs)(_e,{children:[(0,n.jsx)(ie,{max:4,onChange:M}),h&&(0,n.jsx)(he,{children:s("attachment_upload_limit")})]}),(0,n.jsxs)(me,{children:[(0,n.jsx)(P.A,{style:{marginRight:"4px"},width:12,height:12}),s("report_img_toast")]})]}),(0,n.jsx)(w.rW,{children:(0,n.jsx)(w.jl,{disabled:!y,onClick:R,children:s("Submit")})})]})});var fe=i(7399);const ye=(0,C.default)("div",{target:"e13phqsp0"})({height:"580px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivKopigContainer;"),be=(0,C.default)(ye,{target:"e13phqsp1"})({height:"708px"},"label:DivDSAContainer;"),xe=(0,C.default)("div",{target:"e13phqsp2"})({display:"flex",marginTop:"24px",marginBottom:"32px",paddingLeft:"24px",paddingRight:"24px"},"label:DivLegalContainer;"),ke=(0,C.default)("div",{target:"e13phqsp3"})({marginBottom:"16px",paddingLeft:"24px",paddingRight:"24px"},"label:DivDescriptionContainer;"),we=(0,C.default)("div",{target:"e13phqsp4"})(({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,display:"flex"}),"label:DivTitle;"),Se=(0,C.default)("div",{target:"e13phqsp5"})(({theme:e})=>({fontSize:"16px",lineHeight:"24px",color:e.colors.TextSecondary,fontWeight:400,marginInlineStart:"auto"}),"label:DivCounter;"),Ce=(0,C.default)("div",{target:"e13phqsp6"})(({theme:e})=>({color:e.colors.Primary}),"label:AsteriskColor;"),je=(0,C.default)(Se,{target:"e13phqsp7"})({display:"flex",marginInlineStart:"auto",alignItems:"center",cursor:"pointer"},"label:DivChooseCountry;"),Te=(0,C.default)("textarea",{target:"e13phqsp8"})(({theme:e})=>Object.assign(Object.assign({},(e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}))(e)),{resize:"none",height:"80px",backgroundColor:e.colors.BGPrimary}),"label:TextareaDescription;"),Ie=(0,C.default)(Te,{target:"e13phqsp9"})(({})=>({margin:"0px",width:"100%",height:"unset",marginTop:"10px",fontSize:"16px",lineHeight:"24px"}),"label:DivInputArea;"),Pe=(0,C.default)("div",{target:"e13phqsp10"})(({theme:e})=>({height:"0.5px",background:e.colors.LineSecondary,marginTop:"12.5px"}),"label:DivLine;"),Ae=(0,C.default)("div",{target:"e13phqsp11"})(({})=>({padding:"16px 24px",display:"flex",alignItems:"center"}),"label:DivCheckBoxContainer;"),Me=(0,C.default)("div",{target:"e13phqsp12"})(({theme:e})=>({fontSize:"16px",lineHeight:"24px",fontWeight:"400px",marginInlineStart:"9px",color:e.colors.TextPrimary}),"label:DivCheckBoxDesc;"),Le=(0,C.default)("div",{target:"e13phqsp13"})(({theme:e})=>({display:"flex",alignContent:"center",marginTop:"9px",color:e.colors.Negative}),"label:DivWarningContainer;"),De=(0,C.default)("div",{target:"e13phqsp14"})({fontSize:"14px",fontWeight:"400px",marginInlineStart:"9px"},"label:DivWarning;"),Oe=(0,C.default)("div",{target:"e13phqsp18"})(({theme:e})=>({fontSize:"14px",fontWeight:"400",lineHeight:"22px",padding:"0px 24px",color:e.colors.TextQuaternary}),"label:DivWarnText;"),Re=(0,C.default)("span",{target:"e13phqsp19"})(({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextTertiary,marginLeft:"8px"}),"label:OptionalTag;"),Ee=(0,C.default)("div",{target:"e13phqsp20"})(({theme:e})=>({fontSize:"14px",fontWeight:400,lineHeight:"130%",color:e.colors.TextTertiary,marginTop:"10px"}),"label:OptionalEmailTip;");var Fe=i(67476);function Be(e,t){const i=Object.keys(t),o=new RegExp(`(${i.join("|")})`,"g"),a=e.split(o);return(0,n.jsx)(n.Fragment,{children:a.map(e=>i.includes(e)?t[e]:e)})}const ze=(0,C.default)("p",{target:"eclkyfe0"})(({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,marginTop:"16px",marginBottom:"16px",paddingLeft:"24px",paddingRight:"24px"}),"label:TrustedFlaggerText;"),Ue=(0,C.default)("a",{target:"eclkyfe1"})(({theme:e})=>({color:e.colors.AssistColorAzure,fontWeight:700,textDecoration:"none"}),"label:TrustedFlaggerLink;"),Ne=(0,C.default)("div",{target:"eclkyfe2"})(({theme:e})=>({color:e.colors.BGPrimary}),"label:ModalWrapper;"),We=(0,C.default)("span",{target:"eclkyfe3"})(({theme:e})=>({color:e.colors.TextPrimary,fontWeight:700}),"label:Title;"),Ve=(0,C.default)("span",{target:"eclkyfe4"})(({theme:e})=>({color:e.colors.TextPrimary,fontSize:"14px",lienHeight:"18px"}),"label:Description;"),He=(0,C.default)("button",{target:"eclkyfe5"})(({theme:e})=>({padding:"8px 10px",fontSize:"16px",lineheight:"20px",cursor:"pointer",borderRadius:"4px",color:e.colors.TextPrimary,backgroundColor:e.colors.UIShapeNeutral4,minWidth:"160px"}),"label:LeftButton;"),qe=(0,C.default)("button",{target:"eclkyfe6"})(({theme:e})=>({padding:"8px 10px",fontSize:"16px",lineheight:"20px",cursor:"pointer",borderRadius:"4px",color:e.colors.ConstTextInverse,backgroundColor:e.colors.Primary,minWidth:"160px"}),"label:RightButton;"),$e=(0,C.default)("div",{target:"eclkyfe7"})({display:"flex",padding:"0 24px 32px",alignItems:"center",justifyContent:"space-between",gap:"16px"},"label:ModalFooter;");var Ge=i(48156);const Ke=({onSetIsTrustedFlagger:e})=>{const[t,i]=(0,r.useState)(!1),o=(0,c.s)(),a=()=>{i(!t)},{isTrustedFlagger:s,register:l,unbindTrustedFlagger:d}=(({handleDialog:e})=>{const[t,i]=(0,r.useState)(null),n=(0,A.Nj)(R.D),o=(0,c.s)(),a=()=>{n.getTustedFlaggerState().subscribe(e=>{var t;0===(null===(t=null==e?void 0:e.base)||void 0===t?void 0:t.status_code)?i(e.is_trusted_flagger):i(!1)})};return(0,r.useEffect)(()=>{let e="";void 0!==document.hidden?e="visibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange");const t=()=>{document.hidden||document.msHidden||document.webkitHidden||a()};return a(),e&&document.addEventListener(e,t),()=>{e&&document.removeEventListener(e,t)}},[]),{isTrustedFlagger:t,register:()=>{window.open("https://www.tiktok.com/dsa-trusted-flagger/login")},unbindTrustedFlagger:()=>{n.unbindTrustedFlagger().subscribe(t=>{var i;0===(null===(i=null==t?void 0:t.base)||void 0===i?void 0:i.status_code)?(a(),e()):Ge.F.open({content:o("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})})}}})({handleDialog:a});return(0,r.useEffect)(()=>{e(s)},[s]),(0,n.jsxs)(n.Fragment,{children:[(()=>{switch(s){case!0:return(0,n.jsx)(ze,{children:Be(o("dsa_illegal_report_trustedflagger_signout"),{"{s_tapHere}":(0,n.jsx)(Ue,{onClick:a,children:o("dsa_illegal_report_trustedflaggerlink")})})});case!1:return(0,n.jsx)(ze,{children:Be(o("dsa_illegal_report_trustedflagger"),{"%s":(0,n.jsx)(Ue,{onClick:l,children:o("dsa_illegal_report_trustedflaggerlink")})})});default:return null}})(),(0,n.jsx)(Fe.Mw,{isOpen:t,onClose:a,size:"Small",children:(0,n.jsxs)(Ne,{children:[(0,n.jsx)(Fe.ND,{children:(0,n.jsx)(We,{children:o("dsa_illegal_report_trustedflagger_signout_popup")})}),(0,n.jsx)(Fe.Te,{children:(0,n.jsx)(Fe.Fm,{children:(0,n.jsx)(Ve,{children:o("dsa_illegal_report_trustedflagger_signout_popup_desc")})})}),(0,n.jsxs)($e,{children:[(0,n.jsx)(He,{onClick:d,children:o("dsa_illegal_report_trustedflagger_signout_popup_yes")}),(0,n.jsx)(qe,{onClick:a,children:o("dsa_illegal_report_trustedflagger_signout_popup_no")})]})]})})]})};var Ye=i(23359);function Ze(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}const Je=(0,r.memo)(function({onClose:e}){var t,i,s;const[l,d]=(0,r.useState)(null),u=function(e){const t=(0,r.useRef)(e);return t.current=e,t}(l),p=(0,c.s)(),[g,m]=(0,r.useState)({relevantLaw:"",reportExplanation:"",signature:"",checked:!1,loggedOutEmail:""}),{region:h="",user:v}=null!==(t=(0,x.W)(()=>["region","user"],[]))&&void 0!==t?t:{},f=(0,r.useMemo)(()=>Boolean(v),[v]),y=(0,o.w)(_.y7),b=(0,a.P)(_.y7,{selector:e=>{const{UserData:t,PreState:i,choosenDSACountry:n,PageStateData:o,reportTarget:a,DSACountriesList:r}=e;return{UserData:t,PreState:i,choosenDSACountry:n,PageStateData:o,reportTarget:a,DSACountriesList:r}},dependencies:[]}),k=(0,r.useMemo)(()=>{var e,t;return(null===(t=null===(e=b.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type_id)>20},[b.UserData]),[S,C]=(0,r.useState)({loggedOutInvalid:!1});(0,r.useEffect)(()=>{b.PageStateData&&"relevantLaw"in b.PageStateData&&m(Object.assign({},b.PageStateData))},[b.PageStateData]);const j=(0,r.useMemo)(()=>{var e,t,i;return null!==(i=null===(t=null===(e=b.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_type_id)&&void 0!==i?i:0},[]),T=(0,r.useMemo)(()=>{var e,t,i;return null!==(i=null===(t=null===(e=b.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.text)&&void 0!==i?i:""},[]),I=j>=17&&j<=20,P=(0,r.useMemo)(()=>""!==g.reportExplanation.trim()&&(!k||""!==g.signature.trim())&&g.checked&&void 0!==b.choosenDSACountry&&(f||!f&&I||!f&&!I&&""!==g.loggedOutEmail.trim()&&Ze(g.loggedOutEmail)),[g]),A=(0,r.useCallback)(()=>{e()},[e]),M=(0,r.useCallback)(e=>{var t,i;if(e.preventDefault(),e.stopPropagation(),j&&P){const e={signature:g.signature,relevant_law:g.relevantLaw,description:g.reportExplanation,report_scene:"0",law_country_code:null!==(i=null===(t=b.choosenDSACountry)||void 0===t?void 0:t.code)&&void 0!==i?i:"",is_trusted_flagger:u.current,email:g.loggedOutEmail},n={isDsaMode:!0,reason:j,text:T,extraData:e,region:h,uid:null==v?void 0:v.uid,closeModal:A};y.postReport(n)}},[j,y,g,P]),L=(0,r.useCallback)(()=>{y.setPageStateData(g),y.handleNextForm(3)},[g]);(0,r.useEffect)(()=>()=>{y.setChoosenDSACountry(void 0)},[]);const D=(0,r.useCallback)(()=>(0,n.jsx)(Oe,{children:p("dsa_illegal_report_penalty_reminder")}),[]);return(0,n.jsx)(be,{children:(0,n.jsxs)(w.C8,{children:[(0,n.jsx)(w.XP,{children:`${p("Web_report_reason_select")} ${null===(i=b.UserData.selectedReason)||void 0===i?void 0:i.text}`}),!f&&(0,n.jsxs)(ke,{style:{marginTop:"16px"},children:[(0,n.jsxs)(we,{children:[p("dsa_illegal_report_email"),I?(0,n.jsx)(Re,{children:p("dsa_illegal_cite_law_optional")}):(0,n.jsx)(Ce,{children:"*"})]}),(0,n.jsx)(Ie,{rows:1,placeholder:p("dsa_illegal_report_fill_email"),value:g.loggedOutEmail,onBlur:()=>{C({loggedOutInvalid:!Ze(g.loggedOutEmail)})},onChange:e=>{var t;m(Object.assign(Object.assign({},g),{loggedOutEmail:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,n.jsx)(Pe,{}),I?(0,n.jsx)(Ee,{children:p("cseReasons_reportPg_emailAddForm_body")}):null,S.loggedOutInvalid&&(0,n.jsxs)(Le,{children:[(0,n.jsx)(Ye.A,{}),(0,n.jsx)(De,{children:p("dsa_illegal_report_trustedflagger_fill_email")})]})]}),(0,n.jsxs)(xe,{children:[(0,n.jsxs)(we,{children:[p("dsa_illegal_detail_country"),(0,n.jsx)(Ce,{children:"*"})]}),(0,n.jsxs)(je,{onClick:L,children:[null===(s=b.choosenDSACountry)||void 0===s?void 0:s.desc,(0,n.jsx)(w._k,{children:(0,n.jsx)(fe.A,{width:16,height:16})})]})]}),(0,n.jsxs)(ke,{children:[(0,n.jsxs)(we,{children:[p("dsa_illegal_detail_law"),(0,n.jsx)(Re,{children:p("dsa_illegal_cite_law_optional")}),(0,n.jsxs)(Se,{children:[g.relevantLaw.length,"/200"]})]}),(0,n.jsx)(Ie,{rows:2,maxLength:200,placeholder:p("dsa_illegal_cite_law_desc"),value:g.relevantLaw,onChange:e=>{var t;m(Object.assign(Object.assign({},g),{relevantLaw:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,n.jsx)(Pe,{})]}),(0,n.jsxs)(ke,{children:[(0,n.jsxs)(we,{children:[p("dsa_illegal_detail_explanation"),(0,n.jsx)(Ce,{children:"*"}),(0,n.jsxs)(Se,{children:[g.reportExplanation.length,"/400"]})]}),(0,n.jsx)(Ie,{rows:2,maxLength:400,placeholder:p("dsa_illegal_report_explanation_desc"),value:g.reportExplanation,onChange:e=>{var t;m(Object.assign(Object.assign({},g),{reportExplanation:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,n.jsx)(Pe,{})]}),k&&(0,n.jsxs)(ke,{children:[(0,n.jsxs)(we,{children:[p("dsa_illegal_appeal_signature"),(0,n.jsx)(Ce,{children:"*"})]}),(0,n.jsx)(Ie,{rows:1,placeholder:p("dsa_illegal_sign_legal_name"),value:g.signature,onChange:e=>{var t;m(Object.assign(Object.assign({},g),{signature:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),(0,n.jsx)(Pe,{})]}),(0,n.jsx)(Ke,{onSetIsTrustedFlagger:e=>{d(e)}}),(0,n.jsxs)(Ae,{onClick:()=>{m(Object.assign(Object.assign({},g),{checked:!g.checked}))},children:[(0,n.jsx)(Fe.h$,{checked:g.checked,label:""}),(0,n.jsx)(Me,{children:p("dsa_illegal_confirm_accuracy")})]}),D(),(0,n.jsx)(w.rW,{children:(0,n.jsx)(w.jl,{onClick:M,disabled:!P,children:p("Submit")})})]})})}),Xe=(0,C.default)("div",{target:"e1cnlexo0"})(({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"703px",overflowY:"auto",overflowX:"hidden"}),"label:DivChooseCountryContainer;"),Qe=(0,C.default)("div",{target:"e1cnlexo1"})(({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,position:"relative"}),"label:DivSubmitContainer;");var et=i(76926);const tt={id:"search-35c41e45",use:"search-35c41e45-usage",viewBox:"0 0 19 19",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 19" id="search-35c41e45"><path fill="#161823" fill-opacity=".34" fill-rule="evenodd" d="M8 14A6 6 0 1 1 8 2a6 6 0 0 1 0 12m0 2a8 8 0 1 1 6.32-3.094l4.362 4.362a.5.5 0 0 1 0 .707l-.707.707a.5.5 0 0 1-.707 0l-4.362-4.362A7.97 7.97 0 0 1 8 16" clip-rule="evenodd" /></symbol>'};function it(e){const t=(0,r.useContext)(et.X);return(0,r.useLayoutEffect)(()=>(t.add(tt),()=>{t.remove("search-35c41e45")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#search-35c41e45"},void 0)}),void 0)}const nt=(0,C.default)("div",{target:"e9911am0"})(({theme:e})=>({background:e.colors.BGInput,borderRadius:"92px",height:"40px",position:"relative",display:"flex",alignItems:"center"}),"label:DivSearchBoxContainer;"),ot=(0,C.default)("input",{target:"e9911am1"})(({theme:e})=>({marginInlineStart:"16px",fontWeight:"400px",fontSize:"16px",lineHeight:"24px",color:e.colors.TextTertiary,userSelect:"none",border:"none",background:"none",resize:"none",width:"100%",height:"100%",outline:"none"}),"label:DivSearchBoxInput;"),at=(0,C.default)("div",{target:"e9911am2"})(({})=>[{marginInlineStart:"auto",marginInlineEnd:"52px",position:"relative",display:"flex",alignItems:"center"}],"label:DivSearchContainer;"),rt=(0,C.default)("div",{target:"e9911am3"})(({theme:e})=>({height:"22px",width:"2px",background:e.colors.LineSecondary}),"label:DivVerticalLine;"),st=(0,C.default)(it,{target:"e9911am4"})(({theme:{direction:e}})=>[{position:"absolute",left:"rtl"===e?"0px":"15px",right:"rtl"===e?"15px":"0px"}],"label:DivSearchIconContainer;"),lt=({placeholder:e,value:t,onChange:i,style:o={}})=>(0,n.jsxs)(nt,{style:o,children:[(0,n.jsx)(ot,{placeholder:e,value:t,onChange:i}),(0,n.jsxs)(at,{children:[(0,n.jsx)(rt,{}),(0,n.jsx)(st,{})]})]}),dt=(0,C.default)("div",{target:"e15w45vc0"})(({theme:e})=>({padding:"16px 15px",display:"flex",alignItems:"center",color:e.colors.TextPrimary,lineHeight:"24px",fontSize:"16px",fontWeight:"400",cursor:"pointer"}),"label:DivItemContainer;"),ct=(0,C.default)("div",{target:"e15w45vc1"})({marginInlineStart:"auto"},"label:DivRadioWrapper;");var ut=i(54502);const pt=(0,C.default)("label",{target:"et49api0"})(({theme:e})=>({display:"flex",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"16px",color:e.colors.TextSecondary,cursor:"pointer"}),"label:LabelCheckbox;"),gt=(0,C.default)("div",{target:"et49api1"})(({size:e})=>({color:"#fff",position:"relative",height:`${e}px`,width:`${e}px`,lineHeight:`${e}px`,marginInlineEnd:"8px"}),"label:DivCheckboxSymbol;"),_t=(0,C.default)("input",{target:"et49api2"})(({selected:e,bordertype:t,theme:i,size:n})=>Object.assign(Object.assign({appearance:"none",width:`${n}px`,height:`${n}px`,border:`1.5px solid ${i.colors.LineSecondary}`,margin:"0 10px -2.5px 0"},e?{border:"none",backgroundColor:i.colors.Primary}:{}),"radio"===t?{borderRadius:"50%"}:{borderRadius:"2px"}),"label:InputCheckbox;"),mt=(0,C.default)("div",{target:"et49api3"})(({size:e})=>({pointerEvents:"none",position:"absolute",left:`calc(50% - (${e}px * 0.618) / 2 + 0.5px)`,top:`calc(50% - (${e}px * 0.455) / 2 + 0.04px)`,width:`calc(${e}px * 0.618)`,height:`calc(${e}px * 0.455)`,lineHeight:"0px"}),"label:DivCheckboxIcon;"),ht=(0,r.memo)(function({id:e,value:t,label:i,onChange:o,bordertype:a="radio",style:s={},size:l=22}){const d=(0,r.useCallback)(e=>{o&&o(e.target.checked)},[o]);return(0,n.jsxs)(pt,{htmlFor:e,style:s,children:[(0,n.jsxs)(gt,{size:l,className:"checkbox-symbol"+(t?" selected":""),children:[(0,n.jsx)(_t,{bordertype:a,selected:t,id:e,checked:t,type:"checkbox",size:l,onChange:d}),t&&(0,n.jsx)(mt,{size:l,children:(0,n.jsx)(ut.A,{width:.618*l,height:.455*l})})]}),i]})}),vt=({list:e=[],style:t={},onSelect:i,selectedIndex:o=-1,isMobile:a=!1})=>(0,n.jsx)("div",{style:t,children:e.map((e,t)=>(0,n.jsxs)(dt,{onClick:()=>{i&&i(t,e)},children:[e.text,(0,n.jsx)(ct,{children:a?(0,n.jsx)(ht,{label:"",value:o===t}):(0,n.jsx)(Fe.v3,{name:"",label:"",value:1,checked:o===t})})]},e.key))}),ft=(0,r.memo)(function(){const e=(0,c.s)(),[t,i]=(0,r.useState)(""),[s,l]=(0,r.useState)(),[d,u]=(0,r.useState)(-1),p=(0,o.w)(_.y7),g=(0,a.P)(_.y7,{selector:e=>{const{UserData:t,PreState:i,DSACountriesList:n}=e;return{UserData:t,PreState:i,DSACountriesList:n}},dependencies:[]}),m=(0,r.useCallback)(e=>{null==e||e.preventDefault(),void 0!==s&&(p.setChoosenDSACountry(s),p.handlePrevStep())},[s]),h=(0,r.useCallback)(e=>e.map(e=>({key:e.code,text:e.desc})).sort((e,t)=>e.key.localeCompare(t.key)),[]),v=(0,r.useMemo)(()=>""===t.trim()?h(g.DSACountriesList):h(g.DSACountriesList).filter(e=>e.text.toLowerCase().startsWith(t.toLowerCase())),[t,g.DSACountriesList]);return(0,n.jsxs)(Xe,{children:[(0,n.jsx)(lt,{value:t,onChange:e=>{i(e.target.value),u(-1),l(void 0)},placeholder:e("dsa_illegal_select_region"),style:{margin:"24px 24px 16px 24px"}}),(0,n.jsx)(vt,{selectedIndex:d,list:v,style:{height:"522px",overflowY:"auto",padding:"0px 24px 0px 24px"},onSelect:e=>{u(e),l({code:v[e].key,desc:v[e].text})}}),(0,n.jsx)(Qe,{children:(0,n.jsx)(w.jl,{onClick:m,children:e("Confirm")})})]})}),yt=(0,r.memo)(function({onClose:e,visible:t=!1,asComponent:i=!1,setPage:m,onBack:h,useBack:v,onSubmit:f}){const y=(0,c.s)(),{isRTL:b}=(0,g.m)(),x=(0,o.w)(_.y7),k=(0,a.P)(_.y7,{selector:e=>{const{PageState:t,PreState:i,reportTarget:n,reasons:o,UserData:a}=e;return{PageState:t,PreState:i,reportTarget:n,reasons:o,UserData:a}},dependencies:[]}),S=(0,r.useCallback)(()=>{e()},[e,k.reportTarget]),C=(0,r.useCallback)(()=>{x.resetState()},[x]),j=(0,r.useCallback)(()=>{x.handlePrevStep(),null==h||h()},[x]);(0,r.useEffect)(()=>{f&&x.setSubmitCallback(f)},[f]),(0,r.useEffect)(()=>{m&&x.setPageState(m)},[m]);const T=(0,r.useMemo)(()=>3===k.PageState?y("dsa_illegal_select_country_optional"):y("Report"),[k.PageState]),P=k.PreState.length>0||v,A=()=>0===k.PageState?(0,n.jsx)(I,{}):1===k.PageState?(0,n.jsx)(ve,{onClose:S}):2===k.PageState?(0,n.jsx)(Je,{onClose:S}):3===k.PageState?(0,n.jsx)(ft,{}):void 0,M="undefined"!=typeof document&&document.fullscreenElement;return(0,r.useEffect)(()=>{M&&!t&&x.resetState()},[x,M,t]),i?(0,n.jsx)(n.Fragment,{children:[0,1].includes(k.PageState)?(0,n.jsxs)(w.JS,{"data-e2e":"report-form",children:[(0,n.jsxs)(w.JN,{isBackable:P,children:[P&&(0,n.jsx)(w.D_,{onClick:j,children:b?(0,n.jsx)(s.A,{width:20,height:20}):(0,n.jsx)(l.A,{width:20,height:20})}),(0,n.jsx)(w.Fh,{"data-e2e":"report-title",children:T}),(0,n.jsx)(w.Ko,{"data-e2e":"report-card-cancel",onClick:S,children:(0,n.jsx)(d.A,{width:14,height:14})})]}),A()]}):(0,n.jsx)(w.bq,{"data-e2e":"report-form",children:A()})}):"undefined"!=typeof document&&document.fullscreenElement?(0,n.jsx)(u.aF,{parentRef:document.fullscreenElement,visible:t,onClose:S,maskCloseable:!1,keyboardCloseable:!1,children:[0,1,2,3].includes(k.PageState)?(0,n.jsxs)(w.JS,{"data-e2e":"report-form",children:[(0,n.jsxs)(w.JN,{isBackable:P,children:[P&&(0,n.jsx)(w.D_,{onClick:j,children:b?(0,n.jsx)(s.A,{width:20,height:20}):(0,n.jsx)(l.A,{width:20,height:20})}),(0,n.jsx)(w.Fh,{"data-e2e":"report-title",children:T}),(0,n.jsx)(w.Ko,{"data-e2e":"report-card-cancel",onClick:S,children:(0,n.jsx)(d.A,{width:14,height:14})})]}),A()]}):(0,n.jsx)(w.bq,{"data-e2e":"report-form",children:A()})}):(0,n.jsx)(p.i,{compact:!0,isOpen:t,onClose:S,onCloseComplete:C,closeOnBackdropClick:!1,closeOnEsc:!1,children:[0,1,2,3].includes(k.PageState)?(0,n.jsxs)(w.JS,{"data-e2e":"report-form",children:[(0,n.jsxs)(w.JN,{isBackable:P,children:[P&&(0,n.jsx)(w.D_,{onClick:j,children:b?(0,n.jsx)(s.A,{width:20,height:20}):(0,n.jsx)(l.A,{width:20,height:20})}),(0,n.jsx)(w.Fh,{"data-e2e":"report-title",children:T}),(0,n.jsx)(w.Ko,{"data-e2e":"report-card-cancel",onClick:S,children:(0,n.jsx)(d.A,{width:14,height:14})})]}),A()]}):(0,n.jsx)(w.bq,{"data-e2e":"report-form",children:A()})})})},77849:(e,t,i)=>{"use strict";i.d(t,{Lj:()=>o,QI:()=>a,T5:()=>n,cb:()=>r});const n={0:{forceMute:!1,defaultMute:!1},1:{forceMute:!1,defaultMute:!0},2:{forceMute:!1,defaultMute:!1},3:{forceMute:!1,defaultMute:!1},5:{forceMute:!1,defaultMute:!1},4:{forceMute:!1,defaultMute:!1},6:{forceMute:!1,defaultMute:!1},7:{forceMute:!1,defaultMute:!1},8:{forceMute:!1,defaultMute:!1},9:{forceMute:!1,defaultMute:!1}},o=.8,a=.05,r=5},78223:(e,t,i)=>{"use strict";function n(e,t=4){return null==e?void 0:e.toFixed(t)}function o(e,t){return!(!e||!t)&&n(e.minX)===n(t.minX)&&n(e.minY)===n(t.minY)&&n(e.maxX)===n(t.maxX)&&n(e.maxY)===n(t.maxY)}function a(e){let t=1,i=1,n=0,o=0;return(null==e?void 0:e.length)?(e.forEach(e=>{if(!e)return;const{h:a,w:r,x:s,y:l}=e;r&&a&&(t=Math.min(s,t),i=Math.min(l,i),n=Math.max(s+r,n),o=Math.max(l+a,o))}),{minX:t,minY:i,maxX:n,maxY:o}):{minX:t,minY:i,maxX:n,maxY:o}}function r(e){let t=e;return['"app_data"','app_data"','canvas"','"canvas"','"live_sei_game_moment"',"live_sei_game_moment",'"ttls_live_scene"','ttls_live_scene"','trans_info"','"trans_info"'].some(i=>{const n=function(e,t="app_data"){var i;if(!e)return"";const n=new RegExp(`^([\\w\\W]*)${t}.*`).exec(e);return null!==(i=null==n?void 0:n[1])&&void 0!==i?i:""}(e,i);if(n&&"{"!==n){const o='"'!==i[0];return t=`{${o?'"':""}${e.slice(n.length,e.lastIndexOf("}")+1)}`,!0}return!1})||(t=e.slice(e.indexOf("{"),e.lastIndexOf("}")+1)),t}i.d(t,{Se:()=>a,Sh:()=>r,c7:()=>o})},78282:(e,t,i)=>{"use strict";i.d(t,{u:()=>w});var n=i(24643),o=i(40099),a=i(24443),r=i(97065),s=i(46494),l=i(90976),d=i(2232),c=i(72355),u=i(7508),p=i(1880),g=i(52165),_=i(34778),m=i(27799),h=i(48156),v=i(6418),f=i(28234),y=i(61198),b=i(3751);const x=(0,b.Ay)({resolved:{},chunkName:()=>"instance",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(2780),i.e(921),i.e(5956),i.e(2402),i.e(6489),i.e(4563),i.e(8873),i.e(4732),i.e(4243),i.e(1994),i.e(2396),i.e(8785),i.e(5934),i.e(4434),i.e(3895),i.e(269),i.e(6136),i.e(4850),i.e(1964),i.e(3235),i.e(3243),i.e(9182),i.e(9692),i.e(358)]).then(i.bind(i,43536)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>43536},Object.assign({},s.KE)),k=(0,b.Ay)({resolved:{},chunkName:()=>"live-browser-mode",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(895),i.e(2780),i.e(921),i.e(5817),i.e(6489),i.e(4563),i.e(8873),i.e(4732),i.e(4243),i.e(8118)]).then(i.bind(i,77034)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>77034},Object.assign({},s.KE));function w(e,t=!0,i=3e3){return function(s){const b=r=>{var b,w;const{itemListKey:S,currentIndex:C,closeBrowserMode:j,isLiveBrowserShowing:T,isBrowserModeShowing:I,disableUpdate:P,showBrowserMode:A,teaParams:M,enterFrom:L}=(0,g.m)(),D=(0,_.YZ)(),O=(0,a.b1)(),R=(0,l.W)(()=>["abTestVersion"],[]),E=null!==(b=(0,d.qt)(null==R?void 0:R.abTestVersion,"search_video"))&&void 0!==b?b:"v1",{user:F}=null!==(w=(0,l.W)(()=>["user"],[]))&&void 0!==w?w:{},B=D.getAdjacentVideoInfo(),z=Boolean(F),U=("general_search"===L||"search_video"===L)&&!z,N=(0,o.useCallback)(({playProgress:e,fromPopState:i,shouldPause:n}={})=>{j({playProgress:e,shouldPause:n}),!i&&t&&window.history.back()},[j]),W=(0,o.useCallback)(()=>{D.setClickSamePage()},[D]);!function(e){const t=(0,o.useRef)(),i=(0,c.W6)();(0,o.useEffect)(()=>{var n,o;const a=null!==(o=null===(n=null==i?void 0:i.location)||void 0===n?void 0:n.pathname)&&void 0!==o?o:"";a&&t.current!==a&&(null==e||e(t.current),t.current=a)},[i,e])}(()=>{I&&j(void 0)}),(0,o.useEffect)(()=>{D.setItemListKey(e)},[D]),(0,o.useEffect)(()=>{(0,u.uQ)(p.Y.BrowseModeRerender)});const V=(0,o.useMemo)(()=>({closeBrowserMode:j,showBrowserMode:A,isBrowserModeShowing:I,isLiveBrowserShowing:T}),[j,I,T,A]),H=(0,o.useCallback)(()=>{(0,u.uQ)(p.Y.PlayerChange),5!==C||!U||"v3"!==E&&"v4"!==E?D.handleNextVideo():O.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"click_top_bar",enter_from:L,type:"loginsearchmore"}})},[C,O,E,L,U,D]),q=(0,o.useCallback)(()=>{(0,u.uQ)(p.Y.PlayerChange),D.handlePrevVideo()},[D]);return function(){const e=(0,m.s)(),[{statusCode:t,statusMessage:i,action:n,toastNotShown:a},r]=(0,f.W)(({statusCode:e,statusMessage:t,action:i,toastNotShown:n})=>({statusCode:e,statusMessage:t,action:i,toastNotShown:n}),y.bN);(0,o.useEffect)(()=>{if(!a)return;let o;switch(t){case 0:"delete"===n&&(o=e("deleted"));break;case 2752:o=i;break;case 2054:o=e("video_unavailable_deleted");break;default:o=e(v.z$)}h.F.destroy(),h.F.open({content:o,duration:3,widthType:"half"}),r.clearBrowserModeStatus()},[e,a,t,i,n,r])}(),(0,n.jsxs)(g.g.Provider,{value:V,children:[(0,n.jsx)(s,Object.assign({},r)),T?(0,n.jsx)(k,{itemListKey:S,currentIndex:C,zIndex:i,onCloseBrowserMode:N,onNextVideo:H,onPrevVideo:q}):I&&(0,n.jsx)(x,{disableUpdate:P,itemListKey:S,currentIndex:C,onNextVideo:H,onPrevVideo:q,needUrlDelegate:t,zIndex:i,onCloseBrowserMode:N,teaParams:M,onJumpSamePage:W,adjacentVideoIds:B})]})};return b.displayName=`WithBrowserMode(${(0,r.x)(s)})`,b}}},78424:(e,t,i)=>{"use strict";i.d(t,{GD:()=>g,KP:()=>p,LL:()=>d,NZ:()=>r,OZ:()=>s,P9:()=>o,gc:()=>u,ly:()=>l,pY:()=>c,sN:()=>a,zE:()=>_});var n=i(16410);const o=(0,n.default)("div",{target:"e1pk7xa60"})({position:"relative",width:"100%",paddingLeft:"16px",paddingRight:"16px",display:"flex",justifyContent:"center",paddingTop:"10px"},"label:DivLiveFollowingSkylightContainer;"),a=(0,n.default)("div",{target:"e1pk7xa61"})({display:"flex",flexWrap:"nowrap",overflowX:"auto",paddingTop:"24px",paddingBottom:"24px","&::-webkit-scrollbar":{display:"none"}},e=>({width:e.width}),"label:DivLiveFollowingSkylightScroller;"),r=(0,n.default)("div",{target:"e1pk7xa62"})(({theme:e,isShow:t})=>[{position:"absolute",display:"flex",width:"165px",top:0,bottom:0,alignItems:"center",background:`linear-gradient(to ${"ltr"===e.direction?"left":"right"}, transparent 0px, ${e.colors.BGPrimary} 141px)`,zIndex:2,transition:"opacity 0.3s ease-in-out",pointerEvents:"none",opacity:t?1:0},"ltr"===e.direction?{left:"15px"}:{right:"15px"}],"label:DivLiveFollowingSkylightScrollerLeftHandler;"),s=(0,n.default)("div",{target:"e1pk7xa63"})(({theme:e,isShow:t})=>[{position:"absolute",display:"flex",width:"165px",top:0,bottom:0,alignItems:"center",justifyContent:"flex-end",background:`linear-gradient(to ${"ltr"===e.direction?"right":"left"}, transparent 0px, ${e.colors.BGPrimary} 141px)`,zIndex:2,transition:"opacity 0.3s ease-in-out",pointerEvents:"none",opacity:t?1:0},"ltr"===e.direction?{right:"15px"}:{left:"15px"}],"label:DivLiveFollowingSkylightScrollerRightHandler;"),l=(0,n.default)("div",{target:"e1pk7xa64"})(({theme:e})=>({display:"flex",width:"32px",height:"32px",borderRadius:"50%",boxShadow:`0px 2px 12px 0px ${e.colors.ShadowPrimary}`,backgroundColor:e.isDark?"black":"white",alignItems:"center",justifyContent:"center",cursor:"pointer",pointerEvents:"all",transform:"ltr"===e.direction?"none":"rotateY(180deg)"}),"label:DivLiveFollowingSkylightScrollerHandlerIcon;"),d=88,c=45,u=(0,n.default)("div",{target:"e1pk7xa65"})(({theme:e})=>[{display:"flex",flexDirection:"column",alignItems:"center",width:`${d}px`,flex:"none",cursor:"pointer","&:first-of-type":{marginLeft:0,marginRight:0}},"ltr"===e.direction?{marginLeft:`${c}px`}:{marginRight:`${c}px`}],"label:DivLiveFollowingSkylightAvatarWrapper;"),p=(0,n.default)("div",{target:"e1pk7xa66"})({display:"flex",flexDirection:"row",alignItems:"center",marginTop:"10px",maxWidth:`${d}px`},"label:DivLiveFollowingSkylightAvatarDisplayIdWrap;"),g=(0,n.default)("div",{target:"e1pk7xa67"})(({theme:e})=>({flex:1,fontSize:"16px",lineHeight:"20.8px",fontWeight:700,color:e.colors.TextPrimary,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),"label:DivLiveFollowingSkylightAvatarDisplayId;"),_=(0,n.default)("div",{target:"e1pk7xa68"})(({theme:e})=>({fontSize:"12px",lineHeight:"15.6px",fontWeight:400,color:e.colors.TextSecondary,maxWidth:`${d}px`,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),"label:DivLiveFollowingSkylightAvatarNickname;")},78454:(e,t,i)=>{"use strict";i.d(t,{z:()=>a});var n=i(97517),o=i.n(n);function a(e){if(isNaN(Number(e)))return"";const t=o().unix(Number(e)),i=e=>e.toString().padStart(2,"0"),n=i(t.month()+1),a=i(t.date()),r=i(t.hour()),s=i(t.minute()),l=i(t.second());return`${t.year()}-${n}-${a} ${r}:${s}:${l}`}},78772:(e,t,i)=>{"use strict";i.d(t,{oD:()=>r,y_:()=>g});var n,o,a,r,s,l,d,c=i(72516),u=i(7672),p=i(96406);!function(e){e.LiveRechargeShow="livesdk_recharge_show",e.LiveRechargeClick="livesdk_recharge_click",e.LiveRechargeCashierShow="livesdk_web_cashier_show",e.LiveRechargePay="livesdk_recharge_pay",e.LiveRechargeSuccess="livesdk_recharge_success",e.LiveRechargeFailed="livesdk_recharge_failed",e.livesdkRechargeFailClick="livesdk_recharge_fail_click",e.LiveBillingAddressClick="livesdk_billing_address_click",e.LiveBillingAddressEntranceClick="livesdk_billing_address_entrance_click",e.LiveWebGetCoinShow="livesdk_web_getcoin_show",e.LiveWebGetCoinClick="livesdk_web_getcoin_click",e.LiveWebGetCoinBubbleShow="livesdk_audience_bubble_show",e.LiveWebGetCoinBubbleDuration="livesdk_bubble_duration",e.LiveRechargeLandingPageShow="livesdk_landing_page_show",e.LiveRechargeLandingPageClick="livesdk_landing_page_click",e.LiveRechargePopupGuidanceShow="livesdk_recharge_guidance_card_show",e.LiveRechargePopupGuidanceClick="livesdk_recharge_guidance_card_click",e.LiveWebPayFeedbackShow="livesdk_web_pay_feedback_show",e.LiveWebPayFeedbackClick="livesdk_web_pay_feedback_click",e.LiveWebPayMethodClick="livesdk_web_pay_method_click",e.LiveWebLinkEWalletShow="livesdk_link_ewallet_show",e.LiveWebLinkEWalletClick="livesdk_link_ewallet_click",e.LiveWebLinkEWalletSuccess="livesdk_link_ewallet_success",e.LiveWebLinkEWalletFailed="livesdk_link_ewallet_failed",e.LiveRechargeExchangeEntranceShow="livesdk_recharge_exchange_entrance_show",e.LiveRechargeExchangeEntranceClick="livesdk_recharge_exchange_entrance_click",e.LiveRechargeExchangeClick="livesdk_recharge_exchange_click",e.LiveRechargeExchangePopupShow="livesdk_recharge_exchange_popup_show",e.LiveRechargeExchangeConfirm="livesdk_recharge_exchange_confirm",e.LiveRechargeExchangeCancel="livesdk_recharge_exchange_cancel",e.LiveRechargeExchangeSuccess="livesdk_recharge_exchange_success",e.LiveRechargeExchangeFailed="livesdk_recharge_exchange_failed",e.LiveRechargeExchangePackageShow="livesdk_recharge_exchange_package_show",e.LiveRechargeExchangePreview="livesdk_recharge_exchange_preview",e.LiveRechargeExchangeLimitPopupShow="livesdk_wallet_limit_popup_show",e.LiveRechargeExchangeLimitPopupClick="livesdk_wallet_limit_popup_click",e.LiveRechargeLogoutClick="livesdk_logout_click",e.LiveBillingAddressShow="livesdk_billing_address_show",e.LiveBillingAddressConfirm="livesdk_billing_address_confirm",e.LiveBillingAddressCancel="livesdk_billing_address_cancel",e.LiveBillingAddressFailed="livesdk_billing_address_failed",e.LiveRechargeNoticeShow="livesdk_webapp_top_notice_show",e.LiveRechargeNoticeClick="livesdk_webapp_top_notice_click",e.LiveRechargeNoticeClose="livesdk_webapp_top_notice_close",e.LiveAbnormalFeatureToast="livesdk_feature_abnormal_toast",e.LiveKycReminderPopup="livesdk_kyc_reminder_popup",e.LiveKycReminderPopupClick="livesdk_kyc_reminder_popup_click",e.LiveKycPopupShow="livesdk_kyc_popup_show",e.LiveKycPopupClick="livesdk_kyc_popup_click",e.LivePaymentBindShow="livesdk_payment_bind_show",e.LivePaymentBindClick="livesdk_payment_bind_click",e.LivePaymentBindSuccess="livesdk_payment_bind_success",e.LivePaymentBindFail="livesdk_payment_bind_fail",e.LiveRechargePackageShow="livesdk_recharge_package_show",e.LiveRechargeBanPopupShow="livesdk_recharge_ban_popup_show",e.LiveRechargeBanPopupClick="livesdk_recharge_ban_popup_click",e.LiveRechargePackagePreview="livesdk_recharge_package_preview",e.LiveRechargeCompletedEducationPopupShow="livesdk_payment_completed_popup_show",e.LiveRechargeCompletedEducationPopupClick="livesdk_payment_completed_click",e.LiveRechargeNegativeBalancePopupShow="livesdk_negative_balance_popup_show",e.LiveRechargeNegativeBalancePopupClick="livesdk_negative_balance_click",e.LiveRechargeLimitToastShow="livesdk_wallet_limit_toast_show",e.LiveRechargeLimitPopupShow="livesdk_wallet_limit_popup_show",e.LiveRechargeLimitPopupClick="livesdk_wallet_limit_popup_click",e.LivePayMethodLoadSuccess="livesdk_pay_method_load_success",e.LivePayMethodLoadFail="livesdk_pay_method_load_fail",e.LiveRechargeShowV2="livesdk_recharge_show_v2",e.LiveRechargePackageShowV2="livesdk_recharge_package_show_v2",e.LiveRechargePackagePreviewV2="livesdk_recharge_package_preview_v2",e.LiveRechargeClickV2="livesdk_recharge_click_v2",e.LiveRechargeLoginClick="livesdk_recharge_click_to_login",e.LiveExchangeRetainFirstPopupShow="livesdk_recharge_retain_first_popup_show",e.LiveExchangeRetainFirstPopupClick="livesdk_recharge_retain_first_popup_click",e.LiveExchangeRetainSecondPopupShow="livesdk_recharge_retain_second_popup_show",e.LiveExchangeRetainSecondPopupClick="livesdk_recharge_retain_second_popup_click",e.EXCHANGE_ENTRANCE_SHOW="livesdk_exchange_entrance_show",e.EXCHANGE_ENTRANCE_CLICK="livesdk_exchange_entrance_click",e.EXCHANGE_SHOW="livesdk_exchange_show",e.EXCHANGE_CLICK="livesdk_exchange_click",e.EXCHANGE_CUSTOM_CLICK="livesdk_exchange_custom_click",e.EXCHANGE_CONFIRM_POPUP_SHOW="livesdk_exchange_confirm_popup_show",e.EXCHANGE_CONFIRM="livesdk_exchange_confirm",e.EXCHANGE_CONFIRM_CANCEL="livesdk_exchange_confirm_cancel",e.EXCHANGE_CANCEL="livesdk_exchange_cancel",e.EXCHANGE_SUCCESS="livesdk_exchange_success",e.EXCHANGE_FAIL="livesdk_exchange_fail",e.LiveLoginQRCodeShow="livesdk_login_qr_code_show",e.LiveLoginQRCodeInstructionShow="livesdk_login_qr_code_instruction_show",e.LiveLoginQRCodeScanResultShow="livesdk_login_qr_code_scan_result_show",e.LivePanelLCP="livesdk_recharge_panel_lcp",e.EmailConfirmPopupShow="livesdk_email_confirm_popup_show",e.EmailConfirmPopupClick="livesdk_email_confirm_popup_click",e.EmailEditPageShow="livesdk_email_edit_page_show",e.EmailEditPageTextBoxClick="livesdk_email_edit_page_text_box_click",e.EmailEditPageCodeError="livesdk_email_edit_page_code_error",e.EmailEditSuccess="livesdk_email_edit_success",e.HomeScreenV2TriggerPointShow="livesdk_add_homescreen_shortcut_guide_show",e.HomeScreenV2AddButtonClick="livesdk_add_homescreen_shortcut_guide_click",e.LiveRechargePageShow="livesdk_wallet_page_show",e.LiveRechargeClientShow="livesdk_wallet_client_show",e.LiveRechargeViewClick="livesdk_wallet_view_click"}(n||(n={})),function(e){e.TIKTOKM="1233",e.TIKTOKT="1180",e.LITE="1340",e.RESSO="1811",e.WEBAPP="1988"}(o||(o={})),function(e){e.Done="done",e.LEARN_MORE="learn_more",e.CONTACT_US="contact_us",e.CANCEL="cancel",e.PUSH_OPT_IN="push_opt_in"}(a||(a={})),function(e){e.top_bar="top_bar",e.avatar="avatar",e.buy_now="buy_now",e.top_list_feedback="top_list_feedback",e.feedback_icon="feedback_icon"}(r||(r={})),function(e){e.Success="success",e.Fail="fail"}(s||(s={})),function(e){e.Instruction="instruction",e.Package="package"}(l||(l={})),function(e){e.PackageEntrance="package_entrance",e.RechargeSuccess="recharge_success"}(d||(d={}));let g=class{constructor(){this.handleRechargeShow=e=>{p.f.event("livesdk_recharge_show",e)},this.handleRechargeClick=e=>{p.f.event("livesdk_recharge_click",e)},this.handleCashierShow=e=>{p.f.event("livesdk_web_cashier_show",e)},this.handlePayAction=e=>{p.f.event("livesdk_recharge_pay",e)},this.handleRechargeSuccess=e=>{p.f.event("livesdk_recharge_success",e)},this.handleRechargeFailed=e=>{p.f.event("livesdk_recharge_failed",e)},this.handleRechargeFailedClick=e=>{p.f.event("livesdk_recharge_fail_click",e)},this.handleBillingAddressClick=e=>{p.f.event("livesdk_billing_address_click",e)},this.handleBillingAddressEntranceClick=e=>{p.f.event("livesdk_billing_address_entrance_click",e)},this.handleLiveWebGetCoinShow=e=>{p.f.event("livesdk_web_getcoin_show",e)},this.handleLiveWebGetCoinClick=e=>{p.f.event("livesdk_web_getcoin_click",e)},this.handleLiveWebGetCoinBubbleShow=e=>{p.f.event("livesdk_audience_bubble_show",e)},this.handleLiveWebGetCoinBubbleDuration=e=>{p.f.event("livesdk_bubble_duration",e)},this.handleLiveRechargeLandingPageShow=e=>{p.f.event("livesdk_landing_page_show",e)},this.handleLiveRechargeLandingPageClick=e=>{p.f.event("livesdk_landing_page_click",e)},this.handleLiveRechargePopupGuidanceShow=e=>{p.f.event("livesdk_recharge_guidance_card_show",e)},this.handleLiveRechargePopupGuidanceClick=e=>{p.f.event("livesdk_recharge_guidance_card_click",e)},this.handleRechargeFeedbackShow=e=>{p.f.event("livesdk_web_pay_feedback_show",e)},this.handleRechargeFeedbackClick=e=>{p.f.event("livesdk_web_pay_feedback_click",e)},this.handleRechargeCashierSelectPaymentMethod=e=>{p.f.event("livesdk_web_pay_method_click",e)},this.handleRechargeCashierEWalletShow=e=>{p.f.event("livesdk_link_ewallet_show",e)},this.handleRechargeCashierEWalletClick=e=>{p.f.event("livesdk_link_ewallet_click",e)},this.handleRechargeCashierEWalletSuccess=e=>{p.f.event("livesdk_link_ewallet_success",e)},this.handleRechargeCashierEWalletFailed=e=>{p.f.event("livesdk_link_ewallet_failed",e)},this.handleExchangeEntranceShow=e=>{p.f.event("livesdk_exchange_entrance_show",e),p.f.event("livesdk_recharge_exchange_entrance_show",e)},this.handleExchangeEntranceClick=e=>{p.f.event("livesdk_exchange_entrance_click",e),p.f.event("livesdk_recharge_exchange_entrance_click",e)},this.handleExchangeClick=e=>{p.f.event("livesdk_exchange_click",e),p.f.event("livesdk_recharge_exchange_click",e)},this.handleExchangeShow=e=>{p.f.event("livesdk_exchange_show",e)},this.handleExchangeCustomClick=e=>{p.f.event("livesdk_exchange_custom_click",e)},this.handleExchangePopupShow=e=>{p.f.event("livesdk_exchange_confirm_popup_show",e),p.f.event("livesdk_recharge_exchange_popup_show",e)},this.handleExchangeConfirm=e=>{p.f.event("livesdk_exchange_confirm",e),p.f.event("livesdk_recharge_exchange_confirm",e)},this.handleExchangeCancel=e=>{p.f.event("livesdk_exchange_cancel",e)},this.handleExchangeConfirmCancel=e=>{p.f.event("livesdk_exchange_confirm_cancel",e),p.f.event("livesdk_recharge_exchange_cancel",e)},this.handleExchangeSuccess=e=>{p.f.event("livesdk_exchange_success",e),p.f.event("livesdk_recharge_exchange_success",e)},this.handleExchangeFailed=e=>{p.f.event("livesdk_exchange_fail",e),p.f.event("livesdk_recharge_exchange_failed",e)},this.handleExchangePackageShow=e=>{p.f.event("livesdk_recharge_exchange_package_show",e)},this.handleExchangePreview=e=>{p.f.event("livesdk_recharge_exchange_preview",e)},this.handleRechargeLogoutClick=e=>{p.f.event("livesdk_logout_click",e)},this.handleBillingAddressShow=e=>{p.f.event("livesdk_billing_address_show",e)},this.handleBillingAddressConfirm=e=>{p.f.event("livesdk_billing_address_confirm",e)},this.handleBillingAddressCancel=e=>{p.f.event("livesdk_billing_address_cancel",e)},this.handleBillingAddressFailed=e=>{p.f.event("livesdk_billing_address_failed",e)},this.handleNoticeShow=e=>{p.f.event("livesdk_webapp_top_notice_show",e)},this.handleNoticeClick=e=>{p.f.event("livesdk_webapp_top_notice_click",e)},this.handleNoticeClose=e=>{p.f.event("livesdk_webapp_top_notice_close",e)},this.handleAbnormalFeatureToast=e=>{p.f.event("livesdk_feature_abnormal_toast",e)},this.liveKycReminderPopup=e=>{p.f.event("livesdk_kyc_reminder_popup",e)},this.liveKycReminderPopupClick=e=>{p.f.event("livesdk_kyc_reminder_popup_click",e)},this.liveKycPopupShow=e=>{p.f.event("livesdk_kyc_popup_show",e)},this.liveKycPopupClick=e=>{p.f.event("livesdk_kyc_popup_click",e)},this.handlePaymentBindShow=e=>{p.f.event("livesdk_payment_bind_show",e)},this.handlePaymentBindClick=e=>{p.f.event("livesdk_payment_bind_click",e)},this.handlePaymentBindSuccess=e=>{p.f.event("livesdk_payment_bind_success",e)},this.handlePaymentBindFail=e=>{p.f.event("livesdk_payment_bind_fail",e)},this.handleRechargePackageShow=e=>{p.f.event("livesdk_recharge_package_show",e)},this.handleRechargeBanPopupShow=e=>{p.f.event("livesdk_recharge_ban_popup_show",e)},this.handleRechargeBanPopupClick=e=>{p.f.event("livesdk_recharge_ban_popup_click",e)},this.handleRechargePackagePreview=e=>{p.f.event("livesdk_recharge_package_preview",e)},this.handleRechargeCompletedEducationPopupShow=e=>{p.f.event("livesdk_payment_completed_popup_show",e)},this.handleRechargeCompletedEducationPopupClick=e=>{p.f.event("livesdk_payment_completed_click",e)},this.handleNegativeBalancePopupShow=e=>{p.f.event("livesdk_negative_balance_popup_show",e)},this.handleNegativeBalancePopupClick=e=>{p.f.event("livesdk_negative_balance_click",e)},this.handleRechargeLimitToastShow=e=>{p.f.event("livesdk_wallet_limit_toast_show",e)},this.handleRechargeLimitPopupShow=e=>{p.f.event("livesdk_wallet_limit_popup_show",e)},this.handleRechargeLimitPopupClick=e=>{p.f.event("livesdk_wallet_limit_popup_click",e)},this.incentiveBannerShow=e=>{p.f.event("livesdk_kyc_incentive_banner_show",e)},this.incentiveBannerClick=e=>{p.f.event("livesdk_kyc_incentive_banner_click",e)},this.kycCouponShow=e=>{p.f.event("livesdk_kyc_coupon_show",e)},this.kycCouponChoose=e=>{p.f.event("livesdk_kyc_coupon_choose",e)},this.kycCouponRuleShow=e=>{p.f.event("livesdk_kyc_coupon_rule_show",e)},this.kycCouponCashierShow=e=>{p.f.event("livesdk_kyc_coupon_cashier_show",e)},this.kycCouponFreezeFirstReminder=e=>{p.f.event("livesdk_kyc_coupon_freeze_first_reminder_popup_show",e)},this.kycCouponFreezeFirstReminderClick=e=>{p.f.event("livesdk_kyc_coupon_freeze_first_reminder_popup_click",e)},this.kycCouponFreezeSecondReminderClick=e=>{p.f.event("livesdk_kyc_coupon_freeze_second_reminder_popup_click",e)},this.kycCouponFreezeSecondReminderShow=e=>{p.f.event("livesdk_kyc_coupon_freeze_second_reminder_popup_show",e)},this.cashierClose=(e,{beacon:t}={})=>{t?p.f.beconEvent("livesdk_cashier_close",e):p.f.event("livesdk_cashier_close",e)},this.customRechargeShow=e=>{p.f.event("livesdk_custom_recharge_show",e)},this.customSwitchEntranceClick=e=>{p.f.event("livesdk_custom_switch_entrance_click",e)},this.customSwitchOptionsClick=e=>{p.f.event("livesdk_custom_switch_options_click",e)},this.customInputTotalFaqClick=e=>{p.f.event("livesdk_web_pay_total_info_click",e)},this.exchangeBillingAddressEntranceShow=e=>{p.f.event("livesdk_exchange_billing_address_entrance_show",e)},this.exchangeBillingAddressEntranceClick=e=>{p.f.event("livesdk_exchange_billing_address_entrance_click",e)},this.handleCashierPayMethodLoadSuccess=e=>{p.f.event("livesdk_pay_method_load_success",e)},this.handleCashierPayMethodLoadFail=e=>{p.f.event("livesdk_pay_method_load_fail",e)},this.handleRechargeLoginClick=e=>{p.f.event("livesdk_recharge_click_to_login",e)},this.handleLiveRechargeExchangeLimitPopupShow=e=>{p.f.event("livesdk_wallet_limit_popup_show",e)},this.handleLiveRechargeExchangeLimitPopupClick=e=>{p.f.event("livesdk_wallet_limit_popup_click",e)},this.exchangeRetainFirstPopupShow=e=>{p.f.event("livesdk_recharge_retain_first_popup_show",e)},this.handleExchangeRetainFirstPopupClick=e=>{p.f.event("livesdk_recharge_retain_first_popup_click",e)},this.exchangeRetainSecondPopupShow=e=>{p.f.event("livesdk_recharge_retain_second_popup_show",e)},this.handleExchangeRetainSecondPopupClick=e=>{p.f.event("livesdk_recharge_retain_second_popup_click",e)},this.handleLoginQRCodeShow=e=>{p.f.event("livesdk_login_qr_code_show",e)},this.handleLoginQRCodeInstructionShow=e=>{p.f.event("livesdk_login_qr_code_instruction_show",e)},this.handleLoginQRCodeScanResultShow=e=>{p.f.event("livesdk_login_qr_code_scan_result_show",e)},this.handleAddHomescreenShortcutGuideShow=e=>{p.f.event("livesdk_add_homescreen_shortcut_guide_show",e)},this.handleAddToHomescreenShortcutGuideClick=e=>{p.f.event("livesdk_add_homescreen_shortcut_guide_click",e)},this.handleAddHomescreenShortcutInstructionShow=e=>{p.f.event("livesdk_add_homescreen_shortcut_instruction_show",e)},this.handlePricePopupShow=e=>{p.f.event("livesdk_price_info_popup_show",e)},this.handleSecuritySignShow=e=>{p.f.event("livesdk_webapp_security_sign_show",e)},this.handleSecuritySignClick=e=>{p.f.event("livesdk_webapp_security_sign_click",e)},this.handleSecurityPageShow=e=>{p.f.event("livesdk_webapp_security_page_show",e)},this.handleSecurityPageClick=e=>{p.f.event("livesdk_webapp_security_page_click",e)},this.customExchangeCustomPanelShow=e=>{p.f.event("livesdk_custom_exchange_show",e)},this.customExchangeCustomPanelSwitchEntranceClick=e=>{p.f.event("livesdk_exchange_custom_switch_entrance_click",e)},this.customExchangeCustomPanelSwitchOptionClick=e=>{p.f.event("livesdk_exchange_custom_switch_options_click",e)},this.customExchangeCustomPanelTotalInfoClick=e=>{p.f.event("livesdk_exchange_custom_total_info_click",e)},this.switchIapRechargeButtonShow=e=>{p.f.event("livesdk_switch_iap_recharge_button_show",e)},this.switchIapRechargeButtonClick=e=>{p.f.event("livesdk_switch_iap_recharge_button_click",e)},this.switchIapRechargeBubbleShow=()=>{p.f.event("livesdk_panel_change_bubble_show")},this.handleLCPReport=e=>{p.f.event("livesdk_recharge_panel_lcp",e)},this.handleEmailConfirmPopupShow=e=>{p.f.event("livesdk_email_confirm_popup_show",e)},this.handleEmailConfirmPopupClick=e=>{p.f.event("livesdk_email_confirm_popup_click",e)},this.handleEmailEditPageShow=e=>{p.f.event("livesdk_email_edit_page_show",e)},this.handleEmailEditPageTextboxClick=e=>{p.f.event("livesdk_email_edit_page_text_box_click",e)},this.handleEmailEditCodeError=e=>{p.f.event("livesdk_email_edit_page_code_error",e)},this.handleEmailEditSuccess=e=>{p.f.event("livesdk_email_edit_success",e)},this.referralBannerShow=e=>{p.f.event("livesdk_promotion_get_gift_popup_show",e)},this.referralBannerClick=e=>{p.f.event("livesdk_promotion_get_gift_popup_click",e)},this.homeScreenV2TriggerPointShow=e=>{p.f.event("livesdk_add_homescreen_shortcut_guide_show",e)},this.homeScreenV2AddButtonClick=e=>{p.f.event("livesdk_add_homescreen_shortcut_guide_click",e)},this.handlePageShow=e=>{p.f.event("livesdk_wallet_page_show",e)},this.handleClientShow=e=>{p.f.event("livesdk_wallet_client_show",e)},this.handleViewClick=e=>{p.f.event("livesdk_wallet_view_click",e)}}};g=(0,c.__decorate)([(0,u._)()],g)},78859:(e,t,i)=>{"use strict";i.d(t,{B:()=>d});var n=i(72516),o=i(24643),a=i(54133),r=i(40099),s=i(45375),l=i(22797);const d=(0,r.forwardRef)(function(e,t){var{uniqueId:i,secUid:d,extraQuery:c={},children:u,replace:p=!1,isInBrowserMode:g=!1,teaParams:_,stopPropagation:m=!0,shouldDirectOpenLive:h=!1,onClick:v,onLinkClick:f}=e,y=(0,n.__rest)(e,["uniqueId","secUid","extraQuery","children","replace","isInBrowserMode","teaParams","stopPropagation","shouldDirectOpenLive","onClick","onLinkClick"]);const b=(0,r.useMemo)(()=>({pathname:(0,s.G2o)({uniqueId:i,secUid:d}),search:c}),[c,d,i]),x=(0,r.useRef)(null),k=(0,r.useCallback)(e=>{e.preventDefault();const t=(0,a.stringifyUrl)({url:(0,s.G2o)({uniqueId:i,secUid:d}),query:c});h?window.location.href=t:window.open(t,"tiktok_live_view_window")},[i,d,c,h]),w=(0,r.useCallback)(e=>{k(e),m&&e.stopPropagation(),null==v||v(e),null==f||f(e,b.pathname)},[k,m,v,f,b.pathname]),S=(0,r.useCallback)(e=>{var t;13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),null===(t=x.current)||void 0===t||t.click())},[]);return(0,r.useImperativeHandle)(t,()=>({linkClick:()=>{var e;null===(e=x.current)||void 0===e||e.click()}})),(0,o.jsx)(l.N_,Object.assign({to:b},y,{replace:p||g,ref:x,target:"tiktok_live_view_window",onClick:w,onKeyDown:S,children:u}))})},79054:(e,t,i)=>{"use strict";i.d(t,{p:()=>c,X:()=>s});var n=i(24643),o=i(57615),a=i(40099);const r=(0,i(16410).default)("div",{target:"e5epvdv0"})({display:"flex",alignItems:"center",justifyContent:"center"},"label:DivToastBodyContainer;");var s,l=i(27799),d=i(18650);!function(e){e[e.Unknown=0]="Unknown",e[e.AddToSpotify=1]="AddToSpotify",e[e.AddToAppleMusic=2]="AddToAppleMusic",e[e.ConnectToSpotify=3]="ConnectToSpotify",e[e.ConnectToAppleMusic=4]="ConnectToAppleMusic",e[e.Error=5]="Error"}(s||(s={}));const c=(0,a.forwardRef)(({},e)=>{const t=(0,l.s)(),{isRTL:i}=(0,d.m)(),c=(0,o.Abx)();return(0,a.useImperativeHandle)(e,()=>({show:e=>{c.showSingleMode({type:e})}})),(0,n.jsx)(o.otH,{position:"top",state:c,render:({type:e})=>(0,n.jsxs)(n.Fragment,{children:[e===s.AddToSpotify&&(0,n.jsx)(o.Mzi,{content:(0,n.jsxs)(r,{children:[(0,n.jsx)(o.VuH,{size:"22"}),(0,n.jsx)("div",{style:i?{marginRight:"12px"}:{marginLeft:"12px"},children:t("tt2dspWeb_addedToast_v2")})]})}),e===s.AddToAppleMusic&&(0,n.jsx)(o.Mzi,{content:(0,n.jsxs)(r,{children:[(0,n.jsx)(o.Z6u,{size:"24"}),(0,n.jsx)("div",{style:i?{marginRight:"12px"}:{marginLeft:"12px"},children:t("tt2dspWeb_addedToast_v1")})]})}),e===s.ConnectToSpotify&&(0,n.jsx)(o.Mzi,{content:(0,n.jsx)(r,{children:(0,n.jsx)("div",{children:t("tt2dspWeb_linkedDSPOnly_spotify")})})}),e===s.ConnectToAppleMusic&&(0,n.jsx)(o.Mzi,{content:(0,n.jsx)(r,{children:(0,n.jsx)("div",{children:t("tt2dspWeb_linkedDSPOnly_appleMusic")})})}),e===s.Error&&(0,n.jsx)(o.Mzi,{content:(0,n.jsx)(r,{children:(0,n.jsx)("div",{children:t("tt2dspWeb_failedToAdd_toast")})})})]})})})},79415:(e,t,i)=>{"use strict";i.d(t,{AK:()=>s,Vi:()=>l,Zx:()=>_,gt:()=>a,ht:()=>p,l5:()=>r,n9:()=>d,p5:()=>g});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"e1rpry1m0"})({width:"100%",height:"24px",flex:"1 1 auto",position:"relative"},"label:DivSeekBarContainer;"),r=(0,n.default)("div",{target:"e1rpry1m1"})({flex:"0 0 88px",maxWidth:"88px",marginInlineStart:"8px",fontSize:"14px",lineHeight:"24px",color:"#ffffff",textAlign:"end",whiteSpace:"nowrap",fontFeatureSettings:'"tnum"',fontVariantNumeric:"tabular-nums",fontFamily:"Tahoma, PingFangSC, sans-serif"},"label:DivSeekBarTimeContainer;"),s=(0,n.default)("div",{target:"e1rpry1m2"})(({theme:{colors:e}})=>({height:"4px",width:"100%",backgroundColor:e.ConstTextInverse5,position:"absolute",left:"0",top:"50%",transform:"translateY(-50%)",cursor:"pointer","&:focus-visible":{outline:`2px solid ${e.Negative}`}}),"label:DivSeekBarProgress;"),l=(0,n.default)("div",{target:"e1rpry1m3"})(({theme:{direction:e,colors:t}})=>({height:"4px",width:"100%",backgroundColor:t.ConstTextInverse,position:"absolute",top:"50%",transform:"translateY(-50%)",cursor:"pointer",transformOrigin:"rtl"===e?"right":"left"}),"label:DivSeekBar;"),d=(0,n.default)("div",{target:"e1rpry1m4"})(({theme:{direction:e}})=>(0,o.mp)({direction:e}),({theme:{direction:e}})=>({display:"none",width:"16px",height:"16px",backgroundColor:"#ffffff",borderRadius:"16px",position:"absolute",top:"50%",transform:`translate(${"rtl"===e?"50%":"-50%"}, -50%)`,cursor:"pointer",zIndex:1}),"label:DivSeekBarCircle;"),c="calc(100% - 160px)",u="translateX(-50%)",p=(0,n.default)("div",{target:"e1rpry1m5"})(({show:e,extraBottomSpace:t,isDisplayForAnyWidth:i,isNarrow:n=!1,useFullWideInNarrow:o=!1})=>({width:n?"calc(100% - 250px)":c,height:"24px",paddingInline:"16px",position:"absolute",opacity:e?"1":"0",transition:"opacity .3s",bottom:t?"68px":"28px",cursor:"initial",display:"flex",alignItems:"center",left:"50%",transform:u,maxWidth:"56.25vh",[`:hover ${s}`]:{height:"6px"},[`:hover ${l}`]:{height:"6px"},[`:hover ${d}`]:{display:"block"},"@media (max-width: 900px)":{display:i?"":"none"},"@media (max-width: 1430px)":o?{maxWidth:"unset",width:c,marginInlineStart:"4px",left:"unset",transform:"none"}:{},zIndex:1}),"label:DivVideoControlContainer;"),g=(0,n.default)("div",{target:"e1rpry1m6"})({width:c,height:"28px",position:"absolute",bottom:0,left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"},"label:DivVideoControlBottom;"),_=(0,n.default)("div",{target:"e1rpry1m7"})(({widerBottom:e})=>({width:c,height:"10px",position:"absolute",bottom:e?"92px":"52px",left:"50%",transform:u,cursor:"initial",maxWidth:"56.25vh"}),"label:DivVideoControlTop;")},79697:(e,t,i)=>{"use strict";i.d(t,{t:()=>R});var n=i(24643),o=i(40099),a=i(87373),r=i(14952),s=i(37082),l=i(73107),d=i(45375),c=i(20434),u=i(27799),p=i(43703),g=i(43736),_=i(69857),m=i(90976),h=i(49432),v=i(31382),f=i(71754),y=i(24479),b=i(16410),x=i(93584),k=i(5786);const w=(0,b.default)("div",{target:"er095111"})(({paddingStart:e=0,theme:{direction:t}})=>[{zIndex:100,position:"absolute"},(0,x.mp)({direction:t,paddingStart:e})],"label:DivProfileOuterContainer;"),S=(0,b.default)("div",{target:"er095112"})(({theme:{colors:e,isDark:t}})=>({position:"relative",width:"320px",boxSizing:"border-box",padding:"20px",background:e.BGSecondary,boxShadow:t?"unset":`0px 4px 16px ${e.ShadowPrimary}`,borderRadius:"8px"}),"label:DivProfileContainer;"),C=(0,b.default)("div",{target:"er095113"})({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},"label:DivHeadContainer;"),j=(0,b.default)(k.E,{target:"er095114"})(({theme:e})=>(0,x.zy)({theme:e,color:"TextPrimary",fontWeight:"bold",fontFamily:"TikTokDisplayFont",typography:"H5"}),x.AB,"label:StyledUserTitle;"),T=(0,b.default)(k.E,{target:"er095115"})(({theme:e})=>(0,x.zy)({theme:e,color:"TextPrimary",fontWeight:"semiBold",fontFamily:"TikTokFont",typography:"P3"}),x.AB,"label:StyledUserName;"),I=(0,b.default)(k.E,{target:"er095116"})({display:"block",width:"44px",flex:"0 0 44px"},"label:StyledAvatarLink;"),P=(0,b.default)("p",{target:"er095117"})({marginTop:"8px"},"label:PUserStat;"),A=(0,b.default)("span",{target:"er095118"})(({theme:e})=>[(0,x.zy)({theme:e,fontWeight:"bold",typography:"H3"}),(0,x.mp)({direction:e.direction,marginEnd:"6px"}),{fontSize:"17px",lineHeight:"20px",display:"inline-block"}],"label:SpanUserStatsText;"),M=(0,b.default)("span",{target:"er095119"})(({theme:e})=>[(0,x.zy)({theme:e,color:"TextSecondary",typography:"H3"}),{fontSize:"17px",lineHeight:"20px",display:"inline-block",":not(:last-of-type)":(0,x.mp)({direction:e.direction,marginEnd:"12px"})}],"label:SpanUserStatsDesc;"),L=(0,b.default)("p",{target:"er0951110"})(({theme:e})=>[(0,x.zy)({theme:e,typography:"P3"}),{paddingTop:"16px",marginTop:"16px",borderTop:`1px solid ${e.colors.LineSecondary2}`}],"label:PSignature;");var D=i(61198),O=i(16356);const R=(0,o.memo)(function(e){var t,i;const{uniqueId:b,top:x,target:k="_blank",hideSignature:R,fixedLeft:E,paddingStart:F,paddingTop:B,groupId:z,followTheme:U,teaParams:N,onClick:W}=e,V=(0,u.s)(),[H,q]=(0,O.JY)(e=>({user:e.users[b],stats:e.stats[b]}),D.bN),{isADVirtual:$}=null!==(t=null==H?void 0:H.user)&&void 0!==t?t:{},{language:G}=null!==(i=(0,m.W)(()=>["language"],[]))&&void 0!==i?i:{},K=(0,f.G)({modalConfig:{query:{enter_method:"click_follow",group_id:z}}}),Y=Object.assign({enter_method:"click_hover"},N);z&&(Y.group_id=z);const{isFollowing:Z,handleFollow:J,text:X}=(0,v.Tu)({uniqueId:b,onNeedLogin:K,teaParams:Y}),{secUid:Q,id:ee}=(0,_.L$)(H.user);(0,o.useEffect)(()=>{H.stats&&!H.stats.needFix||q.getUserDetail({uniqueId:b,secUid:Q,language:G})},[q,H.stats,G,Q,b]),(0,o.useEffect)(()=>{a.c.handleDropdownCardShow()},[]);const te=(0,o.useMemo)(()=>({to_user_id:ee,author_id:ee,enter_method:"click_dropdown_card"}),[ee]),ie=(0,h.U)({pathname:(0,d.fJR)({uniqueId:b,secUid:Q})}),ne=(0,g.w)(),oe=(0,o.useCallback)(e=>{(0,c.Gu)(e),null==W||W(e),$||("_blank"===k?window.open(ie,"_blank"):ne(e,{href:ie,shouldUsePush:!0}))},[ne,ie,W,$,k]);if(!H.user)return(0,p.d)(["item.user"]);const{avatarThumb:ae,nickname:re,verified:se,signature:le,stateControlledMedia:de}=H.user,{stats:ce}=H;return z&&(te.group_id=z),(0,n.jsx)(w,{paddingStart:F,paddingTop:B,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,style:{top:(null!=x?x:0)+40,left:E},children:(0,n.jsxs)(S,{children:[(0,n.jsxs)(C,{children:[(0,n.jsx)(I,{uniqueId:b,secUid:Q,target:k,rel:"opener",teaParams:te,"data-e2e":"user-card-avatar",onClick:oe,children:(0,n.jsx)(s.e,{size:44,src:ae})}),(0,n.jsx)(l.y,{size:"small",onClick:J,buttonTheme:Z?"default":null!=U?U:"line","data-e2e":"user-card-follow",children:X})]}),(0,n.jsxs)(j,{uniqueId:b,secUid:Q,target:k,rel:"opener",teaParams:te,children:[(0,n.jsx)("span",{"data-e2e":"user-card-username",children:b}),se&&(0,n.jsx)(r.s,{width:14,height:14,"data-e2e":"user-card-bluev"})]}),(0,n.jsx)("br",{}),(0,n.jsx)(T,{uniqueId:b,secUid:Q,target:k,rel:"opener",teaParams:te,"data-e2e":"user-card-nickname",children:re}),(0,n.jsx)(y.w,{stateControlledMedia:de,labelType:2}),(0,n.jsxs)(P,{children:[(0,n.jsx)(A,{"data-e2e":"user-card-follower-count",children:ce?(0,_.D1)(ce.followerCount):"--"}),(0,n.jsx)(M,{"data-e2e":"user-card-follower",children:V("Followers")}),(0,n.jsx)(A,{"data-e2e":"user-card-like-count",children:ce?(0,_.D1)(Number(ce.heart)||ce.heartCount):"--"}),(0,n.jsx)(M,{"data-e2e":"user-card-like",children:V("Likes")})]}),le&&!R&&(0,n.jsx)(L,{"data-e2e":"user-card-user-bio",children:le})]})})})},80019:(e,t,i)=>{"use strict";i.d(t,{p:()=>u});var n=i(40099),o=i(14539),a=i(80619),r=i(57354);const s=(e="stable",t)=>"experimental"===e?(e=>{const{os:t,browserName:i}=null!=e?e:{},{userAgent:n}=(0,r.T6)();if("android"!==(null!=t?t:(0,o.R0)(n)))return{};const s=null!=i?i:(0,a.Y0)(n);if([a.mC["Samsung Browser"],a.mC["Chrome Webview"],a.mC.Line,a.mC["Opera Mobile"],a.mC["vivo Browser"],a.mC.Snapchat].includes(s))return{experimentalSkipSchemes:!0,experimentalUseAppLink:!1,experimentalUseBetterAppLink:!1,disableAfdp:!1,fallbackURLParams:{af_android_store_csl:"t"}};if([a.mC.Facebook,a.mC["Facebook Lite"],a.mC["Facebook Messenger"],a.mC["Facebook Messenger Lite"],a.mC["Instagram App"]].includes(s)){const e=[a.mC.Facebook,a.mC["Instagram App"]].includes(s);return{experimentalSkipSchemes:!0,experimentalUseAppLink:!1,experimentalUseBetterAppLink:!1,disableAfdp:e,fallbackURLParams:{af_android_store_csl:"t"},experimentalFallbackTemplateURLParams:e?{deep_link_value:"{{schema}}"}:void 0}}return{experimentalSkipSchemes:!1,experimentalUseAppLink:!0,experimentalUseBetterAppLink:!1,disableAfdp:!1}})(t):(e=>{const{os:t,browserName:i}=null!=e?e:{},{userAgent:n}=(0,r.T6)();if("android"!==(null!=t?t:(0,o.R0)(n)))return{};const s=null!=i?i:(0,a.Y0)(n);if([a.mC["Samsung Browser"],a.mC["Chrome Webview"],a.mC.Line,a.mC["Opera Mobile"],a.mC["vivo Browser"],a.mC.Snapchat].includes(s))return{experimentalSkipSchemes:!0,experimentalUseAppLink:!1,experimentalUseBetterAppLink:!1,disableAfdp:!1,fallbackURLParams:{af_android_store_csl:"t"}};if([a.mC.Facebook,a.mC["Facebook Lite"],a.mC["Facebook Messenger"],a.mC["Facebook Messenger Lite"],a.mC["Instagram App"]].includes(s)){const e=[a.mC.Facebook,a.mC["Instagram App"]].includes(s);return{experimentalSkipSchemes:!0,experimentalUseAppLink:!1,experimentalUseBetterAppLink:!1,disableAfdp:e,fallbackURLParams:{af_android_store_csl:"t"},experimentalFallbackTemplateURLParams:e?{tt_target:"{{schema}}"}:void 0}}return{experimentalSkipSchemes:!1,experimentalUseAppLink:!0,experimentalUseBetterAppLink:!1,disableAfdp:!1}})(t);var l=i(20101),d=i(73282),c=i(89768);function u(){return(0,n.useMemo)(()=>function(){var e,t,i;const n=(0,c.x)().abTestVersion,u="v0"!==(null!==(i=null===(t=null===(e=null==n?void 0:n.parameters)||void 0===e?void 0:e.seo_jump_optimization)||void 0===t?void 0:t.vid)&&void 0!==i?i:"v0"),{userAgent:p,referrer:g}=(0,r.T6)(),_=(0,o.R0)(p),m=(0,a.Y0)(p,g),h=s("stable",{os:_,browserName:m});return h.experimentalUseAppLink&&(h.experimentalUseBetterAppLink=!0),u?{providerProps:Object.assign({enableApiOptimization:!0,checkOpenTime:50},h),withDefaultHrefPropsFn:e=>e?"enhance":void 0,defaultHrefFn:l.D}:{providerProps:{enableApiOptimization:!0,checkOpenTime:50},withDefaultHrefPropsFn:e=>!!e||void 0,defaultHrefFn:d.Ac}}(),[])}},80049:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var n=i(40099),o=i(24806),a=i(73041);function r(){const e=(0,n.useMemo)(()=>(0,o.gc)(),[]),t=(0,n.useMemo)(()=>(0,a.fU)()?"web_h264":e?"web_h265":"web_h264",[e]);return{openH265:"web_h265"===t,streamDeviceType:t,hevcSupport:e}}},80988:(e,t,i)=>{"use strict";i.d(t,{S:()=>n,a:()=>o});const n=3,o=-3},81018:(e,t,i)=>{"use strict";i.d(t,{q:()=>y});var n=i(24643),o=i(40099),a=i(67476),r=i(67518),s=i(68932),l=i(70126),d=i(9015),c=i(68316),u=i(27799),p=i(45027),g=i(73580),_=i(85650),m=i(15923),h=i(66712),v=i(90976);const f=({passcode:e="1234",onClose:t,hours:i,minutes:f})=>{var y;const b=(0,u.s)(),{isDark:x}=(0,r.u)(),[k,w]=(0,o.useState)(""),S=!k,C=(0,a.Ab)({zIndex:999999}),[j,T]=(0,o.useState)(""),[I,P]=(0,p.S)(_.z),A=(0,g.Nj)(m.i),M=(0,o.useMemo)(()=>I.isFpTeenOpenDailySTM,[I.isFpTeenOpenDailySTM]),L=(0,o.useMemo)(()=>I.parentUsername,[I.parentUsername]),{user:D}=null!==(y=(0,v.W)(()=>["user"],[]))&&void 0!==y?y:{},O=()=>{C.open({id:"stmPasscodeSuccess",message:b(c.A.STM_CONFIRM_TOAST,{},"You've returned to Tiktok"),durationMS:3e3,hasTickIcon:!0}),A.uploadDailySTMPopupSuccess({date:(0,h.zk)(new Date),screen_time_limit_type:M?3:1}).subscribe(),"function"==typeof t&&t(),A.uploadMetric("web_users_return_tt")},R=()=>{T(b(c.A.STM_INCORRECT_PASSCODE,{},"The passcode you entered is incorrect. Please try again.")),A.uploadMetric("web_dstime_passcode_error")},E=(0,o.useMemo)(()=>{if(f&&i){const e=(0,h.gO)(b("dailyscreentime_notifreminder_desc_hoursminutes",{hours:String(i),minutes:String(f)},"You’ve spent {hours}h {minutes}m on TikTok today. Close it to stay within your daily time, or enter the passcode <b>1234</b> to return to TikTok."),{hours:String(i),minutes:String(f)}).split("<b>1234</b>");return[e[0],(0,n.jsx)("b",{children:"1234"},"passwcode"),e[1]]}if(i){const e=(0,h.gO)(b(c.A.STM_DESC_HOURS,{hours:String(i)},"You’ve spent {hours}h on TikTok today. Close it to stay within your daily time, or enter the passcode <b>1234</b> to return to TikTok."),{hours:String(i)}).split("<b>1234</b>");return[e[0],(0,n.jsx)("b",{children:"1234"},"passwcode"),e[1]]}const e=(0,h.gO)(b(c.A.STM_DESC_MINUTES,{minutes:String(f)},"You’ve spent {minutes}m on TikTok today. Close it to stay within your daily time, or enter the passcode <b>1234</b> to return to TikTok."),{minutes:String(f)}).split("<b>1234</b>");return[e[0],(0,n.jsx)("b",{children:"1234"},"passwcode"),e[1]]},[b,i,f]),F=(0,o.useMemo)(()=>f&&i?(0,h.gO)(b(c.A.STM_DESC_HOURS_MINUTES_FP,{minutes:String(f),hours:String(i),username:L},"You’ve spent {hours}h {minutes}m on TikTok today. Close it to stay within your daily time, or enter a passcode from {username} to return to TikTok."),{minutes:String(f),hours:String(i),username:L}):i?(0,h.gO)(b(c.A.STM_DESC_HOURS_FP,{hours:String(i),username:L},"You’ve spent {hours}h on TikTok today. Close it to stay within your daily time, or enter a passcode from {username} to return to TikTok."),{hours:String(i),username:L}):(0,h.gO)(b(c.A.STM_DESC_MINUTES_FP,{minutes:String(f),username:L},"You’ve spent {minutes}m on TikTok today. Close it to stay within your daily time, or enter a passcode from {username} to return to TikTok."),{minutes:String(f),username:L}),[b,L,i,f]),B=(0,o.useMemo)(()=>M?F:E,[M,E,F]);return(0,n.jsxs)(d._w,{children:[(0,n.jsx)(d.lZ,{src:x?s:l,height:"145px"}),(0,n.jsx)(d.hE,{children:b(c.A.STM_TITLE,{},"Ready to close Tiktok")}),(0,n.jsx)(d.VY,{children:B}),(0,n.jsx)(d.bK,{children:(0,n.jsx)(a.R8,{errorText:j,maxLength:4,value:k,onChange:e=>{const t=e.target.value.replace(/[^\d]/g,"");w(t),T("")},block:!0})}),(0,n.jsx)(d.ST,{children:(0,n.jsx)(a.I0,{disabled:S,onClick:()=>{try{if(A.uploadMetric("web_dstime_enter_passcode"),M){if(M){const e=(0,h.Zf)(k,(null==D?void 0:D.uid)||"");A.uploadDailySTMTeenPinSuccess(e).subscribe({next:e=>{0===e.status_code?O():R()},error:()=>{R()}})}}else k!==e?R():O()}catch(e){console.error(e),R()}},label:b(c.A.STM_RETURN_TIKTOK,{},"Return to Tiktok"),variant:"primary",size:"large",block:!0})})]})},y=()=>{const e=(0,g.Nj)(m.i),[t,i]=(0,p.S)(_.z),r=(0,o.useMemo)(()=>Math.floor((t.timeUsageToday+t.activeTimeUsage)/3600),[t.timeUsageToday,t.activeTimeUsage]),s=(0,o.useMemo)(()=>Math.round((t.timeUsageToday+t.activeTimeUsage)%3600/60),[t.timeUsageToday,t.activeTimeUsage]),l=(0,o.useMemo)(()=>(1===t.STMInterventionType||3===t.STMInterventionType)&&t.defaultDailySTMPopup&&t.isOpenDailySTM,[t.STMInterventionType,t.defaultDailySTMPopup,t.isOpenDailySTM]);return(0,o.useEffect)(()=>{l&&e.uploadMetric("web_stm_pop_up")},[l]),(0,n.jsx)(a.Mw,{isOpen:l,size:"Small",children:(0,n.jsx)(f,{hours:r,minutes:s,onClose:()=>{i.setDefaultDailySTMPopup(!1)}})})}},81229:(e,t,i)=>{"use strict";i.d(t,{K:()=>r,v:()=>s});var n=i(19664),o=i(98042),a=i(40099);const r=e=>{const{updateGlobalVVCount:t}=(0,n.nr)(),i=(0,o.eu)(),r=(0,a.useCallback)(()=>{t(e)},[t,e]),s=(0,a.useCallback)(()=>{(3===e||2===e&&i)&&t(e)},[t,e]);return(0,a.useMemo)(()=>({handleBreakCount:r,handleVvCountOnEnd:s}),[e])},s=e=>{const t=(null==e?void 0:e.UrlList)||[];return t.length<1?null:t.map(e=>({src:e}))}},81363:(e,t,i)=>{"use strict";i.d(t,{e:()=>l});var n=i(24643),o=i(40099);const a={display:"flex",alignItems:"center",padding:"10px 12px",columnGap:"4px",background:"var(--UI-Image-Overlay-Dark-Gray-A60, rgba(51, 51, 51, 0.60))",margin:"12px -12px -16px",borderRadius:"0 0 16px 16px"},r={display:"flex",alignItems:"center",justifyContent:"center"},s={wordBreak:"break-word",height:"auto",fontSize:"12px",fontWeight:"500",color:"var(--Text-Const-ConstTextInverse, #FFF)",lineHeight:1.3,letterSpacing:"0.161px"},l=(0,o.memo)(function({text:e}){return(0,n.jsxs)("div",{style:a,children:[(0,n.jsx)("div",{style:r,children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_2143_23)",children:(0,n.jsx)("path",{d:"M0.666748 8.00002C0.666748 3.94992 3.94998 0.666687 8.00008 0.666687C12.0502 0.666687 15.3334 3.94992 15.3334 8.00002C15.3334 12.0501 12.0502 15.3334 8.00008 15.3334C3.94998 15.3334 0.666748 12.0501 0.666748 8.00002ZM9.10008 5.06669C9.10008 4.45916 8.60761 3.96669 8.00008 3.96669C7.39255 3.96669 6.90008 4.45916 6.90008 5.06669C6.90008 5.67422 7.39255 6.16669 8.00008 6.16669C8.60761 6.16669 9.10008 5.67422 9.10008 5.06669ZM7.63341 7.26669C7.4309 7.26669 7.26675 7.43084 7.26675 7.63335V11.6667C7.26675 11.8692 7.4309 12.0334 7.63341 12.0334H8.36675C8.56926 12.0334 8.73342 11.8692 8.73342 11.6667V7.63335C8.73342 7.43084 8.56926 7.26669 8.36675 7.26669H7.63341Z",fill:"white"})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_2143_23",children:(0,n.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]})}),(0,n.jsx)("div",{style:s,children:e})]})})},81378:(e,t,i)=>{"use strict";i.d(t,{Fy:()=>z,I4:()=>U,tq:()=>H});var n,o,a=i(72516),r=i(71450),s=i(4126),l=i(13356),d=i(340),c=i(23999),u=i(63700),p=i(26324),g=i(24451),_=i(62564),m=i(72916),h=i(8536),v=i(74690),f=i(80339),y=i(76435),b=i(95719),x=i(20259),k=i(37818),w=i(73995),S=i(44203),C=i(48156),j=i(73041),T=i(28439),I=i(39301),P=i(21002),A=i(83692),M=i(60716),L=i(30301),D=i(60267),O=i(41516),R=i(1404),E=i(16618),F=i(70591),B=i(32242);!function(e){e[e.NetworkError=-1]="NetworkError",e[e.NoResultText=10]="NoResultText",e[e.SelfHarmText=11]="SelfHarmText",e[e.HateSexualizationText=12]="HateSexualizationText",e[e.Guide=13]="Guide"}(n||(n={})),function(e){e.ShowWithButton="show_with_button",e.ShowDirectly="show_directly",e.NoResult="no_results"}(o||(o={}));const z={keyword:"",error:null,loading:!0,hasMore:!0,cursor:0,items:[],preloadList:[],searchPrecheck:null},U={keyword:"",error:null,loading:!0,hasMore:!0,totalLength:0,isGoToHashtag:!1,cursor:0,data:{videoList:[],otherDataList:[]},preloadList:[],searchPrecheck:null},N={rootEnterFrom:void 0,preSearchId:void 0},W={1:(e,t)=>{var i,n,o,a,r,s,l,d,c;t.totalLength++,t.data.videoList=[...t.data.videoList,null!==(n=null===(i=e.item)||void 0===i?void 0:i.id)&&void 0!==n?n:""];const u={id:null!==(r=null===(a=null===(o=e.item)||void 0===o?void 0:o.video)||void 0===a?void 0:a.id)&&void 0!==r?r:"",url:null!==(d=null===(l=null===(s=e.item)||void 0===s?void 0:s.video)||void 0===l?void 0:l.playAddr)&&void 0!==d?d:""};t.preloadList=[...null!==(c=t.preloadList)&&void 0!==c?c:[],u]},4:(e,t)=>{var i,n;const o=t.data.videoList.length,a={type:e.type,items:null===(i=e.user_list)||void 0===i?void 0:i.map(({user_info:e})=>{var i;return t.totalLength++,null!==(i=e.unique_id)&&void 0!==i?i:""}),position:o%6==0?o:6*Math.ceil(o/6),hasMore:null!==(n=e.view_more)&&void 0!==n&&n,common:e.common};t.data.otherDataList=[...t.data.otherDataList,a]},20:(e,t)=>{var i,n,o,a,r,s,l,d,c;const u=t.data.videoList.length;t.totalLength++;const p={type:e.type,items:[null!==(n=null===(i=e.user_live)||void 0===i?void 0:i.user_info.user_info.unique_id)&&void 0!==n?n:""],lives:[null!==(r=null===(a=null===(o=e.user_live)||void 0===o?void 0:o.live_info)||void 0===a?void 0:a.id_str)&&void 0!==r?r:""],position:u%6==0?u:6*Math.ceil(u/6),hasMore:null!==(s=e.view_more)&&void 0!==s&&s,common:e.common,teaParams:{search_result_id:null!==(c=null===(d=null===(l=e.user_live)||void 0===l?void 0:l.user_info)||void 0===d?void 0:d.user_info.uid)&&void 0!==c?c:""}};t.data.otherDataList=[...t.data.otherDataList,p]},61:(e,t)=>{var i,n,o,a;const r=t.data.videoList.length;t.totalLength++;const s={type:e.type,lives:null===(i=e.live_collection)||void 0===i?void 0:i.map(({id_str:e})=>e),position:r%6==0?r:6*Math.ceil(r/6),hasMore:null!==(n=e.view_more)&&void 0!==n&&n,common:e.common,teaParams:{search_result_id:null!==(a=null===(o=e.common)||void 0===o?void 0:o.doc_id_str)&&void 0!==a?a:""}};t.data.otherDataList=[...t.data.otherDataList,s]}},V={1:(e,t,i)=>{var n,o,a;const{enter_from:r,totalLength:s,count:l,impr_id:d,videoCount:c,videoStart:u}=t;w.$G.handleSearchVideoImpression(Object.assign(Object.assign({},i),{enter_from:r,rank:u+c,item_rank:s+l,group_id:null===(n=e.item)||void 0===n?void 0:n.id,author_id:null===(a=null===(o=e.item)||void 0===o?void 0:o.author)||void 0===a?void 0:a.id,impr_id:d})),t.count++,t.videoCount++},4:(e,t,i)=>{var n;const{enter_from:o,userStart:a,userCount:r,totalLength:s,count:l,impr_id:d}=t;return null===(n=e.user_list)||void 0===n||n.forEach(e=>{var n;const c=Object.assign(Object.assign({},i),{search_result_id:e.user_info.uid});w.$G.handleSearchImpression(Object.assign({enter_from:o,rank:a+r,item_rank:s+l,impr_id:d},c));const u=null!==(n=e.user_info.room_id_str)&&void 0!==n?n:String(e.user_info.room_id);Boolean(Number(u))&&S.lu.handleLiveShow(Object.assign({room_id:u,anchor_id:e.user_info.uid,action_type:"click",enter_from_merge:"general_search",enter_method:"others_photo"},c)),t.count++,t.userCount++}),t},61:(e,t,i)=>{var n,o,a;const{enter_from:r}=t,s=Object.assign(Object.assign({},i),{search_result_id:null!==(o=null===(n=e.common)||void 0===n?void 0:n.doc_id_str)&&void 0!==o?o:"",enter_from:r,token_type:"live_card",is_aladdin:1,rank:0});w.$G.handleSearchImpression(s),null===(a=e.live_collection)||void 0===a||a.forEach((e,t)=>{w.$G.handleSearchImpression(Object.assign(Object.assign({},s),{aladdin_words:e.title,aladdin_rank:t,list_result_type:"live",list_item_id:e.id_str,realtime_watch_user:e.user_count}))}),t.count++},20:(e,t,i)=>{var n,o,a,r,s;const{enter_from:l,impr_id:d}=t,{user_info:c,live_info:u}=null!==(n=null==e?void 0:e.user_live)&&void 0!==n?n:{},p=Object.assign(Object.assign({},i),{search_result_id:null!==(o=null==c?void 0:c.user_info.uid)&&void 0!==o?o:""}),g=Object.assign(Object.assign({},p),{user_name:null===(a=null==c?void 0:c.user_info)||void 0===a?void 0:a.nickname,user_tag:"",enter_from:l,token_type:"hot_user",is_aladdin:1,rank:0});w.$G.handleSearchImpression(Object.assign(Object.assign({},g),{impr_id:d})),w.$G.handleSearchImpression(Object.assign(Object.assign({},g),{list_result_type:"live",list_item_id:null!==(r=null==u?void 0:u.id_str)&&void 0!==r?r:""}));const _=null==u?void 0:u.id_str;_&&S.lu.handleLiveShow(Object.assign(Object.assign({},p),{room_id:_,anchor_id:null!==(s=null==c?void 0:c.user_info.uid)&&void 0!==s?s:"",action_type:"click",enter_from_merge:"general_search",enter_method:"others_photo"})),t.count++}};let H=class extends r.E{constructor(e,t,i,n,o,a,r,s,l,d){super(),this.service=e,this.user=t,this.seoModule=i,this.itemList=n,this.liveList=o,this.videoMask=a,this.bizContext=r,this.videoPlayerJotai=s,this.personalization=l,this.t=d,this.defaultState={showTabs:!0,general:U,user:z,video:z,live:z,searchReminderData:null,searchGlobalParams:N}}setSearchResult(e,t){const{key:i,result:n}=null!=t?t:{};e[i]=n}setSearchReminderData(e,t){e.searchReminderData=t.data}addSearchResult(e,t){var i,n,o,a,r;const{key:s,result:l}=null!=t?t:{};if(!e[s])return e[s]=l,e;e[s]=Object.assign(Object.assign(Object.assign({},e[s]),l),{items:null===(n=null===(i=e[s])||void 0===i?void 0:i.items)||void 0===n?void 0:n.concat(l.items),preloadList:null===(a=null===(o=e[s])||void 0===o?void 0:o.preloadList)||void 0===a?void 0:a.concat(null!==(r=l.preloadList)&&void 0!==r?r:[])})}addTopSearchResult(e,t){var i,n;const o=e.general;null===(i=t.data)||void 0===i||i.forEach(e=>{e.type&&W[e.type](e,o)}),e.general=Object.assign(Object.assign({},e.general),{hasMore:Boolean(t.has_more),cursor:null!==(n=t.cursor)&&void 0!==n?n:0,data:Object.assign({},o.data),rid:t.rid,preloadList:o.preloadList})}setSearchLoading(e,t){const{key:i,loading:n}=null!=t?t:{};e[i].loading=n}setIsGoToHashtag(e,t){const{key:i,isGoToHashtag:n}=null!=t?t:{};e[i].isGoToHashtag=n}setShowTabs(e,t){e.showTabs=t}setSearchGlobalParams(e,t){e.searchGlobalParams=Object.assign(Object.assign({},e.searchGlobalParams),t)}setSearchPrecheck(e,t){const{key:i,value:n}=null!=t?t:{};e[i].searchPrecheck=n}setKeyword(e,t){const{key:i,keyword:n}=t;e[i].keyword=n}resetSearchResult(e){e.general=U,e.user=z,e.video=z,e.live=z}getTopSearch(e){return e.pipe((0,g.E)(this.state$,this.videoMask.state$,this.bizContext.state$,this.personalization.state$,this.videoPlayerJotai.state$),(0,_.T)(([e,t,i,n,{isSearchPersonalized:o},a])=>({query:e,state:t.general,videoMaskState:i,bizContextState:n,searchGlobalParams:t.searchGlobalParams,nonPersonalized:o?void 0:1,currentVideo:a.currentVideo})),(0,m.n)(e=>{var t=e.query,{teaParams:i,abTestVersion:n,user:o,language:r,hasSearchLive:s}=t,l=(0,a.__rest)(t,["teaParams","abTestVersion","user","language","hasSearchLive"]),{state:d,state:{cursor:p,data:g,rid:m},videoMaskState:b,searchGlobalParams:x,nonPersonalized:w,currentVideo:S}=e;let C=(0,c.of)({});l.keyword&&!(0,j.fU)()&&(C=this.service.getTopSearch(Object.assign(Object.assign({},l),{offset:p,search_id:m,web_search_code:this.getWebSearchCode(n),is_non_personalized_search:w})));const T=Date.now();return C.pipe((0,_.T)(e=>{var t,i;return Object.assign(e,{data:null!==(i=null===(t=e.data)||void 0===t?void 0:t.map(e=>{var t,i,n,o,a,r;switch(e.type){case 20:return s?Object.assign(e,{user_live:{live_info:JSON.parse(null!==(n=null===(i=null===(t=e.user_live)||void 0===t?void 0:t.live_info)||void 0===i?void 0:i.raw_data)&&void 0!==n?n:"{}"),user_info:null===(o=e.user_live)||void 0===o?void 0:o.user_info}}):null;case 61:return s?Object.assign(e,{live_collection:null===(r=null===(a=e.live_collection)||void 0===a?void 0:a.live_list)||void 0===r?void 0:r.map(({raw_data:e="{}"})=>JSON.parse(e))}):null;case 4:case 1:return e;default:return null}}).filter(e=>Boolean(e)))&&void 0!==i?i:[]})}),this.handleTopSearchReport({state:d,keyword:l.keyword,isSendSearch:0===p,teaParams:i,requestStart:T,searchGlobalParams:x,groupId:null==S?void 0:S.id}),(0,h.Z)(e=>{var t,i,a,s,p,g;let _=!1;const h=null===(t=null==e?void 0:e.global_doodle_config)||void 0===t?void 0:t.forbid_search_type;(1===h||0===h&&0===(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.length))&&(_=!0);const v=this.seoModule.setSearchSEOProps(e,{language:r},{pathname:k.OZ.searchHome,input_keyword:l.keyword}),{has_more:f,data:y=[],extra:x={},search_nil_info:w,suicide_prevent:S,search_nil_text:C,status_code:j,log_pb:T}=e,I=[0,203,403].includes(j)?0:j,{logid:P}=x,A=null!==(a=null!=m?m:P)&&void 0!==a?a:"",M=w&&[11,13].includes(null!==(s=w.text_type)&&void 0!==s?s:0);if(!y.length&&!f&&!M)return this.generateErrorState({search_nil_info:w,search_nil_text:C,suicide_prevent:S,state:d,key:"general",keyword:l.keyword,pathname:k.OZ.searchHome,action$s:[v]});const L=[],D=[],O={hasMore:Boolean(f),statusCode:I,itemList:[],rid:A,log_pb:T},R={hasMore:Boolean(f),statusCode:I,liveList:[],rid:A};let E=null;M&&(E={type:null!==(p=null==w?void 0:w.text_type)&&void 0!==p?p:11,data:Object.assign(Object.assign({},S),{et_search_id:A})}),y.forEach(e=>{var t,i,n,o,a;switch(e.type){case 1:O.itemList.push(e.item);break;case 4:const r=Object.assign(Object.assign({},e),{items:[]}),{user_list:s=[]}=e;s.forEach(({user_info:e={}})=>{const{user:t,stats:i}=this.userConvertor(e,A,null==T?void 0:T.impr_id),{unique_id:n=""}=e;L.push(t),D.push(i),r.items.push(n)});break;case 20:if(null===(i=null===(t=e.user_live)||void 0===t?void 0:t.user_info)||void 0===i?void 0:i.user_info){const{user_live:{user_info:{user_info:t}}}=e,{user:i,stats:n}=this.userConvertor(t,A,null==T?void 0:T.impr_id);L.push(i),D.push(n)}(null===(o=null===(n=e.user_live)||void 0===n?void 0:n.live_info)||void 0===o?void 0:o.id_str)&&R.liveList.push(e.user_live.live_info);break;case 61:null===(a=e.live_collection)||void 0===a||a.forEach(e=>{e.id_str&&R.liveList.push(e)})}}),(1===(null==o?void 0:o.photoSensitiveVideosSetting)||!o&&1===b.photoSensitiveVideosSetting)&&(e.data=null===(g=e.data)||void 0===g?void 0:g.filter(e=>{var t;return 4===e.type||4!==(null===(t=e.item)||void 0===t?void 0:t.maskType)}));const F=(0,c.of)(this.user.getActions().multiSetUser(L),this.user.getActions().multiSetUserStats(D),this.itemList.getActions().setList({response:O,key:"search_top",abTestVersion:n,user:o,language:r}),this.liveList.getActions().setList({response:R,key:"search_top",abTestVersion:n,user:o,language:r}),this.getActions().addTopSearchResult(Object.assign(Object.assign({},e),{rid:A})),this.getActions().setSearchPrecheck({key:"general",value:E}),this.getActions().setIsGoToHashtag({key:"general",isGoToHashtag:_}),this.getActions().setSearchGlobalParams({preSearchId:A}));return(0,u.h)(F,v)}),this.catchError({isEmpty:Boolean(g.videoList.length||g.otherDataList.length),key:"general",keyword:l.keyword,state:d,teaParams:i,isSendSearch:0===p}),(0,v.Z)(this.getActions().setSearchLoading({key:"general",loading:!0}),this.getActions().setShowTabs(!0),this.getActions().setKeyword({key:"general",keyword:l.keyword})),(0,f.q)(this.getActions().setSearchLoading({key:"general",loading:!1}),this.terminate()),(0,y.Q)(this.getAction$().dispose))}))}getUserSearch(e){return e.pipe((0,g.E)(this.state$,this.bizContext.state$,this.personalization.state$,this.videoPlayerJotai.state$),(0,_.T)(([e,t,i,{isSearchPersonalized:n},o])=>({query:e,state:t.user,bizContextState:i,currentVideo:o.currentVideo,searchGlobalParams:t.searchGlobalParams,nonPersonalized:n?void 0:1})),(0,m.n)(e=>{var t=e.query,{teaParams:i,abTestVersion:n,language:o,user:r}=t,s=(0,a.__rest)(t,["teaParams","abTestVersion","language","user"]),{state:l,state:{cursor:d,items:p,rid:g},searchGlobalParams:_,nonPersonalized:m,currentVideo:x}=e;let C=(0,c.of)({});s.keyword&&!(0,j.fU)()&&(C=this.service.getUserSearch(Object.assign(Object.assign({},s),{cursor:d,search_id:g,web_search_code:this.getWebSearchCode(n),is_non_personalized_search:m})));const T=Date.now();return C.pipe((0,b.M)(e=>{var t,n;const{user_list:o=[],log_pb:a,extra:r}=e,{impr_id:l}=null!=a?a:{},{logid:c}=null!=r?r:{},u=null!==(t=null!=g?g:c)&&void 0!==t?t:"";if(o.length){const e=p.length;o.forEach((t,i)=>{var n;w.$G.handleSearchImpression({search_type:"user",enter_from:"search_result",rank:e+i,search_keyword:s.keyword,search_result_id:t.user_info.uid,impr_id:l,search_id:u});const o=null!==(n=t.user_info.room_id_str)&&void 0!==n?n:String(t.user_info.room_id);Boolean(Number(o))&&S.lu.handleLiveShow({room_id:o,anchor_id:t.user_info.uid,action_type:"click",enter_from_merge:"search_user",enter_method:"others_photo",search_type:"user",search_id:u,search_keyword:s.keyword,search_result_id:t.user_info.uid,rank:e+i,impr_id:l})})}else w.$G.handleSearchResultEmpty({search_keyword:s.keyword,impr_id:l,search_id:u});0===d&&i&&w.$G.handleSearch(Object.assign(Object.assign({},i),{search_id:u,search_keyword:s.keyword,impr_id:l,duration:Date.now()-T,pre_search_id:_.preSearchId,group_id:null!==(n=null==x?void 0:x.id)&&void 0!==n?n:void 0}))}),(0,h.Z)(e=>{var t,i,n;const a=this.seoModule.setSearchSEOProps(e,{language:o},{pathname:k.OZ.searchUser,input_keyword:s.keyword}),{has_more:r,cursor:d,user_list:p=[],extra:_,search_nil_info:m,suicide_prevent:h,search_nil_text:v,log_pb:f}=e,y=null!==(t=null!=g?g:null==_?void 0:_.logid)&&void 0!==t?t:"",b=m&&[11,13].includes(null!==(i=m.text_type)&&void 0!==i?i:0);let x=null,w=null;if(b&&(w={type:null!==(n=null==m?void 0:m.text_type)&&void 0!==n?n:11,data:Object.assign(Object.assign({},h),{et_search_id:y})},x=(0,c.of)(this.getActions().setSearchPrecheck({key:"user",value:w}))),!p.length&&!r&&!b)return this.generateErrorState({res:e,search_nil_info:m,search_nil_text:v,suicide_prevent:h,state:l,key:"user",keyword:s.keyword,pathname:k.OZ.searchUser,action$s:[a]});if(p.length){const e=[],t=[],i=p.map(({user_info:i})=>{const{user:n,stats:o}=this.userConvertor(i,y,null==f?void 0:f.impr_id);return e.push(n),t.push(o),n.uniqueId}),n=(0,c.of)(this.user.getActions().multiSetUser(e),this.user.getActions().multiSetUserStats(t),this.getActions().addSearchResult({key:"user",result:{hasMore:Boolean(r),keyword:s.keyword,cursor:d,error:null,items:i,loading:!1,rid:y,preloadList:[]}}),this.getActions().setSearchGlobalParams({preSearchId:y}));return x?(0,u.h)(a,n,x):(0,u.h)(a,n)}return x?(0,u.h)(a,x):a}),this.catchError({isEmpty:Boolean(p.length),key:"user",keyword:s.keyword,state:l,teaParams:i,isSendSearch:0===d}),(0,v.Z)(this.getActions().setSearchLoading({key:"user",loading:!0}),this.getActions().setShowTabs(!0),this.getActions().setKeyword({key:"user",keyword:s.keyword})),(0,f.q)(this.getActions().setSearchLoading({key:"user",loading:!1}),this.terminate()),(0,y.Q)(this.getAction$().dispose))}))}getVideoSearch(e){return e.pipe((0,g.E)(this.state$,this.videoMask.state$,this.bizContext.state$,this.personalization.state$,this.videoPlayerJotai.state$),(0,_.T)(([e,t,i,n,{isSearchPersonalized:o},a])=>({query:e,state:t.video,searchGlobalParams:t.searchGlobalParams,videoMaskState:i,bizContextState:n,nonPersonalized:o?void 0:1,currentVideo:a.currentVideo})),(0,m.n)(e=>{var t=e.query,{teaParams:i,abTestVersion:n,language:o,user:r,filterId:s}=t,l=(0,a.__rest)(t,["teaParams","abTestVersion","language","user","filterId"]),{state:d,state:{cursor:p,items:g,rid:_},videoMaskState:m,searchGlobalParams:x,currentVideo:S,nonPersonalized:C}=e;let T=(0,c.of)({});l.keyword&&!(0,j.fU)()&&(T=this.service.getVideoSearch(Object.assign(Object.assign({},l),{offset:p,count:20,search_id:_,web_search_code:this.getWebSearchCode(n),is_non_personalized_search:C})));const I=Date.now();return T.pipe((0,b.M)(e=>{var t,n;const{item_list:o=[],log_pb:a,extra:r}=e,s=null!==(t=null!=_?_:null==r?void 0:r.logid)&&void 0!==t?t:"";if(o.length){const e=g.length;o.forEach((t,i)=>{var n;w.$G.handleSearchVideoImpression({search_type:"video",enter_from:"search_result",group_id:null==t?void 0:t.id,author_id:null===(n=null==t?void 0:t.author)||void 0===n?void 0:n.id,rank:e+i,search_keyword:l.keyword,impr_id:null==a?void 0:a.impr_id,search_id:s})})}else w.$G.handleSearchResultEmpty({search_keyword:l.keyword,impr_id:null==a?void 0:a.impr_id,search_id:s});0===p&&i&&w.$G.handleSearch(Object.assign(Object.assign({},i),{search_id:s,search_keyword:l.keyword,impr_id:null==a?void 0:a.impr_id,duration:Date.now()-I,pre_search_id:x.preSearchId,group_id:null!==(n=null==S?void 0:S.id)&&void 0!==n?n:void 0}))}),(0,h.Z)(e=>{var t,i,a,p,g;const h=this.seoModule.setSearchSEOProps(e,{language:o},{pathname:k.OZ.searchVideo,input_keyword:l.keyword}),{has_more:v,cursor:f,item_list:y=[],extra:b,search_nil_info:x,suicide_prevent:w,search_nil_text:S,status_code:C,log_pb:j}=e,T=[0,203,403].includes(C)?0:C,I=x&&[11,13].includes(null!==(t=x.text_type)&&void 0!==t?t:0),P=null!==(i=null!=_?_:null==b?void 0:b.logid)&&void 0!==i?i:"";if(!y.length&&!v&&!I)return this.generateErrorState({search_nil_info:x,search_nil_text:S,suicide_prevent:w,state:d,key:"video",keyword:l.keyword,pathname:k.OZ.searchVideo,action$s:[h]});let A=[];const M=y.filter(e=>e.id!==s);A=1===(null==r?void 0:r.photoSensitiveVideosSetting)||!r&&1===m.photoSensitiveVideosSetting?M.filter(e=>4!==(null==e?void 0:e.maskType)).map(({id:e})=>e):M.map(({id:e})=>e);const L=null!==(a=M.map(e=>{const{video:{id:t,playAddr:i=""}}=e;return{id:t,url:i}}))&&void 0!==a?a:[];let D=null;I&&(D={type:null!==(p=null==x?void 0:x.text_type)&&void 0!==p?p:11,data:Object.assign(Object.assign({},w),{et_search_id:null!==(g=null==b?void 0:b.logid)&&void 0!==g?g:""})});const O=(0,c.of)(this.itemList.getActions().setList({response:{itemList:M,hasMore:Boolean(v),statusCode:T,log_pb:j},key:"search_video",abTestVersion:n,language:o,user:r}),this.getActions().addSearchResult({key:"video",result:{hasMore:Boolean(v),keyword:l.keyword,cursor:null!=f?f:0,error:null,items:A,loading:!1,rid:null!=_?_:null==b?void 0:b.logid,preloadList:L}}),this.getActions().setSearchPrecheck({key:"video",value:D}),this.getActions().setSearchGlobalParams({preSearchId:P}));return(0,u.h)(O,h)}),this.catchError({isEmpty:Boolean(g.length),state:d,keyword:l.keyword,teaParams:i,key:"video",isSendSearch:0===p}),(0,v.Z)(this.getActions().setSearchLoading({key:"video",loading:!0}),this.getActions().setShowTabs(!0),this.getActions().setKeyword({key:"video",keyword:l.keyword})),(0,f.q)(this.getActions().setSearchLoading({key:"video",loading:!1}),this.terminate()),(0,y.Q)(this.getAction$().dispose))}))}getLiveSearch(e){return e.pipe((0,g.E)(this.state$,this.bizContext.state$,this.personalization.state$,this.videoPlayerJotai.state$),(0,_.T)(([e,t,i,{isSearchPersonalized:n},o])=>({query:e,state:t.live,searchGlobalParams:t.searchGlobalParams,bizContextState:i,nonPersonalized:n?void 0:1,currentVideo:o.currentVideo})),(0,m.n)(e=>{var t=e.query,{teaParams:i,abTestVersion:n,language:o,user:r}=t,s=(0,a.__rest)(t,["teaParams","abTestVersion","language","user"]),{state:l,state:{cursor:d,items:p,rid:g},searchGlobalParams:m,currentVideo:x,nonPersonalized:S}=e;let C=(0,c.of)({});s.keyword&&!(0,j.fU)()&&(C=this.service.getLiveSearch(Object.assign(Object.assign({},s),{offset:d,count:20,search_id:g,web_search_code:this.getWebSearchCode(n),is_non_personalized_search:S})));const T=Date.now(),I=C.pipe((0,_.T)(e=>{var t;return Object.assign(Object.assign({},e),{data:null===(t=e.data)||void 0===t?void 0:t.map(e=>{var t,i;return JSON.parse(null!==(i=null===(t=e.live_info)||void 0===t?void 0:t.raw_data)&&void 0!==i?i:"{}")})})}));return I.pipe((0,b.M)(e=>{var t,n;const{data:o=[],log_pb:a,extra:r}=e,l=null!==(t=null!=g?g:null==r?void 0:r.logid)&&void 0!==t?t:"";if(o.length){const e=p.length;o.forEach(({user_count:t=0,like_count:i=0,id_str:n},o)=>{const r=t<=50&&i>t;w.$G.handleSearchImpression({search_id:l,search_result_id:n,enter_from:"search_result",search_keyword:s.keyword,token_type:"live_card",is_aladdin:0,rank:e+o,result_source:"search",room_tag:"",like_number:r?i:"",realtime_watch_user:r?"":t,search_type:"live",impr_id:null==a?void 0:a.impr_id})})}else w.$G.handleSearchResultEmpty({search_keyword:s.keyword,impr_id:null==a?void 0:a.impr_id,search_id:l});0===d&&i&&w.$G.handleSearch(Object.assign(Object.assign({},i),{search_id:l,search_keyword:s.keyword,impr_id:null==a?void 0:a.impr_id,duration:Date.now()-T,pre_search_id:m.preSearchId,group_id:null!==(n=null==x?void 0:x.id)&&void 0!==n?n:void 0}))}),(0,h.Z)(e=>{var t,i,a,d;const p=this.seoModule.setSearchSEOProps(e,{language:o},{pathname:k.OZ.searchLive,input_keyword:s.keyword}),{has_more:_,cursor:m,data:h=[],extra:v,search_nil_info:f,suicide_prevent:y,search_nil_text:b,status_code:x}=e,w=[0,203,403].includes(x)?0:x,S=f&&[11,13].includes(null!==(t=f.text_type)&&void 0!==t?t:0),C=null!==(i=null!=g?g:null==v?void 0:v.logid)&&void 0!==i?i:"";if(!h.length&&!_&&!S)return this.generateErrorState({search_nil_info:f,search_nil_text:b,suicide_prevent:y,state:l,key:"live",keyword:s.keyword,pathname:k.OZ.searchLive,action$s:[p]});let j=null;S&&(j={type:null!==(a=null==f?void 0:f.text_type)&&void 0!==a?a:11,data:Object.assign(Object.assign({},y),{et_search_id:null!==(d=null==v?void 0:v.logid)&&void 0!==d?d:""})});const T=(0,c.of)(this.liveList.getActions().setList({response:{liveList:h,hasMore:Boolean(_),statusCode:w},key:"search_live",abTestVersion:n,language:o,user:r}),this.getActions().addSearchResult({key:"live",result:{hasMore:Boolean(_),keyword:s.keyword,cursor:null!=m?m:0,error:null,items:h.map(e=>e.id_str),loading:!1,rid:null!=g?g:null==v?void 0:v.logid}}),this.getActions().setSearchPrecheck({key:"live",value:j}),this.getActions().setSearchGlobalParams({preSearchId:C}));return(0,u.h)(T,p)}),this.catchError({isEmpty:Boolean(p.length),state:l,keyword:s.keyword,teaParams:i,key:"video",isSendSearch:0===d}),(0,v.Z)(this.getActions().setSearchLoading({key:"live",loading:!0}),this.getActions().setShowTabs(!0),this.getActions().setKeyword({key:"live",keyword:s.keyword})),(0,f.q)(this.getActions().setSearchLoading({key:"live",loading:!1}),this.terminate()),(0,y.Q)(this.getAction$().dispose))}))}handleTopSearchReport({state:{data:e,totalLength:t,rid:i},isSendSearch:n,teaParams:o,keyword:a,requestStart:r,searchGlobalParams:s,groupId:l}){return(0,b.M)(d=>{var c;const{data:u=[],log_pb:p,extra:g={}}=d,{logid:_}=g,m=null!==(c=null!=i?i:_)&&void 0!==c?c:"",{impr_id:h}=null!=p?p:{};if(u.length){const i=e.videoList.length,n={enter_from:"general_search",userStart:t-e.videoList.length,totalLength:t,keyword:a,impr_id:h,searchId:m,videoStart:i,count:0,userCount:0,videoCount:0},o={search_type:"general",search_id:m,search_keyword:a};u.forEach(e=>{var t,i;null===(i=V[null!==(t=null==e?void 0:e.type)&&void 0!==t?t:""])||void 0===i||i.call(V,e,n,o)})}else w.$G.handleSearchResultEmpty({search_keyword:a,impr_id:h,search_id:m});n&&o&&w.$G.handleSearch(Object.assign(Object.assign({},o),{search_id:m,search_keyword:a,impr_id:h,duration:Date.now()-r,pre_search_id:s.preSearchId,group_id:null!=l?l:void 0}))})}catchError({isEmpty:e,teaParams:t,keyword:i,key:n,state:o,isSendSearch:a}){return(0,x.W)(()=>e?(C.F.open({content:this.t("server_error_title"),duration:3,widthType:"half"}),(0,c.of)(this.noop())):(a&&t&&w.$G.handleSearch(Object.assign(Object.assign({},t),{search_id:"",search_keyword:i})),(0,c.of)(this.getActions().setSearchResult({key:n,result:Object.assign(Object.assign({},o),{keyword:i,error:{type:-1}})}))))}generateErrorState(e){const{search_nil_info:t,search_nil_text:i,state:n,key:o,keyword:a,actions:r=[],action$s:s=[]}=e,{text_type:l}=null!=t?t:{text_type:10},d={type:l||10};12===l&&(d.extra=i);const p=(0,c.of)(this.getActions().setSearchResult({key:o,result:Object.assign(Object.assign({},n),{keyword:a,error:d})}),...r);return(0,u.h)(p,...s)}userConvertor(e,t,i){var n;return{user:(0,I.bg)(e,{search_id:t,impr_id:i}),stats:{uniqueId:null!==(n=e.unique_id)&&void 0!==n?n:"",stats:(0,P.sg)(e,!0)}}}getWebSearchCode(e){var t,i;const{parameters:n={}}=null!=e?e:{},{search_add_live:o,search_server:a}=n,r={tiktok:{client_params_x:{search_engine:{}},search_server:{}}};return"v2"===(null==o?void 0:o.vid)&&(r.tiktok.client_params_x.search_engine.ies_mt_user_live_video_card_use_libra=1,r.tiktok.client_params_x.search_engine.mt_search_general_user_live_card=1),Object.keys(null!==(t=null==a?void 0:a.vid)&&void 0!==t?t:{}).length>0&&(r.tiktok.search_server=null!==(i=null==a?void 0:a.vid)&&void 0!==i?i:{}),JSON.stringify(r)}};(0,a.__decorate)([(0,s.uk)(),(0,a.__metadata)("design:type",p.c)],H.prototype,"dispose",void 0),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"setSearchResult",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"setSearchReminderData",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"addSearchResult",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"addTopSearchResult",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"setSearchLoading",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"setIsGoToHashtag",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Boolean]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"setShowTabs",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"setSearchGlobalParams",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"setSearchPrecheck",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object,Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"setKeyword",null),(0,a.__decorate)([(0,s.h5)(),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[Object]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"resetSearchResult",null),(0,a.__decorate)([(0,s.Mj)({payloadGetter:1,skipFirstClientDispatch:!1}),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[p.c]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"getTopSearch",null),(0,a.__decorate)([(0,s.Mj)({payloadGetter:1,skipFirstClientDispatch:!1}),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[p.c]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"getUserSearch",null),(0,a.__decorate)([(0,s.Mj)({payloadGetter:1,skipFirstClientDispatch:!1}),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[p.c]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"getVideoSearch",null),(0,a.__decorate)([(0,s.Mj)({payloadGetter:1,skipFirstClientDispatch:!1}),(0,a.__metadata)("design:type",Function),(0,a.__metadata)("design:paramtypes",[p.c]),(0,a.__metadata)("design:returntype",void 0)],H.prototype,"getLiveSearch",null),H=(0,a.__decorate)([(0,l.nV)("Search"),(0,a.__param)(9,(0,d.y)(T.hp)),(0,a.__metadata)("design:paramtypes",[F.S,D.U,L.E,R.O,M.F,O.w,A.$,B.Q,E.fu,Function])],H)},81474:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var n=i(40099);const o=({upHandler:e,downHandler:t,confirmHandler:i,tabHandler:o})=>(0,n.useCallback)(n=>{const{keyCode:a}=n;switch(a){case 38:n.preventDefault(),e();break;case 40:n.preventDefault(),t();break;case 13:null==i||i();break;case 9:null==o||o(n)}},[i,t,o,e])},81491:(e,t,i)=>{"use strict";i.d(t,{Y:()=>C});var n,o=i(24643),a=i(73580),r=i(40099),s=i(39001),l=i(66493),d=i(11271),c=i(71225),u=i(19664),p=i(45435),g=i(10114),_=i(69857),m=i(77849),h=i(61322),v=i(72516),f=i(58116);!function(e){e.NoInteract="failed because the user didn't interact with the document first.",e.SafariNoInteract="The request is not allowed by the user agent or the platform in the current context",e.FireFox="The play method is not allowed by the user agent or the platform in the current context, possibly because the user denied permission."}(n||(n={}));const y=e=>({buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}),b=(0,r.memo)((0,r.forwardRef)(function(e,t){var{playProgress:i,muteSetting:n,onUnmount:a,onEnded:s,onWaiting:l,onError:d,disableDownload:u=!1,itemMute:p=!1}=e,g=(0,v.__rest)(e,["playProgress","muteSetting","onUnmount","onEnded","onWaiting","onError","disableDownload","itemMute"]);const _=(0,r.useRef)(null),m=(0,r.useRef)(!1),{mute:h,volume:b,playing:x}=(0,f.O2)(n),{setMute:k}=(0,c.S4)();(0,r.useImperativeHandle)(t,()=>{const e=_.current;return{play:null==e?void 0:e.play.bind(e),pause:null==e?void 0:e.pause.bind(e),onTimeUpdate:t=>{null==e||e.addEventListener("timeupdate",()=>{var i,n;const o=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(n=e.duration)&&void 0!==n?n:0;t(o/a,o,a)})},onCanPlay:t=>{null==e||e.addEventListener("canplay",t)},getPlayerAttributes:()=>y(e)}});const w=(0,r.useCallback)((e=0)=>(0,v.__awaiter)(this,void 0,void 0,function*(){var t,i,n,o;if(!(e>=3))try{yield null===(t=_.current)||void 0===t?void 0:t.play()}catch(t){const a=null!==(i=null==t?void 0:t.message)&&void 0!==i?i:"";(null!==(o=null!==(n=a.match("failed because the user didn't interact with the document first."))&&void 0!==n?n:a.match("The request is not allowed by the user agent or the platform in the current context"))&&void 0!==o?o:a.match("The play method is not allowed by the user agent or the platform in the current context, possibly because the user denied permission."))?(k(!0),setTimeout(()=>{w(e+1)},0)):w(e+1),null==d||d(t)}}),[k]);(0,r.useEffect)(()=>{_.current&&(_.current.volume=b)},[b]),(0,r.useEffect)(()=>{w(),_.current&&Math.abs(_.current.currentTime-i)>.2&&(_.current.currentTime=i)},[i,w]),(0,r.useEffect)(()=>{var e;x?m.current&&(m.current=!1,w()):(m.current=!0,null===(e=_.current)||void 0===e||e.pause())},[x,w]),(0,r.useEffect)(()=>{const e=_.current;return()=>{null==a||a(y(e))}},[]),(0,r.useEffect)(()=>{u&&(_.current.oncontextmenu=e=>(e.preventDefault(),!1))},[u,_]);const S=(0,r.useCallback)(e=>{null==l||l(e)},[l]),C=(0,r.useCallback)(e=>{null==s||s(e),w()},[s,w]);return(0,o.jsx)("audio",Object.assign({ref:_},g,{muted:p||h,playsInline:!0,autoPlay:!0,onEnded:C,onWaiting:S}))}));var x,k=i(79742);!function(e){e.NoInteract="failed because the user didn't interact with the document first.",e.SafariNoInteract="The request is not allowed by the user agent or the platform in the current context"}(x||(x={}));const w=e=>({buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}),S=(0,r.memo)((0,r.forwardRef)(function(e,t){var{playProgress:i,muteSetting:n,onUnmount:a,onEnded:s,onWaiting:l,onError:d,disableDownload:c=!1,itemMute:u=!1}=e,p=(0,v.__rest)(e,["playProgress","muteSetting","onUnmount","onEnded","onWaiting","onError","disableDownload","itemMute"]);const g=(0,r.useRef)(null),_=(0,k.M2)(),{setMobileDefaultMute:m,setForcePause:h}=(0,k._B)();(0,r.useImperativeHandle)(t,()=>{const e=g.current;return{play:null==e?void 0:e.play.bind(e),pause:null==e?void 0:e.pause.bind(e),onTimeUpdate:t=>{null==e||e.addEventListener("timeupdate",()=>{var i,n;const o=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(n=e.duration)&&void 0!==n?n:0;t(o/a,o,a)})},onCanPlay:t=>{null==e||e.addEventListener("canplay",t)},getPlayerAttributes:()=>w(e)}});const f=(0,r.useCallback)(()=>(0,v.__awaiter)(this,void 0,void 0,function*(){var e,t,i;try{yield null===(t=null===(e=g.current)||void 0===e?void 0:e.play)||void 0===t?void 0:t.call(e)}catch(e){return null==d||d(e),null!==(i=e.message)&&void 0!==i?i:""}return""}),[d]),y=(0,r.useCallback)(()=>{f().then(e=>{(e.match("failed because the user didn't interact with the document first.")||e.match("The request is not allowed by the user agent or the platform in the current context"))&&(h(!1),m(!0))})},[h,m,f]);(0,r.useEffect)(()=>{g.current&&y()},[y]),(0,r.useEffect)(()=>{const e=g.current;return()=>{null==a||a(w(e))}},[]),(0,r.useEffect)(()=>{c&&(g.current.oncontextmenu=e=>(e.preventDefault(),!1))},[c,g]);const b=(0,r.useCallback)(e=>{null==l||l(e)},[l]),x=(0,r.useCallback)(e=>{null==s||s(e),f()},[s,f]);return(0,o.jsx)("audio",Object.assign({ref:g},p,{muted:u||_,playsInline:!0,autoPlay:!0,onEnded:x,onWaiting:b}))})),C=(0,r.memo)((0,r.forwardRef)(function({playUrl:e,id:t,teaParams:i,index:n,mode:v,itemMute:f,onAudioPause:y,onAudioPlaying:x,onAudioPlay:k,onAudioEnded:w,onAudioError:C,onTimeUpdate:j},T){var I;const{isAndroid:P=!1,isMobile:A=!1}=null!==(I=(0,h.U)(()=>["isMobile","isAndroid"],[]))&&void 0!==I?I:{},{currentVideo:M}=(0,u.MY)(),L=(0,c.ol)(),D=(0,p.Ih)(),O=(0,r.useRef)(null),R=(0,r.useRef)(null),E=(0,a.Nj)(s.Gs),F=new d.re,B=(0,a.Nj)(l.AU),[z,U]=(0,r.useState)(!1),N=(0,r.useCallback)(()=>{var e,t;null===(t=null===(e=O.current)||void 0===e?void 0:e.play)||void 0===t||t.call(e)},[]),W=(0,r.useCallback)(()=>{var e,t;null===(t=null===(e=O.current)||void 0===e?void 0:e.pause)||void 0===t||t.call(e)},[]),V=(0,r.useMemo)(()=>{if(A){if(!D)return!1;const{id:e,index:i}=D;return!P||e===t&&i===n}if(!M)return!1;const{id:e,index:i,mode:o}=M;return e===t&&i===n&&o===v},[A,M,t,n,v,D,P]);(0,r.useImperativeHandle)(T,()=>({play:()=>{N(),R.current=!0},pause:()=>{W(),R.current=!1},onTimeUpdate:e=>{var t;null===(t=O.current)||void 0===t||t.onTimeUpdate(e)},get currentTime(){var e,t;return null!==(t=null===(e=O.current)||void 0===e?void 0:e.getPlayerAttributes().currentTime)&&void 0!==t?t:0},get duration(){var e,t;return null!==(t=null===(e=O.current)||void 0===e?void 0:e.getPlayerAttributes().duration)&&void 0!==t?t:0},get currentCanPlay(){return V&&z}}),[N,W,V,z]),(0,r.useEffect)(()=>{V||U(!1)},[V]);const H=(0,g.jj)();(0,r.useEffect)(()=>{const e=null===R.current||R.current;H&&e?N():W()},[H,N,W,E,V,v]);const q=(0,r.useCallback)(()=>{var n;const o=(0,_.L$)(null===(n=O.current)||void 0===n?void 0:n.getPlayerAttributes()),{bitrate:a,author_id:r,format:s,encodedType:l,videoQuality:d,encodeUserTag:c,codecType:u,definition:p,secret:g,forFriend:m,aweme_type:h,pic_cnt:f}=i;return Object.assign({id:t,authorId:r,playMode:v,bitrate:a,format:s,encodedType:l,videoQuality:d,encodeUserTag:c,codecType:u,definition:p,secret:g,forFriend:m,play_url:e,awemeType:h,picCnt:f},null!=o?o:{})},[t,v,i,e]),{handlePauseWithLoading:$,handlePlayingWithLoading:G}=(0,g.iJ)({isCurrentVideo:V}),K=(0,r.useCallback)(()=>{F.handleLoadStart(q())},[F,q]),Y=(0,r.useCallback)(e=>{null==k||k(e)},[k]),Z=(0,r.useCallback)(()=>{var e;const{currentTime:t=0,duration:i=0}=(0,_.L$)(null===(e=O.current)||void 0===e?void 0:e.getPlayerAttributes());F.handleTimeUpdate(q()),null==j||j(t/i)},[F,q,j]),J=(0,r.useCallback)(e=>{null==y||y(e),$()},[y,$]),X=(0,r.useCallback)(t=>{null==x||x(t),G(),B.reportVideoInteract({endTime:Date.now(),videoSource:e})},[x,G,B,e]),Q=(0,r.useCallback)(e=>{null==w||w(e),F.handleEnded()},[w,F]);return(0,r.useEffect)(()=>()=>{F.resetWhenSlideChange(Object.assign({},q()))},[e]),V?A?(0,o.jsx)(S,{ref:O,c:!0,muteSetting:f||m.T5[v].forceMute,defaultMute:m.T5[v].defaultMute,playProgress:null!=L?L:0,src:e,onTimeUpdate:Z,onError:C,onPause:J,onPlay:Y,onPlaying:X,onEnded:Q,onLoadStart:K}):(0,o.jsx)(b,{ref:O,c:!0,muteSetting:f||m.T5[v].forceMute,defaultMute:m.T5[v].defaultMute,playProgress:null!=L?L:0,src:e,onTimeUpdate:Z,onError:C,onPause:J,onPlay:Y,onPlaying:X,onEnded:Q,onLoadStart:K}):null}))},81817:(e,t,i)=>{"use strict";i.d(t,{v:()=>f});var n=i(95074),o=i(17947),a=i(24643),r=i(45027),s=i(40099),l=i(65964),d=i(76443),c=i(77547),u=i(90976);function p({onShow:e,reportTarget:t,uid:i}){const{showModal:n}=(0,l.g9)(),o=(0,r.w)(d.y7);return{handleShowReport:(0,s.useCallback)(a=>{null==e||e(a),n(),o.showReport({reportTarget:t,uid:i})},[o,e,t,n])}}(0,s.memo)(function({onClose:e,reportTarget:t,onBack:i,reasonList:n,setPage:o,selectedReason:l,useBack:p,onSubmit:g}){var _;const m=(0,r.w)(d.y7),{user:h}=null!==(_=(0,u.W)(()=>["user"],[]))&&void 0!==_?_:{};m.setReportTarget(t),void 0===n?m.getReasons({reportTarget:t,uid:null==h?void 0:h.uid}):m.setReasons(n),l&&m.setUserData({selectedReason:l}),o&&m.setPageState(o);const v=(0,s.useCallback)(()=>{null==e||e()},[e]);return(0,a.jsx)(c.Y,{onClose:v,asComponent:!0,onBack:i,useBack:p,onSubmit:g})});var g=i(20597),_=i(20173),m=i(61198),h=i(10046),v=i(16356);function f({item:e,play_mode:t,onShow:i,useAd:a=!1,isVideoDetailBannerAds:r}){var s,l,d,c,f,y;const{lang:b}=(0,n.P)(_.L,{selector:e=>({lang:e.lang}),dependencies:[]});let x,k;const w=(0,g.mx)(e),S=(0,g.MA)(e),{user:C}=null!==(s=(0,u.W)(()=>["user"],[]))&&void 0!==s?s:{},j=(0,h.rP)(),T=(0,v.nW)(t=>{var i,n,o;return null!==(o=null===(n=t.users[null!==(i=null==e?void 0:e.author)&&void 0!==i?i:""])||void 0===n?void 0:n.id)&&void 0!==o?o:""},m.bN),I=(0,v.nW)(t=>{var i;return t.users[null!==(i=null==e?void 0:e.author)&&void 0!==i?i:""]},m.bN);r?(x=null===(l=null==e?void 0:e.author)||void 0===l?void 0:l.id,k=null==e?void 0:e.author):(x=T,k=I);const{handleShowReport:P}=(a?p:o.Ah)({onShow:i,reportTarget:Object.assign({lang:b,object_id:null!==(d=null==e?void 0:e.id)&&void 0!==d?d:"",owner_id:x,object_owner_id:x,nickname:null!==(c=null==e?void 0:e.nickname)&&void 0!==c?c:null==e?void 0:e.author,video_id:null!==(f=null==e?void 0:e.id)&&void 0!==f?f:"",video_owner:k,report_type:w?"photo_mode":"video",poi_id:null===(y=null==e?void 0:e.poi)||void 0===y?void 0:y.id,is_sub_only_video:(null==e?void 0:e.subVideoMeta)?1:0,ad_info:null==e?void 0:e.ad_info,play_mode:t,isVideoDetailBannerAds:r},S),uid:null==C?void 0:C.uid});return e=>{P(e),j.closeCommentPanel("hide")}}},81829:(e,t,i)=>{"use strict";i.d(t,{r:()=>f});var n=i(24643),o=i(70716),a=i(64267),r=i(78407),s=i(67476),l=i(45027),d=i(73580),c=i(72355),u=i(84573),p=i.n(u),g=i(27799),_=i(85650),m=i(15923),h=i(66712),v=i(40099);const f=e=>{const{isPopup:t=!1,handleEditModleClose:i}=e,[u,f]=(0,l.S)(_.z),y=(0,d.Nj)(m.i),[b,x]=(0,v.useState)(p()(u.sleepTimeSettings)||null),[k,w]=(0,v.useState)(u.isOpenSleepReminder),[S,C]=(0,v.useState)(()=>{const e=u.sleepTimeSettings;return`${(null==e?void 0:e.sleep_time_start_hour.toString().padStart(2,"0"))||"10"}:${(null==e?void 0:e.sleep_time_start_minute.toString().padStart(2,"0"))||"30"}:00`}),j=(0,g.s)(),T=j("nightscreentimemgmt_setsleeptime_halfsheet_am_desc",{},"AM"),I=j("nightscreentimemgmt_setsleeptime_halfsheet_pm_desc",{},"PM"),P="nightscreentimemgmt_sleepreminders_sleeptime_on_secondline_teens",A=(0,c.W6)(),M=(0,v.useMemo)(()=>u.isMinor||!1,[u.isMinor]),L=(0,v.useMemo)(()=>{const e=M?P:"nightscreentimemgmt_sleepreminders_sleeptime_on_secondline_adults",t=(null==b?void 0:b.sleep_time_start_hour)||0,i=(null==b?void 0:b.sleep_time_end_hour)||0,n=t<12,o=i<12,a=i>12?i-12:i,r=`${t>12?t-12:t}:${(null==b?void 0:b.sleep_time_start_minute.toString().padStart(2,"0"))||"00"} ${n?T:I}`,s=`${a}:${(null==b?void 0:b.sleep_time_end_minute.toString().padStart(2,"0"))||"00"} ${o?T:I}`;return j(e,{sleeptimestart:r,sleeptimeend:s},e===P?"{sleeptimestart}–{sleeptimeend}, 8 hours":"{sleeptimestart}–{sleeptimeend}, 7 hours")},[b,M]);return(0,v.useEffect)(()=>{u.isOpenSleepReminder?w(!0):w(!1)},[u.isOpenSleepReminder]),(0,v.useEffect)(()=>{const e=M?8:7;let[t,i]=S.split(":");t=t.startsWith("0")?t.slice(1,2):t,i=i.startsWith("0")?i.slice(1,2):i;const n=parseInt(t)+e>23?parseInt(t)+e-24:parseInt(t)+e,o=i;x({sleep_time_start_hour:parseInt(t),sleep_time_start_minute:parseInt(i),sleep_time_end_hour:n,sleep_time_end_minute:parseInt(o),sleep_reminder_enabled:k,sleep_time_ab_test_started:!1,sleep_time_type:1,skip_sleep_hours:!1})},[S]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.bP,{isPopup:!0,children:[(0,n.jsx)(o.Uc,{children:j("nightscreentimemgmt_sleepreminders_defaultscreen_desc",{},"Sleep reminders on TikTok can help you get ready for bed and stay asleep.")}),t?null:(0,n.jsx)(s.zm,{color:"LineSecondary"}),(0,n.jsxs)(o.w2,{children:[(0,n.jsx)(a.A,{}),(0,n.jsx)(o.PZ,{children:j("nightscreentimemgmt_sleepreminders_defaultscreen_setsleeptimebullet_title",{},"Set your sleep time")})]}),(0,n.jsx)(o.up,{children:j("nightscreentimemgmt_sleepreminders_defaultscreen_setsleeptimebullet_desc",{},"You’ll get reminded if you reach your sleep time")}),(0,n.jsxs)(o.w2,{children:[(0,n.jsx)(r.A,{}),(0,n.jsx)(o.PZ,{children:j("nightscreentimemgmt_sleepreminders_defaultscreen_pushnotifsbullet_title",{},"Push notifications are muted")})]}),(0,n.jsx)(o.up,{children:M?j("nightscreentimemgmt_sleepreminders_defaultscreen_pushnotifsbullet_teens_desc",{},"To reduce distractions, push notifications are muted until 8:00 AM"):j("nightscreentimemgmt_sleepreminders_defaultscreen_pushnotifsbullet_adults_desc",{},"To reduce distractions, push notifications are muted for 7 hours after your sleep time")}),t?null:(0,n.jsx)(s.zm,{color:"LineSecondary"}),(0,n.jsxs)(o.NC,{children:[(0,n.jsx)(o.c3,{children:j("screenTime_web_sleepReminders_mainSetting_toggle_desc",{},"Set up sleep reminders")}),(0,n.jsx)(s.OV,{label:"",checked:k,onChange:e=>{const{checked:t}=e.target;w(t)}})]}),k?(0,n.jsx)(o.PF,{children:(0,n.jsxs)(o.kk,{children:[(0,n.jsx)(o.Lj,{children:j("nightscreentimemgmt_screentimesettings_sleepreminders_feature_name",{},"Sleep reminders")}),(0,n.jsxs)(o.Z9,{children:[(0,n.jsx)(s.Bb,{label:"",locale:"en-US",hideLabel:!0,value:S,onChange:C,invalidTimeMessage:"",minuteIncrement:30}),(0,n.jsx)(o.QD,{children:L})]})]})}):null,(0,n.jsx)(o.GD,{children:(0,n.jsx)(s.I0,{label:j("screenTime_web_dailyscreentime_manageTime_modal_done_btn",{},"Done"),variant:"primary",onClick:()=>{try{f.sleepReminderChangeHandler({sleep_time_settings:Object.assign(Object.assign({},b),{sleep_reminder_enabled:k}),user_real_timestamp:(0,h.BX)(new Date)}),t?(y.uploadMetric("web_sleep_reminder_in_feed_edit",{status:k?"on":"off",sleep_time:`${(null==b?void 0:b.sleep_time_start_hour)||"10"}: ${(null==b?void 0:b.sleep_time_start_minute)||"30"}`}),"function"==typeof i&&i()):(y.uploadMetric("web_sleep_reminder_toggle",{status:k?"on":"off"}),A.goBack())}catch(e){console.error(e)}}})})]})})}},81834:(e,t,i)=>{"use strict";i.d(t,{i:()=>s});var n=i(72516),o=i(71450),a=i(4126),r=i(13356);let s=class extends o.E{constructor(){super(...arguments),this.defaultState={loginModalSwitchPath:!1,loginModalFirstOpen:!0}}setLoginModalFirstOpen(e,t){e.loginModalFirstOpen=t}setLoginModalSwitchPath(e,t){e.loginModalSwitchPath=t}setLoginModalInitialState(e){e.loginModalFirstOpen=!0,e.loginModalSwitchPath=!1}};(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],s.prototype,"setLoginModalFirstOpen",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],s.prototype,"setLoginModalSwitchPath",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],s.prototype,"setLoginModalInitialState",null),s=(0,n.__decorate)([(0,r.nV)("FocusControlModule")],s)},82175:(e,t,i)=>{"use strict";i.d(t,{$:()=>_,U:()=>m});var n=i(24643),o=i(27799);const a=i.p+"9d131fa34514b735d277.png";var r=i(16410);const s=(0,r.default)("div",{target:"e1ozy39d0"})({backdropFilter:"blur(4.5px)",width:"100%",height:"100%",position:"absolute",zIndex:2,left:0,top:0},"label:DivBlurMask;"),l=(0,r.default)("div",{target:"e1ozy39d1"})({width:"100%",height:"100%",position:"absolute",background:"rgba(22, 24, 35, 0.5)",zIndex:1,left:0,top:0},"label:DivGrayMask;"),d=(0,r.default)("div",{target:"e1ozy39d2"})({width:"100%",height:"100%",textAlign:"center",position:"absolute",zIndex:40,left:0,top:0},"label:DivPausedContainer;"),c=(0,r.default)("div",{target:"e1ozy39d3"})({width:"100%",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:1},"label:DivActicle;"),u=(0,r.default)("div",{target:"e1ozy39d4"})(({theme:e})=>({fontWeight:600,fontSize:"17px",lineHeight:"20px",color:"#FFFFFF",fontFamily:e.fontFamilies.TikTokFont,margin:"2px 0 6px 0"}),"label:DivPausedTitle;"),p=(0,r.default)("div",{target:"e1ozy39d5"})(({theme:e})=>({fontFamily:e.fontFamilies.TikTokFont,fontStyle:"normal",fontWeight:400,fontSize:"15px",lineHeight:"18px",color:"rgba(255, 255, 255, 0.5)"}),"label:DivPausedContent;"),g=(0,r.default)("img",{target:"e1ozy39d6"})({maxWidth:"188px",margin:"0 auto"},"label:ImgPng;"),_=({style:e,onClick:t})=>{const i=(0,o.s)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d,{style:e,onClick:t,children:(0,n.jsxs)(c,{children:[(0,n.jsx)(g,{src:a}),(0,n.jsxs)(u,{children:["LIVE ",i("Webapp_tooltips_Pause")]}),(0,n.jsx)(p,{children:i("live_watching_toast_host_away")})]})}),(0,n.jsx)(s,{}),(0,n.jsx)(l,{})]})},m=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d,{children:(0,n.jsx)(c,{children:(0,n.jsx)(g,{style:{width:"100%"},src:a})})}),(0,n.jsx)(s,{}),(0,n.jsx)(l,{})]})},82230:(e,t,i)=>{"use strict";i.d(t,{o:()=>u});var n=i(34666),o=i(45027),a=i(54133),r=i(40099),s=i(72355),l=i(21972),d=i(90976),c=i(28343);const u=()=>{var e;const{language:t}=null!==(e=(0,d.W)(()=>["language"],[]))&&void 0!==e?e:{},[i,u]=(0,o.S)(c.i,{selector:e=>e.faq,dependencies:[]}),{search:p}=(0,s.zy)(),{push:g}=(0,s.W6)(),{id:_,entrance:m}=(0,r.useMemo)(()=>(0,a.parse)(p),[p]),h=(0,r.useMemo)(()=>i[""],[i]),v=(0,r.useMemo)(()=>{var e;return Object.values((null===(e=i.common)||void 0===e?void 0:e.flattened)||{}).filter(e=>!e.level)},[i]),f=(0,r.useMemo)(()=>(0,l.xs)(_),[_]),y=(0,r.useMemo)(()=>{var e;return f&&(null===(e=null==h?void 0:h.flattened)||void 0===e?void 0:e[f])||void 0},[f,h]),b=(0,r.useMemo)(()=>{var e;return Object.values((null===(e=null==h?void 0:h.levels)||void 0===e?void 0:e[0])||{})},[h]),x=(0,r.useCallback)(()=>{u.getFaqList({id:_,entrance:m,language:null!=t?t:"en"}),u.getCommonFaqList({id:_,entrance:m,language:null!=t?t:"en"})},[u,_,m,t]),k=(0,r.useCallback)((e,i)=>{const o=(0,a.parse)(p);o.type=null!=i?i:"",delete o.response,e?o.id=e:delete o.id,!o.lang&&t&&(o.lang=t),g({search:(0,n.stringify)(o)})},[p,t,g]);return{faqState:i,feedbackDispatcher:u,generalFaq:h,commonFaqItems:v,queryFaqId:f,queryFaq:y,firstLevelFaqs:b,retrieveFaq:x,updateQueryFaq:k}}},82480:(e,t,i)=>{"use strict";i.d(t,{Az:()=>o,Dr:()=>n,H4:()=>r});const n=e=>10229===e||10230===e,o=e=>{if(isNaN(e))return"00:00";const t=Math.floor(e/3600),i=(t<10?"0":"")+t.toString(),n=`0${Math.floor(e/60%60)}`.slice(-2),o=`0${Math.floor(e%60)}`.slice(-2);return 0===t?`${n}:${o}`:`${i}:${n}:${o}`},a=new Map([[2,"adapt_lowest_1080p"],[3,"adapt_lower_1080p"],[4,"adapt_1080p"],[7,"adapt_lowest_1440p"],[10,"normal_720p"],[11,"low_720p"],[12,"adapt_high_720p"],[13,"adapt_higher_720p"],[14,"adapt_lower_720p"],[15,"adapt_lowest_720p"],[16,"higher_720p"],[17,"highest_720p"],[18,"adapt_720p"],[19,"adapt_low_720p"],[191,"lower_720p"],[20,"normal_540p"],[21,"adapt_lower_540p"],[22,"adapt_high_540p"],[23,"adapt_higher_540p"],[24,"lower_540p"],[25,"lowest_540p"],[26,"higher_540p"],[27,"highest_540p"],[28,"adapt_540p"],[29,"adapt_lowest_540p"],[291,"adapt_low_540p"],[30,"normal_480p"],[31,"low_480p"],[32,"high_480p"],[33,"medium_480p"],[34,"lower_480p"],[35,"lowest_480p"],[36,"higher_480p"],[37,"highest_480p"],[38,"adapt_480p"],[39,"adapt_lower_480p"],[391,"adapt_high_480p"],[40,"normal_360p"],[41,"low_360p"],[42,"high_360p"],[43,"medium_360p"],[44,"lower_360p"],[45,"lowest_360p"],[46,"higher_360p"],[47,"highest_360p"],[48,"adapt_360p"],[49,"adapt_lowest_360p"],[50,"adapt_high_360p"]]),r=(e,t)=>{if(!e)return t;if(String(e).indexOf("xgpreload_config")>-1)return e;if(!a.has(Number(e))){const t=String(e).match(/^([a-zA-Z]*)+_([0-9]+)_0$/i);return t?`${t[1]}_${t[2]}p`:`unknown_${e}`}return a.get(Number(e))}},82778:(e,t,i)=>{"use strict";i.d(t,{kK:()=>j,Tu:()=>C});var n=i(72516),o=i(4126),a=i(13356),r=i(5317),s=i(23999),l=i(26324),d=i(8536),c=i(95719),u=i(24451),p=i(35572),g=i(76031),_=i(26225),m=i(43703),h=i(55867),v=i(50726),f=i(70589),y=i(83692),b=i(98775),x=i(35308),k=i(7672),w=i(44094);let S=class{constructor(e){this.fetch=e}getNoticeCount(){return this.fetch.get("/api/notice/count/",{query:{source:7},baseUrlType:2})}getWebNoticeCount(){return this.fetch.get("/api/inbox/notice_count/",{baseUrlType:2})}};S=(0,n.__decorate)([(0,k._)(),(0,n.__metadata)("design:paramtypes",[w.p])],S);const C=509;let j=class extends r.E{constructor(e,t,i,n){super(),this.service=e,this.reportInboxService=t,this.bizContext=i,this.followingRedDotModule=n,this.defaultState={noticeCount:[],reportInbox:{noticeList:[],count:0},isFooterRequest:!1}}setNoticeCount(e,t){(0,g.wU)().setNoticeCount(t)}setIsFooterRequest(e,t){(0,g.wU)().setIsFooterRequest(t)}setReportInboxNoticeList(e,t){(0,g.wU)().setReportInboxNoticeList(t)}setReportInboxNoticeCount(e,t){(0,g.wU)().setReportInboxNoticeCount(t)}updateNoticeList(e){var t;if(0===e.status_code){let i=0;const{isRepostNoticeEnabled:n}=(0,f.Fl)(),o=(null!==(t=e.notice_count)&&void 0!==t?t:[]).filter(e=>(5===e.group&&e.count>0&&(i=e.count),!!(661===e.group||n&&e.group===C)||(0,x.Bl)().indexOf(e.group)>=0&&500!==e.group));return(0,s.of)(this.getActions().setNoticeCount(o),this.getActions().setIsFooterRequest(!0),this.followingRedDotModule.getActions().setRedDotCount(i))}return(0,s.of)(this.noop())}fetchNoticeCount(e){return e.pipe((0,d.Z)(()=>this.service.getWebNoticeCount().pipe((0,c.M)(e=>{(0,m.G)(e.status_code,[0])}),(0,d.Z)(e=>this.updateNoticeList(e)),(0,h.n)({}))))}fetchReportInbox(e){return e.pipe((0,u.E)(this.bizContext.state$),(0,p.p)(([{region:e="",language:t=""},{bizContext:i}])=>this.reportInboxService.getReportNotices({request_tag_from:(null==i?void 0:i.isMobile)?"h5":"pc",carrier_region:e,sys_region:e,current_region:e,locale:t}).pipe((0,d.Z)(({notice_lists:e})=>{var t;if(!e)return[this.noop()];const{notice_list:i}=e[0];if(!i)return[this.noop()];const n=!1===(null===(t=i[0])||void 0===t?void 0:t.has_read)?1:0;return[this.getActions().setReportInboxNoticeList(i),this.getActions().setReportInboxNoticeCount(n)]}),(0,h.n)({}))))}};j.jotaiAtom=g.pz,(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],j.prototype,"setNoticeCount",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],j.prototype,"setIsFooterRequest",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],j.prototype,"setReportInboxNoticeList",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],j.prototype,"setReportInboxNoticeCount",null),(0,n.__decorate)([(0,o.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[l.c]),(0,n.__metadata)("design:returntype",void 0)],j.prototype,"fetchNoticeCount",null),(0,n.__decorate)([(0,o.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[l.c]),(0,n.__metadata)("design:returntype",void 0)],j.prototype,"fetchReportInbox",null),j=(0,n.__decorate)([(0,a.nV)("InboxTooltip"),(0,n.__metadata)("design:paramtypes",[S,v.o,y.$,b.M])],j),g.pz.__SIGI_MODULE__=j,(0,_.y)(j)},82862:(e,t,i)=>{"use strict";i.d(t,{n:()=>u});var n=i(72516),o=i(40099),a=i(73041),r=i(74908),s=i(78223);function l(e){const{container:t,minY:i,maxY:n,canvasHeight:o,canvasWidth:a}=e;let{maxX:r,minX:s}=e;const l=null==t?void 0:t.clientWidth,d=null==t?void 0:t.clientHeight;if(!t||!l||!d)return{scaleRatio:1,transformX:0,transformY:0,transform:"",isCalcBaseWidth:!1};const c=r-s,u=n-i;let p=1,g=0,_=0,m=!1;const h=a>o;if(c*a/(u*o)<=l/d)h?(p=d/(l*o/a*u),m=!0,p=Math.max(p,1)):p=1/u,i!==1-n&&(_=1-n-i);else{let e=1;h?(e=1/c,m=!0):(e=l/(d*a/o*c),m=e<p,i!==1-n&&(_=1-n-i,_+=_>0?.002:-.002),s!==1-r&&(g=1-r-s,g+=g>0?.002:-.002)),p=Math.max(e,1)}return{scaleRatio:p,transformX:g,transformY:_,isCalcBaseWidth:m,transform:`scale(${p}) translate(${(100*g/2).toFixed(4)}%, ${(100*_/2).toFixed(4)}%)`}}var d=i(56581),c=i(93459);function u(e){const{url:t,handleMultiGuestSeiParsedCallback:i,playMode:u}=e,p=(0,o.useRef)(!1),g=(0,o.useRef)([]),_=(0,o.useRef)(),m=(0,o.useRef)(),[h,v]=(0,o.useState)(),f=(0,o.useRef)({w:1,h:1}),y=(0,o.useRef)({minX:0,minY:0,maxX:1,maxY:1}),b=(0,o.useRef)({scaleRatio:1,transformX:0,transformY:0,isCalcBaseWidth:!1,transform:""}),x=(0,o.useRef)(""),k=(0,o.useRef)(),w=(0,o.useRef)(!1),S=(0,o.useRef)([]),C=(0,o.useCallback)((e,t)=>{var n,o;g.current=[],S.current=[],f.current={w:1,h:1},(null===(n=_.current)||void 0===n?void 0:n.style)&&p.current&&(_.current.style.transform=""),(null===(o=m.current)||void 0===o?void 0:o.style)&&(m.current.style.filter=""),p.current=!1,b.current={scaleRatio:1,transformX:0,transformY:0,isCalcBaseWidth:!1,transform:""},w.current=Boolean(t),y.current={minX:0,minY:0,maxX:1,maxY:1},null==i||i({transformY:0,scaleRatio:1,transformX:0,videoContainerRef:m,seiContent:e,isPanelFloatLinkedMicType:t,isNeedFixStyle:Boolean(t),regionBorder:{},regionsFromDSL:[]})},[i]),j=(0,o.useCallback)((e,t)=>{var i,n;if((null===(i=_.current)||void 0===i?void 0:i.style)&&e){const{transform:i}=e;_.current.style.transformOrigin="center","full_screen"===u&&(0,a.Yh)()&&(null===(n=m.current)||void 0===n?void 0:n.style)&&(m.current.style.filter="opacity(1)");const o="picture_in_picture"===u,r="fyp_preview"===u;_.current.style.transform=!o&&!r||t?i:""}},[u]),T=(0,o.useCallback)(e=>{var t;if(Boolean(null==e?void 0:e.ttls_live_scene))return C(e),{isExist:!1};const i=(0,r._m)(e),n=Boolean(null===(t=e.app_data)||void 0===t?void 0:t.channel_id);return(null==i?void 0:i.length)&&n?{isExist:!0}:(0,r.U$)(e)?{isExist:!0,isVolType:!0}:(C(e),{isExist:!1})},[C]),I=(0,o.useCallback)((e,t,o)=>(0,n.__awaiter)(this,void 0,void 0,function*(){var n,a,d,c,u,h,x,C,I,P,A,M,L,D,O,R,E,F,B,z,U,N;if(Object.keys(e).length&&void 0===e.ts)return;if(!o||!t||20===(null===(n=e.app_data)||void 0===n?void 0:n.ver)||16===(null===(a=e.app_data)||void 0===a?void 0:a.ver))return;_.current&&_.current===o||(_.current=o),m.current||(m.current=t,v(t));const{isExist:W,isVolType:V}=T(e);if(!W||V)return;const H=(0,r._m)(e);k.current=e;const q=String(null!==(u=null===(c=null===(d=null==e?void 0:e.app_data)||void 0===d?void 0:d.DSLData)||void 0===c?void 0:c.layoutId)&&void 0!==u?u:""),$=null!==(x=null===(h=null==e?void 0:e.app_data)||void 0===h?void 0:h.canvas)&&void 0!==x?x:{width:null!==(I=null===(C=null==e?void 0:e.canvas)||void 0===C?void 0:C.w)&&void 0!==I?I:0,height:null!==(A=null===(P=null==e?void 0:e.canvas)||void 0===P?void 0:P.h)&&void 0!==A?A:0},G=Boolean($.width&&$.height&&$.width>$.height),K=yield(0,r.yy)(String(q),null!==(L=null===(M=e.app_data)||void 0===M?void 0:M.grids)&&void 0!==L?L:[],null!==(O=null===(D=null==e?void 0:e.app_data)||void 0===D?void 0:D.zoomed_linkmic_id)&&void 0!==O?O:"",G),Y=K.length?K:H,{minX:Z,minY:J,maxX:X,maxY:Q}=(0,s.Se)(Y),ee=0===Z&&0===J&&X>=1&&Q>=1||["1011","1011_A","1001"].includes(q);if(!ee&&p.current&&y.current&&(0,s.c7)({minX:Z,minY:J,maxX:X,maxY:Q},y.current)){const{transformY:t,scaleRatio:n,transformX:o,isCalcBaseWidth:a}=b.current;return S.current=K,void(null==i||i({transformY:t,scaleRatio:n,transformX:o,isCalcBaseWidth:a,videoContainerRef:m,seiContent:e,regionsFromDSL:K,isNeedFixStyle:!0,regionBorder:y.current,isPanelFloatLinkedMicType:w.current}))}w.current=ee;const te=null!==(R=e.canvas)&&void 0!==R?R:{w:null!==(B=null===(F=null===(E=e.app_data)||void 0===E?void 0:E.canvas)||void 0===F?void 0:F.width)&&void 0!==B?B:0,h:null!==(N=null===(U=null===(z=e.app_data)||void 0===z?void 0:z.canvas)||void 0===U?void 0:U.height)&&void 0!==N?N:0},ie=l({container:t,minX:Z,minY:J,maxX:X,maxY:Q,canvasWidth:te.w,canvasHeight:te.h});if(p.current=!0,g.current=Y,S.current=K,f.current=te,y.current={minX:Z,minY:J,maxX:X,maxY:Q},o.style){const{transformY:t,scaleRatio:n,transformX:o,transform:a,isCalcBaseWidth:r}=ie;j({transform:a}),b.current={scaleRatio:n,transformX:o,transformY:t,isCalcBaseWidth:r,transform:a},null==i||i({transformY:t,scaleRatio:n,transformX:o,videoContainerRef:m,seiContent:e,isNeedFixStyle:!0,isCalcBaseWidth:r,regionsFromDSL:K,regionBorder:y.current,isPanelFloatLinkedMicType:w.current})}}),[T,i,j]),P=(0,o.useCallback)(()=>{var e,t,n,o,a,r;if(!p.current)return void((null===(e=_.current)||void 0===e?void 0:e.style)&&((null===(o=null===(n=null===(t=_.current)||void 0===t?void 0:t.style.transform)||void 0===n?void 0:n.includes)||void 0===o?void 0:o.call(n,"rotate"))||(_.current.style.transform=""),null==i||i({scaleRatio:1,videoContainerRef:m,seiContent:null!==(a=k.current)&&void 0!==a?a:{},isPanelFloatLinkedMicType:w.current,isContainerSizeChange:w.current,isNeedFixStyle:w.current,regionBorder:y.current,regionsFromDSL:[]})));if(!m.current)return;const{minX:d,minY:c,maxX:u,maxY:h}=(0,s.Se)(g.current),v=l({container:m.current,minX:d,minY:c,maxX:u,maxY:h,canvasHeight:f.current.h,canvasWidth:f.current.w});if(null===(r=_.current)||void 0===r?void 0:r.style){const{transformY:e,scaleRatio:t,transformX:n,isCalcBaseWidth:o,transform:a}=v;j({transform:a}),b.current={scaleRatio:t,transformX:n,transformY:e,isCalcBaseWidth:o,transform:a},k.current&&(null==i||i({scaleRatio:t,transformX:n,transformY:e,videoContainerRef:m,seiContent:k.current,isContainerSizeChange:!0,isNeedFixStyle:!0,isCalcBaseWidth:o,regionsFromDSL:S.current,isPanelFloatLinkedMicType:w.current,regionBorder:y.current}))}},[i,j]),A=(0,o.useCallback)(()=>{P()},[P]),M=(0,o.useCallback)(()=>{(0,a.fU)()||A()},[A]),L=(0,o.useCallback)(()=>{var e;p.current&&(null===(e=b.current)||void 0===e?void 0:e.transform)&&j({transform:b.current.transform},!0)},[j]),D=(0,o.useMemo)(()=>h?{current:h}:m,[h]);return(0,d.w)({element:D,callback:M}),(0,o.useEffect)(()=>{var e,t;(null===(e=_.current)||void 0===e?void 0:e.style)&&p.current&&(_.current.style.transform="picture_in_picture"===u?"":b.current.transform,(0,a.Yh)()&&(null===(t=m.current)||void 0===t?void 0:t.style)&&(m.current.style.filter="full_screen"===u?"opacity(1)":""))},[u]),(0,o.useEffect)(()=>{t&&t&&!(0,c.Kd)(x.current,t)&&(C({}),x.current=t)},[t,C]),{handleMultiGuestSeiParsed:I,recoverVideoStyle:L}}},83086:(e,t,i)=>{"use strict";i.d(t,{t:()=>C});var n=i(24643),o=i(29547),a=i(27799),r=i(40099),s=i(57061),l=i.n(s),d=i(23082),c=i(16410),u=i(93584),p=i(94656),g=i(94890),_=i(73107);const m=(0,c.default)("div",{target:"e1j305l60"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"24px",width:"472px",padding:"48px 32px 34px",textAlign:"center"},"label:DivContainer;"),h=(0,c.default)("p",{target:"e1j305l61"})(({theme:e})=>[{marginBottom:"16px",fontSize:"24px",lineHeight:"18px"},(0,u.zy)({theme:e,fontWeight:"bold"})],"label:PTitle;"),v=(0,c.default)("p",{target:"e1j305l62"})(({theme:e})=>[{fontSize:"16px",lineHeight:"24px"},(0,u.zy)({theme:e,color:"TextSecondary"})],"label:PDesc;"),f=(0,c.default)("div",{target:"e1j305l63"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"24px"},"label:BodyContainer;"),y=(0,c.default)("div",{target:"e1j305l64"})(({theme:{colors:e}})=>[{padding:"32px 124px",borderRadius:"8px",border:"0.5px solid",borderColor:e.LineSecondary}],"label:QrContainer;"),b=(0,c.default)("div",{target:"e1j305l65"})({display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},"label:DescContainer;"),x=(0,c.default)("div",{target:"e1j305l66"})({display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},"label:Description;"),k=(0,c.default)(p.A,{target:"e1j305l67"})(({theme:e})=>[{color:e.colors.TextSecondary}],"label:StyledIconPersonPlus;"),w=(0,c.default)(g.A,{target:"e1j305l68"})(({theme:{direction:e,colors:t}})=>[{width:"20px",height:"20px",color:t.Primary2},(0,u.mp)({direction:e,marginEnd:6})],"label:StyledIconVideo;"),S=(0,c.default)(_.y,{target:"e1j305l69"})(({theme:{colors:e}})=>[{height:"40px",fontSize:"14px",display:"flex",alignItems:"center",padding:"0 18px",minWidth:"117px",lineHeight:"24px","> span":{whiteSpace:"nowrap"},backgroundColor:e.BGInput,borderColor:"transparent"}],"label:StyledButton;"),C=({stickerId:e})=>{const t=(0,a.s)(),[i,s]=(0,r.useState)(!1),c=(0,r.useCallback)(()=>{s(!0),d.e.handleTryEffectModalShow({enter_method:"click"},e)},[e]),u=(0,r.useCallback)(()=>s(!1),[]),p=`snssdk1233://openRecord?recordParam=sticker&sticker_id=${e}`;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(S,{onClick:c,size:"medium",children:[(0,n.jsx)(w,{}),(0,n.jsx)("span",{children:t("webApp_effectAnchor_tryEffect")})]}),(0,n.jsx)(o.aF,{visible:i,onClose:u,closeStyle:2,children:(0,n.jsxs)(m,{children:[(0,n.jsx)(h,{children:t("webApp_effectAnchor_scanModal_title")}),(0,n.jsxs)(f,{children:[(0,n.jsx)(y,{children:(0,n.jsx)(l(),{value:p,size:160,style:{background:"white",padding:"8px",borderRadius:"5px"}})}),(0,n.jsxs)(b,{children:[(0,n.jsx)(v,{children:t("webApp_effectAnchor_scanModal_desc1")}),(0,n.jsxs)(x,{children:[(0,n.jsx)(v,{children:t("webApp_effectAnchor_scanModal_desc2")}),(0,n.jsx)(k,{})]}),(0,n.jsx)(v,{children:t("webApp_effectAnchor_scanModal_desc3")})]})]})]})})]})}},83653:(e,t,i)=>{"use strict";i.d(t,{V:()=>u});var n=i(24643),o=i(40099),a=i(67518),r=i(81706),s=i(57585),l=i(64878),d=i(78424);const c=1071,u=(0,o.memo)(function(e){const t=(0,o.useRef)(null),[i,u]=(0,o.useState)(0),{direction:p}=(0,a.u)(),[g,_]=(0,o.useState)(window.innerWidth),m=(0,o.useMemo)(()=>88*e.data.length+45*(e.data.length-1),[e.data]),h=(0,o.useMemo)(()=>g>c?692:g<=c&&g>767?592:Math.min(592,g-100),[g]),v=(0,o.useMemo)(()=>g>c?g-240-8-32:g-72-8-32,[g]),f=(0,o.useMemo)(()=>m<h?{width:`${h}px`}:{},[m,h]),y=(0,o.useMemo)(()=>!!(m>v),[m,v]),b=(0,o.useCallback)(()=>{t.current&&t.current.scrollTo({top:0,left:"ltr"===p?i-v:i+v,behavior:"smooth"})},[t,i,v]),x=(0,o.useCallback)(()=>{t.current&&t.current&&t.current.scrollTo({top:0,left:"ltr"===p?i+v:i-v,behavior:"smooth"})},[t,i,v]);(0,o.useEffect)(()=>{const e=e=>{u(e.target.scrollLeft)},i=()=>{_(window.innerWidth)};return t.current&&t.current.addEventListener("scroll",e),window.addEventListener("resize",i),()=>{t.current&&t.current.removeEventListener("scroll",e),window.removeEventListener("resize",i)}},[]);const k=(0,o.useMemo)(()=>Math.abs(i)>0,[i]),w=(0,o.useMemo)(()=>Math.abs(i)+v<m,[i,v,m]),S=(0,o.useMemo)(()=>({containerWidth:v,totalNum:e.data.length}),[v,e.data.length]),C=(0,o.useCallback)(t=>Object.assign(Object.assign({},e.logParams),{request_id:(null==t?void 0:t.rid)||""}),[e.logParams]);return(0,n.jsxs)(d.P9,{children:[(0,n.jsx)(d.sN,Object.assign({},f,{ref:t,children:e.data.map((e,t)=>(0,n.jsx)(l.d,{liveItem:e,index:t,scrollData:S,logParams:C(e)},t))})),(0,n.jsx)(d.NZ,{isShow:y&&k,children:(0,n.jsx)(d.ly,{onClick:b,children:(0,n.jsx)(r.A,{})})}),(0,n.jsx)(d.OZ,{isShow:y&&w,children:(0,n.jsx)(d.ly,{onClick:x,children:(0,n.jsx)(s.A,{})})})]})})},84833:(e,t,i)=>{"use strict";i.d(t,{f:()=>L});var n=i(24643),o=i(95074),a=i(40099),r=i(73635),s=i(27799),l=i(20173),d=i(90976),c=i(99278),u=i(16410);const p=(0,u.default)("div",{target:"echcjyx0"})({width:"322px",borderRadius:"9px",height:"389px;",margin:"0px"},"label:DivPreviewContainer;"),g=(0,u.default)("iframe",{target:"echcjyx1"})({display:"block",visibility:"unset",width:"100%",height:"389px"},"label:IframePlaylistEmbedPreview;"),_="https://www.tiktok.com",m=function(e){var t;const{language:i}=null!==(t=(0,d.W)(()=>["language"],[]))&&void 0!==t?t:{},{uniqueId:o,tagTitle:a,musicId:r,musicTitle:s,type:l}=e;if(!l||!o&&!a&&!r)return(0,n.jsx)("div",{});const u=null!=i?i:"en",m=(0,c.iB)(u);let h;switch(l){case 1:h=`${_}/embed/@${o}${m}`;break;case 3:h=`${_}/embed/tag/${a}${m}`;break;case 2:h=`${_}/embed/music/${s}-${r}${m}`}return(0,n.jsx)(p,{style:{pointerEvents:"none"},children:(0,n.jsx)(g,{src:h,frameBorder:"0"})})};var h=i(93584);const v=(0,u.default)("div",{target:"e172cezw0"})(({theme:e,isVideoEmbedPreview:t})=>[(0,h.mp)({direction:e.direction}),{width:t?"550px":"700px"}],{borderRadius:"9px","@media(max-width: 1000px)":{width:"400px"}},"label:DivModalContainer;"),f=(0,u.default)("div",{target:"e172cezw2"})(({theme:{colors:e}})=>({padding:"24px 24px 12px 24px",borderBottom:`0.5px solid ${e.LineSecondary}`}),"label:DivEmbedTitle;"),y=(0,u.default)("h3",{target:"e172cezw3"})(({theme:e})=>(0,h.zy)({theme:e,typography:"P1",fontWeight:"bold"}),{fontSize:"20px",lineHeight:"24px",textAlign:"start"},"label:H3EmbedTitle;"),b=(0,u.default)("div",{target:"e172cezw4"})(({theme:{direction:e}})=>(0,h.mp)({direction:e,end:"23px"}),{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:23,cursor:"pointer"},"label:DivXMarkWrapper;"),x=(0,u.default)("div",{target:"e172cezw5"})({display:"flex",justifyContent:"space-between",padding:"24px","@media(max-width: 1000px)":{paddingTop:0}},"label:DivModalInnerContainer;"),k=(0,u.default)("div",{target:"e172cezw6"})({width:310,paddingTop:10,"@media(max-width: 1000px)":{width:"400px"}},"label:DivTextArea;"),w=(0,u.default)("div",{target:"e172cezw7"})(({theme:e})=>[(0,h.zy)({theme:e,fontWeight:"semiBold"}),{fontSize:16,lineHeight:"24px"}],{display:"block",width:"100%",marginBottom:"20px",border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word"},"label:DivAreaDescription;"),S=(0,u.default)("textarea",{target:"e172cezw8"})(({theme:e})=>[(0,h.zy)({theme:e,typography:"P2",color:"TextTertiary"}),{display:"block",padding:"12px 12px 12px 12px",width:"100%",height:148,marginBottom:20,border:"none",resize:"none",outline:"none",wordBreak:"break-all",overflowWrap:"break-word",background:"rgba(22, 24, 35, 0.06)",borderRadius:2}],"label:TextareaEmbedCode;"),C=(0,u.default)("button",{target:"e172cezw9"})(h.WA,({theme:e,primary:t})=>[(0,h.zy)({theme:e,fontWeight:t?"semiBold":"normal",color:"TextPrimary"}),{fontSize:16,border:`1px solid ${e.colors.LineSecondary}`,background:e.colors.BGTertiary},{":after":{content:'""',width:"100%",height:"1px",position:"absolute",left:0,top:0,background:e.colors.LineSecondary,transform:"scaleY(0.5)"}}],{borderRadius:2,display:"block",width:"100%",textAlign:"center",cursor:"pointer",height:"36px",marginBottom:"20px"},"label:Button;"),j=(0,u.default)("p",{target:"e172cezw10"})(({theme:e})=>[(0,h.zy)({theme:e,typography:"P2",color:"TextTertiary"}),{a:{textDecoration:"underline","&, &:hover, &:active, &:link":{color:e.colors.TextTertiary}}}],{fontSize:"12px",lineHeight:"18px"},"label:PHint;"),T=(0,u.default)("div",{target:"e1rggtg60"})({borderRadius:"4.5px",width:"163px",height:"379px",overflow:"hidden"},"label:DivPreviewContainer;"),I="scale(0.5)",P=e=>"rtl"===e?"top right":"top left",A=(0,u.default)("iframe",{target:"e1rggtg61"})(({theme:e})=>[{display:"block",visibility:"unset",width:"326px",height:"758px",msTransform:I,msTRANSFORM_ORIGIN_ZERO:P(e.direction),MozTransform:I,MozTRANSFORM_ORIGIN_ZERO:P(e.direction),WebkitTransform:I,WebkitTRANSFORM_ORIGIN_ZERO:P(e.direction),transform:I,transformOrigin:P(e.direction),border:"none"}],"label:IframeVideoEmbedPreview;"),M=function(e){var t;const{videoId:i}=e,{language:o}=null!==(t=(0,d.W)(()=>["language"],[]))&&void 0!==t?t:{};return(0,n.jsx)(T,{style:{pointerEvents:"none"},children:(0,n.jsx)(A,{src:(()=>{const e=null!=o?o:"en",t=(0,c.iB)(e);return`https://www.tiktok.com/embed/v2/${i}${t}`})(),frameBorder:"0"})})},L=function(e){const{code:t,onCopy:i,uniqueId:d,videoId:c,type:u,musicId:p,tagTitle:g,musicTitle:_}=e,h=(0,s.s)(),T=(0,o.P)(l.L,{selector:e=>e.lang,dependencies:[]}),I=(0,a.useRef)(null),P=(0,a.useCallback)(()=>{var e;null===(e=I.current)||void 0===e||e.select(),document.execCommand&&document.execCommand("copy"),null==i||i()},[i]),A=`"https://www.tiktok.com/legal/terms-of-service?lang=${T}" target="_blank"`,L='"https://www.tiktok.com/legal/privacy-policy" target="_blank"';let D;const O=1===u||3===u||2===u;let R,E;switch(u){case 1:R=h("embed_profile_popup_title"),E=h("embed_profile_popup_desc");break;case 3:R=h("embeds_popup_hashtag_header"),E=h("embeds_popup_hashtag_body");break;case 2:R=h("embeds_popup_sound_header"),E=h("embeds_popup_sound_body");break;default:R=h("Embed video"),E=h("embed_popup_embed_body")}try{D=O?h("embeds_popup_tns").replace("{Terms of Service}",`<a href=${A}>${h("embed_profile_popup_bottom_desc_tos")}</a>`).replace("{Privacy Policy}",`<a href=${L}>${h("embed_profile_card_desc_privacy_policy")}</a>`):h("By embedding this video, you confirm that you agree to our <a href={TermsHref}>Terms of Use</a> and acknowledge you have read and understood our <a href={PolicyHref}> Privacy Policy.</a>").replace("{TermsHref}",A).replace("{PolicyHref}",L)}catch(e){D=`By embedding this page, you confirm that you agree to our <a href="https://www.tiktok.com/legal/terms-of-service?lang=${T}" target="_blank">Terms of Service</a> and acknowledge that you have read and understood our <a href="https://www.tiktok.com/legal/privacy-policy" target="_blank"> Privacy Policy.</a>`}const[F,B]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{var e;const t=window.matchMedia("(max-width: 1000px)");null===(e=null==t?void 0:t.addEventListener)||void 0===e||e.call(t,"change",e=>B(e.matches)),B(null==t?void 0:t.matches)},[]),(0,n.jsxs)(v,{isVideoEmbedPreview:!F&&!O,children:[(0,n.jsxs)(f,{children:[(0,n.jsx)(y,{children:R}),(0,n.jsx)(b,{onClick:e.onClose,children:(0,n.jsx)(r.A,{width:20,height:20})})]}),(0,n.jsxs)(x,{children:[!F&&(0,n.jsx)(n.Fragment,{children:O?(0,n.jsx)(m,{type:u,uniqueId:d,tagTitle:g,musicId:p,musicTitle:_}):(0,n.jsx)(M,{videoId:c})}),(0,n.jsxs)(k,{children:[(0,n.jsx)(w,{children:E}),(0,n.jsx)(S,{defaultValue:t,readOnly:!0,rows:7,ref:I}),(0,n.jsx)(C,{primary:!0,onClick:P,children:h("embed_profile_popup_btn")}),(0,n.jsx)(j,{dangerouslySetInnerHTML:{__html:D}})]})]})]})}},85099:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d,q:()=>l});var n=i(40099),o=i(72355),a=i(25961),r=i(70589),s=i(21745);const l=()=>{const{hasCommonVideoFirst:e}=(0,r.lP)();(0,n.useEffect)(()=>{e&&s.aY.updateCommonLoadEvent()},[e])};function d(){const e=(0,o.W6)(),{isInWebappPerfPageSwitchExperiment:t}=(0,r.kw)();(0,n.useEffect)(()=>{if(t)return e.listen((e,t)=>{const i=e.pathname;"PUSH"===t&&((0,a.tO)(i)||(0,a.cj)(i))&&s.aY.reset()})},[t,e])}},85134:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var n=i(61322),o=i(69857);function a(){const{isMobile:e}=(0,o.L$)((0,n.U)(()=>["isMobile"],[]));return Boolean(e)}},85295:(e,t,i)=>{"use strict";i.d(t,{p:()=>Jo});var n=i(24643),o=i(45027),a=i(95074),r=i(40099),s=i(68652),l=i(12527),d=i(54622),c=i(27799),u=i(29547),p=i(99411),g=i(18650),_=i(55765),m=i(73580),h=i(48156),v=i(66604),f=i(16410);const y=(0,f.default)("div",{target:"eyl260m0"})(({theme:e})=>({minHeight:"226px",width:"400px",background:e.colors.BGPrimary,borderRadius:"8px",boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",padding:"32px"}),"label:DivWapper;"),b=(0,f.default)("div",{target:"eyl260m1"})(({theme:e})=>({minHeight:"32px",width:"100%",textAlign:"center",lineHeight:"32px",fontSize:"24px",color:e.colors.TextPrimary}),"label:DivTitle;"),x=(0,f.default)("div",{target:"eyl260m2"})(({theme:e})=>({margin:"16px 0px 24px",width:"100%",textAlign:"center",lineHeight:"22px",fontSize:"16px",color:e.colors.TextSecondary}),"label:DivDetail;"),k=(0,f.default)("div",{target:"eyl260m3"})({display:"flex",justifyContent:"space-between"},"label:DivContain;"),w=(0,f.default)("button",{target:"eyl260m4"})(({theme:e,active:t})=>({width:"164px",height:"46px",flex:"0 1 auto",borderRadius:"4px",padding:"12px 0px",textAlign:"center",fontSize:"16px",cursor:"pointer",lineHeight:"16px",color:t?e.colors.Primary:e.colors.TextPrimary,backgroundColor:e.colors.BGSecondary2,border:` 1px solid ${t?e.colors.Primary:e.colors.TextPrimary}`}),"label:ButtonC;"),S=e=>{var t,i,o;const s=(0,c.s)(),l=(0,m.Nj)(v.D),{onClose:d}=e,u=(0,a.P)(_.hf,{selector:e=>{const{UserData:t,reportTarget:i}=e;return{UserData:t,reportTarget:i}},dependencies:[]}),p=(0,r.useCallback)(e=>{var t,i;l.blockUser({sec_user_id:null!==(i=null===(t=u.reportTarget)||void 0===t?void 0:t.secUid)&&void 0!==i?i:"",block_type:1}).subscribe(e=>{0===e.status_code&&(d(),h.F.open({content:s("Blocked"),duration:3,widthType:"half"}))})},[d,null===(t=u.reportTarget)||void 0===t?void 0:t.secUid,l,s]);return(0,n.jsxs)(y,{children:[(0,n.jsx)(b,{children:s("Web_report_block_who",{username:null===(i=u.reportTarget)||void 0===i?void 0:i.nickname})}),(0,n.jsx)(x,{children:s("Web_report_block_detail",{username:null===(o=u.reportTarget)||void 0===o?void 0:o.nickname})}),(0,n.jsxs)(k,{children:[(0,n.jsx)(w,{active:!1,onClick:e.onClose,children:s("copyright_check_post_popup_cancel")}),(0,n.jsx)(w,{active:!0,onClick:p,children:s("webdm_block")})]})]})};var C=i(67518),j=i(71615),T=i(26722),I=i(23359),P=i(95501),A=i(76926);const M={id:"Eye-6958131c",use:"Eye-6958131c-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="Eye-6958131c"><path fill-rule="evenodd" d="M16.667 10c0 .918-.53 1.919-1.73 2.76C13.74 13.595 12 14.165 10 14.165s-3.741-.57-4.937-1.407c-1.2-.84-1.73-1.841-1.73-2.76 0-.917.53-1.918 1.73-2.759C6.26 6.404 8 5.833 10 5.833s3.741.57 4.937 1.407c1.2.84 1.73 1.842 1.73 2.76m1.666 0c0 3.222-3.73 5.833-8.333 5.833S1.667 13.222 1.667 10 5.397 4.167 10 4.167 18.333 6.778 18.333 10m-7.083 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0m1.667 0a2.917 2.917 0 1 1-5.834 0 2.917 2.917 0 0 1 5.834 0" clip-rule="evenodd" /></symbol>'};function L(e){const t=(0,r.useContext)(A.X);return(0,r.useLayoutEffect)(()=>(t.add(M),()=>{t.remove("Eye-6958131c")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#Eye-6958131c"},void 0)}),void 0)}const D={id:"Speaker_2_LTR-89f7aa08",use:"Speaker_2_LTR-89f7aa08-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="Speaker_2_LTR-89f7aa08"><path fill-rule="evenodd" d="M8.473 3.488a1.25 1.25 0 0 1 1.944 1.04v10.943a1.25 1.25 0 0 1-1.944 1.04L4.331 13.75H2.5c-.69 0-1.25-.56-1.25-1.25v-5c0-.69.56-1.25 1.25-1.25h1.831zm.277 1.819-3.704 2.47a.83.83 0 0 1-.463.14H2.917v4.166h1.666c.165 0 .326.049.463.14l3.704 2.47zm5 4.693c0-1.017-.405-1.94-1.063-2.616a.455.455 0 0 1-.042-.604l.529-.644a.393.393 0 0 1 .576-.045A5.4 5.4 0 0 1 15.417 10c0 1.536-.64 2.924-1.667 3.909a.393.393 0 0 1-.576-.046l-.53-.643a.455.455 0 0 1 .043-.604A3.74 3.74 0 0 0 13.75 10m1.673-5.396a.44.44 0 0 0 .038.597A6.65 6.65 0 0 1 17.501 10a6.65 6.65 0 0 1-2.04 4.799.44.44 0 0 0-.038.597l.54.634a.4.4 0 0 0 .58.04A8.3 8.3 0 0 0 19.167 10c0-2.393-1.01-4.55-2.624-6.07a.4.4 0 0 0-.58.04z" clip-rule="evenodd" /></symbol>'};function O(e){const t=(0,r.useContext)(A.X);return(0,r.useLayoutEffect)(()=>(t.add(D),()=>{t.remove("Speaker_2_LTR-89f7aa08")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#Speaker_2_LTR-89f7aa08"},void 0)}),void 0)}const R={id:"Thumbs_Up-1543f508",use:"Thumbs_Up-1543f508-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="Thumbs_Up-1543f508"><path fill-rule="evenodd" d="M10.724 17.896c-.497.27-1.145.346-1.752-.02a3.02 3.02 0 0 1-1.462-2.584v-2.08H3.977a2.29 2.29 0 0 1-2.284-2.631l1.005-6.552a2.29 2.29 0 0 1 2.284-1.945H15.38a2.515 2.515 0 0 1 2.53 2.176 1 1 0 0 1 .007.112v5.096a1 1 0 0 1-.008.111c-.163 1.206-1.203 2.276-2.529 2.257h-1.4l-2.211 4.9c-.21.468-.573.904-1.045 1.16m3.55-7.724h1.127c.365.006.765-.312.85-.77V4.438a.85.85 0 0 0-.86-.689h-1.117zM12.61 3.749H4.968a.624.624 0 0 0-.624.53v.001L3.34 10.83a.623.623 0 0 0 .624.718h4.38c.46 0 .833.372.833.832v2.912a1.35 1.35 0 0 0 .675 1.168h.003a.2.2 0 0 0 .075-.027.8.8 0 0 0 .319-.376l.002-.004 2.36-5.228z" clip-rule="evenodd" /></symbol>'};function E(e){const t=(0,r.useContext)(A.X);return(0,r.useLayoutEffect)(()=>(t.add(R),()=>{t.remove("Thumbs_Up-1543f508")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#Thumbs_Up-1543f508"},void 0)}),void 0)}var F=i(90976),B=i(54502);const z=(0,f.default)("label",{target:"e1d46yfg0"})(({theme:e})=>({display:"flex",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"16px",color:e.colors.TextSecondary,cursor:"pointer"}),"label:LabelCheckbox;"),U=(0,f.default)("div",{target:"e1d46yfg1"})(({size:e})=>({color:"#fff",position:"relative",height:`${e}px`,width:`${e}px`,lineHeight:`${e}px`,marginInlineEnd:"8px"}),"label:DivCheckboxSymbol;"),N=(0,f.default)("input",{target:"e1d46yfg2"})(({selected:e,bordertype:t,theme:i,size:n})=>Object.assign(Object.assign({appearance:"none",width:`${n}px`,height:`${n}px`,border:`1.5px solid ${i.colors.LineSecondary}`,margin:"0 10px -2.5px 0"},e?{border:"none",backgroundColor:i.colors.Primary}:{}),"radio"===t?{borderRadius:"50%"}:{borderRadius:"2px"}),"label:InputCheckbox;"),W=(0,f.default)("div",{target:"e1d46yfg3"})(({size:e})=>({pointerEvents:"none",position:"absolute",left:`calc(50% - (${e}px * 0.618) / 2 + 0.5px)`,top:`calc(50% - (${e}px * 0.455) / 2 + 0.04px)`,width:`calc(${e}px * 0.618)`,height:`calc(${e}px * 0.455)`,lineHeight:"0px"}),"label:DivCheckboxIcon;"),V=(0,r.memo)(function({id:e,value:t,label:i,onChange:o,bordertype:a="radio",style:s={},size:l=22}){const d=(0,r.useCallback)(e=>{o&&o(e.target.checked)},[o]);return(0,n.jsxs)(z,{htmlFor:e,style:s,children:[(0,n.jsxs)(U,{size:l,className:"checkbox-symbol"+(t?" selected":""),children:[(0,n.jsx)(N,{bordertype:a,selected:t,id:e,checked:t,type:"checkbox",size:l,onChange:d}),t&&(0,n.jsx)(W,{size:l,children:(0,n.jsx)(B.A,{width:.618*l,height:.455*l})})]}),i]})});var H=i(67216);const q=(0,f.default)("div",{target:"e9ly1o60"})(({theme:e})=>({width:"400px",minHeight:"394px",background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden"}),"label:DivWapper;"),$=(0,f.default)("div",{target:"e9ly1o61"})(({theme:e})=>({width:"100%",padding:"32px",textAlign:"center",lineHeight:"32px",fontSize:"24px",color:e.colors.TextPrimary}),"label:DivTitle;"),G=(0,f.default)("div",{target:"e9ly1o62"})({display:"inline-block",verticalAlign:"middle",marginRight:"8px"},"label:DivIcon;"),K=(0,f.default)("div",{target:"e9ly1o63"})(({theme:e})=>({height:"52px",margin:"0 33px",position:"relative",textAlign:"center",lineHeight:"52px",fontSize:"16px",color:e.colors.TextPrimary,borderBottom:`solid 1px ${e.colors.LineSecondary}`}),"label:DivRow;"),Y=(0,f.default)("div",{target:"e9ly1o64"})(({theme:e})=>({height:"32px",paddingTop:"12px",marginBottom:"110px",textAlign:"center",lineHeight:"20px",fontSize:"14px",color:e.colors.Negative}),"label:DivReminder;"),Z=(0,f.default)("div",{target:"e9ly1o65"})({height:"100%",float:"left",paddingLeft:"32px"},"label:DivReasonText;"),J=(0,f.default)("div",{target:"e9ly1o66"})({display:"flex",justifyContent:"space-between",position:"absolute",bottom:"0",width:"100%",padding:"32px"},"label:DivContain;"),X=(0,f.default)("button",{target:"e9ly1o67"})(({theme:e,active:t,cancel:i})=>({width:"164px",height:"46px",flex:"0 1 auto",borderRadius:"4px",padding:"12px 0px",textAlign:"center",fontSize:"16px",cursor:"pointer",lineHeight:"16px",color:i?e.colors.TextPrimary:t?e.colors.ConstTextInverse:e.colors.TextQuaternary,backgroundColor:i?e.colors.BGSecondary2:t?e.colors.Primary:e.colors.BGInput2,border:i?`1px solid ${e.colors.LineSecondary2}`:"none"}),"label:ButtonC;"),Q=(0,f.default)("div",{target:"e9ly1o68"})(({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`}),"label:DivMid;"),ee=(0,f.default)("div",{target:"e9ly1o69"})({position:"absolute",top:"18px",left:"0px",height:"20px",lineHeight:"20px"},"label:DivSvg;"),te=(0,f.default)("button",{target:"e9ly1o610"})(({theme:e})=>({width:"240px",height:"44px",margin:"80px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"}),"label:ButtonRetry;"),ie=20,ne=e=>{var t,i,s,l,d;const u=(0,c.s)(),{colors:p}=(0,C.u)(),[g,m]=(0,r.useState)(!1),[h,v]=(0,r.useState)([]),[f,y]=(0,r.useState)(!1),b=(0,o.w)(_.hf),x=(0,a.P)(_.hf,{selector:e=>{const{lastStatus:t,requesting:i,loading:n,PageState:o,PageStateData:a,UserData:r,reportTarget:s}=e;return{lastStatus:t,requesting:i,loading:n,PageState:o,PageStateData:a,UserData:r,reportTarget:s}},dependencies:[]}),k=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),x.reportTarget&&b.getReasons(x.reportTarget)},[b,x.reportTarget]),w=(0,r.useCallback)(e=>t=>{t.preventDefault(),t.stopPropagation();const i=h.indexOf(e);if(i>-1){const e=[...h];e.splice(i,1),v(e),m(e.length>0)}else{const t=[...h,e];v(t),y(0===t.length),m(t.length>0)}},[h]),{region:S="",user:A}=null!==(t=(0,F.W)(()=>["region","user"],[]))&&void 0!==t?t:{},M=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),h.length>0?b.postReport({reason:h,extraData:null,region:S,uid:null==A?void 0:A.uid}):y(!0)},[b,h,S,null==A?void 0:A.uid]),D=e=>0===e?(0,n.jsx)(ee,{children:(0,n.jsx)(L,{width:ie,height:ie})}):1===e?(0,n.jsx)(ee,{children:(0,n.jsx)(O,{width:ie,height:ie})}):(0,n.jsx)(ee,{children:(0,n.jsx)(E,{width:ie,height:ie})});return(0,n.jsx)(q,{children:x.loading?(0,n.jsx)(H.TU,{children:(0,n.jsx)(P.R,{})}):0===(null===(s=null===(i=x.PageStateData)||void 0===i?void 0:i.reasons)||void 0===s?void 0:s.length)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Q,{top:57,children:(0,n.jsx)(j.A,{width:72,height:72})}),(0,n.jsx)(Q,{top:20,style:{fontSize:"18px",lineHeight:"24px",color:p.TextPrimary},children:u("pm_mt_live_page_sth_wrong")}),(0,n.jsx)(Q,{top:12,style:{fontSize:"16px",lineHeight:"22px",color:p.TextSecondary},children:u("pm_mt_live_page_try_again")}),(0,n.jsxs)(te,{onClick:k,children:[(0,n.jsx)(T.A,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}}),u("report_inbox_retry_btn")]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)($,{children:u("km_report_question")}),null===(d=null===(l=x.PageStateData)||void 0===l?void 0:l.reasons)||void 0===d?void 0:d.map((e,t)=>(0,n.jsxs)(K,{onClick:w(e.reason_type),children:[D(t),(0,n.jsx)(Z,{children:e.text}),(0,n.jsx)(V,{style:{position:"absolute",right:"-22px",top:"15px"},bordertype:"checkbox",label:"",value:h.includes(e.reason_type)})]},e.reason_type)),f?(0,n.jsxs)(Y,{children:[(0,n.jsx)(G,{children:(0,n.jsx)(I.A,{width:14,height:14})}),(0,n.jsx)("span",{children:u("km_pick_reason")})]}):null,(0,n.jsxs)(J,{children:[(0,n.jsx)(X,{cancel:!0,active:!1,onClick:e.onClose,children:u("copyright_check_post_popup_cancel")}),(0,n.jsx)(X,{cancel:!1,active:g,onClick:M,children:u("choosepassword_button")})]})]})})};var oe=i(41077),ae=i.n(oe),re=i(73635),se=i(90046),le=i(99747),de=i(65964);const ce=(0,f.default)("div",{target:"e1fkwyf80"})({position:"fixed",left:0,top:0,right:0,bottom:0,zIndex:3001},"label:DivPreviewImageContainer;"),ue=(0,f.default)("div",{target:"e1fkwyf81"})(({theme:e})=>({position:"absolute",left:0,top:0,right:0,bottom:0,background:e.colors.SDPrimary}),"label:DivMaskContainer;"),pe=(0,f.default)("div",{target:"e1fkwyf82"})({position:"absolute",zIndex:1,left:0,top:0,right:0,bottom:0},"label:DivImageContainer;"),ge=(0,f.default)("div",{target:"e1fkwyf83"})({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"692px",height:"810px",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"contain"},"label:DivPreviewImage;"),_e=(0,f.default)("div",{target:"e1fkwyf84"})(({theme:e})=>({position:"absolute",top:"20px",right:"20px",width:"48px",height:"48px",borderRadius:"24px",backgroundColor:e.colors.ConstTextInverse5,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7}}),"label:DivIconClose;"),me={position:"absolute",top:"50%",transform:"translateY(-50%)",width:"48px",height:"48px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5,":hover":{opacity:1}},he=(0,f.default)("div",{target:"e1fkwyf85"})(Object.assign(Object.assign({},me),{left:"32px"}),"label:DivIconPrev;"),ve=(0,f.default)("div",{target:"e1fkwyf86"})(Object.assign(Object.assign({},me),{left:"auto",right:"32px"}),"label:DivIconNext;"),fe=(0,r.memo)(function({imgList:e,defaultIndex:t,onClose:i}){const[o,a]=(0,r.useState)(t>e.length-1?e.length-1:t<0?0:t),{showModal:d,hideModal:c}=(0,de.g9)();(0,r.useEffect)(()=>(d(),()=>{c()}),[d,c]);const u=(0,r.useCallback)(()=>{null==i||i()},[i]),p=(0,r.useCallback)(()=>a(e=>e-1),[]),g=(0,r.useCallback)(()=>a(e=>e+1),[]);return(0,n.jsxs)(ce,{children:[(0,n.jsx)(ue,{}),(0,n.jsxs)(pe,{children:[(0,n.jsx)(ge,{style:{backgroundImage:`url(${e[o]})`}}),(0,n.jsx)(_e,{onClick:u,children:(0,n.jsx)(re.A,{height:24,width:24,fill:"#fff"})}),o>0&&(0,n.jsx)(he,{onClick:p,children:(0,n.jsx)(l.A,{height:30,width:30,fill:"#fff"})}),o<e.length-1&&(0,n.jsx)(ve,{onClick:g,children:(0,n.jsx)(s.A,{height:30,width:30,fill:"#fff"})})]})]})}),ye=(0,f.default)("div",{target:"e183km5u0"})(({theme:e})=>({fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,display:"flex",flexWrap:"wrap"}),"label:DivUploadImageContainer;"),be=(0,f.default)("div",{target:"e183km5u1"})(({theme:e,size:t})=>({boxSizing:"border-box",width:`${t}px`,height:`${t}px`,display:"flex",alignItems:"center",flexDirection:"column",background:e.colors.BGInput,borderRadius:"2px",overflow:"hidden",cursor:"pointer",paddingTop:(t-30)/2+"px"}),"label:DivImageUploadElement;"),xe=(0,f.default)("div",{target:"e183km5u2"})(({theme:e,size:t})=>({width:`${t}px`,height:`${t}px`,marginRight:"12px",position:"relative",borderRadius:"2px",overflow:"hidden",cursor:"pointer",":before":{content:'""',position:"absolute",width:"200%",height:"200%",borderRadius:"4px",border:`1px solid ${e.colors.LineSecondary}`,transform:"scale(.5)",left:"-50%",top:"-50%",boxSizing:"border-box"},img:{objectFit:"cover",zIndex:3,transform:"translateZ(10px)"}}),"label:DivImageItem;"),ke=(0,f.default)("span",{target:"e183km5u3"})({position:"absolute",display:"flex",boxSizing:"border-box",padding:"5px",top:0,right:0,width:"16px",height:"16px",background:"rgba(22, 24, 35, 0.75)",borderBottomLeftRadius:"2px",cursor:"pointer"},"label:SpanClose;"),we=(0,f.default)("span",{target:"e183km5u4"})(({theme:e})=>({fontSize:"12px",lineHeight:"15px",color:e.colors.TextTertiary,marginTop:"4px"}),"label:SpanImageNumber;"),Se=(0,f.default)("input",{target:"e183km5u5"})({display:"none",width:0,height:0},"label:InputImage;"),Ce=(0,f.default)("div",{target:"e183km5u6"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50% , -50%)"},"label:DivMid;");let je=0;const Te=Number(1048576),Ie=(e,t)=>e>=5242880?t?.1:.2:e>=1572864?t?.3:.5:e>=524288?t?.4:.6:t?.6:.8,Pe=(0,r.memo)(function({max:e,onChange:t,size:i=72}){const o=(0,m.Nj)(le.G),[a,s]=(0,r.useState)([]),[l,d]=(0,r.useState)(0),[c,u]=(0,r.useState)(!1),p=(0,r.useRef)([]),{colors:g}=(0,C.u)(),_=(0,r.useCallback)(t=>{const i=[],n=t.target.files,o=e-a.length;if(n){const e=n.length>o?o:n.length;for(let t=0;t<e;t++)if(n[t].type.match("image")){const o=new FileReader;o.readAsDataURL(n[t]),o.onload=t=>{i.push({id:je++,uri:t.target.result,uploaded:!1}),i.length===e&&s(e=>[...e,...i])},p.current.push(n[t])}t.target.value=""}},[e,a.length]),h=(0,r.useCallback)(e=>()=>{d(e),u(!0)},[]),v=(0,r.useCallback)(e=>{const t=p.current[e];new(ae())(t,{quality:Ie(t.size),convertSize:Te,success:i=>{p.current[e]=i,i.with=t.width,i.height=t.height,o.uploadImage([i]).subscribe(t=>{const n=[...a];n[e]=Object.assign(Object.assign(Object.assign({},n[e]),t.data[0]),{size:i.size,uploaded:!0}),s(n)})}})},[a,p,o]),f=e=>()=>{const t=a.slice();t.splice(e,1),s(t),p.current.splice(e,1)},y=(0,r.useCallback)(()=>{u(!1)},[]);return(0,r.useEffect)(()=>{a.forEach((e,t)=>{!1===a[t].uploaded&&v(t)}),t(a)},[a,t,v]),(0,n.jsxs)("div",{children:[(0,n.jsxs)(ye,{children:[a.map((e,t)=>(0,n.jsxs)(xe,{size:i,children:[(0,n.jsx)("img",{src:e.uri,width:i,height:i,style:e.uploaded?{}:{filter:"blur(1px)"},onClick:h(t)}),(0,n.jsx)(ke,{className:"close",onClick:f(t),children:(0,n.jsx)(re.A,{width:7,height:7,fill:"#fff"})}),e.uploaded?null:(0,n.jsx)(Ce,{children:(0,n.jsx)(P.R,{size:20})})]},e.id)),c&&(0,n.jsx)(fe,{defaultIndex:l,imgList:a.map(e=>e.uri),onClose:y}),e<=a.length?null:(0,n.jsx)("label",{htmlFor:"upload-image-file",children:(0,n.jsxs)(be,{size:i,children:[(0,n.jsx)(se.A,{height:30,width:30,fill:g.TextTertiary}),(0,n.jsxs)(we,{className:"img-number",children:[a.length,"/",e]})]})})]}),(0,n.jsx)(Se,{multiple:!0,className:"file-input",accept:"image/png,image/jpeg,image/jpg,image/bmp",type:"file",onChange:_,id:"upload-image-file"})]})}),Ae=(0,f.default)("div",{target:"e11o6rhn0"})({height:"580px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivKopigContainer;"),Me=(0,f.default)("div",{target:"e11o6rhn1"})({display:"flex",flexDirection:"column",alignItems:"stretch",padding:"0px"},"label:DivScrollContainer;"),Le=(0,f.default)("div",{target:"e11o6rhn2"})({display:"flex",flexDirection:"row",justifyContent:"center",boxSizing:"border-box",padding:"16px 24px 12px"},"label:DivSectionHeader;"),De=(0,f.default)("div",{target:"e11o6rhn3"})(({theme:e})=>({display:"flex",flexDirection:"row",boxSizing:"border-box",fontSize:"16px",padding:"16px 24px",lineHeight:"22px",color:e.colors.TextSecondary,backgroundColor:e.colors.BGView,marginBottom:"8px"}),"label:DivSectionLine;"),Oe=(0,f.default)("span",{target:"e11o6rhn4"})(({theme:e})=>({flex:1,fontSize:"18px",lineHeight:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary}),"label:SpanSectionTitle;"),Re=(0,f.default)("span",{target:"e11o6rhn5"})(({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary}),"label:SpanWordCount;"),Ee=(0,f.default)("textarea",{target:"e11o6rhn6"})(({theme:e})=>Object.assign(Object.assign({},(e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}))(e)),{resize:"none",height:"80px",backgroundColor:e.colors.BGPrimary}),"label:TextareaDescription;"),Fe=(0,f.default)("div",{target:"e11o6rhn8"})({margin:"4px 24px"},"label:DivImageUploader;"),Be=(0,f.default)("div",{target:"e11o6rhn9"})(({theme:e})=>({marginTop:"4px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"12px",color:e.colors.Primary}),"label:DivFileSizeWarning;");var ze=i(17947);const Ue=(0,r.memo)(function(){var e,t,i,s,l,d,u,p;const g=(0,c.s)(),m=(0,o.w)(_.hf),h=(0,a.P)(_.hf,{selector:e=>{const{UserData:t,PreState:i,reasonsAPIVersion:n}=e;return{UserData:t,PreState:i,reasonsAPIVersion:n}},dependencies:[]}),[v,f]=(0,r.useState)(""),[y,b]=(0,r.useState)([]),[x,k]=(0,r.useState)(!1),[w,S]=(0,r.useState)(!1),{region:C="",user:j}=null!==(e=(0,F.W)(()=>["region","user"],[]))&&void 0!==e?e:{},T=null===(s=JSON.parse(null!==(i=null===(t=h.UserData.selectedReason)||void 0===t?void 0:t.option)&&void 0!==i?i:"").tags)||void 0===s?void 0:s.includes("requireDesc"),I=null===(u=JSON.parse(null!==(d=null===(l=h.UserData.selectedReason)||void 0===l?void 0:l.option)&&void 0!==d?d:"").tags)||void 0===u?void 0:u.includes("requireImage"),P=(0,r.useMemo)(()=>{var e,t,i,n,o,a,r;return h.reasonsAPIVersion===ze.Hs&&(null===(e=h.UserData)||void 0===e?void 0:e.selectedReason).reason_code?null!==(n=null===(i=null===(t=h.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_code)&&void 0!==n?n:0:null!==(r=null===(a=null===(o=h.UserData)||void 0===o?void 0:o.selectedReason)||void 0===a?void 0:a.reason_type)&&void 0!==r?r:0},[h.reasonsAPIVersion]);(0,r.useEffect)(()=>{var e,t;(null!==(e=T&&0===v.length)&&void 0!==e?e:I&&(null!==(t=0===y.length)&&void 0!==t?t:x))?S(!1):S(!0)},[v,y,x]);const A=(0,r.useCallback)(e=>{k(!1);for(const t of e)t.size&&t.size>20971520&&k(!0);b(e)},[]),M=(0,r.useCallback)(e=>{e.stopPropagation()},[]),L=(0,r.useCallback)(e=>f(e.target.value),[]),D=(0,r.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),P&&w){const e={report_desc:v,uri:y.map(e=>e.url).join(",")};m.postReport({reason:P,extraData:e,region:C,uid:null==j?void 0:j.uid})}},[v,y,P,w,m]);return(0,n.jsxs)(Ae,{children:[(0,n.jsxs)(Me,{children:[(0,n.jsx)(De,{children:`${g("Web_report_reason_select")} ${null===(p=h.UserData.selectedReason)||void 0===p?void 0:p.text}`}),(0,n.jsxs)(Le,{children:[(0,n.jsx)(Oe,{children:g("Web_report_description")}),(0,n.jsxs)(Re,{children:[v.length,"/",200]})]}),(0,n.jsx)(Ee,{rows:5,maxLength:200,placeholder:g("Please provide as much detail as possible"),value:v,onChange:L,onKeyDown:M}),(0,n.jsxs)(Fe,{children:[(0,n.jsx)(Pe,{max:4,onChange:A}),x&&(0,n.jsx)(Be,{children:g("attachment_upload_limit")})]})]}),(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{disabled:!w,onClick:D,children:g("Submit")})})]})});var Ne=i(62731);const We=(0,f.default)("div",{target:"egyld0v0"})({height:"580px",padding:"0px",overflowY:"auto",overflowX:"hidden",paddingBottom:"84px"},"label:DivKopigContainer;"),Ve=(0,f.default)("div",{target:"egyld0v1"})({display:"flex",flexDirection:"column",alignItems:"stretch",padding:"0px"},"label:DivScrollContainer;"),He=(0,f.default)("div",{target:"egyld0v2"})({display:"flex",flexDirection:"row",justifyContent:"center",boxSizing:"border-box",padding:"16px 24px 12px"},"label:DivSectionHeader;"),qe=(0,f.default)("div",{target:"egyld0v3"})(({theme:e})=>({display:"flex",flexDirection:"row",boxSizing:"border-box",fontSize:"16px",padding:"16px 24px",lineHeight:"22px",color:e.colors.TextSecondary,backgroundColor:e.colors.BGView,marginBottom:"8px"}),"label:DivSectionLine;"),$e=(0,f.default)("span",{target:"egyld0v4"})(({theme:e})=>({flex:1,fontSize:"18px",lineHeight:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary}),"label:SpanSectionTitle;"),Ge=(0,f.default)("span",{target:"egyld0v5"})(({theme:e})=>({fontSize:"16px",lineHeight:"22px",color:e.colors.TextSecondary}),"label:SpanWordCount;"),Ke=e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",margin:"0px 24px",borderRadius:"4px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}),Ye=(0,f.default)("textarea",{target:"egyld0v6"})(({theme:e})=>Object.assign(Object.assign({},Ke(e)),{resize:"none",height:"80px",backgroundColor:e.colors.BGPrimary}),"label:TextareaDescription;"),Ze=(0,f.default)("input",{target:"egyld0v7"})(({theme:e})=>Object.assign(Object.assign({},Ke(e)),{borderBottom:`1px solid ${e.colors.LineSecondary}`,height:"40px",backgroundColor:e.colors.BGPrimary}),"label:InputSignature;"),Je=(0,f.default)("div",{target:"egyld0v8"})({margin:"4px 24px"},"label:DivImageUploader;"),Xe=(0,f.default)("div",{target:"egyld0v9"})(({theme:e})=>({marginTop:"4px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,fontSize:"12px",color:e.colors.Primary}),"label:DivFileSizeWarning;"),Qe=(0,f.default)("div",{target:"egyld0v10"})({fontSize:"16px",lineHeight:"24px",padding:"16px 24px 0"},"label:DivCheckboxConfirm;"),et=(0,f.default)("div",{target:"egyld0v11"})(({theme:e})=>({marginTop:"20px",padding:"0px 24px",fontSize:"14px",lineHeight:"20px",color:e.colors.TextSecondary}),"label:DivInfo;"),tt=(0,r.memo)(function(){var e,t;const i=(0,c.s)(),s=(0,o.w)(_.hf),l=(0,a.P)(_.hf,{selector:e=>{const{UserData:t,PreState:i,reasonsAPIVersion:n,PageState:o,reasons:a}=e;return{UserData:t,PreState:i,reasonsAPIVersion:n,PageState:o,reasons:a}},dependencies:[]}),[d,u]=(0,r.useState)(""),[p,g]=(0,r.useState)([]),[m,h]=(0,r.useState)(""),[v,f]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[x,k]=(0,r.useState)(!1),[w,S]=(0,r.useState)(!1),C=(0,r.useMemo)(()=>{var e,t,i,n,o,a,r;return l.reasonsAPIVersion===ze.Hs&&(null===(e=l.UserData)||void 0===e?void 0:e.selectedReason).reason_code?null!==(n=null===(i=null===(t=l.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_code)&&void 0!==n?n:0:null!==(r=null===(a=null===(o=l.UserData)||void 0===o?void 0:o.selectedReason)||void 0===a?void 0:a.reason_type)&&void 0!==r?r:0},[l.reasonsAPIVersion]);(0,r.useEffect)(()=>{const e=p.some(e=>!0!==e.uploaded);8===l.PageState||!e&&!y&&v&&m.length>0?k(!0):k(!1)},[d,p,m,v,y]);const j=(0,r.useCallback)(e=>{b(!1);for(const t of e)t.size&&t.size>20971520&&b(!0);g(e)},[]),T=(0,r.useCallback)(e=>{e.stopPropagation()},[]),I=(0,r.useCallback)(e=>u(e.target.value),[]),P=(0,r.useCallback)(e=>h(e.target.value),[]),A=(0,r.useCallback)(e=>f(e),[]),M=(0,r.useCallback)(e=>S(e),[]),{region:L="",user:D}=null!==(e=(0,F.W)(()=>["region","user"],[]))&&void 0!==e?e:{},O=(0,r.useMemo)(()=>{var e,t,i,n;if(l.reasonsAPIVersion===ze.Hs){const i=JSON.parse(null!==(t=null===(e=l.UserData.selectedReason)||void 0===e?void 0:e.option)&&void 0!==t?t:"{}");return"tags"in i&&i.tags.includes("avia")}return 8===(null===(n=null===(i=l.UserData)||void 0===i?void 0:i.selectedReason)||void 0===n?void 0:n.special_type)},[l.UserData.selectedReason,l.reasonsAPIVersion]),R=(0,r.useCallback)(()=>{var e,t,i;const n=(0,Ne.Rp)(null!==(e=l.reasons)&&void 0!==e?e:[],9014);n&&(s.setUserData({selectedReason:n,HistoryReason:[...null!==(t=l.UserData.HistoryReason)&&void 0!==t?t:[],n]}),s.handleNextReason({nextReason:null!==(i=n.next_reason)&&void 0!==i?i:[],reason_id:n.reason_code}),s.setPageState(0))},[]),E=(0,r.useCallback)(e=>{if(w)return e.preventDefault(),e.stopPropagation(),void R();if(e.preventDefault(),e.stopPropagation(),C&&x){const e={is_netzdg:1,report_desc:d,uri:p.map(e=>e.url).join(","),report_signature:m};s.postReport({reason:C,extraData:e,region:L,uid:null==D?void 0:D.uid})}},[d,p,m,C,x,s,w,L,null==D?void 0:D.uid]);return(0,n.jsxs)(We,{children:[(0,n.jsxs)(Ve,{children:[(0,n.jsx)(qe,{children:`${i("Web_report_reason_select")} ${null===(t=l.UserData.selectedReason)||void 0===t?void 0:t.text}`}),(0,n.jsxs)(He,{children:[(0,n.jsx)($e,{children:i("Web_report_description")}),(0,n.jsxs)(Ge,{children:[d.length,"/",200]})]}),(0,n.jsx)(Ye,{rows:5,maxLength:200,placeholder:i("Please provide as much detail as possible"),value:d,onChange:I,onKeyDown:T}),(0,n.jsxs)(Je,{children:[(0,n.jsx)(Pe,{max:4,onChange:j}),y&&(0,n.jsx)(Xe,{children:i("attachment_upload_limit")})]}),8===l.PageState?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Qe,{children:(0,n.jsx)(V,{label:i("Web_report_description_NetzDG"),value:w,onChange:M})})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(He,{children:(0,n.jsx)($e,{children:i("Signature")})}),(0,n.jsx)(Ze,{placeholder:i("Sign_here"),value:m,maxLength:100,onChange:P,onKeyDown:T}),(0,n.jsx)(Qe,{children:(0,n.jsx)(V,{label:i("Report_confirmation"),value:v,onChange:A})})]}),O&&(0,n.jsx)(et,{children:i("avia_law_false_report_warning")}),(0,n.jsx)(et,{children:i("Web_report_description_tips")})]}),(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{disabled:!x,onClick:E,children:i("Submit")})})]})}),it=(0,f.default)("div",{target:"e10dth7g0"})(({top:e})=>({textAlign:"center",margin:`${e}px auto 0px`}),"label:DivMid;"),nt=(0,f.default)("button",{target:"e10dth7g1"})(({theme:e})=>({width:"240px",height:"44px",margin:"133px auto 0px",border:`1px solid ${e.colors.LineSecondary2}`,borderRadius:"2px",textAlign:"center",cursor:"pointer",color:e.colors.TextPrimary,fontSize:"16px",lineHeight:"22px",padding:"11px 0px",background:e.colors.BGTertiary2,display:"block"}),"label:ButtonRetry;");var ot=i(93991),at=i.n(ot),rt=i(7765),st=i(43887),lt=i(11901);const dt={id:"Checkbox-cab5ecb2",use:"Checkbox-cab5ecb2-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="Checkbox-cab5ecb2"><path fill="#FE2C55" d="M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12" /><path fill="white" d="M17.506 7.313c.213.136.276.42.14.633l-5.61 8.78a1.146 1.146 0 0 1-1.829.137L6.51 12.625a.46.46 0 0 1 .045-.647l1.036-.904a.46.46 0 0 1 .646.044l2.692 3.085 4.785-7.49a.46.46 0 0 1 .633-.14z" /></symbol>'};function ct(e){const t=(0,r.useContext)(A.X);return(0,r.useLayoutEffect)(()=>(t.add(dt),()=>{t.remove("Checkbox-cab5ecb2")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#Checkbox-cab5ecb2"},void 0)}),void 0)}const ut=({isSelected:e})=>{const{colors:t}=(0,C.u)();return e?(0,n.jsx)(ct,{style:{width:"22px",height:"22px"}}):(0,n.jsx)(lt.A,{style:{color:t.TextTertiary,width:"22px",height:"22px"}})},pt=()=>{var e,t,i,d,u,p,m;const h=(0,c.s)(),v=(0,st._u)(),{isRTL:f}=(0,g.m)(),{user:y,region:b=""}=null!==(e=(0,F.W)(()=>["user","region"],[]))&&void 0!==e?e:{},x=(0,o.w)(_.hf),{colors:k}=(0,C.u)(),w=(0,a.P)(_.hf,{selector:e=>{const{lastStatus:t,requesting:i,loading:n,PageState:o,PageStateData:a,UserData:r,reportTarget:s,reasonsAPIVersion:l,reasons:d,config:c}=e;return{lastStatus:t,requesting:i,loading:n,PageState:o,PageStateData:a,UserData:r,reportTarget:s,reasonsAPIVersion:l,reasons:d,config:c}},dependencies:[]}),{findReason:S}=function(){const e=(0,a.P)(_.hf,{selector:e=>{const{reasons:t}=e;return{reasons:t}},dependencies:[]}),t=(0,r.useCallback)(()=>e.reasons,[e.reasons]),i=(e,t)=>{var n;if(0===e.length)return;let o;for(const a of e){if("reason_code"in a&&t===a.reason_code||"reason_type"in a&&t===a.reason_type)return a;if(o=i(null!==(n=a.next_reason)&&void 0!==n?n:[],t),o)return o}return o};return{findReason:(0,r.useCallback)(t=>{var n;return i(null!==(n=e.reasons)&&void 0!==n?n:[],t)},[e.reasons]),reasonsList:t}}(),I="radio"===(null===(t=null==w?void 0:w.config)||void 0===t?void 0:t.reason_item_type),A=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),w.reportTarget&&x.getReasons(w.reportTarget)},[x,w.reportTarget]);(0,r.useEffect)(()=>{var e,t,i,n;if(((null===(e=w.reportTarget)||void 0===e?void 0:e.dsa_from_inbox)||(null===(t=w.reportTarget)||void 0===t?void 0:t.osa_from_inbox)||(null===(i=w.reportTarget)||void 0===i?void 0:i.ric_from_inbox))&&w.reasons&&w.reasons.length>0){let e=null;if(w.reportTarget.dsa_from_inbox?e=9:w.reportTarget.osa_from_inbox?e=10:w.reportTarget.ric_from_inbox&&(e=11),w.UserData.selectedReason)return void(e&&x.setPageState(e));const t=S(null===(n=w.reportTarget.report_record)||void 0===n?void 0:n.common_data.reason);x.setUserData({selectedReason:t})}},[w.reportTarget,w.reasons,w.UserData]);const M=e=>w.reasonsAPIVersion===ze.Hs&&(null==e?void 0:e.reason_code)?null==e?void 0:e.reason_code:null==e?void 0:e.reason_type,L=(0,r.useCallback)(e=>t=>{var i,n,o,a,r,s,l,d,c,u,p,g,m,h,f,k,S,C,j,T,P,A,L,D,O,R,E,F,B,z,U,N,W,V,H,q,$,G,K;t.preventDefault(),t.stopPropagation();let Y=null===(n=null===(i=w.PageStateData)||void 0===i?void 0:i.reasons)||void 0===n?void 0:n.find(t=>M(t)===e);if(Y&&x.setUserData({selectedReason:Y,HistoryReason:[...null!==(o=w.UserData.HistoryReason)&&void 0!==o?o:[],Y]}),I)return rt.o.handleChooseReportRadioReason({reason_id:e,object_type:null!==(r=null===(a=w.reportTarget)||void 0===a?void 0:a.report_type)&&void 0!==r?r:""});if(Y)if(w.reasonsAPIVersion===ze.Hs){const e=Boolean(y),t=null!==(s=Y.next_reason)&&void 0!==s?s:[],i=JSON.parse(null!==(l=Y.option)&&void 0!==l?l:"{}"),{action:n,tags:o}=i;if(o&&at()(o)&&o.length>0)for(const t of o)if([_.Pz.webappNeedLoginLegal,_.Pz.webappNeedLoginNetzdg,_.Pz.webappNeedLoginAvia].includes(t)){let i=null;switch(t){case _.Pz.webappNeedLoginLegal:i=(0,_.Se)({reportTarget:w.reportTarget},v);break;case _.Pz.webappNeedLoginNetzdg:(!e&&"video"===(null===(d=w.reportTarget)||void 0===d?void 0:d.report_type)||!e&&"comment"===(null===(c=w.reportTarget)||void 0===c?void 0:c.report_type))&&(i=(0,_.Re)({reportTarget:w.reportTarget},v));break;case _.Pz.webappNeedLoginAvia:(!e&&"video"===(null===(u=w.reportTarget)||void 0===u?void 0:u.report_type)||!e&&"comment"===(null===(p=w.reportTarget)||void 0===p?void 0:p.report_type))&&(i=(0,_.K0)({reportTarget:w.reportTarget},v))}if(i)return void window.open(i,"_blank","noopener,noreferrer")}if(t.length>0)x.handleNextReason({nextReason:null!==(g=Y.next_reason)&&void 0!==g?g:[],reason_id:Y.reason_code});else switch(n.action_type){case"jumpToUrl":const e=(0,Ne.OK)(null!==(h=null===(m=null==n?void 0:n.action_params)||void 0===m?void 0:m.body_content)&&void 0!==h?h:{},null!==(f=w.reportTarget)&&void 0!==f?f:{}),t=`https://tiktok.com${v(w.reportTarget)}`,i=Object.assign(Object.assign({},e),{reporturl:t,url_type:null===(k=w.reportTarget)||void 0===k?void 0:k.report_type,report_id:"user"===(null===(S=w.reportTarget)||void 0===S?void 0:S.report_type)?null===(C=w.reportTarget)||void 0===C?void 0:C.owner_id:null===(j=w.reportTarget)||void 0===j?void 0:j.object_id}),o=(0,Ne.Rj)(null!==(T=n.action_params.url)&&void 0!==T?T:"",i);window.open(o,"_blank","noopener,noreferrer");break;case"submit":Y.reason_code&&("suggestion"!==(null===(P=w.reportTarget)||void 0===P?void 0:P.report_type)&&"sug_recommend"!==(null===(A=w.reportTarget)||void 0===A?void 0:A.report_type)||rt.o.handleReportSugFinish({object_id:w.reportTarget.object_id,object_type:w.reportTarget.report_type,impr_id:null===(L=w.reportTarget.suggestion_extra)||void 0===L?void 0:L.impr_id,feedback_id:null===(D=w.reportTarget.suggestion_extra)||void 0===D?void 0:D.feedback_id,group_id:null===(O=w.reportTarget.suggestion_extra)||void 0===O?void 0:O.group_id,sug_type:null===(R=w.reportTarget.suggestion_extra)||void 0===R?void 0:R.sug_type,raw_query:null===(E=w.reportTarget.suggestion_extra)||void 0===E?void 0:E.raw_query,words_content:null===(F=w.reportTarget.suggestion_extra)||void 0===F?void 0:F.words_content,words_position:null===(B=w.reportTarget.suggestion_extra)||void 0===B?void 0:B.words_position,words_source:null===(z=w.reportTarget.suggestion_extra)||void 0===z?void 0:z.words_source,button_type:"report"}),x.postReport({reason:Y.reason_code,extraData:null,region:b,uid:null==y?void 0:y.uid}));break;default:const a=n.action_params.route_path||"Desc";x.handleNextForm(_.VO[a])}}else{const e=Boolean(y);let t=null;switch(Y.special_type){case 2:t=(0,_.Se)({reportTarget:w.reportTarget},v);break;case 6:(!e&&"video"===(null===(U=w.reportTarget)||void 0===U?void 0:U.report_type)||!e&&"comment"===(null===(N=w.reportTarget)||void 0===N?void 0:N.report_type))&&(t=(0,_.Re)({reportTarget:w.reportTarget},v));break;case 8:(!e&&"video"===(null===(W=w.reportTarget)||void 0===W?void 0:W.report_type)||!e&&"comment"===(null===(V=w.reportTarget)||void 0===V?void 0:V.report_type))&&(t=(0,_.K0)({reportTarget:w.reportTarget},v))}if(t)return x.popHistoryReason(),void window.open(t,"_blank","noopener,noreferrer");!Y||Boolean(null===(H=Y.next_reason)||void 0===H?void 0:H.length)?x.handleNextReason({nextReason:null!==(q=Y.next_reason)&&void 0!==q?q:[],reason_id:Y.reason_type}):[1,4].includes(Y.special_type)&&(null===($=w.PageStateData)||void 0===$?void 0:$.reasons)&&Y.reason_type!==(null===(G=w.PageStateData)||void 0===G?void 0:G.reasons[0]).reason_type?x.handleNextForm(3):w.UserData.HistoryReason&&[..._.Ve,..._.$4].includes(null===(K=w.UserData.HistoryReason[0])||void 0===K?void 0:K.reason_type)||[8].includes(Y.special_type)?x.handleNextForm(2):x.handleNextForm(1)}},[w.PageStateData,x,w.UserData.HistoryReason,y,w.reportTarget,I]);return(0,n.jsx)(H.an,{children:w.loading?(0,n.jsx)(H.TU,{children:(0,n.jsx)(P.R,{})}):0===(null===(d=null===(i=w.PageStateData)||void 0===i?void 0:i.reasons)||void 0===d?void 0:d.length)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(it,{top:57,children:(0,n.jsx)(j.A,{width:72,height:72})}),(0,n.jsx)(it,{top:20,style:{fontSize:"18px",lineHeight:"24px",color:k.TextPrimary},children:h("pm_mt_live_page_sth_wrong")}),(0,n.jsx)(it,{top:12,style:{fontSize:"16px",lineHeight:"22px",color:k.TextSecondary},children:h("pm_mt_live_page_try_again")}),(0,n.jsxs)(nt,{onClick:A,children:[(0,n.jsx)(T.A,{width:14,height:14,style:{verticalAlign:"middle",marginRight:"8px"}}),h("report_inbox_retry_btn")]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H.Rh,{children:h(I?"Please select a reason":"Please select a scenario")}),null===(p=null===(u=w.PageStateData)||void 0===u?void 0:u.reasons)||void 0===p?void 0:p.map((e,t)=>{var i,o,a,r,d,c,u;if(w.reasonsAPIVersion===ze.Hs){const s=JSON.parse(null!==(i=e.option)&&void 0!==i?i:"{}").tags||[];if(s.includes("hideWebappReason"))return null;if(s.includes("flattenReasonList")){const t=null!==(o=e.next_reason)&&void 0!==o?o:[];if(t.length>0){const i=[...null!==(r=null===(a=w.PageStateData)||void 0===a?void 0:a.reasons)&&void 0!==r?r:[]],n=i.findIndex(t=>t.reason_code===e.reason_code);i.splice(n,1),i.push(...t),x.setReasons(i)}return null}if(I){const i=M(e);return(0,n.jsxs)(H.NR,{onClick:L(i),style:{marginBottom:t+1===(null===(c=null===(d=w.PageStateData)||void 0===d?void 0:d.reasons)||void 0===c?void 0:c.length)?"84px":""},children:[(0,n.jsx)(ut,{isSelected:M(null===(u=null==w?void 0:w.UserData)||void 0===u?void 0:u.selectedReason)===i}),(0,n.jsx)(H.fm,{children:e.text})]},i)}}return(0,n.jsxs)(H.KW,{onClick:L(M(e)),children:[(0,n.jsx)(H.Lo,{children:e.text}),f?(0,n.jsx)(l.A,{style:{color:k.TextTertiary},width:20,height:20}):(0,n.jsx)(s.A,{style:{color:k.TextTertiary},width:20,height:20})]},M(e))}),I?(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{onClick:e=>{var t,i;e.preventDefault(),e.stopPropagation(),x.postReport({reason:null===(i=null===(t=w.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_code,extraData:null,region:b,uid:null==y?void 0:y.uid})},disabled:!M(null===(m=null==w?void 0:w.UserData)||void 0===m?void 0:m.selectedReason),children:h("Submit")})}):null]})})};var gt=i(49605),_t=i(57481);const mt=(0,f.default)("div",{target:"eshtx6u0"})(({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,margin:"0 15px",paddingTop:"30px"}),"label:DivUserBlockSection;"),ht=(0,f.default)("div",{target:"eshtx6u1"})(({theme:e})=>({fontSize:"13px",lineHeight:"17px",color:e.colors.TextTertiary,paddingLeft:"12px"}),"label:DivUserBlockTitle;"),vt=(0,f.default)("div",{target:"eshtx6u2"})({marginTop:"13px",height:"46px",paddingLeft:"12px",marginBottom:"24px"},"label:DivUserBlock;"),ft=(0,f.default)("div",{target:"eshtx6u3"})(({theme:e})=>({width:"46px",height:"46px",marginRight:"13px",display:"inline-block",float:"left",backgroundColor:e.colors.BGInput,padding:"11px",borderRadius:"50%"}),"label:DivUserBlockIcon;"),yt=(0,f.default)("div",{target:"eshtx6u4"})(({theme:e})=>({lineHeight:"46px",height:"46px",fontSize:"15px",color:e.colors.TextPrimary,display:"inline-block",float:"left"}),"label:DivUserBlockName;"),bt=i.p+"fd63eea59850bad9d4fe.png",xt=i.p+"13123d0b9b34561d1a54.png";var kt=i(93584);const wt=1440,St=(0,f.default)("div",{target:"e480akv0"})(({theme:e})=>[{display:"flex",alignItems:"center",padding:"0 18px",height:"44px",borderBottom:`solid 0.5px ${e.colors.LinePrimary}`},(0,kt.jJ)({min:wt,style:{height:"80px"}}),(0,kt.jJ)({min:2560,style:{height:"104px"}})],"label:DivFormHeader;"),Ct=(0,f.default)("div",{target:"e480akv1"})({height:"calc(100vh - 44px)",overflowY:"scroll"},(0,kt.jJ)({min:wt,style:{height:"calc(100vh - 80px)"}}),"label:DivContent;"),jt=(0,f.default)("div",{target:"e480akv3"})({cursor:"pointer",padding:"6px",zIndex:10,width:"24px",height:"24px"},(0,kt.jJ)({min:wt,style:{width:"32px",height:"32px",padding:"0",position:"absolute",left:"48px"}}),(0,kt.jJ)({min:2560,style:{width:"48px",height:"48px",left:"64px"}}),"label:DivBackButton;"),Tt=(0,f.default)("div",{target:"e480akv4"})({cursor:"pointer",padding:"9px",zIndex:10,width:"11px",height:"11px"},(0,kt.jJ)({min:wt,style:{padding:"3px",width:"32px",height:"32px",position:"absolute",right:"48px"}}),(0,kt.jJ)({min:2560,style:{padding:"6px",width:"48px",height:"48px",right:"64px"}}),"label:DivCloseButton;"),It=(0,f.default)("h4",{target:"e480akv5"})(({theme:e})=>[{fontSize:"17px",lineHeight:"44px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.bold,textAlign:"center",flex:1,width:"100%",left:"0"},(0,kt.jJ)({min:wt,style:{fontSize:"24px",lineHeight:1.3,fontWeight:"500"}}),(0,kt.jJ)({min:2560,style:{fontSize:"32px"}})],"label:H4FormTitle;");It.defaultProps=Object.assign(Object.assign({},It.defaultProps),{"data-e2e":"report-card-title"});const Pt=(0,r.memo)(function({isBackable:e,onBack:t,onClose:i,title:o,children:a,isClosable:c}){const{isRTL:u}=(0,g.m)(),p=(0,r.useCallback)(()=>{e&&t&&t()},[e,t]),_=(0,r.useCallback)(()=>{c&&i&&i()},[c,i]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(St,{children:[e?(0,n.jsx)(jt,{onClick:p,children:u?(0,n.jsx)(s.A,{width:"100%",height:"100%"}):(0,n.jsx)(l.A,{width:"100%",height:"100%"})}):null,(0,n.jsx)(It,{children:o}),c?(0,n.jsx)(Tt,{"data-e2e":"report-card-cancel",onClick:_,children:(0,n.jsx)(d.A,{width:"100%",height:"100%"})}):null]}),(0,n.jsx)(Ct,{children:a})]})});var At=i(67476);const Mt=(0,f.default)("div",{target:"e626uaa0"})(({theme:e})=>({position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"70%",zIndex:1e3,borderRadius:"8px",backgroundColor:e.colors.BGPrimary,margin:0,padding:0,overflowY:"scroll"}),"label:SupportWrapper;"),Lt=f.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-left: 32px;
  margin-right: 32px;
  margin-top: 0;
  padding-top: 0;
`,Dt=f.default.h1`
  text-align: center;
  font-size: 24px;
  font-style: normal;
  font-weight: 500;
  line-height: 125%;
  letter-spacing: 0.24px;
`,Ot=f.default.p`
  font-size: 16px;
  margin-bottom: 20px;
  text-align: center;
`,Rt=f.default.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  padding-bottom: 20px;
`,Et=f.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  width: 100%;
`,Ft=f.default.h2`
  font-size: 16px;
  font-style: normal;
  font-weight: 500;
  line-height: 130%;
  letter-spacing: 0.03px;
`,Bt=f.default.p`
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
  line-height: 130%;
  letter-spacing: 0.093px;
`,zt=(0,f.default)(At.I0)`
  border-radius: 30px;
  align-items: flex-start;
  align-self: stretch;
  width: 60px !important;
  text-align: center;
`,Ut=(0,f.default)("div",{target:"e626uaa1"})(({theme:e})=>({borderRadius:"8px",margin:"16px 32px 24px",backgroundColor:e.colors.BGInput,display:"flex",padding:"10px 16px",flexDirection:"column",alignItems:"flex-start",alignSelf:"stretch"}),"label:DivGetMoreSupport;"),Nt=f.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  margin-bottom: '8px';
`,Wt=(0,f.default)("div",{target:"e626uaa2"})(({theme:e})=>({color:e.colors.TextPrimary,overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"130%",letterSpacing:"0.03px"}),"label:GetMoreSupportTitle;"),Vt=(0,f.default)("p",{target:"e626uaa3"})(({theme:e})=>({color:e.colors.TextSecondary,fontSize:"13px",fontStyle:"normal",fontWeight:400,lineHeight:"130%",letterSpacing:"0.127px"}),"label:GetMoreSupportDescription;"),Ht=(0,f.default)("button",{target:"e626uaa4"})(({theme:e})=>({color:e.colors.TextSecondary,width:"8px",height:"16px"}),"label:GetMoreSupportIcon;");var qt=i(71517);const $t=({selectedReason:e})=>{const{isDark:t}=(0,C.u)(),{supportInfo:i,showSupportModal:o,handleSupportClick:a,handleSupportModalClose:s,supportButtonHandler:l}=(e=>{const[t,i]=(0,r.useState)(null),[n,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{var t;if(e){const n=(e=>{try{const t=e.find(e=>"SUPPORT"===JSON.parse(e).ID);return t?JSON.parse(t):null}catch(e){return console.error("Failed to parse support info:",e),null}})(null!==(t=e.generic_module)&&void 0!==t?t:[]);i(n)}},[e]),{supportInfo:t,showSupportModal:n,handleSupportClick:(0,r.useCallback)(()=>{o(!0)},[]),handleSupportModalClose:(0,r.useCallback)(()=>{o(!1)},[]),supportButtonHandler:(0,r.useCallback)(e=>{e&&window.open(e,"_blank")},[])}})(e);return o&&i?(0,n.jsx)(Mt,{children:(0,n.jsx)(Pt,{isBackable:!0,isClosable:!1,onBack:s,title:"",children:(0,n.jsxs)(Lt,{children:[(0,n.jsx)("img",{src:t?xt:bt,style:{width:"100%",height:"auto"}}),(0,n.jsx)(Dt,{children:i.PageTitle}),(0,n.jsx)(Ot,{children:i.PageDescription}),(0,n.jsx)(Rt,{children:(0,n.jsxs)(Et,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(Ft,{children:i.HelplinkTitle}),(0,n.jsx)(Bt,{children:i.HelplinkDescription})]}),(0,n.jsx)(zt,{variant:"primary",label:i.HelplinkCTA,onClick:()=>l(i.SupportLink),size:"medium",alignSelf:"end"})]})}),(0,n.jsx)(Rt,{children:(0,n.jsx)(Et,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(Ft,{children:i.HelplineTitle}),(0,n.jsx)(Bt,{children:i.HelplineDescription})]})})})]})})}):i?(0,n.jsxs)(Ut,{children:[(0,n.jsxs)(Nt,{children:[(0,n.jsx)(Wt,{children:i.CardTitle}),(0,n.jsx)(Ht,{onClick:a,children:(0,n.jsx)(qt.Z,{})})]}),(0,n.jsx)(Vt,{children:i.CardDescription})]}):null},Gt=(0,f.default)("div",{target:"ey56yjy0"})(({theme:e})=>({borderRadius:"8px",margin:"16px 32px 24px",backgroundColor:e.colors.BGInput,display:"flex",padding:"10px 16px",flexDirection:"column",alignItems:"flex-start",alignSelf:"stretch"}),"label:DivNotifyGuardian;"),Kt=f.default.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  margin-bottom: '8px';
`,Yt=(0,f.default)("div",{target:"ey56yjy1"})(({theme:e})=>({color:e.colors.TextPrimary,overflow:"hidden",textOverflow:"ellipsis",fontSize:"16px",fontStyle:"normal",fontWeight:500,lineHeight:"130%",letterSpacing:"0.03px"}),"label:NotifyGuardianTitle;"),Zt=(0,f.default)("p",{target:"ey56yjy2"})(({theme:e})=>({color:e.colors.TextSecondary,fontSize:"13px",fontStyle:"normal",fontWeight:400,lineHeight:"130%",letterSpacing:"0.127px"}),"label:NotifyGuardianDescription;"),Jt=(0,f.default)("button",{target:"ey56yjy3"})(({theme:e})=>({color:e.colors.TextSecondary,width:"8px",height:"16px"}),"label:NotifyGuardianIcon;");var Xt,Qt=i(57615);!function(e){e[e.Video=101]="Video",e[e.Comment=102]="Comment",e[e.User=103]="User",e[e.Music=105]="Music",e[e.Im=106]="Im",e[e.ImGroup=115]="ImGroup",e[e.ImGroupChat=123]="ImGroupChat",e[e.Live=107]="Live",e[e.Hashtag=119]="Hashtag",e[e.LiveComment=130]="LiveComment",e[e.ShoutoutComment=141]="ShoutoutComment",e[e.ShoutoutVideo=142]="ShoutoutVideo",e[e.Qa=160]="Qa",e[e.LIVE_EVENT=230]="LIVE_EVENT",e[e.PHOTO=210]="PHOTO"}(Xt||(Xt={}));const ei={video:101,comment:102,account:103,user:103,music:105,im:106,imgroup:115,imgroupchat:123,live:107,hashtag:119,livecomment:130,shoutoutcomment:141,shoutoutvideo:142,qa:160,live_event:230,photo:210};var ti=i(16673);const ii=()=>{const e=(0,c.s)(),{email:t,setEmail:i,isOpen:o,setIsOpen:s,handleCancelNotification:l,handleNotifyGuardianClick:d,handleSendNotification:u,handleSendEmail:p,is_family_pairing:g,is_teen_mode:h,showNotify:v}=(()=>{var e;const t=(0,c.s)(),i=(0,m.Nj)(le.G),{language:n,user:o}=null!==(e=(0,F.W)(()=>["language","user"],[]))&&void 0!==e?e:{},s=null==o?void 0:o.uid,l=(0,a.P)(_.hf,{selector:({UserData:e,reportTarget:t,user_info:i})=>({UserData:e,reportTarget:t,user_info:i}),dependencies:[]}),d=(0,r.useMemo)(()=>{if(null==l?void 0:l.user_info)try{return JSON.parse(l.user_info)}catch(e){return void console.error("Failed to parse user_info")}},[null==l?void 0:l.user_info]),u=Boolean(null==d?void 0:d.is_teenager),p=Boolean(null==d?void 0:d.is_family_pairing),[g,h]=(0,r.useState)(""),[v,f]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[x,k]=(0,r.useState)(u),w=(0,r.useMemo)(()=>{var e,t,i,o,a;return{is_teen_mode:u,is_teen_in_fp:p,parent_id:(null==d?void 0:d.parent_id)||"",user_id:s,report_id:(null===(e=l.reportTarget)||void 0===e?void 0:e.object_id)||"",report_type:Number(ei[(null===(i=null===(t=l.reportTarget)||void 0===t?void 0:t.report_type)||void 0===i?void 0:i.toLowerCase())||""])||0,report_reason:(null===(a=null===(o=l.UserData)||void 0===o?void 0:o.selectedReason)||void 0===a?void 0:a.text)||"",lang:n}},[u,p,null==d?void 0:d.parent_id,s,l.reportTarget,l.UserData,n]),S=(0,r.useCallback)(()=>{f(!1),b(!1),i.sendNotifyGuardian(g,w).subscribe(e=>{0===e.status_code?(k(!1),(0,ti.G)(t("teensReport_feed_halfSheet_toast"),3,"half")):(0,ti.P)(t("teensReport_tech_errorMessage"))},e=>{(0,ti.P)(t("teensReport_tech_errorMessage")),console.error("Error sending notification:",e)})},[g,w,i,t]),C=(0,r.useCallback)(()=>{S()},[S]),j=(0,r.useCallback)(()=>{S()},[S]),T=(0,r.useCallback)(()=>{f(!1),b(!1)},[]),I=(0,r.useCallback)(()=>{f(!0)},[]);return{showNotify:u&&x,email:g,setEmail:h,is_teen_mode:u,is_family_pairing:p,isOpen:v,setIsOpen:f,handleSendEmail:C,handleCancelNotification:T,handleSendNotification:j,handleNotifyGuardianClick:I,openNotify:y,setOpenNotify:b}})(),f=(0,Ne.B9)(t);return h&&o?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(Qt.nOL,{open:o,onOpenChange:s,style:{zIndex:9999,width:"440px"},children:[(0,n.jsx)(Qt.DBO,{leading:(0,n.jsx)(Qt.PH3,{icon:(0,n.jsx)(Qt.WZi,{autoMirror:!0}),onClick:()=>s(!1)}),title:""}),(0,n.jsx)("div",{style:{padding:"8px"},children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",padding:"32px 24px",alignItems:"center"},children:[(0,n.jsx)(Qt.$q1,{style:{width:"52px",height:"52px"}}),(0,n.jsx)(Qt.NDx,{className:"mt-20",children:e("teensReport_confirmSubmit_halfsheet_viewReportButton")}),(0,n.jsx)(Qt.Fm,{as:"p",size:15,children:e("teensReport_feed_halfSheet_desc")}),g?(0,n.jsxs)("div",{className:"notify-buttons",style:{display:"flex",flexDirection:"row",gap:"12px",alignSelf:"stretch",alignItems:"center",justifyContent:"center",marginTop:"16px"},children:[(0,n.jsx)(Qt.I05,{variant:"secondary",label:e("teensReport_confirmSubmit_halfsheet_cancelButton"),onClick:l}),(0,n.jsx)(Qt.I05,{variant:"primary",label:e("teensReport_confirmSubmit_halfsheet_notifyButton"),onClick:u})]}):(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:[(0,n.jsx)(Qt.ZPA,{value:t,onChange:i,label:"",description:"",size:"medium",error:!f&&t?e("teensReport_emailError_errorMessage"):"",style:{width:"100%"}}),(0,n.jsx)(Qt.I05,{variant:"primary",label:e("teensReport_feed_halfSheet_btn_send"),size:"large",onClick:p,disabled:!f,style:{width:"100%",marginTop:"16px"}})]})]})})]})}):v?(0,n.jsxs)(Gt,{children:[(0,n.jsxs)(Kt,{children:[(0,n.jsx)(Yt,{children:e("teensReport_notifyParents_toggle")}),(0,n.jsx)(Jt,{onClick:d,children:(0,n.jsx)(qt.Z,{})})]}),(0,n.jsx)(Zt,{children:e("teensReport_confirmSubmit_halfsheet_content")})]}):null},ni=({onClose:e})=>{var t,i,s,l,d;const u=(0,c.s)(),p=(0,o.w)(_.hf),{colors:g}=(0,C.u)(),m=(0,a.P)(_.hf,{selector:e=>{const{UserData:t,reportTarget:i,reasonsAPIVersion:n}=e;return{reportTarget:i,UserData:t,reasonsAPIVersion:n}},dependencies:[]}),[h,v]=(0,r.useState)();(0,r.useEffect)(()=>{var e,t;m.reasonsAPIVersion===ze.Hs&&v(JSON.parse(null!==(t=null===(e=m.UserData.selectedReason)||void 0===e?void 0:e.option)&&void 0!==t?t:"{}"))},[m.reasonsAPIVersion]);const f=(0,r.useCallback)(()=>{e()},[e]),y=(0,r.useCallback)(()=>{p.handleNextForm(4)},[p]),{submitresult:b}=m.UserData,{title:x="Thanks",content:k="We’ll review your report and if there is a violation of our Community Guidelines, we’ll take appropriate action.",button:w="Done",success:S=!0}=null!=b?b:{};return(0,n.jsxs)("div",{children:[(0,n.jsx)(H.sP,{top:S?25:20,children:S?(0,n.jsx)(B.A,{width:32,height:22,style:{color:g.Positive}}):(0,n.jsx)(gt.A,{width:32,height:32})}),(0,n.jsx)(H.n4,{children:null!==(t=u(x))&&void 0!==t?t:x}),(0,n.jsx)(H.g$,{children:k}),"user"===(null===(i=m.reportTarget)||void 0===i?void 0:i.report_type)&&3!==m.reasonsAPIVersion||m.reasonsAPIVersion===ze.Hs&&"user"===(null===(s=m.reportTarget)||void 0===s?void 0:s.report_type)&&!(null==h?void 0:h.tags.includes("hideBlockUser"))?(0,n.jsxs)(mt,{onClick:y,children:[(0,n.jsx)(ht,{children:u("Web_report_you_can_also")}),(0,n.jsxs)(vt,{children:[(0,n.jsx)(ft,{children:(0,n.jsx)(_t.A,{width:24,height:24})}),(0,n.jsxs)(yt,{children:[u("webdm_block")," ",null===(l=m.reportTarget)||void 0===l?void 0:l.nickname]})]})]}):null,(0,n.jsx)(ii,{}),(0,n.jsx)($t,{selectedReason:m.UserData.selectedReason}),(0,n.jsx)(H.uH,{onClick:f,children:null!==(d=u(w))&&void 0!==d?d:w})]})};var oi=i(8475),ai=i(64944);const ri=(0,f.default)(We,{target:"ei1sqrw0"})({height:"708px"},"label:DivDSAContainer;"),si=(0,f.default)("div",{target:"ei1sqrw1"})({display:"flex",marginTop:"24px",marginBottom:"32px",paddingLeft:"24px",paddingRight:"24px"},"label:DivLegalContainer;"),li=(0,f.default)("div",{target:"ei1sqrw2"})({marginBottom:"16px",paddingLeft:"24px",paddingRight:"24px"},"label:DivDescriptionContainer;"),di=(0,f.default)("div",{target:"ei1sqrw3"})(({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,display:"flex"}),"label:DivTitle;"),ci=(0,f.default)("span",{target:"ei1sqrw4"})(({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextTertiary,marginLeft:"8px"}),"label:OptionalTag;"),ui=(0,f.default)("div",{target:"ei1sqrw5"})(({theme:e})=>({fontSize:"14px",fontWeight:400,lineHeight:"130%",color:e.colors.TextTertiary,marginTop:"10px"}),"label:OptionalEmailTip;"),pi=(0,f.default)("div",{target:"ei1sqrw6"})(({theme:e})=>({fontSize:"16px",lineHeight:"24px",color:e.colors.TextSecondary,fontWeight:400,marginInlineStart:"auto"}),"label:DivCounter;"),gi=(0,f.default)("div",{target:"ei1sqrw7"})(({theme:e})=>({color:e.colors.Primary}),"label:AsteriskColor;"),_i=(0,f.default)(pi,{target:"ei1sqrw8"})({display:"flex",marginInlineStart:"auto",alignItems:"center",cursor:"pointer"},"label:DivChooseCountry;"),mi=(0,f.default)(Ee,{target:"ei1sqrw9"})(({theme:e,noBg:t})=>({margin:"0px",width:"100%",height:"unset",marginTop:"10px",fontSize:"16px",lineHeight:"24px",backgroundColor:t?"transparent":e.colors.BGInput,padding:t?0:"8px"}),"label:DivInputArea;"),hi=(0,f.default)("div",{target:"ei1sqrw10"})(({theme:e})=>({height:"0.5px",background:e.colors.LineSecondary,marginTop:"12.5px"}),"label:DivLine;"),vi=(0,f.default)("div",{target:"ei1sqrw11"})(({})=>({padding:"16px 24px",display:"flex",alignItems:"center"}),"label:DivCheckBoxContainer;"),fi=(0,f.default)("div",{target:"ei1sqrw12"})(({theme:e})=>({fontSize:"16px",lineHeight:"24px",fontWeight:"400px",marginInlineStart:"9px",color:e.colors.TextPrimary}),"label:DivCheckBoxDesc;"),yi=(0,f.default)("div",{target:"ei1sqrw13"})(({theme:e})=>({display:"flex",alignContent:"center",marginTop:"9px",color:e.colors.Negative}),"label:DivWarningContainer;"),bi=(0,f.default)("div",{target:"ei1sqrw14"})({fontSize:"14px",fontWeight:"400px",marginInlineStart:"9px"},"label:DivWarning;"),xi=(0,f.default)("div",{target:"ei1sqrw18"})(({theme:e})=>({fontSize:"14px",fontWeight:"400",lineHeight:"22px",padding:"0px 24px",color:e.colors.TextQuaternary}),"label:DivWarnText;"),ki=(0,f.default)("h2",{target:"ei1sqrw19"})(({theme:e})=>({color:e.colors.TextPrimary,margin:"0px 0px 16px",padding:"0px 24px",fontSize:"19px",fontWeight:"700"}),"label:ReasonTitleOSA;");var wi=i(22889),Si=i(50708),Ci=i.n(Si),ji=i(94999);function Ti(e,t){const i=Object.keys(t),o=new RegExp(`(${i.join("|")})`,"g"),a=e.split(o);return(0,n.jsx)(n.Fragment,{children:a.map(e=>i.includes(e)?t[e]:e)})}const Ii=(0,f.default)("p",{target:"eqxhbaw0"})(({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,marginTop:"16px",marginBottom:"16px",paddingLeft:"24px",paddingRight:"24px"}),"label:TrustedFlaggerText;"),Pi=(0,f.default)("a",{target:"eqxhbaw1"})(({theme:e})=>({color:e.colors.AssistColorAzure,fontWeight:700,textDecoration:"none"}),"label:TrustedFlaggerLink;"),Ai=(0,f.default)("div",{target:"eqxhbaw2"})(({theme:e})=>({color:e.colors.BGPrimary}),"label:ModalWrapper;"),Mi=(0,f.default)("span",{target:"eqxhbaw3"})(({theme:e})=>({color:e.colors.TextPrimary,fontWeight:700}),"label:Title;"),Li=(0,f.default)("span",{target:"eqxhbaw4"})(({theme:e})=>({color:e.colors.TextPrimary,fontSize:"14px",lienHeight:"18px"}),"label:Description;"),Di=(0,f.default)("button",{target:"eqxhbaw5"})(({theme:e})=>({padding:"8px 10px",fontSize:"16px",lineheight:"20px",cursor:"pointer",borderRadius:"4px",color:e.colors.TextPrimary,backgroundColor:e.colors.UIShapeNeutral4,minWidth:"160px"}),"label:LeftButton;"),Oi=(0,f.default)("button",{target:"eqxhbaw6"})(({theme:e})=>({padding:"8px 10px",fontSize:"16px",lineheight:"20px",cursor:"pointer",borderRadius:"4px",color:e.colors.ConstTextInverse,backgroundColor:e.colors.Primary,minWidth:"160px"}),"label:RightButton;"),Ri=(0,f.default)("div",{target:"eqxhbaw7"})({display:"flex",padding:"0 24px 32px",alignItems:"center",justifyContent:"space-between",gap:"16px"},"label:ModalFooter;"),Ei=()=>{const[e,t]=(0,r.useState)(!1),i=(0,c.s)(),o=()=>{t(!e)},{isTrustedFlagger:a,register:s,unbindTrustedFlagger:l}=(({handleDialog:e})=>{const[t,i]=(0,r.useState)(null),n=(0,m.Nj)(le.G),o=(0,c.s)(),a=()=>{n.getTustedFlaggerState().subscribe(e=>{var t;0===(null===(t=null==e?void 0:e.base)||void 0===t?void 0:t.status_code)?i(e.is_trusted_flagger):i(!1)})};return(0,r.useEffect)(()=>{let e="";void 0!==document.hidden?e="visibilitychange":void 0!==document.msHidden?e="msvisibilitychange":void 0!==document.webkitHidden&&(e="webkitvisibilitychange");const t=()=>{document.hidden||document.msHidden||document.webkitHidden||a()};return a(),e&&document.addEventListener(e,t),()=>{e&&document.removeEventListener(e,t)}},[]),{isTrustedFlagger:t,register:()=>{window.open("https://www.tiktok.com/dsa-trusted-flagger/login")},unbindTrustedFlagger:()=>{n.unbindTrustedFlagger().subscribe(t=>{var i;0===(null===(i=null==t?void 0:t.base)||void 0===i?void 0:i.status_code)?(a(),e()):h.F.open({content:o("Sorry, something wrong with the server, please try again."),duration:1.2,widthType:"half"})})}}})({handleDialog:o});return(0,n.jsxs)(n.Fragment,{children:[(()=>{switch(a){case!0:return(0,n.jsx)(Ii,{children:Ti(i("dsa_illegal_report_trustedflagger_signout"),{"{s_tapHere}":(0,n.jsx)(Pi,{onClick:o,children:i("dsa_illegal_report_trustedflaggerlink")})})});case!1:return(0,n.jsx)(Ii,{children:Ti(i("dsa_illegal_report_trustedflagger"),{"%s":(0,n.jsx)(Pi,{onClick:s,children:i("dsa_illegal_report_trustedflaggerlink")})})});default:return null}})(),(0,n.jsx)(At.Mw,{isOpen:e,onClose:o,size:"Small",children:(0,n.jsxs)(Ai,{children:[(0,n.jsx)(At.ND,{children:(0,n.jsx)(Mi,{children:i("dsa_illegal_report_trustedflagger_signout_popup")})}),(0,n.jsx)(At.Te,{children:(0,n.jsx)(At.Fm,{children:(0,n.jsx)(Li,{children:i("dsa_illegal_report_trustedflagger_signout_popup_desc")})})}),(0,n.jsxs)(Ri,{children:[(0,n.jsx)(Di,{onClick:l,children:i("dsa_illegal_report_trustedflagger_signout_popup_yes")}),(0,n.jsx)(Oi,{onClick:o,children:i("dsa_illegal_report_trustedflagger_signout_popup_no")})]})]})})]})};var Fi=i(67553),Bi=i(72516);const zi=f.default.div`
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
`,Ui=f.default.div`
  width: 88px;
  height: 88px;
  border-radius: 8px;
  border: 1px solid #ccc;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  background: rgba(0, 0, 0, 0.15);
  overflow: hidden;
`,Ni=f.default.button`
  width: 88px;
  height: 88px;
  border-radius: 8px;
  border: 1px dashed #ccc;
  background: #fafafa;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  color: #333;
  cursor: pointer;
  transition: background 0.2s;
  &:hover {
    background: #f0f0f0;
  }
`,Wi=f.default.button`
  position: absolute;
  top: 6px;
  right: 6px;
  border-radius: 50%;
  background-color: #fff;
  color: rgba(51, 51, 51, 0.6);
  padding: 1.25px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  border: none;
  cursor: pointer;
  box-shadow: 0 0 0 2px rgba(51, 51, 51, 0.6);
`,Vi=f.default.div`
  position: absolute;
  border-radius: 8px;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 1;
`,Hi=f.default.img`
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
`,qi=f.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
`,$i=f.default.div`
  position: absolute;
  right: 8px;
  bottom: 2px;
  max-width: calc(100% - 16px);
  color: #fff;
  font-style: normal;
  font-weight: 500;
  line-height: 130%;
  letter-spacing: 0.161px;
  padding: 2px 4px;
  border-radius: 4px;
  font-size: 12px;
  text-align: right;
  z-index: 2;
  pointer-events: none;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,Gi=f.default.input`
  display: none;
`,Ki=f.default.div`
  margin-bottom: 16px;
  margin-top: 16px;
  color: red;
  font-size: 16px;
  display: flex;
  align-items: center;
`,Yi=f.default.span`
  margin-left: 8px;
  font-size: 13px;
  font-weight: 600;
`,Zi=f.default.div`
  padding: 24px;
`,Ji=f.default.header``,Xi=f.default.div`
  margin-bottom: 16px;
  color: var(--TextPrimary, #222);
  font-size: 20px;
  font-weight: 600;
  display: flex;
  align-items: center;
`,Qi=f.default.span`
  color: var(--Link, rgb(255, 66, 24));
  margin-left: 4px;
`,en=f.default.div`
  color: var(--TextQuaternary, #888);
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.6;
`,tn=["application/pdf","image/jpeg","image/jpg","image/png","image/webp"];var nn=i(40300),on=i(92722),an=i(12560),rn=i(41756),sn=i(13348);function ln({onFilesChange:e,maxFiles:t=3}){const i=(0,c.s)(),o=(0,r.useRef)(null),{files:a,uploadFile:s,removeFile:l,retryUpload:d}=function(e=3){const[t,i]=(0,r.useState)([]),n=()=>`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,o=(e,t,n,o,a)=>{i(i=>i.map(i=>i.id===e?Object.assign(Object.assign(Object.assign(Object.assign({},i),{status:t,error:n}),o?{url:o}:{}),a?{uri:a}:{}):i))},a=e=>i(t=>t.filter(t=>t.id!==e));return{files:t,setFiles:i,maxFiles:e,uploadFile:(a,r)=>(0,Bi.__awaiter)(this,void 0,void 0,function*(){var s,l,d;if(t.length>=e)return;if("pdf"!==r&&"image"!==r)return void console.error("uploadFile called with invalid type:",r);const c=function(e){return tn.includes(e.type)||e.type.startsWith("image/")?e.size>20971520?"File size must not exceed 20MB.":null:"Only JPEG, JPG, PNG, WEBP images and PDF files are allowed."}(a);if(c){const e=n(),t=Object.assign({id:e,name:a.name,type:r,status:"error",error:c},"image"===r?{previewUrl:URL.createObjectURL(a)}:{});return void i(e=>[...e,t])}const u=n(),p=Object.assign({id:u,name:a.name,type:r,status:"loading"},"image"===r?{previewUrl:URL.createObjectURL(a)}:{});i(e=>[...e,p]);const g=new FormData;g.append("file",a),g.append("source","pdf"===r?"39":"99");try{const e=yield fetch("/api/upload/image/",{method:"POST",body:g});if(!e.ok)throw new Error("Upload failed: "+e.status);const t=yield e.json(),i=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.uri,n=null===(d=null===(l=null==t?void 0:t.data)||void 0===l?void 0:l.url_list)||void 0===d?void 0:d[0];o(u,"success",void 0,n,i)}catch(e){o(u,"error","Upload failed")}}),removeFile:a,retryUpload:e=>{a(e.id)}}}(t);(0,r.useEffect)(()=>{null==e||e(a)},[a,e]);const u=!!a.find(e=>"error"===e.status);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(zi,{children:[a.map(e=>(0,n.jsxs)(Ui,{children:["image"===e.type&&e.previewUrl?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Hi,{src:e.previewUrl,alt:e.name}),(0,n.jsx)(Vi,{})]}):"pdf"===e.type?(0,n.jsxs)(qi,{children:[(0,n.jsx)(nn.A,{style:{height:"48px",width:"48px",marginBottom:6}}),(0,n.jsx)($i,{children:e.name})]}):"loading"===e.status?(0,n.jsx)("div",{}):(0,n.jsx)(Vi,{children:(0,n.jsx)(nn.A,{style:{fontSize:32}})}),(0,n.jsx)(Wi,{onClick:()=>l(e.id),"aria-label":"fileUploader_removeFile",children:(0,n.jsx)(an.A,{style:{zIndex:"99"}})}),"image"===e.type&&(0,n.jsx)($i,{children:e.name}),"error"===e.status&&(0,n.jsx)(Vi,{onClick:()=>d(e),children:(0,n.jsx)("div",{children:(0,n.jsx)(rn.A,{style:{zIndex:"2",height:"32px",width:"32px"}})})})]},e.id)),a.length<t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ni,{type:"button",onClick:()=>{var e;return null===(e=o.current)||void 0===e?void 0:e.click()},"aria-label":"fileUploader_addFile",children:(0,n.jsx)(sn.A,{style:{width:32,height:32}})}),(0,n.jsx)(Gi,{type:"file",accept:"image/*,application/pdf",ref:o,onChange:e=>(0,Bi.__awaiter)(this,void 0,void 0,function*(){var n;const o=null===(n=e.target.files)||void 0===n?void 0:n[0];if(o){if(a.length>=t)return alert(i("fileUploader_maxFiles",{maxFiles:t})),void(e.target.value="");"application/pdf"===o.type?yield s(o,"pdf"):o.type.startsWith("image/")?yield s(o,"image"):alert(i("fileUploader_unsupportedType")),e.target.value=""}})})]})]}),u&&(0,n.jsxs)(Ki,{children:[(0,n.jsx)(on.Om6,{size:16}),(0,n.jsx)(Yi,{children:i("rIC_reportPg_attachment_errorMessage")})]})]})}const dn=(0,f.default)("div",{target:"e1f38ozo0"})(({theme:e})=>({background:e.colors.BGInput,color:e.colors.TextSecondary,borderRadius:"8px",padding:"12px",margin:"10px"}),"label:SectionWrapper;"),cn=({text:e,placeholder:t,link:i,linkText:o,style:a,linkColor:r})=>{const s=e.split(t).reduce((e,t,a,s)=>(e.push(t),a<s.length-1&&e.push((0,n.jsx)("a",{href:i,style:{fontWeight:"bold",color:`${r}`},target:"_blank",rel:"noopener noreferrer",children:o},`${i}-${a}`)),e),[]);return(0,n.jsx)(dn,{style:a,children:s})};function un({title:e,description:t,maxFiles:i,onFilesChange:o,linkLabel:a,linkCTA:r,linkText:s,style:l}){return(0,n.jsxs)(Zi,{children:[(0,n.jsxs)(Ji,{children:[(0,n.jsxs)(Xi,{children:[e,(0,n.jsx)(Qi,{children:"*"})]}),(0,n.jsx)(en,{children:(0,n.jsx)(cn,{text:t,placeholder:a,link:r,linkText:s,style:l,linkColor:"#FE2C55B2"})})]}),(0,n.jsx)(ln,{maxFiles:i,onFilesChange:o})]})}const pn="https://www.tiktok.com/legal/information-distribution-platform-act-jp",gn=(0,r.memo)(function(){var e,t,i,s,l,d,u,p,g,m,h,v;const f=(0,c.s)(),y=ji.l.getInstance(wi.V$),[b,x]=(0,r.useState)({relevantLaw:"",reportExplanation:"",signature:"",checked:!1,trustedFlagger:!1,trustedFlaggerEmail:"",loggedOutEmail:""}),{region:k="",user:w,wid:S}=null!==(e=(0,F.W)(()=>["region","user","wid"],[]))&&void 0!==e?e:{},C=(0,r.useMemo)(()=>Boolean(w),[w]),j=(0,o.w)(_.hf),T=(0,a.P)(_.hf,{selector:e=>{const{UserData:t,PreState:i,PageState:n,reasonsAPIVersion:o,choosenDSACountry:a,PageStateData:r,reportTarget:s,DSACountriesList:l}=e;return{UserData:t,PreState:i,PageState:n,reasonsAPIVersion:o,choosenDSACountry:a,PageStateData:r,reportTarget:s,DSACountriesList:l}},dependencies:[]}),P=(0,r.useMemo)(()=>{var e,t,i,n;return null===(n=null===(i=JSON.parse(null!==(t=null===(e=T.UserData.selectedReason)||void 0===e?void 0:e.option)&&void 0!==t?t:"{}"))||void 0===i?void 0:i.tags)||void 0===n?void 0:n.includes("hideDSASignature")},[T.UserData]),A=(0,r.useMemo)(()=>{var e,t,i,n;return null===(n=null===(i=JSON.parse(null!==(t=null===(e=T.UserData.selectedReason)||void 0===e?void 0:e.option)&&void 0!==t?t:"{}"))||void 0===i?void 0:i.tags)||void 0===n?void 0:n.includes("hideTrustedFlagger")},[T.UserData]),M=(0,r.useMemo)(()=>{var e;return null===(e=T.reportTarget)||void 0===e?void 0:e.dsa_from_inbox},[null===(t=T.reportTarget)||void 0===t?void 0:t.dsa_from_inbox]),L=(0,r.useMemo)(()=>{var e;return null===(e=T.reportTarget)||void 0===e?void 0:e.osa_from_inbox},[null===(i=T.reportTarget)||void 0===i?void 0:i.osa_from_inbox]),D=(0,r.useMemo)(()=>{var e;return null===(e=T.reportTarget)||void 0===e?void 0:e.ric_from_inbox},[null===(s=T.reportTarget)||void 0===s?void 0:s.ric_from_inbox]),O=(0,r.useMemo)(()=>10===T.PageState,[T]),R=(0,r.useMemo)(()=>11===T.PageState,[T]),E=(0,r.useMemo)(()=>9===T.PageState,[T]),[B,z]=(0,r.useState)([]),[U,N]=(0,r.useState)({trustedFlaggerInvalid:!1,loggedOutInvalid:!1}),W=(0,Ne.Pl)(null!==(d=null===(l=T.reportTarget)||void 0===l?void 0:l.report_type)&&void 0!==d?d:"");(0,r.useEffect)(()=>{T.PageStateData&&"relevantLaw"in T.PageStateData&&x(Object.assign({},T.PageStateData))},[T.PageStateData]),(0,r.useEffect)(()=>{L&&j.setPageState(10)},[j,L]),(0,r.useEffect)(()=>{D&&j.setPageState(11)},[j,D]),(0,r.useEffect)(()=>{var e,t,i,n,o,a,r;if(T.DSACountriesList.length>0&&M&&(null===(e=T.reportTarget)||void 0===e?void 0:e.report_record)){const{legal_jurisdiction:e}=null!==(i=null===(t=T.reportTarget)||void 0===t?void 0:t.report_record.common_data)&&void 0!==i?i:{},n=T.DSACountriesList.find(t=>t.code===e);return n&&j.setChoosenDSACountry(n),void rt.o.handleDSAResubmitShow({})}if(M&&0===T.DSACountriesList.length){const{legal_jurisdiction:e,reason:t}=null!==(a=null===(o=null===(n=T.reportTarget)||void 0===n?void 0:n.report_record)||void 0===o?void 0:o.common_data)&&void 0!==a?a:{};if(void 0===e||void 0===t)return void y.emitEvent("dsa_resubmit_entry_fail",{count:1},{legal_jurisdiction:null!=e?e:"",reason:null!==(r=null==t?void 0:t.toString())&&void 0!==r?r:""});j.getDSACountries()}},[M,T.DSACountriesList]);const V=(0,r.useMemo)(()=>{var e,t,i,n,o,a,r,s,l,d,c;const u=T.reasonsAPIVersion===ze.Hs&&(null===(t=null===(e=T.UserData)||void 0===e?void 0:e.selectedReason)||void 0===t?void 0:t.reason_code)?null!==(o=null===(n=null===(i=T.UserData)||void 0===i?void 0:i.selectedReason)||void 0===n?void 0:n.reason_code)&&void 0!==o?o:0:null!==(s=null===(r=null===(a=T.UserData)||void 0===a?void 0:a.selectedReason)||void 0===r?void 0:r.reason_type)&&void 0!==s?s:0;return u||(M||L||D?null===(c=null===(d=null===(l=null==T?void 0:T.reportTarget)||void 0===l?void 0:l.report_record)||void 0===d?void 0:d.common_data)||void 0===c?void 0:c.reason:u)},[T.reasonsAPIVersion,null===(g=null===(p=null===(u=null==T?void 0:T.reportTarget)||void 0===u?void 0:u.report_record)||void 0===p?void 0:p.common_data)||void 0===g?void 0:g.reason]),q=(0,Fi.x)(V),$=(0,r.useMemo)(()=>!(""===b.reportExplanation.trim()||!P&&""===b.signature.trim()||!b.checked||!O&&!R&&void 0===T.choosenDSACountry||b.trustedFlagger&&(""===b.trustedFlaggerEmail.trim()||!(0,Ne.B9)(b.trustedFlaggerEmail))||!(C||q||""!==b.loggedOutEmail.trim()&&(0,Ne.B9)(b.loggedOutEmail))||R&&!B.some(e=>"success"===e.status&&e.url)),[b,B,R,O]),G=(0,r.useCallback)(e=>{var t,i,n,o,a,r,s,l,d,c,u,p,g,_,m,h,v,f,y,x;e.preventDefault(),e.stopPropagation();const I=B.filter(e=>"success"===e.status&&e.uri).map(e=>e.uri);if(V&&$){const e=Object.assign(Object.assign(Object.assign({report_signature:b.signature,relevant_law:b.relevantLaw,trusted_flagger_email:b.trustedFlaggerEmail,logout_reporter_email:b.loggedOutEmail,report_desc:b.reportExplanation,submit_type:M||L||D?"2":"1",legal_jurisdiction:null!==(i=null===(t=T.choosenDSACountry)||void 0===t?void 0:t.code)&&void 0!==i?i:"",image_uri_list:I,is_osa_report:O,is_ric_report:R},(M||L||D)&&{parent_id:null!==(o=null===(n=T.reportTarget)||void 0===n?void 0:n.report_id)&&void 0!==o?o:"",verification_code:null!==(r=null===(a=T.reportTarget)||void 0===a?void 0:a.logged_out_code)&&void 0!==r?r:"",report_menu_click_time:null!==(c=null===(d=null===(l=null===(s=T.reportTarget)||void 0===s?void 0:s.report_record)||void 0===l?void 0:l.common_data)||void 0===d?void 0:d.report_menu_click_time)&&void 0!==c?c:""}),(M||L||D)&&(0,Ne.Pl)(null!==(p=null===(u=T.reportTarget)||void 0===u?void 0:u.report_type)&&void 0!==p?p:"")&&Object.assign(Object.assign({},null===(_=null===(g=T.reportTarget)||void 0===g?void 0:g.report_record)||void 0===_?void 0:_.live),null===(h=null===(m=T.reportTarget)||void 0===m?void 0:m.report_record)||void 0===h?void 0:h.live_comment)),(M||L||D)&&!(0,Ne.Pl)(null!==(f=null===(v=T.reportTarget)||void 0===v?void 0:v.report_type)&&void 0!==f?f:"")&&Object.assign({},null===(x=null===(y=T.reportTarget)||void 0===y?void 0:y.report_record)||void 0===x?void 0:x.non_live)),P={reason:V,extraData:e,region:k,wid:S,uid:null==w?void 0:w.uid,loggedOut:!C};j.postReport(Object.assign(Object.assign({},P),{callbackFn:()=>{j.postReport(P)}})),(M||L||D)&&rt.o.handleDSAResubmitReportOnSubmission({})}},[V,j,b,$,M,L,D,B]),K=(0,r.useCallback)(()=>{M||(j.setPageStateData(b),j.handleNextForm(12))},[b,M]);(0,r.useEffect)(()=>()=>{j.setChoosenDSACountry(void 0)},[]);const Y=(0,r.useCallback)(()=>{const e={dsa_illegal_report_penalty_reminder_transparency:"https://www.tiktok.com/legal/page/global/reporting-illegal-content/en",ric_disclaimer_link:pn},t=t=>{var i;const n=null===(i=t.target)||void 0===i?void 0:i.id,o=e[n];o&&window.open(o,"_blank")};if(O)return(0,n.jsx)(xi,{children:f("oSA_reportPg_disclaimer_placeholder")});if(E){let e=f("dsa_illegal_report_penalty_reminder");return e=e.replace(/{{(.*?)}}/g,e=>`<b id="dsa_illegal_report_penalty_reminder_transparency" style="cursor: pointer">${e.replace(/[{}]/g,"")}</b>`),(0,n.jsx)(xi,{dangerouslySetInnerHTML:{__html:Ci().sanitize(e)},onClick:t})}if(R){let e=f("rIC_reportPg_disclaimerIllegalContent_desc");return e=e.replace(/{\s*s_learnMore\s*}/g,`<b id="ric_disclaimer_link" style="cursor: pointer; color: #FE2C55B2;"">\n        ${f("rIC_reportPg_disclaimer_placeholder")}</b>`),(0,n.jsx)(xi,{dangerouslySetInnerHTML:{__html:Ci().sanitize(e)},onClick:t})}return(0,n.jsx)(n.Fragment,{})},[O,E,R,f]);return(0,n.jsx)(ri,{children:(0,n.jsxs)(Ve,{children:[O?(0,n.jsx)(ki,{children:`${f("Web_report_reason_select")} ${null===(h=T.UserData.selectedReason)||void 0===h?void 0:h.text}`}):(0,n.jsx)(qe,{children:`${f("Web_report_reason_select")} ${null===(m=T.UserData.selectedReason)||void 0===m?void 0:m.text}`}),!C&&(0,n.jsxs)(li,{style:{marginTop:"16px"},children:[(0,n.jsxs)(di,{children:[f("dsa_illegal_report_email"),q?(0,n.jsx)(ci,{children:f("dsa_illegal_cite_law_optional")}):(0,n.jsx)(gi,{children:"*"})]}),(0,n.jsx)(mi,{noBg:R,rows:1,placeholder:f("dsa_illegal_report_fill_email"),value:b.loggedOutEmail,onBlur:()=>{N(Object.assign(Object.assign({},U),{loggedOutInvalid:!(0,Ne.B9)(b.loggedOutEmail)}))},onChange:e=>{var t;x(Object.assign(Object.assign({},b),{loggedOutEmail:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),!O&&(0,n.jsx)(hi,{}),q?(0,n.jsx)(ui,{children:f("cseReasons_reportPg_emailAddForm_body")}):null,U.loggedOutInvalid&&(0,n.jsxs)(yi,{children:[(0,n.jsx)(I.A,{}),(0,n.jsx)(bi,{children:f("dsa_illegal_report_trustedflagger_fill_email")})]})]}),!O&&!R&&(0,n.jsxs)(si,{children:[(0,n.jsxs)(di,{children:[f("dsa_illegal_detail_country"),(0,n.jsx)(gi,{children:"*"})]}),(0,n.jsxs)(_i,{onClick:K,children:[null===(v=T.choosenDSACountry)||void 0===v?void 0:v.desc,(0,n.jsx)(ai._k,{children:(0,n.jsx)(oi.A,{width:16,height:16})})]})]}),!R&&(0,n.jsxs)(li,{children:[(0,n.jsxs)(di,{children:[f("dsa_illegal_detail_law"),(0,n.jsx)(ci,{children:f("dsa_illegal_cite_law_optional")}),(0,n.jsxs)(pi,{children:[b.relevantLaw.length,"/200"]})]}),(0,n.jsx)(mi,{rows:2,maxLength:200,placeholder:f(E?"dsa_illegal_cite_law_desc":"oSAAudio_reportPg_relevantLaw_desc"),value:b.relevantLaw,onChange:e=>{var t;x(Object.assign(Object.assign({},b),{relevantLaw:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),!O&&(0,n.jsx)(hi,{})]}),(0,n.jsxs)(li,{children:[(0,n.jsxs)(di,{children:[f("dsa_illegal_detail_explanation"),(0,n.jsx)(gi,{children:"*"}),(0,n.jsxs)(pi,{children:[b.reportExplanation.length,"/400"]})]}),(0,n.jsx)(mi,{noBg:R,rows:4,maxLength:400,placeholder:E?f("dsa_illegal_report_explanation_desc"):O?f(W?"oSA_reportPg_reportExplanationLIVE_desc":"oSAAudio_reportPg_reportExplanation_desc"):R?f(W?"rIC_reportPg_reportExplanationLIVE_desc":"rIC_reportPg_reportExplanation_desc"):"",value:b.reportExplanation,onChange:e=>{var t;x(Object.assign(Object.assign({},b),{reportExplanation:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),!O&&(0,n.jsx)(hi,{})]}),R&&(0,n.jsx)(un,{onFilesChange:z,title:f("rIC_reportPg_attachment_title"),description:f("rIC_reportPg_attachment_desc"),linkLabel:"{s_learnMore}",linkText:f("rIC_reportPg_disclaimer_placeholder"),linkCTA:pn,style:{background:"none",backgroundColor:"transparent",borderRadius:0,padding:0,margin:0,marginBottom:"16px"}}),!1===P&&(0,n.jsxs)(li,{children:[(0,n.jsxs)(di,{children:[f("dsa_illegal_appeal_signature"),(0,n.jsx)(gi,{children:"*"})]}),(0,n.jsx)(mi,{noBg:R,rows:1,placeholder:f("dsa_illegal_sign_legal_name"),value:b.signature,onChange:e=>{var t;x(Object.assign(Object.assign({},b),{signature:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))}}),!O&&(0,n.jsx)(hi,{})]}),C&&!A&&!O&&!R&&(0,n.jsx)(Ei,{}),(0,n.jsxs)(vi,{onClick:()=>{x(Object.assign(Object.assign({},b),{checked:!b.checked}))},children:[(0,n.jsx)(At.h$,{checked:b.checked,label:""}),(0,n.jsx)(fi,{children:f("dsa_illegal_confirm_accuracy")})]}),b.trustedFlagger&&(0,n.jsxs)(li,{style:{marginTop:"16px"},children:[(0,n.jsxs)(di,{children:[f("dsa_illegal_report_trustedflagger_email"),(0,n.jsx)(gi,{children:"*"})]}),(0,n.jsx)(mi,{rows:1,placeholder:"Fill in your email address",value:b.trustedFlaggerEmail,onChange:e=>{var t;x(Object.assign(Object.assign({},b),{trustedFlaggerEmail:null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:""}))},onBlur:()=>{N(Object.assign(Object.assign({},U),{trustedFlaggerInvalid:!(0,Ne.B9)(b.trustedFlaggerEmail)}))}}),(0,n.jsx)(hi,{}),U.trustedFlaggerInvalid&&(0,n.jsxs)(yi,{children:[(0,n.jsx)(I.A,{}),(0,n.jsx)(bi,{children:f("dsa_illegal_report_trustedflagger_fill_email")})]})]}),Y(),(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{onClick:G,disabled:!$,children:f("Submit")})})]})})}),_n=(0,f.default)("div",{target:"esekbse0"})(({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"703px",overflowY:"auto",overflowX:"hidden"}),"label:DivChooseCountryContainer;"),mn=(0,f.default)("div",{target:"esekbse1"})(({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,position:"relative"}),"label:DivSubmitContainer;"),hn={id:"search-35c41e45",use:"search-35c41e45-usage",viewBox:"0 0 19 19",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19 19" id="search-35c41e45"><path fill="#161823" fill-opacity=".34" fill-rule="evenodd" d="M8 14A6 6 0 1 1 8 2a6 6 0 0 1 0 12m0 2a8 8 0 1 1 6.32-3.094l4.362 4.362a.5.5 0 0 1 0 .707l-.707.707a.5.5 0 0 1-.707 0l-4.362-4.362A7.97 7.97 0 0 1 8 16" clip-rule="evenodd" /></symbol>'};function vn(e){const t=(0,r.useContext)(A.X);return(0,r.useLayoutEffect)(()=>(t.add(hn),()=>{t.remove("search-35c41e45")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#search-35c41e45"},void 0)}),void 0)}const fn=(0,f.default)("div",{target:"ei51d10"})(({theme:e})=>({background:e.colors.BGInput,borderRadius:"92px",height:"40px",position:"relative",display:"flex",alignItems:"center"}),"label:DivSearchBoxContainer;"),yn=(0,f.default)("input",{target:"ei51d11"})(({theme:e})=>({marginInlineStart:"16px",fontWeight:"400px",fontSize:"16px",lineHeight:"24px",color:e.colors.TextTertiary,userSelect:"none",border:"none",background:"none",resize:"none",width:"100%",height:"100%",outline:"none"}),"label:DivSearchBoxInput;"),bn=(0,f.default)("div",{target:"ei51d12"})(({})=>[{marginInlineStart:"auto",marginInlineEnd:"52px",position:"relative",display:"flex",alignItems:"center"}],"label:DivSearchContainer;"),xn=(0,f.default)("div",{target:"ei51d13"})(({theme:e})=>({height:"22px",width:"2px",background:e.colors.LineSecondary}),"label:DivVerticalLine;"),kn=(0,f.default)(vn,{target:"ei51d14"})(({theme:{direction:e}})=>[{position:"absolute",left:"rtl"===e?"0px":"15px",right:"rtl"===e?"15px":"0px"}],"label:DivSearchIconContainer;"),wn=({placeholder:e,value:t,onChange:i,style:o={}})=>(0,n.jsxs)(fn,{style:o,children:[(0,n.jsx)(yn,{placeholder:e,value:t,onChange:i}),(0,n.jsxs)(bn,{children:[(0,n.jsx)(xn,{}),(0,n.jsx)(kn,{})]})]}),Sn=(0,f.default)("div",{target:"e1n4g7sr0"})(({theme:e})=>({padding:"16px 15px",display:"flex",alignItems:"center",color:e.colors.TextPrimary,lineHeight:"24px",fontSize:"16px",fontWeight:"400",cursor:"pointer"}),"label:DivItemContainer;"),Cn=(0,f.default)("div",{target:"e1n4g7sr1"})({marginInlineStart:"auto"},"label:DivRadioWrapper;"),jn=({list:e=[],style:t={},onSelect:i,selectedIndex:o=-1,isMobile:a=!1})=>(0,n.jsx)("div",{style:t,children:e.map((e,t)=>(0,n.jsxs)(Sn,{onClick:()=>{i&&i(t,e)},children:[e.text,(0,n.jsx)(Cn,{children:a?(0,n.jsx)(V,{label:"",value:o===t}):(0,n.jsx)(At.v3,{name:"",label:"",value:1,checked:o===t})})]},e.key))}),Tn=(0,r.memo)(function(){const e=(0,c.s)(),[t,i]=(0,r.useState)(""),[s,l]=(0,r.useState)(),[d,u]=(0,r.useState)(-1),p=(0,o.w)(_.hf),g=(0,a.P)(_.hf,{selector:e=>{const{UserData:t,PreState:i,reasonsAPIVersion:n,DSACountriesList:o}=e;return{UserData:t,PreState:i,reasonsAPIVersion:n,DSACountriesList:o}},dependencies:[]});(0,r.useEffect)(()=>{0===g.DSACountriesList.length&&p.getDSACountries()},[]);const m=(0,r.useCallback)(e=>{null==e||e.preventDefault(),void 0!==s&&(p.setChoosenDSACountry(s),p.handlePrevStep())},[s]),h=(0,r.useCallback)(e=>e.map(e=>({key:e.code,text:e.desc})).sort((e,t)=>e.key.localeCompare(t.key)),[]),v=(0,r.useMemo)(()=>""===t.trim()?h(g.DSACountriesList):h(g.DSACountriesList).filter(e=>e.text.toLowerCase().startsWith(t.toLowerCase())),[t,g.DSACountriesList]);return(0,n.jsxs)(_n,{children:[(0,n.jsx)(wn,{value:t,onChange:e=>{i(e.target.value),u(-1),l(void 0)},placeholder:e("dsa_illegal_select_region"),style:{margin:"24px 24px 16px 24px"}}),(0,n.jsx)(jn,{selectedIndex:d,list:v,style:{height:"522px",overflowY:"auto",padding:"0px 24px 0px 24px"},onSelect:e=>{u(e),l({code:v[e].key,desc:v[e].text})}}),(0,n.jsx)(mn,{children:(0,n.jsx)(H.jl,{onClick:m,children:e("Confirm")})})]})}),In=1440,Pn=(0,f.default)("h4",{target:"e13cyvd6"})(({theme:e})=>({fontSize:"17px",lineHeight:"44px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.bold,textAlign:"center",flex:1}),"label:H4FormTitle;");Pn.defaultProps=Object.assign(Object.assign({},Pn.defaultProps),{"data-e2e":"report-card-title"});const An=(0,f.default)("label",{target:"e13cyvd10"})({boxSizing:"border-box",minHeight:"54px",display:"flex",flex:"1 1 100%",flexDirection:"row",alignItems:"center",cursor:"pointer",position:"relative",wordBreak:"break-all",justifyContent:"space-between",borderRadius:"8px"},"label:LabelRadio;");An.defaultProps=Object.assign(Object.assign({},An.defaultProps),{"data-e2e":"report-card-reason"});const Mn=(0,f.default)("div",{target:"e13cyvd12"})(({theme:e})=>[{color:e.colors.TextPrimary,fontSize:"17px",lineHeight:"20px",fontWeight:600,marginBottom:"12px",marginTop:"8px"},(0,kt.jJ)({min:In,style:{fontSize:"24px",lineHeight:1.3,fontWeight:"500",color:"rgba(0, 0, 0, 1)",marginBottom:"20px"}}),(0,kt.jJ)({min:2560,style:{fontSize:"32px"}})],"label:DivTitle;"),Ln=(0,f.default)("div",{target:"e13cyvd13"})(({theme:e})=>[{color:e.colors.TextSecondary,fontSize:"14px",lineHeight:"17px",marginBottom:"8px"},(0,kt.jJ)({min:In,style:{fontSize:"24px",lineHeight:1.3}}),(0,kt.jJ)({min:2560,style:{fontSize:"32px"}})],"label:DivSubTitle;"),Dn=(0,f.default)("li",{target:"e13cyvd14"})(({theme:e})=>[{marginBottom:"8px",color:e.colors.TextSecondary,fontSize:"14px",lineHeight:"17px"},(0,kt.jJ)({min:In,style:{fontSize:"24px",lineHeight:1.3,margin:"16px 0"}}),(0,kt.jJ)({min:2560,style:{fontSize:"32px"}})],"label:LiItem;"),On=((0,kt.jJ)({min:In,style:{width:"32px",height:"32px"}}),({title_text:e,subtitle_text:t,desc_text:i,children:o,device:a="pc"})=>{const[r,s,l]="pc"===a?[H.Ug,H.UP,H.lg]:[Mn,Ln,Dn];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r,{children:null!=e?e:""}),t&&(0,n.jsx)(s,{children:null!=t?t:""}),(null==i?void 0:i.length)?(0,n.jsx)("ul",{style:{margin:"0px",paddingInlineStart:"26px"},children:i.map(e=>(0,n.jsx)(l,{children:(0,n.jsx)("span",{children:e})},e))}):null,o&&o]})}),Rn=({selectedReason:e})=>{const{lawDescription:t}=(e=>{const[t,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{var t;if(e){const n=((e,t)=>{try{const i=e.find(e=>JSON.parse(e).ID===t);return i?JSON.parse(i):null}catch(e){return console.error(`Failed to parse module data for ID ${t}:`,e),null}})(null!==(t=e.generic_module)&&void 0!==t?t:[],"CA_LAW");i(n)}else i(null)},[e]),{lawDescription:t}})(e);return t?(0,n.jsx)(cn,{text:t.ca_law_text,placeholder:t.ca_law_placeholder,link:t.ca_law_link,linkText:t.ca_law_link_text,style:{color:"grey"}}):null},En=(0,f.default)("div",{target:"e1bufegg0"})(({})=>({marginTop:"32px"}),"label:DivWrapper;"),Fn=(0,f.default)("textarea",{target:"e1bufegg1"})(({theme:e})=>({margin:"auto",width:"95%",height:"unset",fontSize:"16px",lineHeight:"24px",backgroundColor:e.colors.BGInput,padding:"8px",color:e.colors.TextSecondary,borderRadius:"8px"}),"label:DivInputArea;"),Bn=(0,f.default)("div",{target:"e1bufegg2"})(({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,display:"flex"}),"label:DivTitle;"),zn=(0,f.default)("div",{target:"e1bufegg3"})(({theme:e})=>({color:e.colors.TextSecondary,fontSize:"16px",padding:"16px 0px"}),"label:EmailDescription;"),Un=(0,f.default)("span",{target:"e1bufegg4"})(({theme:e})=>({color:e.colors.Primary}),"label:AsteriskColor;"),Nn=(0,f.default)("div",{target:"e1bufegg5"})(({})=>({display:"flex",alignItems:"center",marginBottom:"10px"}),"label:TitleDiv;"),Wn=({required:e=!1,email:t,setEmail:i})=>{const o=(0,c.s)(),[a,s]=(0,r.useState)(!1);return(0,n.jsxs)(En,{children:[(0,n.jsxs)(Nn,{children:[(0,n.jsx)(Bn,{children:o("oSA_reporting_emailAdd_title")}),e?(0,n.jsx)(Un,{children:"*"}):null]}),(0,n.jsx)(Fn,{maxLength:200,rows:1,value:t,placeholder:o("oSA_reporting_emailAddField_placeholder"),onBlur:()=>{s(!(0,Ne.B9)(t))},onChange:e=>{var t;i(null!==(t=null==e?void 0:e.target.value)&&void 0!==t?t:"")}}),a&&(0,n.jsxs)(yi,{children:[(0,n.jsx)(I.A,{}),(0,n.jsx)(bi,{children:o("oSA_generic_email_errorState")})]}),(0,n.jsx)(zn,{children:o("oSA_reporting_anonymousReport_placeholder")})]})},Vn=()=>{var e,t,i,s,l,d,u,p,g,m,h,v,f,y;const b=(0,c.s)(),x=(0,o.w)(_.hf),k=(0,a.P)(_.hf,{selector:e=>{const{UserData:t,reportTarget:i,reasonsAPIVersion:n}=e;return{UserData:t,reportTarget:i,reasonsAPIVersion:n}},dependencies:[]}),{region:w="",user:S}=null!==(e=(0,F.W)(()=>["region","user"],[]))&&void 0!==e?e:{},C="GB"===w,j=(0,r.useMemo)(()=>Boolean(S),[S]),[T,I]=(0,r.useState)(""),[P,A]=(0,r.useState)({title:"",subtitle:"",introduction:""}),[M,L]=(0,r.useState)(),D=null===(t=k.UserData.selectedReason)||void 0===t?void 0:t.option,O=null===(i=JSON.parse(D))||void 0===i?void 0:i.tags.includes("showOSA"),R=(0,r.useCallback)(e=>{var t,i,n,o;e.preventDefault(),e.stopPropagation();const a=j?{}:{logout_reporter_email:T,is_osa_report:O,is_osa_report_cg:O},r=null===(i=null===(t=k.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_type,s=null===(o=null===(n=k.UserData)||void 0===n?void 0:n.selectedReason)||void 0===o?void 0:o.reason_code;3!==k.reasonsAPIVersion&&r?x.postReport({reason:r,extraData:a,region:w,uid:null==S?void 0:S.uid}):s&&x.postReport({reason:s,extraData:a,region:w,uid:null==S?void 0:S.uid})},[x,null===(s=k.UserData)||void 0===s?void 0:s.selectedReason,w,null==S?void 0:S.uid,j,T,k.reasonsAPIVersion]);return(0,r.useEffect)(()=>{if(k.UserData.selectedReason){const e=JSON.parse(k.UserData.selectedReason.option)||{};k.reasonsAPIVersion===ze.Hs?L(e):A(e.intro||{})}},[]),(0,n.jsx)(H.nM,{children:3!==k.reasonsAPIVersion?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(On,{title_text:P.title,subtitle_text:P.subtitle,desc_text:(P.introduction||"").split("\n")}),(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{onClick:R,children:b("Submit")})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(On,{title_text:null!==(u=null===(d=null===(l=null==M?void 0:M.action)||void 0===l?void 0:l.action_params)||void 0===d?void 0:d.title_text)&&void 0!==u?u:"",subtitle_text:null!==(m=null===(g=null===(p=null==M?void 0:M.action)||void 0===p?void 0:p.action_params)||void 0===g?void 0:g.subtitle_text)&&void 0!==m?m:"",desc_text:null!==(f=null===(v=null===(h=null==M?void 0:M.action)||void 0===h?void 0:h.action_params)||void 0===v?void 0:v.desc_text)&&void 0!==f?f:[]}),!j&&C&&(0,n.jsx)(Wn,{required:!!O,email:T,setEmail:I}),(0,n.jsx)(Rn,{selectedReason:null===(y=k.UserData)||void 0===y?void 0:y.selectedReason}),(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{onClick:R,disabled:!(()=>{const e=!j&&C&&!!O,t=!(0,Ne.B9)(T)&&T.length>0;if(e){if(!T||t)return!1}else if(T.length>0&&t)return!1;return!0})(),children:b("Submit")})})]})})};var Hn=i(29098),qn=i(75778),$n=i(70591),Gn=i(75431);const Kn=(0,Gn.i7)({"0%":{transform:"rotate(0deg)"},"50%":{transform:"rotate(180deg)"},"100%":{transform:"rotate(360deg)"}}),Yn=(0,f.default)("div",{target:"e1n5v3jy0"})({animation:`${Kn} 1s ease-out infinite`,width:"16px",height:"16px"},"label:DivRotate;"),Zn=(0,f.default)("input",{target:"e1n5v3jy1"})(({theme:e})=>({borderTop:"0px",borderLeft:"0px",borderRight:"0px",borderBottom:`1px solid ${e.colors.LineSecondary}`,fontSize:"16px",width:"100%",padding:"14px 0px",lineHeight:"22px",outline:"none",marginTop:"14px",background:e.colors.BGPrimary,color:e.colors.TextPrimary}),"label:InputUser;"),Jn=(0,f.default)("div",{target:"e1n5v3jy2"})(({theme:e})=>({padding:"8px 0px",borderBottom:`1px solid ${e.colors.LineSecondary}`}),"label:DivUserCC;"),Xn=(0,f.default)("div",{target:"e1n5v3jy3"})({width:"100%",height:"64px",position:"relative"},"label:DivC;"),Qn=(0,f.default)("div",{target:"e1n5v3jy4"})({height:"48px",position:"relative"},"label:DivUserInfo;"),eo=(0,f.default)("img",{target:"e1n5v3jy5"})({width:"48px",height:"48px",borderRadius:"50%",position:"absolute",left:"0",top:"0"},"label:ImgUserAvator;"),to=(0,f.default)("div",{target:"e1n5v3jy6"})(({theme:e})=>({position:"absolute",left:"60px",top:"0px",height:"25px",lineHeight:"25px",fontSize:"18px",color:e.colors.TextPrimary}),"label:DivUserName;"),io=(0,f.default)("div",{target:"e1n5v3jy7"})(({theme:e})=>({position:"absolute",left:"60px",top:"27px",height:"20px",lineHeight:"20px",fontSize:"14px",color:e.colors.TextPrimary}),"label:DivUserId;"),no=(0,f.default)("div",{target:"e1n5v3jy8"})({position:"absolute",right:"16px",bottom:"16px",width:"16px",height:"16px"},"label:DivCbutton;"),oo=(0,f.default)("li",{target:"e1n5v3jy9"})(({theme:e})=>({width:"100%",height:"64px",padding:"8px 16px",":hover":{background:e.colors.BGPlaceholderOpaque}}),"label:LiUser;"),ao=(0,f.default)("ul",{target:"e1n5v3jy10"})(({theme:e})=>({position:"relative",margin:"0px",width:"100%",maxHeight:"360px",overflowY:"scroll",padding:"0px",background:e.colors.BGSecondary,boxShadow:e.isDark?"":"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:"8px",zIndex:22}),"label:UlUser;");let ro=null;const so=(0,r.memo)(function({onChange:e}){const t=(0,c.s)(),i=(0,m.Nj)($n.S),[o,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),[d,u]=(0,r.useState)(null),[p,g]=(0,r.useState)([]),[_,h]=(0,r.useState)(!1),[v,f]=(0,r.useState)(0),[y,b]=(0,r.useState)(!0),x=(0,r.useCallback)(t=>{d&&(u(null),f(0),l(""),g([]),e(null))},[d,e]),k=(0,r.useCallback)(t=>i=>{i.preventDefault(),i.stopPropagation(),u(t),a(!1),e(t)},[e]),w=(0,r.useCallback)((e,t)=>{!_&&y&&(h(!0),i.getUserSearch({keyword:e,cursor:t}).subscribe(e=>{var i;if(h(!1),0===e.status_code||203===e.status_code){b(Boolean(e.has_more));const{user_list:n}=e,o=null!==(i=null==n?void 0:n.map(e=>({uid:e.user_info.uid,nickname:e.user_info.nickname,username:e.user_info.unique_id,avatar:e.user_info.avatar_thumb.url_list.find(e=>e.indexOf(".jpeg")>-1)||e.user_info.avatar_thumb.url_list[0],isVerify:Boolean(e.user_info.custom_verify||e.user_info.verify_info_tt||e.user_info.enterprise_verify_reason)})))&&void 0!==i?i:[],r=[...0===t?[]:p,...o];f(r.length),g(r),a(!0)}}))},[_,y,i,p]),S=(0,r.useCallback)(e=>{const t=e.target.value;l(t),ro&&clearTimeout(ro),ro=setTimeout(()=>{t&&w(t,0)},1e3)},[w]),C=(0,r.useCallback)(e=>{const t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&!_&&w(s,v)},[s,v,w,_]);return(0,n.jsxs)("div",{children:[(0,n.jsxs)(Xn,{children:[d?(0,n.jsx)(Jn,{children:(0,n.jsxs)(Qn,{children:[(0,n.jsx)(eo,{src:d.avatar}),(0,n.jsxs)(to,{children:[(0,n.jsx)("span",{style:{paddingRight:"4px"},children:d.nickname}),d.isVerify?(0,n.jsx)(Hn.A,{style:{verticalAlign:"middle"},width:14,height:14,"data-e2e":"user-bluev"}):null]}),(0,n.jsx)(io,{children:d.username})]})}):(0,n.jsx)(Zn,{value:s,placeholder:t("Web_report_account_impersonated_search"),onChange:S}),(0,n.jsx)(no,{onClick:x,children:d?(0,n.jsx)(qn.A,{style:{fontSize:16}}):_?(0,n.jsx)(Yn,{children:(0,n.jsx)(T.A,{style:{fontSize:16}})}):null})]}),o?(0,n.jsx)(ao,{onScroll:C,children:p.map(e=>(0,n.jsx)(oo,{children:(0,n.jsxs)(Qn,{onClick:k(e),children:[(0,n.jsx)(eo,{src:e.avatar}),(0,n.jsxs)(to,{children:[(0,n.jsx)("span",{style:{paddingRight:"4px"},children:e.nickname}),e.isVerify?(0,n.jsx)(Hn.A,{style:{verticalAlign:"middle"},width:14,height:14,"data-e2e":"user-bluev"}):null]}),(0,n.jsx)(io,{children:e.username})]})},e.username))}):null]})}),lo=(0,f.default)("div",{target:"e1xsicpb0"})(({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"65vh",overflowY:"hidden",overflowX:"hidden"}),"label:DivRadioWrapper;"),co=(0,f.default)("div",{target:"e1xsicpb1"})(({theme:e})=>({height:"54px",width:"100%",backgroundColor:e.colors.BGView,padding:"16px 24px",color:e.colors.TextSecondary,fontSize:"16px",lineHeight:"22px"}),"label:DivReport;"),uo=(0,f.default)("div",{target:"e1xsicpb2"})(({theme:e})=>({marginTop:"24px",fontSize:"18px",lineHeight:"24px",height:"24px",padding:"0 24px",color:e.colors.TextPrimary}),"label:DivUTitle;"),po=(0,f.default)("div",{target:"e1xsicpb3"})(({theme:e})=>({marginTop:"10px",fontSize:"16px",lineHeight:"22px",height:"22px",color:e.colors.TextTertiary,padding:"0 24px"}),"label:DivUSubTitle;"),go=(0,f.default)("div",{target:"e1xsicpb4"})(({theme:e})=>({position:"absolute",bottom:"96px",left:"0",width:"100%",fontSize:"14px",lineHeight:"20px",color:e.colors.TextSecondary,padding:"0 24px"}),"label:DivDesc;"),_o=(0,f.default)("div",{target:"e1xsicpb5"})({marginTop:"12px",padding:"0px 24px"},"label:DivUser;"),mo=()=>{var e,t,i;const s=(0,c.s)(),l=(0,o.w)(_.hf),[d,u]=(0,r.useState)(null),[p,g]=(0,r.useState)(!0),m=(0,a.P)(_.hf,{selector:e=>{const{UserData:t,reasonsAPIVersion:i}=e;return{UserData:t,reasonsAPIVersion:i}},dependencies:[]}),h=(0,r.useMemo)(()=>{var e,t,i,n,o,a,r;return m.reasonsAPIVersion===ze.Hs&&(null===(e=m.UserData)||void 0===e?void 0:e.selectedReason).reason_code?null!==(n=null===(i=null===(t=m.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_code)&&void 0!==n?n:0:null!==(r=null===(a=null===(o=m.UserData)||void 0===o?void 0:o.selectedReason)||void 0===a?void 0:a.reason_type)&&void 0!==r?r:0},[m.reasonsAPIVersion]),v=(0,r.useCallback)(e=>{e?(g(!1),u(e)):(g(!0),u(null))},[]),{region:f="",user:y}=null!==(e=(0,F.W)(()=>["region","user"],[]))&&void 0!==e?e:{},b=(0,r.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),m.UserData.selectedReason&&d){const e={related_username:d.username,related_ttid:d.uid};l.postReport({reason:h,extraData:e,region:f,uid:null==y?void 0:y.uid})}},[m.UserData.selectedReason,d,l,f,null==y?void 0:y.uid]);let x="";if(m.UserData.HistoryReason){const e=(null===(t=m.UserData.HistoryReason)||void 0===t?void 0:t.length)||2;e>=2&&(x=(null===(i=m.UserData.HistoryReason[e-2])||void 0===i?void 0:i.text)||"")}return(0,n.jsxs)(lo,{children:[(0,n.jsxs)(co,{children:[s("Web_report_reason_select"),x]}),(0,n.jsx)(uo,{children:s("Web_report_account_impersonated")}),(0,n.jsx)(po,{children:s("Web_report_account_impersonated_description")}),(0,n.jsx)(_o,{children:(0,n.jsx)(so,{onChange:v})}),(0,n.jsx)(go,{children:s("Web_report_description_tips")}),(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{disabled:p,onClick:b,children:s("Submit")})})]})},ho=e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",borderRadius:"4px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextTertiary}}),vo=(0,f.default)("textarea",{target:"e5vi6k50"})(({theme:e})=>Object.assign(Object.assign({},ho(e)),{resize:"none",height:"80px",margin:"0px 16px",fontSize:"15px",lineHeight:"18px"}),"label:MobileTextareaDescription;"),fo=(0,f.default)("div",{target:"e5vi6k51"})(({theme:e})=>({fontSize:"15px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,display:"flex",marginTop:"24px",padding:"0 8px"}),"label:MobileDivTitle;"),yo=(0,f.default)(vo,{target:"e5vi6k52"})(({theme:e})=>({margin:"0px",width:"100%",height:"unset",marginTop:"10px",fontSize:"15px",lineHeight:"18px",padding:"16px",backgroundColor:e.colors.BGPlaceholderDefault}),"label:MobileDivInputArea;"),bo=(0,f.default)("div",{target:"e5vi6k53"})(({theme:e})=>({fontSize:"16px",lineHeight:"24px",color:e.colors.TextSecondary,fontWeight:400,marginInlineStart:"auto",textAlign:"right"}),"label:MobileDivCounter;"),xo=(0,f.default)("div",{target:"e5vi6k54"})(({theme:e})=>({fontSize:"18px",lineHeight:"26px",color:e.colors.TextPrimary,fontWeight:600,display:"flex",margin:"24px 8px 0"}),"label:PcDivTitle;"),ko=bo,wo=(0,f.default)("textarea",{target:"e5vi6k55"})(({theme:e})=>Object.assign(Object.assign({},ho(e)),{resize:"none",height:"80px",margin:"0px 24px",fontSize:"16px",backgroundColor:e.colors.BGPrimary}),"label:PcTextareaDescription;"),So=(0,f.default)(wo,{target:"e5vi6k56"})(({theme:e})=>({margin:"0px",width:"100%",height:"unset",marginTop:"10px",fontSize:"16px",lineHeight:"24px",padding:"16px",minHeight:"200px",backgroundColor:e.colors.BGPlaceholderDefault}),"label:PcDivInputArea;"),Co=({title:e,onChange:t,placeholder:i,maxLength:o=200,rows:a=6,reportExplanation:r,device:s="pc"})=>{const[l,d,c]="pc"===s?[xo,So,ko]:[fo,yo,bo];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l,{children:e}),(0,n.jsx)(d,{rows:a,maxLength:o,placeholder:i,value:r,onChange:t}),(0,n.jsxs)(c,{children:[r.length,"/",o]})]})},jo=()=>{var e,t,i,s,l,d,u,p,g,m,h,v,f,y,b;const x=(0,c.s)(),k=(0,o.w)(_.hf),w=(0,a.P)(_.hf,{selector:e=>{const{UserData:t,reportTarget:i}=e;return{UserData:t,reportTarget:i}},dependencies:[]}),{region:S="",user:C}=null!==(e=(0,F.W)(()=>["region","user"],[]))&&void 0!==e?e:{},[j,T]=(0,r.useState)(),[I,P]=(0,r.useState)(""),A=(0,r.useCallback)(e=>{var t,i,n,o;e.preventDefault(),e.stopPropagation(),(null===(i=null===(t=w.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_code)&&k.postReport({reason:null===(o=null===(n=w.UserData)||void 0===n?void 0:n.selectedReason)||void 0===o?void 0:o.reason_code,extraData:{report_desc:I},region:S,uid:null==C?void 0:C.uid})},[k,null===(i=null===(t=w.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_type,null===(l=null===(s=w.UserData)||void 0===s?void 0:s.selectedReason)||void 0===l?void 0:l.reason_code,S,null==C?void 0:C.uid,I]);return(0,r.useEffect)(()=>{if(w.UserData.selectedReason){const e=JSON.parse(w.UserData.selectedReason.option)||{};T(e)}},[]),(0,n.jsxs)(H.nM,{children:[(0,n.jsx)(On,{title_text:null!==(p=null===(u=null===(d=null==j?void 0:j.action)||void 0===d?void 0:d.action_params)||void 0===u?void 0:u.title_text)&&void 0!==p?p:"",subtitle_text:null!==(h=null===(m=null===(g=null==j?void 0:j.action)||void 0===g?void 0:g.action_params)||void 0===m?void 0:m.subtitle_text)&&void 0!==h?h:"",desc_text:null!==(y=null===(f=null===(v=null==j?void 0:j.action)||void 0===v?void 0:v.action_params)||void 0===f?void 0:f.desc_text)&&void 0!==y?y:[],children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Rn,{selectedReason:null===(b=w.UserData)||void 0===b?void 0:b.selectedReason}),(0,n.jsx)(Co,{title:x("hbReportUpdate_selectReportReason_reportHB_sectionDescribe"),placeholder:x("hbReportUpdate_selectReportReason_reportHB_sectionPlaceholder"),reportExplanation:I,onChange:e=>{const t=e.target.value;t.length<=200&&P(t)},maxLength:200})]})}),(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{onClick:A,children:x("Submit")})})]})};var To=i(16730);const Io=function({className:e,style:t={},onClick:i,isSelected:o,isMobile:a}){return o?(0,n.jsxs)("svg",{onClick:i,style:Object.assign({},t),className:e,"data-cy":"radio_selected_icon",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("rect",{x:"3.25",y:"3.25",width:"15.5",height:"15.5",rx:"7.75",fill:"white"}),(0,n.jsx)("rect",{x:"3.25",y:"3.25",width:"15.5",height:"15.5",rx:"7.75",stroke:"#FE2C55",strokeWidth:"6.5"})]}):(0,n.jsx)("svg",{onClick:i,style:Object.assign({},t),className:e,"data-cy":"radio_selected_icon",width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("rect",{x:"0.75",y:"0.75",width:"20.5",height:"20.5",rx:"10.25",stroke:a?"var(--TextTertiary2)":"var(--ui-shape-neutral-2)",strokeWidth:"1.5"})})},Po=(0,Gn.i7)({"0%":{transform:"rotate(0deg)"},"50%":{transform:"rotate(180deg)"},"100%":{transform:"rotate(360deg)"}}),Ao=(0,f.default)("div",{target:"e10bm5km0"})({overflow:"hidden",flex:1,display:"flex",flexDirection:"column",minHeight:"300px"},"label:DivUserSearchWrapper;"),Mo=(0,f.default)("div",{target:"e10bm5km1"})({animation:`${Po} 1s ease-out infinite`,width:"16px",height:"16px"},"label:DivRotate;"),Lo=(0,f.default)("input",{target:"e10bm5km2"})(({theme:e})=>({flex:1,fontSize:"16px",lineHeight:"22px",outline:"none",background:"rgba(255, 255, 255, 0)",color:e.colors.TextPrimary,margin:"0 5px"}),"label:InputUser;"),Do=(0,f.default)("div",{target:"e10bm5km3"})(({theme:e})=>({width:"100%",position:"relative",display:"flex",alignItems:"center",margin:"12px 0",padding:"8px",borderRadius:"4px",backgroundColor:e.colors.BGInput}),"label:DivC;"),Oo=(0,f.default)("div",{target:"e10bm5km4"})({width:"calc(100% - 24px)",height:"48px",display:"flex",justifyContent:"flex-start",alignItems:"center"},"label:DivUserWrapper;"),Ro=(0,f.default)("img",{target:"e10bm5km5"})({width:"48px",height:"48px",borderRadius:"50%"},"label:ImgUserAvator;"),Eo=(0,f.default)("div",{target:"e10bm5km6"})(({theme:e})=>({fontSize:"18px",color:e.colors.TextPrimary,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),"label:DivUserName;"),Fo=(0,f.default)("span",{target:"e10bm5km7"})(({theme:e})=>({color:e.colors.TextTertiary,margin:"0 4px"}),"label:SpanFriend;"),Bo=(0,f.default)("div",{target:"e10bm5km8"})(()=>({overflow:"hidden",margin:"0 12px"}),"label:DivUserInfo;"),zo=(0,f.default)("div",{target:"e10bm5km9"})(({theme:e})=>({fontSize:"14px",color:e.colors.TextTertiary,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),"label:DivUserId;"),Uo=(0,f.default)("div",{target:"e10bm5km10"})({width:"16px",height:"16px"},"label:DivCbutton;"),No=(0,f.default)("li",{target:"e10bm5km11"})(()=>({display:"flex",justifyContent:"space-between",width:"100%",height:"64px",padding:"8px 0px"}),"label:LiUser;"),Wo=(0,f.default)("ul",{target:"e10bm5km12"})(()=>({margin:"0px",width:"100%",overflowY:"scroll",padding:"0px","::-webkit-scrollbar":{display:"none"}}),"label:UlUser;"),Vo=(0,f.default)("div",{target:"e10bm5km13"})({display:"flex",alignItems:"center"},"label:DivIconWrapper;"),Ho=(0,f.default)("p",{target:"e10bm5km14"})(({theme:e})=>({color:e.colors.TextTertiary,fontSize:"15px",lineHeight:"18px",padding:"16px 0px"}),"label:PNoResult;"),qo=(0,f.default)("li",{target:"e10bm5km15"})({display:"flex",justifyContent:"center"},"label:LiLoadingWrapper;");let $o=null;const Go=(0,r.memo)(function({onChange:e,selectedUser:t,device:i="pc"}){const o=(0,c.s)(),a=(0,m.Nj)($n.S),[s,l]=(0,r.useState)(""),[d,u]=(0,r.useState)([]),[p,g]=(0,r.useState)(!1),[_,h]=(0,r.useState)(0),[v,f]=(0,r.useState)(!0),[y,b]=(0,r.useState)(""),x="mobile"===i,k=(0,r.useCallback)(t=>{l(""),e(null),u([]),f(!0)},[e]),w=(0,r.useCallback)((e,t)=>{!p&&v&&(g(!0),a.getUserSearch({keyword:e,cursor:t,search_id:y}).subscribe(e=>{var i,n,o;if(g(!1),0===e.status_code||203===e.status_code){f(Boolean(e.has_more));const{user_list:a}=e;b(null!==(n=null===(i=null==e?void 0:e.log_pb)||void 0===i?void 0:i.impr_id)&&void 0!==n?n:"");const r=null!==(o=null==a?void 0:a.map(e=>({uid:e.user_info.uid,nickname:e.user_info.nickname,username:e.user_info.unique_id,avatar:e.user_info.avatar_thumb.url_list.find(e=>e.indexOf(".jpeg")>-1)||e.user_info.avatar_thumb.url_list[0],isFriend:Boolean(e.user_info.friends_status)})))&&void 0!==o?o:[],s=[...0===t?[]:d,...r];h(s.length),u(s)}}))},[p,v,a,d]),S=(0,r.useCallback)(e=>{const t=e.target.value;l(t),f(!0),$o&&clearTimeout($o),$o=setTimeout(()=>{t&&w(t,0)},1e3)},[w]),C=(0,r.useCallback)(e=>{const t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&!p&&w(s,_)},[s,_,w,p]);return(0,n.jsxs)(Ao,{children:[(0,n.jsxs)(Do,{children:[(0,n.jsx)(Vo,{style:{color:x?"var(--TextTertiary2)":"var(--ui-shape-neutral-2)"},children:(0,n.jsx)(To.K,{size:20,color:"TextTertiary2"})}),(0,n.jsx)(Lo,{value:s,placeholder:o("hbReportUpdate_selectReportReason_reportHB_sectionSearch"),onChange:S}),(0,n.jsx)(Uo,{onClick:k,children:s?(0,n.jsx)(qn.A,{style:{fontSize:16,color:"var(--TextTertiary2)"}}):p?(0,n.jsx)(Mo,{children:(0,n.jsx)(T.A,{style:{fontSize:16}})}):null})]}),p||0!==d.length||!s||v?(0,n.jsxs)(Wo,{onScroll:C,children:[d.map((i,a)=>(0,n.jsxs)(No,{onClick:n=>{n.preventDefault(),n.stopPropagation(),(i=>{(null==i?void 0:i.uid)===(null==t?void 0:t.uid)?e(null):e(i)})(i)},children:[(0,n.jsxs)(Oo,{children:[(0,n.jsx)(Ro,{src:i.avatar}),(0,n.jsxs)(Bo,{children:[(0,n.jsxs)(Eo,{children:[(0,n.jsx)("span",{style:{paddingRight:"4px"},children:i.nickname}),i.isFriend&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Fo,{className:"text-color-TextTertiary",children:"·"}),(0,n.jsx)(Fo,{className:"text-color-TextTertiary",children:o("hbReportUpdate_selectUser_friendStatus_label")})]})]}),(0,n.jsx)(zo,{children:i.username})]})]}),(0,n.jsx)(Vo,{children:(0,n.jsx)(Io,{isSelected:(null==t?void 0:t.uid)===(null==i?void 0:i.uid),isMobile:x})})]},i.username+a)),p?(0,n.jsx)(qo,{children:(0,n.jsx)(P.R,{})}):null]}):(0,n.jsx)(Ho,{children:"no_results"===o("no_results")?"":o("no_results")})]})}),Ko=()=>{var e,t,i,s,l,d,u,p,g;const m=(0,c.s)(),h=(0,o.w)(_.hf),v=(0,a.P)(_.hf,{selector:e=>{const{UserData:t}=e;return{UserData:t}},dependencies:[]}),[f,y]=(0,r.useState)(),[b,x]=(0,r.useState)(null),{region:k="",user:w}=null!==(e=(0,F.W)(()=>["region","user"],[]))&&void 0!==e?e:{},S=(0,r.useCallback)(e=>{var t,i,n,o,a;e.preventDefault(),e.stopPropagation(),(null===(i=null===(t=v.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_code)&&h.postReport({reason:null===(o=null===(n=v.UserData)||void 0===n?void 0:n.selectedReason)||void 0===o?void 0:o.reason_code,extraData:{been_hb_user_ids:JSON.stringify([null!==(a=null==b?void 0:b.uid)&&void 0!==a?a:""])},region:k,uid:null==w?void 0:w.uid})},[h,null===(i=null===(t=v.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_type,null===(l=null===(s=v.UserData)||void 0===s?void 0:s.selectedReason)||void 0===l?void 0:l.reason_code,k,null==w?void 0:w.uid,null==b?void 0:b.uid]);return(0,r.useEffect)(()=>{var e;if(v.UserData.selectedReason){const t=null!==(e=JSON.parse(v.UserData.selectedReason.option))&&void 0!==e?e:{};y(t)}},[v.UserData.selectedReason]),(0,n.jsxs)(H.nM,{children:[(0,n.jsx)(On,{title_text:null!==(p=null===(u=null===(d=null==f?void 0:f.action)||void 0===d?void 0:d.action_params)||void 0===u?void 0:u.title_text)&&void 0!==p?p:"",subtitle_text:m("hbReportUpdate_selectReportReason_reportHB_sectionAddName"),desc_text:[],children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Go,{selectedUser:b,onChange:x}),(0,n.jsx)(Rn,{selectedReason:null===(g=v.UserData)||void 0===g?void 0:g.selectedReason})]})}),(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{disabled:!b,onClick:S,children:m("Submit")})})]})},Yo=e=>{const{UserData:t,reportTarget:i}=e;return{UserData:t,reportTarget:i}},Zo=()=>{var e,t,i,s,l,d;const u=(0,c.s)(),{v3Contents:p,desc:g,handleSubmitPost:m,onDescInput:h}=((e,t=[])=>{var i,n,s,l,d;const c=(0,o.w)(_.hf),u=(0,a.P)(_.hf,{selector:e,dependencies:t}),{region:p="",user:g}=null!==(i=(0,F.W)(()=>["region","user"],[]))&&void 0!==i?i:{},[m,h]=(0,r.useState)(),[v,f]=(0,r.useState)(""),y=(0,r.useCallback)(e=>{var t,i,n,o;e.preventDefault(),e.stopPropagation(),(null===(i=null===(t=u.UserData)||void 0===t?void 0:t.selectedReason)||void 0===i?void 0:i.reason_code)&&c.postReport({reason:null===(o=null===(n=u.UserData)||void 0===n?void 0:n.selectedReason)||void 0===o?void 0:o.reason_code,extraData:{report_desc:v},region:p,uid:null==g?void 0:g.uid})},[c,null===(s=null===(n=u.UserData)||void 0===n?void 0:n.selectedReason)||void 0===s?void 0:s.reason_type,null===(d=null===(l=u.UserData)||void 0===l?void 0:l.selectedReason)||void 0===d?void 0:d.reason_code,p,null==g?void 0:g.uid,v]);return(0,r.useEffect)(()=>{if(u.UserData.selectedReason){const e=JSON.parse(u.UserData.selectedReason.option)||{};h(e)}},[u.UserData.selectedReason]),{v3Contents:m,desc:v,handleSubmitPost:y,onDescInput:e=>{const t=e.target.value;t.length<=200&&f(t)}}})(Yo);return(0,n.jsxs)(H.nM,{children:[(0,n.jsx)(On,{title_text:null!==(i=null===(t=null===(e=null==p?void 0:p.action)||void 0===e?void 0:e.action_params)||void 0===t?void 0:t.title_text)&&void 0!==i?i:"",subtitle_text:"",desc_text:null!==(d=null===(l=null===(s=null==p?void 0:p.action)||void 0===s?void 0:s.action_params)||void 0===l?void 0:l.desc_text)&&void 0!==d?d:[],children:(0,n.jsx)(Co,{title:u("eCommerceReporting_reportPg_addDesc_title"),placeholder:u("eCommerceReporting_reportPg_addDesc_placeholder"),reportExplanation:g,onChange:h,maxLength:200})}),(0,n.jsx)(H.rW,{children:(0,n.jsx)(H.jl,{onClick:m,children:u("Submit")})})]})},Jo=(0,r.memo)(function({onClose:e,visible:t=!1,asComponent:i=!1,setPage:m,onBack:h,useBack:v,onSubmit:f}){var y,b,x;const k=(0,c.s)(),{isRTL:w}=(0,g.m)(),C=(0,o.w)(_.hf),j=(0,a.P)(_.hf,{selector:e=>{const{PageState:t,PreState:i,reportTarget:n,reasons:o,UserData:a}=e;return{PageState:t,PreState:i,reportTarget:n,reasons:o,UserData:a}},dependencies:[]}),T=(0,r.useCallback)(()=>{var t,i,n,o,a,r,s,l,d,c;"suggestion"!==(null===(t=j.reportTarget)||void 0===t?void 0:t.report_type)&&"sug_recommend"!==(null===(i=j.reportTarget)||void 0===i?void 0:i.report_type)||rt.o.handleReportSugFinish({object_id:j.reportTarget.object_id,object_type:j.reportTarget.report_type,impr_id:null===(n=j.reportTarget.suggestion_extra)||void 0===n?void 0:n.impr_id,feedback_id:null===(o=j.reportTarget.suggestion_extra)||void 0===o?void 0:o.feedback_id,group_id:null===(a=j.reportTarget.suggestion_extra)||void 0===a?void 0:a.group_id,sug_type:null===(r=j.reportTarget.suggestion_extra)||void 0===r?void 0:r.sug_type,raw_query:null===(s=j.reportTarget.suggestion_extra)||void 0===s?void 0:s.raw_query,words_content:null===(l=j.reportTarget.suggestion_extra)||void 0===l?void 0:l.words_content,words_position:null===(d=j.reportTarget.suggestion_extra)||void 0===d?void 0:d.words_position,words_source:null===(c=j.reportTarget.suggestion_extra)||void 0===c?void 0:c.words_source,button_type:"close"}),e()},[e,j.reportTarget]),I=(0,r.useCallback)(()=>{C.resetState()},[C]),P=(0,r.useCallback)(()=>{C.handlePrevStep(),null==h||h()},[C]);(0,r.useEffect)(()=>{f&&C.setSubmitCallback(f)},[f]),(0,r.useEffect)(()=>{m&&C.setPageState(m)},[m]);const A=(0,r.useMemo)(()=>12===j.PageState?k("dsa_illegal_select_country_optional"):k("Report"),[j.PageState]),M=j.PreState.length>0||9===j.PageState&&(null===(y=j.reportTarget)||void 0===y?void 0:y.dsa_from_inbox)||10===j.PageState&&(null===(b=j.reportTarget)||void 0===b?void 0:b.osa_from_inbox)||11===j.PageState&&(null===(x=j.reportTarget)||void 0===x?void 0:x.ric_from_inbox)||v,L=()=>0===j.PageState?(0,n.jsx)(pt,{}):1===j.PageState?(0,n.jsx)(Vn,{}):5===j.PageState?(0,n.jsx)(ni,{onClose:T}):3===j.PageState?(0,n.jsx)(mo,{}):2===j.PageState||8===j.PageState?(0,n.jsx)(tt,{}):4===j.PageState?(0,n.jsx)(S,{onClose:T}):6===j.PageState?(0,n.jsx)(ne,{onClose:T}):7===j.PageState?(0,n.jsx)(Ue,{}):12===j.PageState?(0,n.jsx)(Tn,{}):9===j.PageState||10===j.PageState||11===j.PageState?(0,n.jsx)(gn,{}):"search_someone"===j.PageState?(0,n.jsx)(Ko,{}):"desc_textarea"===j.PageState?(0,n.jsx)(jo,{}):"only_desc"===j.PageState?(0,n.jsx)(Zo,{}):void 0,D="undefined"!=typeof document&&document.fullscreenElement;return(0,r.useEffect)(()=>{D&&!t&&C.resetState()},[C,D,t]),i?(0,n.jsx)(n.Fragment,{children:[0,1,2,3,7,12,8,9,10,11,"search_someone","desc_textarea","only_desc"].includes(j.PageState)?(0,n.jsxs)(H.JS,{"data-e2e":"report-form",children:[(0,n.jsxs)(H.JN,{isBackable:M,children:[M&&(0,n.jsx)(H.D_,{onClick:P,children:w?(0,n.jsx)(s.A,{width:20,height:20}):(0,n.jsx)(l.A,{width:20,height:20})}),(0,n.jsx)(H.Fh,{"data-e2e":"report-title",children:A}),(0,n.jsx)(H.Ko,{"data-e2e":"report-card-cancel",onClick:T,children:(0,n.jsx)(d.A,{width:14,height:14})})]}),L()]}):(0,n.jsx)(H.bq,{"data-e2e":"report-form",children:L()})}):"undefined"!=typeof document&&document.fullscreenElement?(0,n.jsx)(u.aF,{parentRef:document.fullscreenElement,visible:t,onClose:T,maskCloseable:6===j.PageState,keyboardCloseable:!1,children:[0,1,2,3,7,12,9,10,11,"search_someone","desc_textarea","only_desc"].includes(j.PageState)?(0,n.jsxs)(H.JS,{"data-e2e":"report-form",children:[(0,n.jsxs)(H.JN,{isBackable:M,children:[M&&(0,n.jsx)(H.D_,{onClick:P,children:w?(0,n.jsx)(s.A,{width:20,height:20}):(0,n.jsx)(l.A,{width:20,height:20})}),(0,n.jsx)(H.Fh,{"data-e2e":"report-title",children:A}),(0,n.jsx)(H.Ko,{"data-e2e":"report-card-cancel",onClick:T,children:(0,n.jsx)(d.A,{width:14,height:14})})]}),L()]}):(0,n.jsx)(H.bq,{"data-e2e":"report-form",children:L()})}):(0,n.jsx)(p.i,{compact:!0,isOpen:t,onClose:T,onCloseComplete:I,closeOnBackdropClick:6===j.PageState,closeOnEsc:!1,children:[0,1,2,3,7,12,8,9,10,11,"search_someone","desc_textarea","only_desc"].includes(j.PageState)?(0,n.jsxs)(H.JS,{"data-e2e":"report-form",children:[(0,n.jsxs)(H.JN,{isBackable:M,children:[M&&(0,n.jsx)(H.D_,{onClick:P,children:w?(0,n.jsx)(s.A,{width:20,height:20}):(0,n.jsx)(l.A,{width:20,height:20})}),(0,n.jsx)(H.Fh,{"data-e2e":"report-title",children:A}),(0,n.jsx)(H.Ko,{"data-e2e":"report-card-cancel",onClick:T,children:(0,n.jsx)(d.A,{width:14,height:14})})]}),L()]}):(0,n.jsx)(H.bq,{"data-e2e":"report-form",children:L()})})})},85528:(e,t,i)=>{"use strict";i.d(t,{BT:()=>g,IK:()=>r,Mt:()=>c,Nl:()=>u,TM:()=>d,Xm:()=>s,rW:()=>p,wP:()=>l});var n=i(59061),o=i(16410),a=i(93584);const r=(0,o.default)("div",{target:"e1l04njg0"})(({isModal:e=!1,theme:t})=>[{marginBottom:e?"0":"12px",minWidth:e?"400px":"300px",minHeight:e?"280px":"258px",padding:e?"40px 32px 32px":"44px 24px 16px",display:"flex",boxSizing:"border-box",flexDirection:"column",alignItems:"center",backgroundColor:t.colors.BGSecondary,borderRadius:"8px",border:`1px solid ${t.colors.LineSecondary3}`,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.06)"}],"label:DivKeyboardShortcutContainer;"),s=(0,o.default)("div",{target:"e1l04njg1"})(({isModal:e=!1,theme:t})=>[(0,a.zy)({theme:t,typography:e?"P0":"P1",fontWeight:"bold",fontFamily:"TikTokFont"}),{width:"100%",height:"22px",lineHeight:"22px",textAlign:"center",color:t.colors.TextPrimary,whiteSpace:"nowrap"}],"label:DivKeyboardShortcutTitle;"),l=(0,o.default)("div",{target:"e1l04njg2"})(({theme:e})=>[{marginTop:"16px",width:"100%",display:"flex",boxSizing:"border-box",flexDirection:"column",alignItems:"center",borderTop:`1px solid ${e.colors.LineSecondary}`}],"label:DivKeyboardShortcutContent;"),d=(0,o.default)("div",{target:"e1l04njg3"})(({theme:e})=>[(0,a.zy)({theme:e,typography:"P3",fontWeight:"normal",fontFamily:"TikTokFont"}),{width:"100%",height:"40px",textAlign:"left",color:e.colors.TextPrimary,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${e.colors.LineSecondary}`}],"label:DivKeyboardShortcutContentItem;"),c=(0,o.default)("div",{target:"e1l04njg4"})(({theme:{direction:e}})=>(0,a.mp)({direction:e,end:"16px"}),{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:16,cursor:"pointer"},"label:DivXMarkWrapper;"),u=(0,o.default)(c,{target:"e1l04njg5"})(({theme:{colors:e}})=>({width:"24px",height:"24px",borderRadius:"100px",backgroundColor:e.BGView}),"label:StyledModalXMarkWrapper;"),p=(0,o.default)(n.A,{target:"e1l04njg6"})(({theme:{direction:e}})=>({transform:`rotateZ(${"rtl"===e?90:-90}deg)`}),"label:StyledForward;"),g=(0,o.default)(n.A,{target:"e1l04njg7"})(({theme:{direction:e}})=>({transform:`rotateZ(${"rtl"===e?-90:90}deg)`}),"label:StyledBackward;")},85633:(e,t,i)=>{"use strict";i.d(t,{Uf:()=>T,mc:()=>I});var n,o=i(24643),a=i(95074),r=i(40099),s=i(59061),l=i(33958),d=i(38155),c=i(75051),u=i(79749),p=i(20434),g=i(69831),_=i(18650),m=i(81817),h=i(80988),v=i(29271),f=i(50654),y=i(70589),b=i(69857),x=i(57615),k=i(6473),w=i(37783),S=i(47910),C=i(19664);!function(e){e.Original="original",e.Keyboard="keyboard"}(n||(n={}));const j={fill:"#fff",width:"24px",height:"24px"},T=({onToggleMute:e,onTogglePlay:t,onNextVideo:i,onPrevVideo:n,onExpand:b,onForward:w,handleShowTranscript:S,itemId:C,playModeForTea:T,handleNotInterested:I})=>{const[P,A]=(0,r.useState)("original"),M=(0,a.P)(g.k,{selector:e=>e[C],dependencies:[C]}),{isRTL:L}=(0,_.m)(),{hasTranscript:D}=M,O=!!M.scheduleTime,{enabledClosedCaption:R,isEntranceInMoreMenu:E}=(0,f.vN)(),{enableNewPopover:F}=(0,y.JX)(),B=(0,k.K)(),z=(0,r.useMemo)(()=>{var e;return{group_id:C,author_id:null!==(e=M.authorId)&&void 0!==e?e:"",play_mode:T}},[C,M,T]),U=(0,r.useCallback)(()=>{A("keyboard")},[]),N=(0,r.useCallback)(e=>{(0,p.Gu)(e),c.V.handleVideoControlChange(Object.assign({click_section:"pc_web_report_btn",change_params:"report",enter_method:"click"},z))},[z]),W=(0,m.v)({item:M,play_mode:T,onShow:N}),V=(0,r.useCallback)(e=>{(0,p.Gu)(e),B.setIsCaptionModalOn(!0),u.lN.handleCaptionButtonClick(z)},[B,z]),H=(0,r.useMemo)(()=>{const e=[{icon:(0,o.jsx)(v.o9,{}),key:"pc_web_report_btn",onClick:W},{icon:(0,o.jsx)(v.TI,{}),key:"pc_web_keyboard_btn",dismissPanel:!1,onClick:U}];return I&&e.unshift({icon:(0,o.jsx)(v.bK,{}),key:"webapp_forYoufeed_notInterested_btn",onClick:I}),S&&D&&!R&&e.push({icon:(0,o.jsx)(v.rH,{}),key:"asr_transcript_onpc_kebab_menu_ab_transcript_button",onClick:S}),F||!E||O||e.unshift({icon:(0,o.jsx)(x.qY7,{style:{width:"20px",height:"20px",fill:"white"}}),key:"claSeeTranslation_fyp_longPressPanel_captionsLabelV2",onClick:V}),e},[U,W,S,I,D,V,F,E,O,R]),q=(0,r.useMemo)(()=>[{icon:(0,o.jsx)(v.pf,{style:j}),key:"pc_web_playpause_btn",onClick:t},{icon:(0,o.jsx)(s.A,{style:Object.assign(Object.assign({},j),{transform:`rotateZ(${L?90:-90}deg)`})}),key:"pc_web_skip_forward_5_sec_btn",onClick:()=>w(h.S)},{icon:(0,o.jsx)(s.A,{style:Object.assign(Object.assign({},j),{transform:`rotateZ(${L?-90:90}deg)`})}),key:"pc_web_skip_back_5_sec_btn",onClick:()=>w(h.a)},{icon:(0,o.jsx)(l.A,{style:j}),key:"pc_web_muteunmute_btn",onClick:e},{icon:(0,o.jsx)(d.A,{style:j}),key:"pc_web_fullscreen_btn",onClick:b},{icon:(0,o.jsx)(s.A,{style:Object.assign(Object.assign({},j),{transform:"rotateZ(180deg)"})}),key:"desktop_kb_shortcuts_tooltip_previous",onClick:n},{icon:(0,o.jsx)(s.A,{style:j}),key:"desktop_kb_shortcuts_tooltip_next",onClick:i}].filter(e=>Boolean(e.onClick)),[L,b,w,i,n,e,t]),$=(0,r.useCallback)(()=>{A("original")},[]),G="original"===P?H:q,K=(0,r.useMemo)(()=>"keyboard"===P?{justifyContent:"space-between"}:{},[P]);return{status:P,style:K,items:G,handleResetStatus:$}},I=(e,t)=>{const{allowSelectResolution:i}=(0,y.lZ)(),{id:n=""}=(0,b.L$)(e),o=(0,w.mG)(),a=(0,S.VL)(),{setMultiInstanceActualResolution:s}=(0,C.nr)(),l=(0,r.useCallback)(e=>{const i=(e.resolutionList||[]).map(e=>e.resolution).filter(e=>Boolean(e));o.setResolutionList({id:n,resolutionList:i}),e.currentResolution?e.currentResolution&&(void 0!==t&&s(t,e.currentResolution),a.setVideoActualResolution(e.currentResolution)):(void 0!==t&&s(t,"540P"),a.setVideoActualResolution("540P"))},[e]);return i?{handleResolutionReady:l}:{}}},85650:(e,t,i)=>{"use strict";i.d(t,{z:()=>A});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(340),l=i(15923),d=i(66192),c=i(24451),u=i(72916),p=i(23999),g=i(62564),_=i(20259),m=i(8536),h=i(63700),v=i(9543),f=i(76435),y=i(80339),b=i(87933),x=i(35572),k=i(33310),w=i(65070),S=i(26324),C=i(63377),j=i(66712),T=i(20173),I=i(16673),P=i(28439);let A=class extends o.E{constructor(e,t,i,n){super(),this.service=e,this.home=t,this.ComplianceSettings=i,this.t=n,this.defaultState={timeUsageToday:0,userSTMSetting:null,defaultDailySTMPopup:!1,parentUsername:"",userSTMLimit:0,STMInterventionType:1,STMManagementType:0,scheduledBreakSetting:void 0,shouldShowScheduledBreak:!1,scheduledBreakEnabled:!1,scheduledBreakActive:!1,scheduledBreakActiveRule:{startTime:"",endTime:""},STMManagementRepeatType:1,STMManagementDaySetting:[],FPSTMManagementDaySetting:[],isFpTeenOpenDailySTM:!1,showDailyScreenTimeLimitsWeb:!0,lastUploadTime:new Date,dayChange:new Date,tenMinutesInterval:0,weeklyScreenTimeUpdates:!1,durationReminder:0,durationReminderType:0,isDisplayOtherPopupWhenTimeBreak:!1,isTimeBreakSnooze:!1,isOpenSleepReminder:!1,sleepTimeSettings:void 0,isMinor:!1,sleepReminderPopup:!1,breakReminderPopupExtendCount:0,breakReminderPopup:!1,isPageHidden:!1,isLogin:!1,activeTimeUsage:0,isOpenDailySTM:!1,userIdentity:1,defaultDailyLimitKmPopup:!1,isPinSet:!1,kmPopupExtendCount:0,revampFlag:!1,sleepHoursEnabled:!1,initialized:!1}}setUserSTMSetting(e,t){e.userSTMSetting=Object.assign(Object.assign({},e.userSTMSetting),t)}setDefaultDailySTMPopup(e,t){e.revampFlag||(e.defaultDailySTMPopup=t)}setparentUsername(e,t){e.parentUsername=t}setSleepReminderPopup(e,t){e.sleepHoursEnabled||(e.sleepReminderPopup=t)}setBreakReminderPopup(e,t){e.breakReminderPopup=t}setDefaultDailyLimitKmPopup(e,t){e.defaultDailyLimitKmPopup=t}showDefaultDailyLimitKmPopup(e){e.defaultDailyLimitKmPopup=!0}hideDefaultDailyLimitKmPopup(e){e.defaultDailyLimitKmPopup=!1}setInitialized(e){e.initialized=!0}extendLimitKidsMode(e){const t=e.timeUsageToday+1e3*e.activeTimeUsage,i=Math.ceil((t-36e5)/18e5),n=Math.max(e.kmPopupExtendCount,i);e.kmPopupExtendCount=n}setIsPinSet(e,t){e.isPinSet=t}setPageHidden(e){e.isPageHidden=!0}setPageVisible(e){e.isPageHidden=!1}setLogin(e){e.isLogin=!0}setNotLogin(e){e.isLogin=!1}setIsLogin(e,t){e.isLogin=t}setActiveTimeUsage(e,t){e.activeTimeUsage=t}setTimeUsageToday(e,t){e.timeUsageToday=t}setIsOpenDailySTM(e,t){e.isOpenDailySTM=t}setUserIdentity(e,t){e.userIdentity=t}setUserSTMLimit(e,t){e.userSTMLimit=t}setSTMInterventionType(e,t){e.STMInterventionType=t}setLastUploadTime(e,t){e.lastUploadTime=t}setDayChange(e,t){e.dayChange=t}setTenMinutesInterval(e,t){e.tenMinutesInterval=t}setDurationReminder(e,t){e.durationReminder=t}setDurationReminderType(e,t){e.durationReminderType=t}setIsDisplayOtherPopupWhenTimeBreak(e,t){e.isDisplayOtherPopupWhenTimeBreak=t}setIsTimeBreakSnooze(e,t){e.isTimeBreakSnooze=t}incrementReminderPopupExtendCount(e){e.breakReminderPopupExtendCount+=1}setIsOpenSleepReminder(e,t){e.isOpenSleepReminder=t}setWeeklyScreenTimeUpdates(e,t){e.weeklyScreenTimeUpdates=t}setSTMManagementType(e,t){e.STMManagementType=t}setScheduledBreakSetting(e,t){var i,n,o;e.scheduledBreakSetting=t;const a=null!==(n=null===(i=e.scheduledBreakSetting)||void 0===i?void 0:i.show_stm_down_time)&&void 0!==n&&n;e.shouldShowScheduledBreak=a;const r=(null===(o=e.scheduledBreakSetting)||void 0===o?void 0:o.screen_down_time_status)===C.qL.on;e.scheduledBreakEnabled=r}disableScheduledBreak(e){e.shouldShowScheduledBreak=!1,e.scheduledBreakEnabled=!1}setScheduledBreakHidden(e){e.scheduledBreakActive=!1}setScheduledBreakShow(e){e.scheduledBreakActive=!0}setScheduledBreakRule(e,t){e.scheduledBreakActiveRule=t}setSTMManagementRepeatType(e,t){e.STMManagementRepeatType=t}setSTMManagementDaySetting(e,t){e.STMManagementDaySetting=t}setFPSTMManagementDaySetting(e,t){e.FPSTMManagementDaySetting=t}setSleepTimeSettings(e,t){e.sleepTimeSettings=t;const i=(null==t?void 0:t.sleep_reminder_enabled)&&(0!==t.sleep_time_start_hour||0!==t.sleep_time_start_minute||0!==t.sleep_time_end_hour||0!==t.sleep_time_end_minute);e.isOpenSleepReminder=i||!1}setIsFpTeenOpenDailySTM(e,t){e.isFpTeenOpenDailySTM=t}setIsMinor(e,t){e.isMinor=t}setShowDailyScreenTimeLimitsWeb(e,t){e.showDailyScreenTimeLimitsWeb=t}setRevampFlag(e,t){e.revampFlag=t}setSleepHoursFlag(e,t){e.sleepHoursEnabled=t}uploadAppOpentimes(e){return e.pipe((0,c.E)(this.state$),(0,u.n)(([e,t])=>{if(t.revampFlag)return(0,p.of)(this.noop());const{reqPayload:i,kidsMode:n=!1}=e;return(n?this.service.uploadAppOpentimesKidsMode:this.service.uploadAppOpentimes)(i).pipe((0,g.T)(()=>this.noop()))}),(0,_.W)(e=>(console.error("uploadAppOpentimes error occurs",e),(0,p.of)(this.noop()))))}uploadSleepReminderAction(e){return e.pipe((0,u.n)(e=>this.service.uploadSleepReminderAction(e).pipe((0,g.T)(()=>this.noop()))),(0,_.W)(e=>(console.error("uploadSleepReminderAction error occurs",e),(0,p.of)(this.noop()))))}getSTMManagement(e){return e.pipe((0,m.Z)(e=>this.ComplianceSettings.getGuardianComplianceSettings(e).pipe((0,m.Z)(e=>{var t,i;if(e){let n=e.dw.screen_time_management_status;const o=null===(t=e.fp.restriction)||void 0===t?void 0:t.screen_time_management_status,a=(0,j.uA)(e),r=(0,j.Wf)(e);return(2===e.fp.user_identity||4===e.fp.user_identity&&o)&&(n=o),(0,p.of)(this.getActions().setUserSTMLimit(a||0),this.getActions().setIsOpenDailySTM(Boolean(n)),this.getActions().setIsFpTeenOpenDailySTM(Boolean(o)),this.getActions().setIsMinor(Boolean(e.user_details.is_minor)),this.getActions().setUserIdentity(e.fp.user_identity),this.getActions().setUserSTMSetting(e),this.getActions().setDurationReminder(e.dw.session_duration_reminder||0),this.getActions().setDurationReminderType(e.dw.session_duration_type||0),this.getActions().setSTMManagementRepeatType((null==r?void 0:r.screen_time_management_repeat_type)||1),this.getActions().setFPSTMManagementDaySetting((null===(i=e.fp.restriction)||void 0===i?void 0:i.screen_time_management_week_settings)||[]),this.getActions().setSTMManagementDaySetting(e.dw.screen_time_management_week_settings||[]),this.getActions().setWeeklyScreenTimeUpdates(1===e.dw.screen_time_update),this.getActions().setSleepTimeSettings(e.dw.sleep_time_settings))}return(0,p.of)(this.noop())}))))}getParentInfo(e){return e.pipe((0,m.Z)(e=>this.service.getParentInfo(e).pipe((0,m.Z)(e=>{var t,i;return e?(0,p.of)(this.getActions().setparentUsername((null===(t=e.parent)||void 0===t?void 0:t.unique_id)||(null===(i=e.parent)||void 0===i?void 0:i.short_id)||"")):(0,p.of)(this.noop())}))),(0,_.W)(e=>(console.error("getParentInfo error occurs",e),(0,p.of)(this.noop()))))}weeklyUpdateChangeHandler(e){return e.pipe((0,u.n)(e=>this.service.setMinorSetting({settings:[{event_type:4,event_value:e?"1":"0"}]}).pipe((0,m.Z)(t=>0===t.status_code?(0,p.of)(this.getActions().setWeeklyScreenTimeUpdates(e)):(0,p.of)(this.noop())))))}init(e){return e.pipe((0,u.n)(()=>this.ComplianceSettings.getGuardianComplianceSettings({date:(0,j.zk)(new Date)}).pipe((0,c.E)(this.home.state$),(0,m.Z)(([e,t])=>{var i,n,o,a,r;if(!e)return(0,h.h)((0,p.of)(this.noop()));let s=e.dw.screen_time_management_status;const l=(2===e.fp.user_identity||4===e.fp.user_identity)&&Boolean(null===(i=e.fp.restriction)||void 0===i?void 0:i.screen_time_management_status);(2===e.fp.user_identity||4===e.fp.user_identity&&l)&&(s=l?1:0);const d=(0,j.x1)(e),c=(0,j.Wf)(e),u=(0,j.uA)(e),g=new Date;let _=1;l&&(_=3),1===e.dw.screen_time_management_eligible&&(_=2);const m=(0,j.jc)(),v=void 0===e.dw.show_daily_screen_time_limits_web||e.dw.show_daily_screen_time_limits_web;return(0,j.ml)({isOpenDailySTM:Boolean(s),STMManagementRepeatType:(null==c?void 0:c.screen_time_management_repeat_type)||1,userSTMLimit:u||0,durationReminder:e.dw.session_duration_reminder||0,isOpenSleepReminder:Boolean(null===(n=null==e?void 0:e.dw.sleep_time_settings)||void 0===n?void 0:n.sleep_reminder_enabled),sleepTimeSettings:e.dw.sleep_time_settings,weeklyScreenTimeUpdates:1===e.dw.screen_time_update},this.service),(0,h.h)((0,p.of)(this.getActions().setUserSTMSetting(e),this.getActions().setIsFpTeenOpenDailySTM(Boolean(l)),this.getActions().setIsMinor(Boolean(e.user_details.is_minor)),this.getActions().setUserIdentity(e.fp.user_identity),this.getActions().setTimeUsageToday(e.user_details.time_usage_today||this.state.timeUsageToday),this.getActions().setUserSTMLimit(u||0),this.getActions().setSTMInterventionType(_),this.getActions().setSTMManagementType((null==c?void 0:c.screen_time_management_type)||0),this.getActions().setScheduledBreakSetting(d),this.getActions().setSTMManagementRepeatType((null==c?void 0:c.screen_time_management_repeat_type)||1),this.getActions().setSTMManagementDaySetting((null==c?void 0:c.screen_time_management_week_settings)||[]),this.getActions().setIsMinor(e.user_details.is_minor||!1),this.getActions().setIsOpenDailySTM(Boolean(s)),this.getActions().setFPSTMManagementDaySetting((null===(o=e.fp.restriction)||void 0===o?void 0:o.screen_time_management_week_settings)||[]),this.getActions().setShowDailyScreenTimeLimitsWeb(v),this.getActions().setLastUploadTime(new Date(g.getTime())),this.getActions().setIsLogin(Boolean(null===(a=t.appContext)||void 0===a?void 0:a.user)),this.getActions().setDurationReminder(e.dw.session_duration_reminder||0),this.getActions().setDurationReminderType(e.dw.session_duration_type||0),this.getActions().setActiveTimeUsage(m),this.getActions().setWeeklyScreenTimeUpdates(1===e.dw.screen_time_update),this.getActions().setSleepTimeSettings(e.dw.sleep_time_settings),this.getActions().setIsOpenSleepReminder(Boolean(null===(r=null==e?void 0:e.dw.sleep_time_settings)||void 0===r?void 0:r.sleep_reminder_enabled)),this.getActions().setInitialized()))}))),(0,_.W)(e=>(console.error("init error occurs",e),(0,p.of)(this.noop()))))}initKidsMode(e){return e.pipe((0,u.n)(()=>this.ComplianceSettings.getGuardianComplianceSettings({date:(0,j.zk)(new Date)}).pipe((0,c.E)(this.home.state$),(0,m.Z)(([e,t])=>{var i;const n=new Date,o=(0,j.jc)();return(0,h.h)((0,p.of)(this.getActions().setLastUploadTime(new Date(n.getTime())),this.getActions().setIsLogin(Boolean(null===(i=t.appContext)||void 0===i?void 0:i.user)),this.getActions().setActiveTimeUsage(o)))}))),(0,_.W)(e=>(console.error("init error occurs",e),(0,p.of)(this.noop()))))}checkDailySTMPopupShow(e){return e.pipe((0,m.Z)(e=>this.service.checkDailySTMPopupShow(e).pipe((0,m.Z)(e=>0===e.status_code&&e.can_view_popup?(0,p.of)(this.getActions().setDefaultDailySTMPopup(!0)):(0,p.of)(this.getActions().setDefaultDailySTMPopup(!1))))))}dailySTMUpdateHandler(e){return e.pipe((0,u.n)(e=>this.service.setDailySTM(e).pipe((0,c.E)(this.state$),(0,m.Z)(([t,i])=>{if(0!==t.status_code)return(0,p.of)(this.noop());(0,I.G)(this.t("dailyscreentime_featurescreen_toast_editedtime"),3,"auto");const n=(0,j.ZY)(e);return(0,j.nN)("updateDailySTM",e),(0,p.of)(this.getActions().setUserSTMLimit(n),this.getActions().setIsOpenDailySTM(Boolean(e.screen_time_management_status)),this.getActions().setSTMManagementType(e.screen_time_management_type),this.getActions().setSTMManagementRepeatType(e.screen_time_management_repeat_type||i.STMManagementRepeatType),this.getActions().setSTMManagementDaySetting(e.screen_time_management_week_settings||i.STMManagementDaySetting))}))),(0,_.W)(e=>(console.error("dailySTMUpdateHandler error occurs",e),(0,p.of)(this.noop()))))}syncDailySTMUpdateHandler(e){return e.pipe((0,c.E)(this.state$),(0,u.n)(([e,t])=>{const i=(0,j.ZY)(e),n=[(0,p.of)(this.getActions().setUserSTMLimit(i)),(0,p.of)(this.getActions().setIsOpenDailySTM(Boolean(e.screen_time_management_status))),(0,p.of)(this.getActions().setSTMManagementType(e.screen_time_management_type)),(0,p.of)(this.getActions().setSTMManagementRepeatType(e.screen_time_management_repeat_type||t.STMManagementRepeatType)),(0,p.of)(this.getActions().setSTMManagementDaySetting(e.screen_time_management_week_settings||t.STMManagementDaySetting))];return(0,h.h)(...n)}))}startAccumulateActiveTime(e){return e.pipe((0,u.n)(()=>(0,v.Y)(15e3).pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>(0,p.of)(this.getActions().setActiveTimeUsage(t.activeTimeUsage+15))),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin)),(0,y.q)(this.getActions().setActiveTimeUsage(0)))))}startMonitorDayChange(e){return e.pipe((0,u.n)(()=>(0,v.Y)(3e4).pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>{const i=new Date;return t.lastUploadTime.getDate()!==i.getDate()?(0,p.of)(this.getActions().setDayChange(i)):(0,p.of)(this.noop())}),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin,this.stopTimer$)))))}startMonitorTimeLimit(e){return e.pipe((0,u.n)(()=>(0,v.Y)(3e4).pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>{const i=[];return t.timeUsageToday+t.activeTimeUsage>=60*t.userSTMLimit&&t.timeUsageToday+t.activeTimeUsage<60*t.userSTMLimit+30&&i.push(this.service.checkDailySTMPopupShow({date:0,screen_time_limit_type:t.STMInterventionType}).pipe((0,g.T)(e=>0===e.status_code&&e.can_view_popup?this.getActions().setDefaultDailySTMPopup(!0):this.getActions().setDefaultDailySTMPopup(!1)))),(0,h.h)(...i)}),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin,this.getAction$().setDayChange,this.stopTimer$)))))}startUploadSTMEveryTenMinutes(e){return e.pipe((0,u.n)(()=>(0,v.Y)(6e5).pipe((0,c.E)(this.state$),(0,g.T)(([e,t])=>this.getActions().setTenMinutesInterval(t.tenMinutesInterval+1)),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin,this.stopTimer$)))))}uploadScreenTime(e){return e.pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>{if(t.revampFlag)return(0,p.of)(this.noop());const{uploadType:i,kidsMode:n=!1}=e||{},o=new Date,a=(0,j.BX)(o),r=(0,j.BX)(t.lastUploadTime);if(o.getTime()<=t.lastUploadTime.getTime()+18e4&&5!==i)return(0,p.of)(this.noop());const s=(0,j.zk)(o),l=(0,j.$n)(o),d=l?0:a-r,u=l?a-r:0;if(d<=0&&u<=0)return(0,p.of)(this.noop());const g={upload_timestamp:o.getTime(),stm_enabled:t.isOpenDailySTM?1:0,upload_type:i||2,time_usage:[{upload_date:s,day_usage:d,night_usage:u}]};return(n?this.service.uploadScreenTimeKidsMode:this.service.uploadScreenTime)(g).pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>{let i=e;if("string"==typeof e&&(i=JSON.parse(e)),0!==i.status_code)return(0,p.of)(this.noop());const a=[(0,p.of)(this.getActions().setLastUploadTime(o))];return n?a.push((0,p.of)(this.getActions().getTodayUsage())):a.push((0,p.of)(this.getActions().setTimeUsageToday(i.time_usage_today||t.timeUsageToday))),(0,h.h)(...a)}))}),(0,_.W)(e=>(console.error("uploadScreenTime error occurs",e),(0,p.of)(this.noop()))))}uploadScreenTimeWhenDayChange(e){return e.pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>{const{kidsMode:i=!1}=e||{},n=new Date,o=(0,j.zk)(n),a=(0,j.$n)(n),r=(0,j.BX)(n),s=(0,j.BX)(t.lastUploadTime);if(n.getDate()===t.lastUploadTime.getDate())return(0,p.of)(this.noop());const l=new Date(n).setHours(0,0,0,0)/1e3;return(i?this.service.uploadScreenTimeKidsMode:this.service.uploadScreenTime)({upload_timestamp:n.getTime(),stm_enabled:t.isOpenDailySTM?1:0,upload_type:2,time_usage:[{upload_date:o-1,day_usage:a?0:l-s,night_usage:a?l-s:0},{upload_date:o,day_usage:a?0:r-l,night_usage:a?r-l:0}]}).pipe((0,c.E)(this.state$),(0,m.Z)(([e])=>(0,p.of)(this.getActions().setLastUploadTime(n),this.getActions().setTimeUsageToday(e.time_usage_today||0))))}))}sessionDurationChangeHandler(e){return e.pipe((0,u.n)(e=>this.service.setMinorSetting({settings:[{event_type:0===e.type?5:6,event_value:e.value.toString()}]}).pipe((0,m.Z)(t=>0===t.status_code?((0,I.G)(this.t("screenTime_screenTimeBreaks_manageTime_editBreak_toast",{},"You’ve edited your screen time break"),3,"auto"),(0,j.nN)("updateTimeBreak",{event_type:0===e.type?5:6,event_value:e.value.toString()}),(0,p.of)(this.getActions().setDurationReminder(e.value),this.getActions().setDurationReminderType(e.type))):((0,I.P)(this.t("error_toast")),(0,p.of)(this.noop()))))))}syncSessionDurationHandler(e){return e.pipe((0,u.n)(e=>(0,p.of)(this.getActions().setDurationReminder(Number(e.event_value)),this.getActions().setDurationReminderType(e.event_type))))}startTimeBreakTimer(e){return(0,b.O)(1e3*(60*e.durationReminder-e.activeTimeUsage)).pipe((0,c.E)(this.state$),(0,u.n)(([e,t])=>t.isDisplayOtherPopupWhenTimeBreak||t.isTimeBreakSnooze?(0,p.of)(this.getActions().setBreakReminderPopup(!1),this.getActions().setIsDisplayOtherPopupWhenTimeBreak(!1)):(0,p.of)(this.getActions().setBreakReminderPopup(!0))),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin,this.stopTimer$,this.stopTimeBreak$)))}processTimeBreak(e){return e.pipe((0,c.E)(this.state$),(0,u.n)(([e,t])=>t.activeTimeUsage/60>=t.durationReminder&&!t.isDisplayOtherPopupWhenTimeBreak&&!t.isTimeBreakSnooze?(0,p.of)(this.getActions().setBreakReminderPopup(!0)):(0,h.h)((0,p.of)(this.getActions().setBreakReminderPopup(!1)),this.startTimeBreakTimer(t))))}startTimeBreakSnoozeTimer(e){return e.pipe((0,u.n)(()=>{const e=[(0,p.of)(this.getActions().setIsTimeBreakSnooze(!0))];return e.push((0,b.O)(6e5).pipe((0,m.Z)(()=>(0,p.of)(this.getActions().setIsTimeBreakSnooze(!1),this.getActions().setBreakReminderPopup(!0))),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin,this.stopTimer$)))),(0,h.h)(...e)}))}startSleepReminderTimer(e,t){return(0,b.O)(e).pipe((0,c.E)(this.state$),(0,u.n)(([e,i])=>this.service.checkSleepReminderShow({sleep_time_settings:i.sleepTimeSettings,user_real_timestamp:t}).pipe((0,u.n)(e=>0===e.status_code&&e.show_reminder?(0,p.of)(this.getActions().setSleepReminderPopup(!0)):(0,p.of)(this.noop())))),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin,this.stopTimer$,this.stopSleepReminder$)))}sleepReminderProcess(e){const t=new Date,i=(0,j.BX)(t);if((0,j.eR)(e))return this.service.checkSleepReminderShow({sleep_time_settings:e,user_real_timestamp:i}).pipe((0,u.n)(e=>0===e.status_code&&e.show_reminder?(0,p.of)(this.getActions().setSleepReminderPopup(!0)):0===e.status_code&&e.next_timestamp?this.startSleepReminderTimer(1e3*(e.next_timestamp-i),i):(0,p.of)(this.getActions().setSleepReminderPopup(!1))));const n=(0,j.rv)(e);return(0,h.h)((0,p.of)(this.getActions().setSleepReminderPopup(!1)),this.startSleepReminderTimer(n,i))}openSleepReminder(e){return e.pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>this.sleepReminderProcess(t.sleepTimeSettings)))}sleepReminderChangeHandler(e){return e.pipe((0,u.n)(e=>{const{toast:t}=e,i=(0,n.__rest)(e,["toast"]);return this.service.setSleepReminder(i).pipe((0,c.E)(this.state$),(0,u.n)(([i,n])=>{if(0===i.status_code){(0,I.G)("off"===t?this.t("privacy_projectS_sleepHours_turnOff_confirmation_toast",{},"You turned off your sleep hours"):"nudge"===t?this.t("privacy_projectS_sleepHours_turnOffToday_confirmation_toast",{s_startTime:(0,j.Tx)(n.sleepTimeSettings,this.t("nightscreentimemgmt_setsleeptime_halfsheet_am_desc",{},"AM"),this.t("nightscreentimemgmt_setsleeptime_halfsheet_pm_desc",{},"PM"))},"Your sleep hours will resume tomorrow at {s_startTime}"):void 0===this.state.sleepTimeSettings?this.t("screenTime_sleepReminders_setSleepTime_toast",{},"You’ve set your sleep time"):this.t("nightscreentimemgmt_sleepreminders_toast_editsleeptime",{},"You’ve edited your sleep time"),3,"auto"),(0,j.nN)("updateSleepTime",e.sleep_time_settings);const i=new Date,o=(0,j.BX)(i),a=[],r=(0,j.rv)(e.sleep_time_settings);return a.push(this.startSleepReminderTimer(r,o)),a.push((0,p.of)(this.getActions().setSleepTimeSettings({sleep_time_start_hour:e.sleep_time_settings.sleep_time_start_hour,sleep_time_start_minute:e.sleep_time_settings.sleep_time_start_minute,sleep_time_end_hour:e.sleep_time_settings.sleep_time_end_hour,sleep_time_end_minute:e.sleep_time_settings.sleep_time_end_minute,sleep_reminder_enabled:e.sleep_time_settings.sleep_reminder_enabled,skip_sleep_hours:e.sleep_time_settings.skip_sleep_hours,sleep_time_ab_test_started:e.sleep_time_settings.sleep_time_ab_test_started,sleep_time_type:e.sleep_time_settings.sleep_time_type}))),(0,h.h)(...a)}return(0,I.P)(this.t("error_toast")),(0,p.of)(this.noop())}))}),(0,_.W)(e=>(console.error("sleepReminderChangeHandler error occurs",e),(0,p.of)(this.noop()))))}syncSleepSettingHandler(e){return e.pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>{const i=[];return i.push((0,p.of)(this.getActions().setSleepTimeSettings({sleep_time_start_hour:e.sleep_time_start_hour,sleep_time_start_minute:e.sleep_time_start_minute,sleep_time_end_hour:e.sleep_time_end_hour,sleep_time_end_minute:e.sleep_time_end_minute,sleep_reminder_enabled:e.sleep_reminder_enabled,sleep_time_ab_test_started:e.sleep_time_ab_test_started,skip_sleep_hours:e.skip_sleep_hours,sleep_time_type:e.sleep_time_type}))),t.isPageHidden||(i.push((0,p.of)(this.getActions().stopSleepReminder$())),i.push(this.sleepReminderProcess(e))),(0,h.h)(...i)}),(0,_.W)(e=>(console.error("syncSleepSettingHandler error occurs",e),(0,p.of)(this.noop()))))}delaySleep(e){return e.pipe((0,x.p)(()=>(0,b.O)(6e5).pipe((0,g.T)(()=>this.getActions().setSleepReminderPopup(!0)),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin,this.stopTimer$)))))}scheduledBreakProcess(e){return e.pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>{const i=[],n=t.scheduledBreakSetting;if(n){const e=t.scheduledBreakActive,{status:o,rule:a}=(0,j.T5)(n);e&&!o?i.push((0,p.of)(this.getActions().setScheduledBreakHidden())):!o||e&&t.scheduledBreakActiveRule.endTime===a.endTime&&t.scheduledBreakActiveRule.startTime===a.startTime||(i.push((0,p.of)(this.getActions().setScheduledBreakShow())),i.push((0,p.of)(this.getActions().setScheduledBreakRule(a))))}return(0,h.h)(...i)}))}startScheduledBreakTimer(e){return e.pipe((0,u.n)(()=>(0,v.Y)(15e3).pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>{const i=[];return t.scheduledBreakSetting&&i.push((0,p.of)(this.getActions().scheduledBreakProcess())),(0,h.h)(...i)}),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin,this.getAction$().setDayChange,this.stopTimer$,this.stopScheduleBreak$)))))}stmLimitKidsModeProcess(e){return e.pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>{const i=[],n=t.defaultDailyLimitKmPopup,o=(0,j.E9)(t.timeUsageToday,t.activeTimeUsage,t.kmPopupExtendCount);return n&&!o?i.push((0,p.of)(this.getActions().hideDefaultDailyLimitKmPopup())):!n&&o&&i.push((0,p.of)(this.getActions().showDefaultDailyLimitKmPopup())),(0,h.h)(...i)}))}extendLimitKidsModeProcess(e){return e.pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>(0,k.x)((0,p.of)(this.getActions().extendLimitKidsMode()),(0,p.of)(this.getActions().stmLimitKidsModeProcess()))))}startStmLimitKidsModeTimer(e){return e.pipe((0,u.n)(()=>(0,v.Y)(15e3).pipe((0,c.E)(this.state$),(0,m.Z)(([e,t])=>(0,h.h)((0,p.of)(this.getActions().stmLimitKidsModeProcess()))),(0,f.Q)((0,h.h)(this.getAction$().setPageHidden,this.getAction$().setNotLogin,this.getAction$().setDayChange,this.stopTimer$,this.stopStmLimitKidsMode$)))))}getTodayUsage(e){return e.pipe((0,u.n)(()=>this.service.getSTMDashboardKidsMode({count:1}).pipe((0,c.E)(this.home.state$),(0,m.Z)(([e,t])=>{const i=(0,j.b$)(e);return(0,h.h)((0,p.of)(this.getActions().setTimeUsageToday(i),this.getActions().setActiveTimeUsage(0)))}))),(0,_.W)(e=>(console.error("getTodayUsage error occurs",e),(0,p.of)(this.noop()))))}initCallKmDefaultLimit(e){return e.pipe((0,u.n)(()=>(0,w.p)({listRes:this.service.getSTMDashboardKidsMode({count:1}),pinRes:this.service.getIsPinSet()}).pipe((0,m.Z)(({listRes:e,pinRes:t})=>{const i=(0,j.b$)(e),n=2702===t.status_code;return(0,k.x)((0,p.of)(this.getActions().setTimeUsageToday(i),this.getActions().setActiveTimeUsage(0),this.getActions().setIsPinSet(n)),(0,p.of)(this.getActions().stmLimitKidsModeProcess()))}),(0,_.W)(e=>(console.error("Error during parallel API calls:",e),(0,p.of)(this.noop()))))))}};(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",S.c)],A.prototype,"stopTimer$",void 0),(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",S.c)],A.prototype,"stopSleepReminder$",void 0),(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",S.c)],A.prototype,"stopTimeBreak$",void 0),(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",S.c)],A.prototype,"stopScheduleBreak$",void 0),(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",S.c)],A.prototype,"stopStmLimitKidsMode$",void 0),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setUserSTMSetting",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setDefaultDailySTMPopup",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setparentUsername",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setSleepReminderPopup",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setBreakReminderPopup",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setDefaultDailyLimitKmPopup",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"showDefaultDailyLimitKmPopup",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"hideDefaultDailyLimitKmPopup",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setInitialized",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"extendLimitKidsMode",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setIsPinSet",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setPageHidden",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setPageVisible",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setLogin",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setNotLogin",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setIsLogin",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setActiveTimeUsage",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setTimeUsageToday",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setIsOpenDailySTM",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setUserIdentity",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setUserSTMLimit",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setSTMInterventionType",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Date]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setLastUploadTime",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Date]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setDayChange",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setTenMinutesInterval",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setDurationReminder",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setDurationReminderType",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setIsDisplayOtherPopupWhenTimeBreak",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setIsTimeBreakSnooze",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"incrementReminderPopupExtendCount",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setIsOpenSleepReminder",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setWeeklyScreenTimeUpdates",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setSTMManagementType",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setScheduledBreakSetting",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"disableScheduledBreak",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setScheduledBreakHidden",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setScheduledBreakShow",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setScheduledBreakRule",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setSTMManagementRepeatType",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setSTMManagementDaySetting",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Array]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setFPSTMManagementDaySetting",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setSleepTimeSettings",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setIsFpTeenOpenDailySTM",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setIsMinor",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setShowDailyScreenTimeLimitsWeb",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setRevampFlag",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"setSleepHoursFlag",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"uploadAppOpentimes",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"uploadSleepReminderAction",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"getSTMManagement",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"getParentInfo",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"weeklyUpdateChangeHandler",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"init",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"initKidsMode",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"checkDailySTMPopupShow",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"dailySTMUpdateHandler",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"syncDailySTMUpdateHandler",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"startAccumulateActiveTime",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"startMonitorDayChange",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"startMonitorTimeLimit",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"startUploadSTMEveryTenMinutes",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"uploadScreenTime",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"uploadScreenTimeWhenDayChange",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"sessionDurationChangeHandler",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"syncSessionDurationHandler",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"processTimeBreak",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"startTimeBreakSnoozeTimer",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"openSleepReminder",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"sleepReminderChangeHandler",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"syncSleepSettingHandler",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"delaySleep",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"scheduledBreakProcess",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"startScheduledBreakTimer",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"stmLimitKidsModeProcess",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"extendLimitKidsModeProcess",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"startStmLimitKidsModeTimer",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"getTodayUsage",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[S.c]),(0,n.__metadata)("design:returntype",void 0)],A.prototype,"initCallKmDefaultLimit",null),A=(0,n.__decorate)([(0,r.nV)("STMModule"),(0,n.__param)(3,(0,s.y)(P.hp)),(0,n.__metadata)("design:paramtypes",[l.i,T.L,d.P,Function])],A)},85879:(e,t,i)=>{"use strict";i.d(t,{X:()=>x});var n=i(24643),o=i(45027),a=i(40099),r=i(54502),s=i(27799),l=i(20434),d=i(55765),c=i(76443),u=i(16410);const p="400px",g="240px",_=(0,u.default)("div",{target:"e1wwf12u0"})(({theme:e,withBlurBG:t,withNoBG:i,withLinearGradientBG:n})=>({width:"100%",height:"100%",left:"0",top:"0",backdropFilter:t?"blur(50px)":"none",background:n?"linear-gradient(180deg, #2b2b2b 0%, #000000 90%)":i?"rgba(18, 18, 18, 1)":e.colors.SDSecondary,position:"absolute",zIndex:2,cursor:"auto"}),"label:DivMask;"),m=(0,u.default)("div",{target:"e1wwf12u1"})({position:"absolute",top:"50%",transform:"translate(0, -50%)",width:"100%"},"label:DivMaskContainer;"),h=(0,u.default)("div",{target:"e1wwf12u2"})(({theme:e,smallMask:t=!1})=>({width:t?"48px":"106px",height:t?"48px":"106px",padding:t?"16px":"33px",margin:"0 auto 0",borderRadius:"50%",backgroundColor:e.colors.BGCreation5,color:e.colors.Positive}),"label:DivMaskIcon;"),v=(0,u.default)("div",{target:"e1wwf12u3"})(({theme:e,smallMask:t=!1})=>({maxWidth:t?g:p,margin:t?"8px auto 0":"24px auto 0",fontSize:t?"16px":"24px",lineHeight:t?"24px":"32px",textAlign:"center",color:e.colors.ConstTextInverse,fontWeight:"600"}),"label:DivMaskTitle;"),f=(0,u.default)("div",{target:"e1wwf12u4"})(({theme:e,smallMask:t=!1})=>({maxWidth:t?g:p,margin:t?"2px auto 0":"16px auto 0",fontSize:t?"14px":"18px",lineHeight:t?"22px":"24px",textAlign:"center",color:e.colors.ConstTextInverse}),"label:DivMaskDetail;"),y=(0,u.default)("button",{target:"e1wwf12u5"})(({theme:e})=>({width:p,height:"56px",cursor:"pointer",margin:"56px auto 0",borderRadius:"2px",backgroundColor:e.colors.ConstBGContainer,color:e.colors.ConstTextInverse,padding:"16px",fontSize:"18px",lineHeight:"24px",textAlign:"center",border:"none",display:"block"}),"label:ButtonMask;");var b=i(70589);const x=(0,a.memo)(({item:e,zIndex:t=2,children:i,onReportMaskVisibleChange:u,onClickShowVideo:p,smallMask:g,styleContainer:x={},styleMaskIcon:k={},styleMaskTitle:w={},styleMaskDetail:S={},styleButtonMask:C={},tickIconDimension:j})=>{var T,I;const P=(0,s.s)(),A=P("Web_report_thanks_for_report"),M=P("Web_report_hide_video"),L=P("Web_report_show_video"),{withBlurBG:D,withNoBG:O,withLinearGradientBG:R}=(0,b.KS)(),[E,F]=(0,o.S)(d.hf,{selector:e=>e.blockedVideos||[],dependencies:[]}),[B,z]=(0,o.S)(c.y7,{selector:e=>e.blockedVideos||[],dependencies:[]}),U=E.includes(null!==(T=null==e?void 0:e.id)&&void 0!==T?T:"")||B.includes(null!==(I=null==e?void 0:e.id)&&void 0!==I?I:"");(0,a.useEffect)(()=>{null==u||u(U)},[U]);const N=(0,a.useCallback)(t=>{(0,l.Gu)(t),e&&(F.removeBlockVideo(e.id),z.removeBlockVideo(e.id)),p&&p()},[F,z,e,p]);if(!U)return null;const W=g?16:null!=j?j:40;return(0,n.jsxs)(_,{style:Object.assign(Object.assign({},x),{zIndex:t}),onClick:l.Gu,withBlurBG:D,withNoBG:O,withLinearGradientBG:R,children:[(0,n.jsxs)(m,{children:[(0,n.jsx)(h,{style:k,smallMask:g,children:(0,n.jsx)(r.A,{width:W,height:W})}),(0,n.jsx)(v,{style:w,smallMask:g,children:A}),(0,n.jsx)(f,{style:S,smallMask:g,children:M}),!g&&(0,n.jsx)(y,{style:C,onClickCapture:N,children:L})]}),i]})})},86043:(e,t,i)=>{"use strict";i.d(t,{b1:()=>b});var n=i(24643),o=i(95074),a=i(40099),r=i(72355),s=i(28333),l=i(27799),d=i(57383),c=i(21002),u=i(20173),p=i(22797),g=i(555),_=i(87310),m=i(50841),h=i(73976),v=i(21197),f=i(61198),y=i(3850);const b=function({removeMarginLeft:e,style:t}){const i=(0,l.s)(),{pathname:b}=(0,r.zy)(),x=b.startsWith("/message")?_.Nk:_.vE,{lang:k}=(0,o.P)(u.L,{dependencies:[],selector:e=>{var t;return{lang:e.lang,abTestVersion:null===(t=e.appContext)||void 0===t?void 0:t.abTestVersion}}}),w=(0,h.VB)(e=>e.messageCount,f.bN),[{businessPermission:S},C]=(0,v.hG)(e=>e,f.bN),[j,T]=(0,a.useState)(!1),I=(0,c.lH)(w),{target:P}=(0,d._Y)(k),A=(0,g.Yy)({setCanUseBcVisible:T});(0,g.$l)(),(0,m.c)(),(0,g.qT)(),(0,a.useEffect)(()=>{C.getBusinessPermissionList()},[C]),(0,a.useEffect)(()=>{S.comment&&S.message&&C.getBusinessAccountInfoResponse()},[S,C]);const M=(0,a.useMemo)(()=>(0,n.jsx)(s.m,{overlay:i("webdm_message_button"),placement:"bottom",children:(0,n.jsxs)(_.pS,{removeMarginLeft:e,children:[(0,n.jsx)(p.N_,{forceSSR:!1,to:"#",target:P,onClick:e=>{A(e)},ariaLabel:i("accessibilityLabels_forYou_nav_messages_btn"),children:(0,n.jsx)("span",{children:(0,n.jsx)(x,{})})}),w>0&&(0,n.jsx)(_.F3,{long:w>=10,children:I})]})}),[A,w,e]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_.n5,{style:t,children:M}),j&&(0,n.jsx)(y.oL,{canUseBcVisible:j,setCanUseBcVisible:T})]})}},86100:(e,t,i)=>{"use strict";i.d(t,{H:()=>s});var n=i(40099),o=i(43214),a=i(35898),r=i(80179);const s=e=>{const[{roomInfo:t},i]=(0,r.useAtom)(o.r),[s]=(0,r.useAtom)(o.K),l=(0,n.useMemo)(()=>s.isLive&&!s.isError,[s]);(0,n.useEffect)(()=>{l&&i({owner_user_id:null==e?void 0:e.id,scene:"webapp_profile_preview"})},[l]);const d=(0,n.useMemo)(()=>{var e,i;const n=null===(i=null===(e=null==t?void 0:t.stream_url)||void 0===e?void 0:e.live_core_sdk_data)||void 0===i?void 0:i.pull_data;if(!n)return null;const o=a.WL.getAvailableStream(n,{targetQuality:"sd",direction:"up"});return null==o?void 0:o.url.mainFLV},[t]),c=null==t?void 0:t.user_count,u=4===(null==e?void 0:e.relation),p=(0,n.useMemo)(()=>!(!l||!d||u),[l,d,u]),g=(0,n.useMemo)(()=>{var e,i;const n=null===(i=null===(e=null==t?void 0:t.stream_url)||void 0===e?void 0:e.live_core_sdk_data)||void 0===i?void 0:i.pull_data;if(n)return a.WL.getStreamSecretKey(n)},[t]);return{showPreviewPlayer:p,streamUrl:d,userCount:c,isBlockedUser:u,drmSecretKey:g}}},86654:(e,t,i)=>{"use strict";i.d(t,{a:()=>y});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(8536),l=i(23999),d=i(35572),c=i(20259),u=i(63700),p=i(74690),g=i(80339),_=i(26324),m=i(30301),h=i(7672),v=i(44094);let f=class{constructor(e){this.fetch=e}getMusicPlaylist(e,t,i,n){return this.fetch.get("/aweme/v1/music/list/",{query:Object.assign(Object.assign({},e),{aid:null!=t?t:1180,level:null!=i?i:0,carrier_region:null!=n?n:""}),baseUrlType:2})}};f=(0,n.__decorate)([(0,h._)(),(0,n.__metadata)("design:paramtypes",[v.p])],f);let y=class extends o.E{constructor(e,t){super(),this.service=e,this.seoModule=t,this.defaultState={status_code:0,mc_info:void 0,music_list:void 0,loading:!0,has_more:1,cursor:0,share_user:void 0}}resetData(e){return Object.assign(Object.assign({},e),{loading:!0,status_code:0,music_list:void 0,mc_info:void 0,has_more:1,cursor:0})}setLoading(e,t){return Object.assign(Object.assign({},e),{loading:t})}setMusicList(e,t){const{status_code:i=0,mc_info:n,music_list:o,has_more:a,cursor:r,share_user:s}=null!=t?t:{};return Object.assign(Object.assign({},e),{status_code:i,music_list:o,mc_info:n,has_more:a,cursor:r,share_user:s})}mergeMusicList(e,t){var i;const{status_code:n=0,music_list:o,has_more:a,cursor:r}=null!=t?t:{};return Object.assign(Object.assign({},e),{status_code:n,music_list:(null!==(i=e.music_list)&&void 0!==i?i:[]).concat(null!=o?o:[]),has_more:a,cursor:r})}doNothing(e){return Object.assign({},e)}resetMusicPlaylistData(e){return e.pipe((0,s.Z)(()=>(0,l.of)(this.getActions().dispose$(),this.getActions().resetData())))}getMusicListPageData(e){return e.pipe((0,d.p)(({mc_id:e="",language:t="en",cursor:i=0,u_code:n="",region:o="",aid:a="",appType:r="t"})=>this.service.getMusicPlaylist({mc_id:e,cursor:i,u_code:n,locale:t.split("-")[0]},a,0,o).pipe((0,c.W)(()=>i?(0,l.of)(this.noop()):(0,l.of)({status_code:10233})),(0,s.Z)(e=>{const n=[(0,l.of)(this.getActions().doNothing())];return"NOOP_ACTION_TYPE_SYMBOL"===e.type?n:(i?n.push((0,l.of)(this.getActions().mergeMusicList(e))):n.push((0,l.of)(this.getActions().setMusicList(e))),(0,u.h)(...n,this.seoModule.setMusicPlaylistSEOProps(e,{language:t},r)))}),(0,p.Z)(this.getActions().setLoading(!i)),(0,g.q)(this.getActions().setLoading(!1),this.terminate()),(0,c.W)(e=>(console.error(e),(0,l.of)(this.noop()))))))}};(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",_.c)],y.prototype,"dispose$",void 0),(0,n.__decorate)([(0,a.HI)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Object)],y.prototype,"resetData",null),(0,n.__decorate)([(0,a.HI)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",Object)],y.prototype,"setLoading",null),(0,n.__decorate)([(0,a.HI)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",Object)],y.prototype,"setMusicList",null),(0,n.__decorate)([(0,a.HI)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Object]),(0,n.__metadata)("design:returntype",Object)],y.prototype,"mergeMusicList",null),(0,n.__decorate)([(0,a.HI)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],y.prototype,"doNothing",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[_.c]),(0,n.__metadata)("design:returntype",void 0)],y.prototype,"resetMusicPlaylistData",null),(0,n.__decorate)([(0,a.Mj)({payloadGetter:1}),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],y.prototype,"getMusicListPageData",null),y=(0,n.__decorate)([(0,r.nV)("MusicPlaylistModule"),(0,n.__metadata)("design:paramtypes",[f,m.E])],y)},86700:(e,t,i)=>{"use strict";i.d(t,{W:()=>x});var n=i(72516),o=i(24643),a=i(40099),r=i(16410),s=i(75431),l=i(37082);const d="900ms",c=(0,s.i7)({"0%":{transform:"scale(1)"},"50%":{transform:"scale(.9)"},"100%":{transform:"scale(1)"}}),u=(0,s.i7)({"0%":{transform:"scale(1)"},"40%":{transform:"scale(1.1)"},"45%":{transform:"scale(1.11)"},"95%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),p=(0,r.default)("div",{target:"e7u9pde0"})(({showRing:e=!0,theme:t,isAnimating:i=!1})=>({borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",borderWidth:1,borderStyle:"solid",width:"100%",height:"100%",borderColor:e&&!i?t.colors.Primary:"transparent","::after":i?{content:'""',position:"absolute",borderRadius:"50%",top:0,left:0,right:0,bottom:0,border:"1px solid #FF0050",animation:`${u} ${d} ease-out infinite`}:{}}),"label:DivContainer;"),g=(0,r.default)("div",{target:"e7u9pde1"})(({isAnimating:e=!1,isShowLive:t=!1})=>[{overflow:"hidden",borderRadius:"50%",width:t?"90%":"100%",height:t?"90%":"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},e?{animation:`${c} ${d} ease-out infinite`}:null],"label:DivAvatarWrapper;"),_=(0,r.default)(l.e,{target:"e7u9pde2"})(({enable:e,theme:{colors:t}})=>[{borderColor:t.LineSecondary,borderWidth:"0.5px",cursor:e?"pointer":"unset",backgroundColor:"rgba(136, 136, 136, 0.5)"}],"label:StyledAvatar;"),m=(0,r.default)("span",{target:"e7u9pde3"})(({theme:e,isSmallerBadge:t})=>({width:t?"25px":"33px",height:t?"18px":"24px",borderRadius:"8px",position:"absolute",background:"linear-gradient(183.16deg, #FD1A69 8.16%, #EE3392 104.17%)",top:"-9px",left:"50%",transform:"translateX(-50%)",wordBreak:"keep-all",textAlign:"center",lineHeight:t?"28px":"36px",fontSize:t?"6px":"9px",color:e.colors.ConstTextInverse,fontWeight:500}),"label:SpanLiveBadge;");var h=i(69857),v=i(90976),f=i(2232),y=i(72355),b=i(4586);const x=function(e){var{className:t,isShowLive:i=!0,size:r=32,isShowLiveTag:s=!0,e2eTag:l,isSmallerBadge:d}=e,c=(0,n.__rest)(e,["className","isShowLive","size","isShowLiveTag","e2eTag","isSmallerBadge"]);const u=i?r-6:r,x=(0,h.L$)((0,v.W)(()=>["abTestVersion"],[])),{abTestVersion:k}=x,w=(0,f.qt)(k,"webapp_live_avator_animation"),S=(0,y.W6)(),C=(0,a.useMemo)(()=>{const{pathname:e}=S.location,t=(0,y.B6)(e,{path:b.vI.liveRoom,exact:!0});return"v1"===w&&i&&!t},[w,i,S]);return(0,o.jsx)(p,{isAnimating:C,size:r,className:t,"data-e2e":l,showRing:i,style:{width:r,height:r},children:(0,o.jsxs)(g,{isShowLive:i,isAnimating:C,children:[(0,o.jsx)(_,Object.assign({enable:!0,size:u},c,{isAnimating:C})),i&&s&&(0,o.jsx)(m,{isSmallerBadge:d,children:"LIVE"})]})})}},86984:(e,t,i)=>{"use strict";i.d(t,{K1:()=>w,M$:()=>I,Oz:()=>T,Zr:()=>C,bE:()=>P,mV:()=>S,oS:()=>j});var n,o=i(72516),a=i(16610),r=i(33923),s=i(83692),l=i(90976),d=i(2232),c=i(35762),u=i(96406),p=i(40099),g=i(60433),_=i(20986),m=i(57998),h=i(61198),v=i(19664),f=i(69857),y=i(54623),b=i(37783),x=i(95074),k=i(70589);!function(e){e[e.Normal=0]="Normal",e[e.Fast=1]="Fast",e[e.Slow=2]="Slow"}(n||(n={}));const w=()=>{var e,t;const{isElectronApp:i}=(0,a.B)(),n="undefined"==typeof window?"v1":null!==(t=null===(e=(0,r.OW)("web_on_device_ml",{vid:"v1"}))||void 0===e?void 0:e.vid)&&void 0!==t?t:"v1";return{enableOnDeviceML:"v1"!==n&&!i,isMLWithModel:("v2"===n||"v3"===n)&&"undefined"!=typeof WebAssembly,isMLWithStrategy:"v4"===n,isMLWithModelLowThreshold:"v2"===n}},S=()=>{var e;const{enablePlayerPreloadDowngradePredict:t,disablePreloadPredict:a,playerPreloadPredictStrategy:r}=(0,k.Mz)(),c=(0,v.nr)(),{playerPreloadStrategy:u}=(0,x.P)(s.$,{selector:e=>{var t,i,n,o;return{playerPreloadStrategy:null===(o=null===(n=null===(i=null===(t=e.bizContext)||void 0===t?void 0:t.config)||void 0===i?void 0:i.onDeviceMLConfig)||void 0===n?void 0:n.playerPreload)||void 0===o?void 0:o.playerPreloadStrategy}},dependencies:[]}),{abTestVersion:p}=(0,f.L$)((0,l.W)(()=>["abTestVersion"],[])),g=null!==(e=(0,d.qt)(p,"tt_player_preload"))&&void 0!==e?e:{maxQueueCount:3,preloadTime:10},m=e=>{var t,i,o;if(e===n.Normal)return void c.updatePredictedPreloadConfig({maxQueueCount:null==g?void 0:g.maxQueueCount,preloadTime:null==g?void 0:g.preloadTime});const a=e===n.Slow?"gt_12s":"lt_12s",s=null===(i=null===(t=null==r?void 0:r.label_index_mapping)||void 0===t?void 0:t.findIndex)||void 0===i?void 0:i.call(t,e=>e===a),l=null===(o=null==r?void 0:r.plans)||void 0===o?void 0:o[s];console.debug("[Video Preload] Predict preload config: ",l),c.updatePredictedPreloadConfig(l)};return e=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){if(a||!u)return;const{Sibyl:r,EScene:s,EBiz:l}=yield Promise.all([i.e(6489),i.e(3305),i.e(5850)]).then(i.bind(i,90599)),d=u,c=s.VIDEO_PRELOAD,p=new r({biz:l.TIKTOK_WEB_FYP}),g=p.createStrategyEngine({abConfig:d,scene:c});g&&(g.setThresholdCallback(()=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){var i,o,a;if(t){const t=p.strategyInference({abConfig:d,scene:c});return _.F.handleModelPredict({hit:Number(t===n.Slow),scene:s.VIDEO_PRELOAD,predict_value:-1,group_id:e,threshold:-1}),m(t)}try{const{package:t="",engine_config:r={inputs:[],outputs:[]}}=null!==(i=null==d?void 0:d.preload_ml)&&void 0!==i?i:{},l=(yield p.createEngine({scene:s.VIDEO_PRELOAD,modelUrl:t,inputs:null!==(o=null==r?void 0:r.inputs)&&void 0!==o?o:[],outputs:null!==(a=null==r?void 0:r.outputs)&&void 0!==a?a:[]})).inference({features:{}}),c=g.hitThresholdValue(l),{thresholdValue:u}=g.getInferenceStrategy();console.debug("[Video Preload] Inference result: ",l,"hit: ",c),m(c?n.Slow:n.Fast),_.F.handleModelPredict({hit:Number(c),scene:s.VIDEO_PRELOAD,predict_value:l,group_id:e,model_url:t,threshold:u})}catch(e){throw m(n.Normal),e}})),g.reportInferenceResult())})},C=new Map,j=new Map,T=(e,t)=>{const[i,n]=(0,y.kH)(t=>{var i,n;return null!==(n=null===(i=t[e])||void 0===i?void 0:i.comments)&&void 0!==n?n:[]},h.bN);return{comments:i,preloadCommentList:(e,i)=>(0,o.__awaiter)(void 0,void 0,void 0,function*(){var o;if(!j.get(null==e?void 0:e.aweme_id))try{n.setCommentItem({item:{awemeId:null==e?void 0:e.aweme_id,loading:!0},itemId:null==e?void 0:e.aweme_id});const{comments:a,cursor:r,has_more:s,total:l}=yield c.h.get("/api/comment/list/",{query:Object.assign(Object.assign({},e),{count:20,aid:1988,app_language:"ja-JP",device_platform:"web_pc",current_region:"JP",fromWeb:1,enter_from:"tiktok_web"}),baseUrlType:2});j.set(e.aweme_id,{aweme_id:e.aweme_id,comments:null!==(o=a)&&void 0!==o?o:[],cursor:Number(r),has_more:Boolean(s),total:Number(l),fetch_type:"preload_by_ml"}),m.ao.handleCommentPreload({play_mode:t,group_id:e.aweme_id,preload_type:i})}catch(e){}finally{n.setCommentItem({item:{awemeId:null==e?void 0:e.aweme_id,loading:!1},itemId:null==e?void 0:e.aweme_id})}})}},I=()=>{const e=(0,v.nr)();let t=null;(0,p.useEffect)(()=>((0,o.__awaiter)(void 0,void 0,void 0,function*(){var e,n;if(!u.f.dataCollectionEnabled)return;const{Observer:o,EBiz:a}=yield Promise.all([i.e(6489),i.e(3305),i.e(5850)]).then(i.bind(i,4135)),r=(0,g.V)();t=new o({biz:a.TIKTOK_WEB_FYP,teaConfig:{teaInstance:u.f.getInstance(),channel_domain:null==r?void 0:r.tea,channel_type:null!==(e=null==r?void 0:r.teaChannelType)&&void 0!==e?e:"tcpy",channel:null!==(n=null==r?void 0:r.teaChannel)&&void 0!==n?n:"va"}}),null==t||t.observe()}),()=>{null==t||t.destroy(),e.updatePredictedPreloadConfig({})}),[])},P=(e,t)=>{var i,n;return t<0||t>=(null==e?void 0:e.length)?[]:(null!==(n=null===(i=null==e?void 0:e.slice)||void 0===i?void 0:i.call(e,t+1,t+5))&&void 0!==n?n:[]).map(e=>(0,b.ud)().getStaticItem(e)).map(e=>{var t;const{video:i,statsV2:n,id:o}=(0,f.L$)(e),{diggCount:a,commentCount:r,shareCount:s,playCount:l,collectCount:d}=(0,f.L$)(n);return{group_id:o,duration:null!==(t=null==i?void 0:i.duration)&&void 0!==t?t:0,like_cnt:Number(null!=a?a:0),comment_cnt:Number(null!=r?r:0),share_cnt:Number(null!=s?s:0),play_cnt:Number(null!=l?l:0),collect_cnt:Number(null!=d?d:0)}})}},87303:(e,t,i)=>{"use strict";i.d(t,{b:()=>r,e:()=>a});var n=i(72516),o=i(26595);const a=e=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){if(!Array.from(document.getElementsByTagName("script")).find(e=>e.src===o.En)){const e=document.createElement("script");e.src=o.En,e.async=!0,document.body.appendChild(e)}return new Promise((t,i)=>{document.addEventListener("musickitloaded",()=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){try{yield window.MusicKit.configure({developerToken:e,app:{name:o.wU,icon:o.SI}}),t(!0)}catch(e){console.error(e),i(new Error("[TT2DSP] Apple Music auth error: MusicKit not loaded"))}}))})}),r=e=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){var t,i;let n=null===(t=window.MusicKit)||void 0===t?void 0:t.getInstance();if(!n)try{yield a(e)}catch(e){return console.error(e),!1}if(n=null===(i=window.MusicKit)||void 0===i?void 0:i.getInstance(),!n)return console.error("[TT2DSP] Apple Music auth error: MusicKitInstance is undefined"),!1;return(yield n.authorize())||(console.error("[TT2DSP] Apple Music auth error: authorize failed"),!1)})},87310:(e,t,i)=>{"use strict";i.d(t,{$m:()=>g,F3:()=>u,Gq:()=>h,Nk:()=>c,bP:()=>m,iS:()=>_,k5:()=>v,n5:()=>p,pS:()=>s,vE:()=>d});var n=i(16410),o=i(46508),a=i(14873),r=i(93584);const s=(0,n.default)("div",{target:"e1nx07zo0"})(({theme:{direction:e},removeMarginLeft:t})=>(0,r.mp)({direction:e,marginStart:t?"0px":"16px"}),{cursor:"pointer",height:"32px",padding:"3px 3px 0",position:"relative",WebkitAppRegion:"no-drag"},"label:DivMessageIconContainer;");s.defaultProps=Object.assign(Object.assign({},s.defaultProps),{"data-e2e":"top-dm-icon"});const l=({theme:{direction:e}})=>({width:"26px",height:"26px",transform:"rtl"===e?"rotateY(180deg)":"none"}),d=(0,n.default)(o.A,{target:"e1nx07zo1"})(l,"label:StyledIcon;"),c=(0,n.default)(a.A,{target:"e1nx07zo2"})(l,"label:StyledActiveIcon;"),u=(0,n.default)("sup",{target:"e1nx07zo3"})(({theme:e,long:t})=>[(0,r.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"ConstTextInverse",fontWeight:"semiBold"}),(0,r.mp)({direction:e.direction,start:"16px"}),{position:"absolute",top:"-7px",minWidth:"20px",borderRadius:"10px",height:"20px",background:e.colors.Primary,textAlign:"center",padding:t?"0 6px":"0"}],"label:SupMsgBadge;"),p=n.default.div`
  display: flex;
  align-items: center;
  gap: 1rem; /* 16px */
  padding-inline-start: 1rem; /* 16px */
`,g=n.default.div`
  padding: 1.5rem; /* 24px */
  display: flex;
  flex-direction: column;
  gap: 1.5rem; /* 24px */
`,_=n.default.div`
  display: flex;
  gap: 0.75rem; /* 12px */
`,m=n.default.div`
  display: flex;
  flex-direction: column;
  gap: 0.375rem; /* 6px */
`,h=(0,n.default)("div",{target:"e1nx07zo4"})(({theme:{colors:e}})=>({lineHeight:"1.5",fontSize:"16px",fontWeight:"600",fontFamily:"TiktokFont",color:e.TextPrimary}),"label:TextPrimary;"),v=(0,n.default)("div",{target:"e1nx07zo5"})(({theme:{colors:e}})=>({lineHeight:"1.5",fontSize:"16px",fontFamily:"TiktokFont",color:e.TextSecondary}),"label:TextSecondary;")},87489:(e,t,i)=>{"use strict";i.d(t,{i:()=>s,q:()=>l});var n=i(26225),o=i(64388),a=i(41516);const r=(0,n.y)(a.w),{useServiceState:s,useAtomService:l}=(0,o.i)(r,(e,t)=>({setSkipPhotoSensitive(e){t(r,"setSkipPhotoSensitive",e)},setHideMaskTempVideoId(e){t(r,"setHideMaskTempVideoId",e)}}))},87695:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});const n={2:"hot",17:"top",18:"music"}},87696:(e,t,i)=>{"use strict";i.d(t,{p:()=>k});var n=i(24643),o=i(67518),a=i(45027),r=i(40099),s=i(28591),l=i(66192),d=i(69857),c=i(47285),u=i(90976);const p=function({iconSrc:e="https://www.tiktok.com/favicon.ico"}){return(0,n.jsxs)(s.mg,{children:[(0,n.jsx)("meta",{name:"google",content:"notranslate"},"google"),",",(0,n.jsx)("meta",{name:"format-detection",content:"telephone=no"},"format-detection"),",",(0,n.jsx)("link",{rel:"shortcut icon",href:e,type:"image/x-icon"},"shortcut")]})};var g=i(73580),_=i(71238),m=i(73041),h=i(25991),v=i(22889),f=i(81026),y=i(6418);const b=function({appContext:e,bizContext:t,slardarBid:i,initialPid:o,async:a=!1,reportImage:l}){var d,u;const{abTestVersion:p,env:b,botType:x,user:k,wid:w,region:S}=null!=e?e:{},{isMobile:C,domains:j,isTTP:T,idc:I,config:P}=null!=t?t:{},A=(0,g.Nj)(v.V$),M=(0,r.useMemo)(()=>null==P?void 0:P.featureFlags,[]),L=(0,r.useMemo)(()=>{var e;return Object.assign(Object.assign({region:null!=S?S:"",botType:null!=x?x:"",isMobile:Boolean(C).toString(),isDowngrade:(0,m.qk)().toString(),isLogin:Boolean(k).toString(),isPPE:"ppe"===(null==b?void 0:b.type),isLandingPage:1,launchMode:(0,m.fU)()?"":(0,_.o7)()},((e={parameters:{},versionName:""})=>{const t={};try{const i=e.parameters||{};Object.entries(i).forEach(([e,i])=>{h.s.includes(e)&&(t[e]=i.vid)})}catch(e){console.error("Abtest config parse error",e)}return t})(p)),{uid:null!==(e=null==k?void 0:k.uid)&&void 0!==e?e:"",idc:null!=I?I:"unknown"})},[S,x,C,k,null==b?void 0:b.type,p]),{enableInlineScript:D}=(0,c.yf)(),O=!!l||"v2"===(null===(u=null===(d=null==p?void 0:p.parameters)||void 0===d?void 0:d.enable_slardar_image)||void 0===u?void 0:u.vid),R=(0,r.useMemo)(()=>Object.assign(Object.assign(Object.assign({},f.dg),{bid:i,env:"boe"===(null==b?void 0:b.type)||"ppe"===(null==b?void 0:b.type)?"test":"production",domain:(null==M?void 0:M.slardar_sg_domain)&&"SG"===S?"mon-sg.tiktokv.com":null==j?void 0:j.slardar,disableInit:!0,useLocalConfig:"ppe"===(null==b?void 0:b.type)||"boe"===(null==b?void 0:b.type),integrations:[...A.registerImageXPlugin(O,l&&"boolean"!=typeof l?l.sample:void 0)]}),T?{sdkUrl:"https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/slardar/fe/sdk-web/browser.oci.js",pluginPathPrefix:"https://lf16-cdn-tos.tiktokcdn-us.com/obj/static-tx/slardar/fe/sdk-web/plugins"}:{}),[null==j?void 0:j.slardar,null==b?void 0:b.type,T,i,M,S]),E=(0,r.useMemo)(()=>JSON.stringify(R),[R]);return(0,r.useEffect)(()=>{let e;const t=()=>{window.SlardarClient?A.hasStarted()||(A.mountBeforeSendEvent(),A.init(Object.assign(Object.assign({},R),{pid:o})),A.config({userId:w}),A.start()):e=window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,1)};return A.context(L),"delay_start_until_manually_called"===o?(A.preserveConfig(R),A.preserveExtraInfo({userId:w})):(A.mountBeforeSendEvent(),A.init(Object.assign(Object.assign({},R),{pid:o})),A.config({userId:w}),A.start(),e=window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,1)),()=>{window.cancelIdleCallback?window.cancelIdleCallback(e):window.clearTimeout(e)}},[]),!D||(0,m._8)(a)?null:(0,n.jsxs)(s.mg,{children:[(0,n.jsx)("script",{id:"slardar-config",type:"application/json",children:E}),a?(0,n.jsx)("script",{src:y.se[T?"TTP":"ROW"].slardarWeb,async:"DO_NOT_DELETE_FOR_REHYDRATE_ERROR"}):(0,n.jsx)("script",{src:y.se[T?"TTP":"ROW"].slardarWeb})]})},x=function({isLogin:e,isFtc:t}){return(0,n.jsx)(s.mg,{children:(0,n.jsx)("meta",{name:"pumbaa-ctx",content:`login=${e?1:0},ftc=${t?1:0}`})})},k=function({appContext:e,bizContext:t,slardarBid:i,iconSrc:g,initialPid:_,asyncSlardar:m=!1,usePumbaaMeta:h=!1,slardarReportImage:v}){var f;const{language:y}=(0,d.L$)(e),{isDark:k}=(0,o.u)(),{user:w}=null!==(f=(0,u.W)(()=>["user"],[]))&&void 0!==f?f:{},{enableHeadComponent:S}=(0,c.yf)(),C=Boolean(w),j=Boolean(null==w?void 0:w.ftcUser),T=(0,a.w)(l.P);return(0,r.useEffect)(()=>{C&&T.getComplianceSettings()},[C,T]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.mg,{htmlAttributes:{lang:y,"data-theme":k?"dark":"light"}}),(0,n.jsx)(p,{iconSrc:g}),h&&(0,n.jsx)(x,{isLogin:C,isFtc:j}),S&&(0,n.jsx)(b,{appContext:e,bizContext:t,slardarBid:i,initialPid:_,async:m,reportImage:v})]})}},87741:(e,t,i)=>{"use strict";i.d(t,{Cx:()=>_,Le:()=>p,Om:()=>n,Vb:()=>u,dl:()=>g});var n,o=i(75431),a=i(16410),r=i(93584),s=i(37082);!function(e){e[e.UserFeed=0]="UserFeed",e[e.Feed=1]="Feed",e[e.Browser=2]="Browser",e[e.List=3]="List",e[e.UserPage=4]="UserPage",e[e.Search=5]="Search",e[e.RecommendList=6]="RecommendList"}(n||(n={}));const l="1800ms",d=(0,o.i7)({"0%":{transform:"scale(.95)"},"50%":{transform:"scale(.9)"},"100%":{transform:"scale(.95)"}}),c=(0,o.i7)({"0%":{transform:"scale(1)"},"40%":{transform:"scale(1.15)"},"45%":{transform:"scale(1.16)"},"95%":{transform:"scale(1)"},"100%":{transform:"scale(1)"}}),u=(0,a.default)("svg",{target:"e1vl87hj0"})({position:"absolute"},"label:SvgRoundCircle;"),p=(0,a.default)("div",{target:"e1vl87hj1"})({position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},({isAnimating:e})=>e?{":after":{content:'""',position:"absolute",left:1,top:1,right:1,bottom:1,borderRadius:"50%",border:"1px solid rgba(255, 119, 146, .5)",animation:`${c} ${l} ease-out infinite`,boxShadow:"0 -0.5px 0.5px 0.5px rgba(255,119,146,.5)"}}:null,"label:DivContainer;"),g=(0,a.default)(s.e,{target:"e1vl87hj2"})(({enable:e,theme:{colors:t},isAnimating:i})=>[{borderColor:t.LineSecondary,borderWidth:"0.5px",cursor:e?"pointer":"unset",backgroundColor:"rgba(136, 136, 136, 0.5)"},i?{animation:`${d} ${l} ease-out infinite`,animationDelay:".9s"}:null],"label:StyledAvatar;"),_=(0,a.default)("span",{target:"e1vl87hj3"})(({theme:e,isOnTop:t=!1,isBiggerBadge:i=!1})=>[(0,r.zy)({theme:e,typography:"P4",fontWeight:"bold",color:"ConstTextInverse"}),{position:"absolute",background:"linear-gradient(131.17deg, #FF1764 0%, #ED3495 94.15%)",top:t?"-6px":"unset",left:"50%",transform:"translateX(-50%)",wordBreak:"keep-all",zIndex:1},i?{height:"26px",lineHeight:"21px",padding:"1px 8px",bottom:t?"unset":"-8px",border:`2px solid ${e.colors.BGPrimary}`,borderRadius:"5px"}:{height:"15px",lineHeight:"16px",padding:"0 4px",bottom:t?"unset":"-2px",borderRadius:"2px"}],"label:SpanLiveBadge;")},87844:(e,t,i)=>{"use strict";i.d(t,{z:()=>d});var n=i(54133),o=i(40099),a=i(72355),r=i(45375),s=i(47572),l=i(73137);function d({liveInfo:e,requestId:t,isBrowserMode:i,pageType:d,isLiveHighlight:c,isGuestConnection:u,isShowGuideBg:p}){const g=(0,a.W6)();return{handleOpenLive:(0,o.useCallback)(()=>{if(null==e?void 0:e.ownerInfo.uniqueId){const o=(0,n.stringifyUrl)({url:(0,r.G2o)({uniqueId:null==e?void 0:e.ownerInfo.uniqueId,secUid:null==e?void 0:e.ownerInfo.secUid}),query:Object.assign(Object.assign({from_play_mode:i?"browser_mode":"one_column",enter_method:"live_cell",enter_from_merge:p?"homepage_fyp_guide":"homepage_hot",entrance_detail:"homepage_hot_live_cell"},(0,s.O)(d)),{request_id:t,is_highlight:c?"1":"0",is_guest_connect:u?"1":"0",is_landscape:(0,l.iU)(null==e?void 0:e.landscape)?"1":"0"})});window.location.href=o}},[i,t,e,d,c,u,p]),handleEnterUserPage:(0,o.useCallback)(()=>{if(e){const t=`${(0,r.fJR)({uniqueId:e.ownerInfo.uniqueId,secUid:e.ownerInfo.secUid})}`;g.push(t)}},[g,e])}}},87900:(e,t,i)=>{"use strict";i.d(t,{Ky:()=>d,T1:()=>r,_4:()=>c,mM:()=>a});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"ekjxngi0"})(({noBorderTop:e,noBackgroundColor:t,theme:i,overflowVisible:n,inDetailPage:o=!1})=>({width:"100%",boxSizing:"border-box",backgroundColor:t?"":i.colors.BGCreation3,borderTop:e?"none":`1px solid ${i.colors.LinePrimary2}`,borderBottom:o?"none":`1px solid ${i.colors.LinePrimary2}`,overflowY:n?"visible":"hidden",overflowX:n?"visible":"hidden",flexGrow:1,position:"relative",paddingBottom:o?"30px":"",display:"flex",flexDirection:"column"}),"label:DivCommentContainer;"),r=(0,n.default)("div",{target:"ekjxngi2"})(({theme:e,marginTop:t})=>[(0,o.zy)({theme:e,typography:"P3",fontWeight:"normal",color:"TextTertiary"}),{marginTop:t?"40px":0,width:"100%",padding:"0 16px",boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center"}],"label:DivEmpty;"),s="32px",l="24px",d=(0,n.default)("div",{target:"ekjxngi3"})(({inDetailPage:e=!1,shouldOptimizeCta:t,overflowVisible:i,seoExpVidGroup:n})=>Object.assign({width:"100%",overflowY:i?"visible":"auto",overflowX:i?"visible":"hidden",flexGrow:1,position:"relative",padding:e?"0 0 24px":`0 ${t?l:s} 24px`,":first-of-type":{paddingTop:"24px"}},"v2"===n?{display:"none"}:{}),"label:DivCommentListContainer;"),c=(0,n.default)("div",{target:"ekjxngi4"})(({shouldOptimizeCta:e})=>[{marginLeft:`-${e?l:s}`,marginRight:`-${e?l:s}`}],"label:DivProfileWrapper;")},88138:(e,t,i)=>{"use strict";i.d(t,{E:()=>h});var n=i(72516),o=i(40099),a=i(78445),r=i(73041),s=i(10757),l=i(73137),d=i(20434),c=i(80049),u=i(70589),p=i(3414),g=i(69857),_=i(90976);const m="ENABLED_FYP_CDN_CACHE";function h(e=void 0,t="",i=""){const{streamDeviceType:h}=(0,c.A)(),v=(0,a.sL)(),{abTestVersion:f}=(0,g.L$)((0,_.W)(()=>["abTestVersion"],[])),y=(0,s.s)(),b=function(){var e;const{user:t,webIdCreatedTime:i}=null!==(e=(0,_.W)(()=>["user","webIdCreatedTime"],[]))&&void 0!==e?e:{},n=Boolean(t),{inWebappFypCacheExperiment:o}=(0,u.Eg)(),a=(0,p.mv)(i);return o&&!n&&a&&!(0,r.fU)()}();return(0,o.useCallback)(()=>(0,n.__awaiter)(this,void 0,void 0,function*(){var n,o;i&&v.setRecommendListById({list:[i]});const a=(0,r.fU)()?"":(0,l.ey)(),c=b&&!(0,d._S)(m,"")&&((0,d.AP)(m,"1"),!0),u=function(e,t,i,n){const o=(0,r.fU)()?"":(0,l.ey)();return{itemId:e,pullType:1,ttamParams:(0,s.s)(),fypFeederItemId:t,watchLiveLastTime:o,device_type:i,enableCDNCache:n}}(e,t,h,c),p={itemId:e,pullType:1,ttamParams:y,watchLiveLastTime:a,device_type:h,fypFeederItemId:t};console.debug("[useFYPRecommendListFirstPull]","originParams",p,"expParams",u,JSON.stringify(u)===JSON.stringify(p));const g="v2"!==(null===(o=null===(n=null==f?void 0:f.parameters)||void 0===n?void 0:n.foryou_prefetch)||void 0===o?void 0:o.vid)?p:u;yield v.getRecommendList(g)}),[f,v,b,h,e,y,t,i])}},88246:(e,t,i)=>{"use strict";function n(e,t){let i=0;return function(...n){return i<t?(i++,e.apply(this,n)):null}}i.d(t,{o:()=>n})},88860:(e,t,i)=>{"use strict";i.d(t,{r:()=>w,M:()=>k});var n=i(24643),o=i(95074),a=i(40099),r=i(27799),s=i(80988),l=i(57432),d=i.n(l);const c=JSON.parse('{"v":"5.9.6","fr":60,"ip":0,"op":35,"w":40,"h":20,"nm":"Lottie_ic_forward","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"“ic_forward","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":4,"s":[90],"e":[90]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":8,"s":[90],"e":[50]},{"t":19}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.2,"y":1},"o":{"x":0.4,"y":0},"t":0,"s":[25,10,0],"e":[32,10,0],"to":[1.167,0,0],"ti":[-1.167,0,0]},{"t":14}],"ix":2,"l":2},"a":{"a":0,"k":[4,7,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.107,0],[0.081,0.081],[0,0],[-0.163,0.162],[0,0],[0,0],[-0.163,0.163],[0,0],[-0.107,0],[-0.082,-0.082],[0,0],[0.163,-0.163],[0,0]],"o":[[-0.107,0],[0,0],[-0.163,-0.162],[0,0],[0,0],[-0.163,-0.163],[0,0],[0.081,-0.082],[0.107,0],[0,0],[0.163,0.163],[0,0],[-0.082,0.081]],"v":[[-2.83,6.667],[-3.125,6.545],[-3.714,5.955],[-3.714,5.366],[1.651,0],[-3.714,-5.366],[-3.714,-5.955],[-3.125,-6.544],[-2.83,-6.667],[-2.536,-6.544],[3.714,-0.294],[3.714,0.295],[-2.536,6.545]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.999998743394,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[3.836,7.333],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":35,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"“ic_forward”轮廓 3","sr":1,"ks":{"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[1]},"o":{"x":[0.436],"y":[0]},"t":4,"s":[50],"e":[50]},{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":14,"s":[50],"e":[90]},{"t":25}],"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":1,"k":[{"i":{"x":0.2,"y":1},"o":{"x":0.4,"y":0},"t":6,"s":[18,10,0],"e":[25,10,0],"to":[1.167,0,0],"ti":[-1.167,0,0]},{"t":20}],"ix":2,"l":2},"a":{"a":0,"k":[4,7,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0.107,0],[0.081,0.081],[0,0],[-0.163,0.162],[0,0],[0,0],[-0.163,0.163],[0,0],[-0.107,0],[-0.082,-0.082],[0,0],[0.163,-0.163],[0,0]],"o":[[-0.107,0],[0,0],[-0.163,-0.162],[0,0],[0,0],[-0.163,-0.163],[0,0],[0.081,-0.082],[0.107,0],[0,0],[0.163,0.163],[0,0],[-0.082,0.081]],"v":[[-2.83,6.667],[-3.125,6.545],[-3.714,5.955],[-3.714,5.366],[1.651,0],[-3.714,-5.366],[-3.714,-5.955],[-3.125,-6.544],[-2.83,-6.667],[-2.536,-6.544],[3.714,-0.294],[3.714,0.295],[-2.536,6.545]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[1,0.999998743394,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[3.836,7.333],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":35,"st":0,"ct":1,"bm":0}],"markers":[]}');var u=i(37617);const p=({width:e=40,height:t=20,loop:i=!0,onComplete:o=d(),autoplay:a=!0})=>(0,n.jsx)(u.H,{width:e,height:t,onComplete:o,autoplay:a,loop:i,animationData:c});var g=i(42222),_=i(75431),m=i(16410),h=i(93584);const v=(0,_.i7)({"0%":{opacity:0},"5%":{opacity:1},"100%":{opacity:1}}),f=(0,m.default)("div",{target:"e1jh5nxw0"})({position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"144px",height:"144px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:5},"label:DivAnimationIconWrapper;"),y=(0,m.default)(f,{target:"e1jh5nxw1"})(({theme:{colors:e},isBack:t})=>({width:"300px",top:"unset",bottom:"81px",transform:"translate(-50%, 0)",height:"40px",padding:"8px 16px",paddingInlineEnd:t?"16px":"8px",paddingInlineStart:t?"8px":"16px",display:"inline-flex",flexDirection:t?"row-reverse":"row",borderRadius:"8px",background:e.ConstBGInverse2,animation:`${v} 2000ms linear`}),"label:StyledAnimationWrapper;"),b=(0,m.default)("span",{target:"e1jh5nxw2"})(({theme:e})=>(0,h.zy)({theme:e,typography:"P3",fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse2"}),"label:SpanForwardText;"),x=(0,m.default)("div",{target:"e1jh5nxw3"})(({isBack:e=!1,theme:{direction:t}})=>({width:"40px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transform:`rotateZ(${e?"rtl"===t?0:180:"rtl"===t?180:0}deg)`,marginInlineStart:e?"unset":"-8px",marginInlineEnd:e?"-8px":"unset"}),"label:DivSeekAnimationWrapper;");function k(e){const t=(0,r.s)(),i="backward"===e;return(0,a.useMemo)(()=>"none"!==e?(0,n.jsxs)(y,{isBack:i,children:[(0,n.jsx)(b,{children:t("forward"===e?"pc_web_skip_forward_5_sec":"pc_web_skip_backward_5_sec",{number:s.S})}),(0,n.jsx)(x,{isBack:i,children:(0,n.jsx)(p,{loop:!0})})]}):null,[i,e,t])}const w=()=>{const{seekType:e}=(0,o.P)(g.aL,{selector:e=>({seekType:e.seekType}),dependencies:[]});return{seekingTips:k(e)}}},88985:(e,t,i)=>{"use strict";i.d(t,{b_:()=>o});var n=i(94810);function o(e){const t=n.A.isRealUniqueId(e),i=n.A.isPureNumber(e,!1);return t?{uniqueId:e.toLowerCase(),secUid:""}:i?{uniqueId:"",secUid:"",userId:e}:{uniqueId:"",secUid:e}}},89009:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(40099),o=i(67083);function a(e){const{onPlay:t,onPlaying:i,onLog:a,onLoadedData:r,onLoading:s,onPause:l,onPlayError:d,onStreamEnd:c,onSeiParsed:u}=e,p=(0,n.useRef)(0),g=(0,n.useRef)();g.current={onPlay:t,onLoadedData:r,onLoading:s,onPlaying:i,onLog:a,onPause:l,onPlayError:d,onSeiParsed:u,onStreamEnd:c};const[_,m]=(0,n.useState)(!1),[h,v]=(0,n.useState)(!1),f=(0,n.useRef)(),y=(0,n.useCallback)(()=>{clearTimeout(p.current),v(!1)},[]);return f.current=(0,n.useCallback)(e=>{e.once(o.CANPLAY,()=>{y()}),e.on(o.PLAY,()=>{var e,t;y(),null===(t=null===(e=g.current)||void 0===e?void 0:e.onPlay)||void 0===t||t.call(e)}),e.on(o.PLAYING,()=>{var e,t;y(),m(!0),null===(t=null===(e=g.current)||void 0===e?void 0:e.onPlaying)||void 0===t||t.call(e)}),e.on(o.PAUSE,()=>{var e,t;m(!1),y(),null===(t=null===(e=g.current)||void 0===e?void 0:e.onPause)||void 0===t||t.call(e)}),e.on(o.WAITING,()=>{var e,t;null===(t=null===(e=g.current)||void 0===e?void 0:e.onLoading)||void 0===t||t.call(e),clearTimeout(p.current),p.current=window.setTimeout(()=>{v(!0)},3e3)}),e.on(o.LOADED_DATA,()=>{var t,i;null===(i=null===(t=g.current)||void 0===t?void 0:t.onLoadedData)||void 0===i||i.call(t,e._videoWidth,e._videoHeight)}),e.on(o.ERROR,e=>{var t,i,n,o,a,r;const s=null!==(t=e.ex)&&void 0!==t?t:e.message,l=null!==(o=null!==(n=null===(i=null==e?void 0:e.mediaError)||void 0===i?void 0:i.code)&&void 0!==n?n:e.code)&&void 0!==o?o:e.name;null===(r=null===(a=g.current)||void 0===a?void 0:a.onPlayError)||void 0===r||r.call(a,l,s)}),e.on(o.SEI_PARSED,e=>{var t,i;null===(i=null===(t=g.current)||void 0===t?void 0:t.onSeiParsed)||void 0===i||i.call(t,e)}),e.on(o.XGLOG,e=>{var t,i;null===(i=null===(t=g.current)||void 0===t?void 0:t.onLog)||void 0===i||i.call(t,e)}),e.on(o.ENDED,()=>{var e,t;null===(t=null===(e=g.current)||void 0===e?void 0:e.onStreamEnd)||void 0===t||t.call(e),y()})},[y]),{loading:h,playerIsPlaying:_,registerPlayerEventsRef:f}}},89015:(e,t,i)=>{"use strict";i.d(t,{k:()=>o});var n=i(72516);const o=e=>(0,n.__awaiter)(void 0,void 0,void 0,function*(){const{cors:t,downloadAddr:i,fileName:n}=e;try{const e=yield fetch(i,t?{mode:"cors",credentials:"include"}:{}),o=yield e.blob(),a=window.URL.createObjectURL(o),r=document.createElement("a");return r.href=a,n&&(r.download=n),document.body.appendChild(r),r.click(),setTimeout(()=>{document.body.removeChild(r),window.URL.revokeObjectURL(a)},0),!0}catch(e){return!1}})},89136:(e,t,i)=>{"use strict";i.d(t,{b:()=>f});var n,o=i(72516),a=i(7672),r=i(54133),s=i(69239),l=i(68628),d=i(23999),c=i(2668),u=i(82970),p=i(9543),g=i(35572),_=i(8536),m=i(27042),h=i(44094),v=i(17384);!function(e){e[e.NotAvailable=0]="NotAvailable",e[e.Start=1]="Start",e[e.Error=2]="Error",e[e.Succeeded=3]="Succeeded"}(n||(n={}));let f=class{constructor(e){this.fetch=e,this.retryTime=0,this.hasMore$=new s.B,this.options$=new s.B,this.init$=this.options$.pipe((0,g.p)(e=>{let t,n;return(0,l.H)(Promise.all([i.e(4488),i.e(6489),i.e(3305),i.e(6706),i.e(8904),i.e(1960),i.e(4835),i.e(6483),i.e(759),i.e(4685),i.e(694),i.e(4714),i.e(1377),i.e(1798)]).then(i.bind(i,15226)).then(i=>{const{im_proto:o,ExtensionPlugin:a,StrangerPlugin:r,MultimediaPlugin:s,MetricsPlugin:l}=i;return e.authType=o.AuthType.SESSION_AUTH,n=i,t=new n.BytedIM(e,[a,r,s,l]),this.instance=t,this.sdk=n,t.init()}).then(i=>({result:i,instance:t,sdk:n,options:e})).catch(i=>(console.error(`[IM SDK] init failed, e=${i}`),{result:2,instance:t,sdk:n,options:e})))}),(0,_.Z)(({result:e,instance:t,sdk:i,options:n})=>{const o=[i.IMEvent.ConversationChange,i.IMEvent.MessageSend,i.IMEvent.ReceiveNewMessage,i.IMEvent.MessageDelete,i.IMEvent.MessagePropertyUpsert,i.IMEvent.RefreshMessage,i.IMEvent.MessageUpsert];return t?(o.forEach(e=>{t.event.subscribe(e,t=>{var o;n.eventListener({event:e,params:t,sdk:i,uid:null!==(o=n.userId)&&void 0!==o?o:""})})}),(0,d.of)({instance:t,sdk:i,options:n})):(0,c.$)(()=>new Error(`[IM SDK] init failed with initResult=${e}`))})),this.refreshMessage$=(0,u.z)([this.init$,(0,p.Y)(360)]).pipe((0,_.Z)(([{instance:e,sdk:t,options:i}])=>(0,l.H)(e.getMessagesByUserInit({inboxType:0,cursor:this.cursor}).then(({hasMore:e,cursor:n=0})=>{var o;return this.cursor=n.toString(),0===this.refreshTime&&i.eventListener({event:t.IMEvent.ConversationChange,params:{},sdk:t,uid:null!==(o=null==i?void 0:i.userId)&&void 0!==o?o:""}),this.refreshTime++,e}).catch(e=>(console.error(e),!(this.retryTime++>5))))),(0,m.v)(e=>e)),this.cursor="0",this.refreshTime=0,this.instance={},this.sdk={}}getMessageToken(){return this.fetch.get("/api/im/reboot/misc/",{query:{aid:1988,im_token:1},baseUrlType:2})}getConversationListOnline(e){var t,i;return(0,l.H)(null===(i=(t=this.instance).getConversationListOnline)||void 0===i?void 0:i.call(t,{filter:e}))}getStrangerConversationList({cursor:e,limit:t}){var i,n;return(0,l.H)(null===(n=(i=this.instance).getStrangerConversationList)||void 0===n?void 0:n.call(i,{cursor:e,limit:t}))}createConversation({uid:e}){var t,i;return(0,l.H)(null===(i=(t=this.instance).createConversation)||void 0===i?void 0:i.call(t,{participants:e}))}createMessage({type:e,content:t,conversation:i,fileInfo:n}){var o,a,r,s;let d;if(n){const{fileType:t,fileHandler:r,width:s,height:l,onUploadProcess:c,onUploadComplete:u,onUploadError:p}=n,g=t.startsWith("image");d=null===(a=(o=this.instance).createFileMessage)||void 0===a?void 0:a.call(o,{conversation:i,type:e,content:'{"hack":"1"}',fileInfo:{type:g?"image":"video",fileHandler:r,displayType:"media",encrypt:!0,imagePreviewWidth:s,imagePreviewHeight:l,ext:g?{}:{"s:file_ext_key_video_width":`${s||0}`,"s:file_ext_key_video_height":`${l||0}`},onUploadProcess:e=>{d.then(t=>{null==c||c(t.clientId,e)})},onUploadComplete:e=>{d.then(t=>{null==u||u(t.clientId,e)})},onUploadError:e=>{d.then(t=>{null==p||p(t.clientId,e)})}},scene:"private_"+(g?"image":"video")})}else d=null===(s=(r=this.instance).createMessage)||void 0===s?void 0:s.call(r,{conversation:i,type:e,content:t});return(0,l.H)(d)}sendMessage({message:e}){var t,i;return(0,l.H)(null===(i=(t=this.instance).sendMessage)||void 0===i?void 0:i.call(t,{message:e}))}setConversationSettingInfo({conversation:e,mute:t,stickOnTop:i}){var n,o;return(0,l.H)(null===(o=(n=this.instance).setConversationSettingInfo)||void 0===o?void 0:o.call(n,{conversation:e,mute:t,stickOnTop:i}))}deleteConversation({conversation:e}){var t,i;return(0,l.H)(null===(i=(t=this.instance).deleteConversation)||void 0===i?void 0:i.call(t,{conversation:e}))}deleteStrangerConversation({conversation:e}){var t,i;return(0,l.H)(null===(i=(t=this.instance).deleteStrangerConversation)||void 0===i?void 0:i.call(t,{conversation:e}))}markConversationRead({conversation:e}){var t,i;return(0,l.H)(null===(i=(t=this.instance).markConversationRead)||void 0===i?void 0:i.call(t,{conversation:e}))}markStrangerConversationRead({conversation:e}){var t,i;return(0,l.H)(null===(i=(t=this.instance).markStrangerConversationRead)||void 0===i?void 0:i.call(t,{conversation:e}))}getStrangerPreview(){var e,t;return(0,l.H)(null===(t=(e=this.instance).getStrangerPreview)||void 0===t?void 0:t.call(e,{}))}getMessagesByConversation({conversation:e}){var t,i;return(0,l.H)(null===(i=(t=this.instance).getMessagesByConversation)||void 0===i?void 0:i.call(t,{conversation:e}))}getStrangerConversationMessage({conversation:e}){var t,i;return(0,l.H)(null===(i=(t=this.instance).getStrangerConversationMessage)||void 0===i?void 0:i.call(t,{conversation:e}))}deleteMessage({message:e}){var t,i;return(0,l.H)(null===(i=(t=this.instance).deleteMessage)||void 0===i?void 0:i.call(t,{message:e}))}modifyMessageProperty({message:e,isLiked:t}){var i,n;return(0,l.H)(null===(n=(i=this.instance).modifyMessageProperty)||void 0===n?void 0:n.call(i,{message:e,modifyContent:[{operation:t?this.sdk.im_proto.OPERATION_TYPE.REMOVE_PROPERTY_ITEM:this.sdk.im_proto.OPERATION_TYPE.ADD_PROPERTY_ITEM,key:"e:love"}]}))}getMultiUsersByUids(e){return this.fetch.get("/api/im/multi_user/",{query:{aid:1988,uids:e},baseUrlType:2})}getFollowingUserListWithCanShare(e){const{minCursor:t=0,count:i=30}=e;return this.fetch.get("/api/im/spotlight/relation/",{query:{source:"web",with_fstatus:1,device_platform:"webapp_pc",count:i,max_time:t,min_time:0},baseUrlType:2})}getMultiUsersRelation({to_user_id:e,userId:t}){return this.fetch.get("/api/im/spotlight/multi_relation/",{query:{to_user_id:e,userId:t},baseUrlType:2})}feedbackMessage({shortId:e,uid:t,content:i,messageId:n,messageType:o}){const a=r.stringify({con_short_id:e,receiver_uid:t,content:i,msg_type:`${o}`,scene:"sending_ban",msg_id:n});return this.fetch.post("/aweme/v1/im/msg/feedback/",{query:{report_type:"im",appId:1233},headers:{"Content-Type":v.Ty.FORM_ENCODE},body:a})}getItemInfo(e,t){return this.fetch.get("/api/im/item_detail/",{query:{itemId:e,coverFormat:t},baseUrlType:2})}decryptMedia({message:e,fetchIndex:t}){var i,n;return(0,l.H)(null===(n=(i=this.instance).decryptMedia)||void 0===n?void 0:n.call(i,{message:e,fetchIndex:t}))}getConversationByMessage({message:e}){return(0,d.of)(this.instance.getConversation({conversationId:e.conversationId}))}getMessages({messages:e,conversation:t,upsert:i}){return(0,l.H)(this.instance.getMessages({messages:e,conversation:t,upsert:i}))}};f=(0,o.__decorate)([(0,a._)(),(0,o.__metadata)("design:paramtypes",[h.p])],f)},89741:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var n=i(40099),o=i(19664);function a(){const e=(0,o.nr)(),t=(0,n.useCallback)(()=>{window.ttWebappFocusTime||(window.ttWebappFocusTime=Date.now(),window.ttWebappBlurTime=null)},[]),i=(0,n.useCallback)(()=>{const t=Date.now();e.updateVideoFocusTime({blurTime:t}),window.ttWebappFocusTime=null,window.ttWebappBlurTime=t},[e]);(0,n.useEffect)(()=>{window.ttWebappFocusTime=Date.now()},[]),(0,n.useEffect)(()=>(window.addEventListener("blur",i),window.addEventListener("focus",t),()=>{window.removeEventListener("blur",t),window.removeEventListener("focus",i)}),[i,t])}},90007:(e,t,i)=>{"use strict";i.d(t,{S:()=>f});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(340),l=i(35572),d=i(62564),c=i(20259),u=i(23999),p=i(53708),g=i(26324),_=i(48156),m=i(28439),h=i(44094),v=i(29036);let f=class extends o.E{constructor(e,t,i){super(),this.fetch=e,this.complianceService=t,this.t=i,this.defaultState={isRegisterWithPrivateOn:!1}}setIsRegisterWithPrivateOn(e,t){e.isRegisterWithPrivateOn=t}handlePrivateConfirm(e){return e.pipe((0,l.p)(()=>this.complianceService.postPrivateBannerAck()),(0,d.T)(()=>this.getActions().setIsRegisterWithPrivateOn(!1)),(0,c.W)(e=>(console.error(e),_.F.open({content:this.t("Sorry, something went wrong, please try again later"),duration:2e3}),(0,u.of)(this.noop()))))}getIsRegisterPrivateAccount(){return this.fetch.get("/api/user/detail/self/",{query:{tt_csrf_token:this.fetch.csrfToken}}).pipe((0,d.T)(({statusCode:e,userInfo:t})=>{var i,n;if(0!==e&&10222!==e)throw new Error(`getIsRegisterPrivateAccount error, error_code ${e}`);return null!==(n=null===(i=null==t?void 0:t.user)||void 0===i?void 0:i.showPrivateBanner)&&void 0!==n&&n}),(0,c.W)(e=>(console.error(e),(0,u.of)(!1))),(0,p.L)(1))}};(0,n.__decorate)([(0,a.uk)(),(0,n.__metadata)("design:type",g.c)],f.prototype,"dispose$",void 0),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],f.prototype,"setIsRegisterWithPrivateOn",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[g.c]),(0,n.__metadata)("design:returntype",void 0)],f.prototype,"handlePrivateConfirm",null),f=(0,n.__decorate)([(0,r.nV)("RegisterPrivateAccount"),(0,n.__param)(2,(0,s.y)(m.hp)),(0,n.__metadata)("design:paramtypes",[h.p,v.D,Function])],f)},90494:(e,t,i)=>{"use strict";i.d(t,{DX:()=>ve,Dk:()=>ge,FQ:()=>re,GL:()=>de,HK:()=>ye,JE:()=>ne,Ky:()=>ue,Og:()=>pe,Oz:()=>ae,V0:()=>oe,WQ:()=>se,Wj:()=>le,dD:()=>te,hL:()=>_e,ih:()=>he,jd:()=>fe,rw:()=>me});var n,o=i(24643),a=i(45027),r=i(95074),s=i(99789),l=i.n(s),d=i(2387),c=i.n(d),u=i(54133),p=i(40099),g=i(72355),_=i(61198),m=i(33573),h=i(65491),v=i(4586),f=i(37818),y=i(75051),b=i(21722),x=i(28058),k=i(57998),w=i(16327),S=i(159),C=i(24443),j=i(54623),T=i(42186),I=i(44643),P=i(72546),A=i(98461),M=i(45375),L=i(27799),D=i(55765),O=i(76443),R=i(10114),E=i(8076),F=i(69857),B=i(80988),z=i(18650),U=i(90976),N=i(47342),W=i(42222),V=i(31382),H=i(11534),q=i(34778),$=i(57190),G=i(70589),K=i(42780),Y=i(1404),Z=i(69831),J=i(1491),X=i(43887),Q=i(705),ee=i(19664);function te({itemListKey:e,item:t,author:i,needUrlDelegate:n,onCloseBrowserMode:o,disableUpdate:r=!1}){const{pathname:s,search:d}=(0,g.zy)(),c=(0,g.W6)(),_=(0,X._u)(),m=(0,p.useRef)(!1),[{searchValue:h,previousSearchValue:f},{setPreviousSearchValue:y,setSearchValue:b,setInputFocus:x}]=(0,a.S)(N.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,previousSearchValue:e.previousSearchValue})});(0,p.useEffect)(()=>{y(h),b("");const e=()=>{b(f),x(!1),o({fromPopState:!0})};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[]),(0,p.useEffect)(()=>{if(!t||!e||!n||r)return;Boolean((0,g.B6)(location.pathname,{path:v.vI.liveRoom}))&&(m.current=!0);const{scheduleTime:o,author:a=""}=t,s=l()((0,u.parse)(d),"sender_device","sender_web_id","item_id"),c=o?(0,M.fJR)({uniqueId:a,secUid:null==i?void 0:i.secUid}):(0,u.stringifyUrl)({url:_(t),query:s},{skipNull:!0});m.current&&null!==window.history.state&&/^(?!.*@.*\/video).*$/.test(location.pathname)&&/^(?!.*@.*\/photo).*$/.test(location.pathname)?window.history.replaceState(null,"",location.pathname):m.current?window.history.replaceState(window.history.state,"video-detail",c):(window.history.pushState(window.history.state,"video-detail",c),m.current=!0)},[null==i?void 0:i.secUid,c,t,s,e,n,d,r])}!function(e){e[e.Null=0]="Null",e[e.Close=1]="Close",e[e.Prev=2]="Prev",e[e.Next=3]="Next",e[e.Redirect=4]="Redirect"}(n||(n={}));const ie=e=>{null==e||e.preventDefault(),null==e||e.stopPropagation()};function ne({onCloseBrowserMode:e,onNextVideo:t,onPrevVideo:i,pause:n,setPause:o,embedVisibleRef:s,group_id:l,handleLikeClick:d,author_id:c,itemListKey:u,onJumpSamePage:_,shouldPause:m,photoVideoRef:h,isPhotoMode:v,photoTeaParams:w,setIsShowPhoto:j,itemMute:T=!1,playerRef:I}){const{isRTL:P}=(0,z.m)(),[A,M]=(0,p.useState)(!1),[L,E]=(0,p.useState)(0),F=(0,H.Em)(),{setNeedClearInput:U}=(0,S.$4)(),V=(0,a.w)(W.aL),[{previousSearchValue:G,searchValue:K},{setSearchValue:Y}]=(0,a.S)(N.C,{dependencies:[],selector:e=>({previousSearchValue:e.previousSearchValue,searchValue:e.searchValue})}),{mute:Z,setMute:J}=(0,R.ah)({playMode:2,itemMute:T}),[X,Q]=(0,q.BI)(({isCreatorBrowserMode:e})=>e),ee=(0,p.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),J(!Z,"keydown",w)},[J,Z,w,l,c]),te=(0,r.P)(D.hf,{selector:({showing:e})=>e,dependencies:[]}),ne=(0,r.P)(O.y7,{selector:({showing:e})=>e,dependencies:[]}),oe=(0,C.mZ)(e=>e.isOpen),ae=(0,p.useCallback)(e=>{var t,i,a,r,s,l,d,c,u,p,g,_,m,f,y,b;v?n?(null===(a=null===(i=null===(t=h.current)||void 0===t?void 0:t.swiper)||void 0===i?void 0:i.play)||void 0===a||a.call(i),null===(l=null===(s=null===(r=h.current)||void 0===r?void 0:r.audio)||void 0===s?void 0:s.play)||void 0===l||l.call(s)):(null===(u=null===(c=null===(d=h.current)||void 0===d?void 0:d.swiper)||void 0===c?void 0:c.pause)||void 0===u||u.call(c,e),null===(_=null===(g=null===(p=h.current)||void 0===p?void 0:p.audio)||void 0===g?void 0:g.pause)||void 0===_||_.call(g)):n?null===(f=null===(m=I.current)||void 0===m?void 0:m.play)||void 0===f||f.call(m,!0):null===(b=null===(y=I.current)||void 0===y?void 0:y.pause)||void 0===b||b.call(y),o(!n)},[v,o,n,h,l,c,I]),{pathname:re}=(0,g.zy)(),se=(0,g.W6)(),le=(0,p.useCallback)((t,i)=>{var n;ie(t),Y(G),F?e({fromPopState:i,playProgress:null===(n=I.current)||void 0===n?void 0:n.currentTime,shouldPause:m}):(E(1),M(!0))},[F,m,e,G,Y,I]),de=(0,p.useCallback)(e=>{ie(e),Q.handleExitCreatorMode()},[Q]),ce=(0,p.useRef)(-1),ue=(0,p.useCallback)((e,t="click")=>{var i,n,o;const a=e>0?"forward":"backward";window.clearTimeout(ce.current),V.setSeekType(a),ce.current=window.setTimeout(()=>{V.setSeekType("none")},2e3),null===(n=null===(i=I.current)||void 0===i?void 0:i.seekTime)||void 0===n||n.call(i,(null===(o=I.current)||void 0===o?void 0:o.currentTime)+e),y.V.handleVideoControlChange({play_mode:"browser_mode",author_id:null!=c?c:"",group_id:l,enter_method:t,click_section:"click"===t?"pc_web_keyboard_btn":void 0,change_params:e>0?"video_forward":"video_backward"})},[c,l]),pe=(0,p.useRef)(""),ge=(0,p.useCallback)((e,t,i)=>{if(t.includes(re)&&re!==f.OZ.home)return le(e),void _();F||(ie(e),E(4),M(!0),pe.current=t),i&&b.O.handleGeneralClick(i,{scene:"video_feed"})},[le,F,re,_]),_e=(0,p.useCallback)(()=>{v&&(j(!1),setTimeout(()=>{j(!0)},0))},[v,j]),me=(0,p.useCallback)((e,i="click")=>{if(e&&ie(e),K&&Y(""),F){t(),o(!1);const e=Object.assign({enter_method:i,play_mode:"browser_mode",group_id:l,author_id:null!=c?c:"",skipped_group_num:0,skipped_group_ids:""},w);x.L.handleVideoChange(e,"next"),"foryou"===u&&x.L.handleHotVideoChange(e,"next"),_e()}else E(3),M(!0)},[F,t,o,l,c,w,u,_e,K,Y]),he=(0,p.useCallback)((e,t="click")=>{if(e&&ie(e),K&&Y(""),F){i(),o(!1);const e=Object.assign({enter_method:t,play_mode:"browser_mode",group_id:l,author_id:null!=c?c:"",skipped_group_num:0,skipped_group_ids:""},w);x.L.handleVideoChange(e,"prev"),"foryou"===u&&x.L.handleHotVideoChange(e,"prev"),_e()}else E(2),M(!0)},[i,o,l,c,w,u,_e,K,Y]),ve=(0,p.useCallback)(e=>{e&&ie(e),K&&Y(""),F?(o(!1),_e()):(E(3),M(!0))},[F,o,_e,K,Y]),{isMiniPlayerShowing:fe}=(0,$.mE)(e=>({isMiniPlayerShowing:e.isMiniPlayerShowing})),ye=(0,p.useCallback)(e=>{if(27!==e.keyCode&&["input","textarea"].includes(e.target.tagName.toLocaleLowerCase())||"true"===e.target.getAttribute("contenteditable")||oe)return;const t=new Map([[27,()=>{fe||(X?(de(e),o(!1)):te||ne||s.current||le(e))}],[40,()=>{me(e,"keydown")}],[32,()=>{ae("keyboard")}],[39,()=>{ue(P?B.a:B.S,"keydown")}],[37,()=>{ue(P?B.S:B.a,"keydown")}],[38,()=>{he(e,"keydown")}],[76,()=>{d("keydown")}],[77,()=>{ee(e)}]]),{keyCode:i}=e;t.has(i)&&(e.preventDefault(),t.get(i)())},[s,le,d,me,he,ee,oe,te,ne,ae,de,X,ue,P,o,fe]),be=(0,p.useCallback)(()=>{var n;switch(L){case 1:e({playProgress:null===(n=I.current)||void 0===n?void 0:n.currentTime,shouldPause:m});break;case 2:i(),o(!1);break;case 3:t(),o(!1);break;case 4:pe.current&&se.push(pe.current)}M(!1),U(!0),k.ao.handleLeaveComment({group_id:l})},[L,l,se,m,e,t,i,U,o]),xe=(0,p.useCallback)(()=>{E(0),M(!1),k.ao.handleKeepComment({group_id:l})},[l]);return(0,p.useEffect)(()=>(document.addEventListener("keydown",ye),()=>{document.removeEventListener("keydown",ye)}),[ye]),{handleLinkClick:ge,handleClose:le,handleCloseCreatorMode:de,handleNext:me,handlePrev:he,preventDefault:ie,togglePlay:ae,showLeaveModal:A,noEditingContent:F,handleConfirmLeave:be,handleCancelLeave:xe,handleSeek:ue,handleClickCreatorVid:ve}}function oe({id:e,authorId:t,playMode:i,needDispose:n=!0,handleCommentScrollDown:o,handleCommentHitTop:a}){const r=(0,j.BY)(),s=(0,p.useRef)(null),l=(0,p.useCallback)(()=>{k.ao.handleCommentLoadMore({play_mode:i,group_id:e,author_id:t}),r.fetchComment({aweme_id:e})},[r,e]);return(0,p.useEffect)(()=>()=>{n&&r.setCommentItem({itemId:e,item:j.lN})},[r,e,n]),(0,E.O9)({elemRef:s,onHitBottom:l,bottomThreshold:200,throttle:200}),(0,E.yE)({elemRef:s,onHitTop:a,onScrollDown:o}),s}function ae({showLeaveModal:e,group_id:t}){const[{loading:i}]=(0,j.kH)(e=>{var i;return null!==(i=e[t])&&void 0!==i?i:{loading:!1}},_.bN);(0,p.useEffect)(()=>{e&&k.ao.handleClose({group_id:t,is_comments_loaded:i?k.uO.Loading:k.uO.Loaded})},[t,e]),(0,p.useEffect)(()=>()=>{k.ao.handleClose({group_id:t,is_comments_loaded:i?k.uO.Loading:k.uO.Loaded})},[t,i])}const re=({currentIndex:e,handlePrev:t,hasNext:i,handleNext:n,itemListKey:a,isUiOptimise:r=!1,isClearModeAB:s=!1})=>{const l=(0,L.s)(),d=(0,p.useCallback)(c()(e=>{a&&e.srcElement.classList.value.includes("BasicVideo")&&(e.deltaY>=1?n(e,"scroll"):e.deltaY<=-1&&t(e,"scroll"))},100),[n,t]);return(0,p.useEffect)(()=>(window.addEventListener("wheel",d),()=>{window.removeEventListener("wheel",d)})),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(J.d4,{disabled:0===e,isPrev:!0,onClick:t,"data-e2e":"arrow-left",role:"button","aria-label":l("pc_web_previous_btn"),isUiOptimise:r,isClearModeAB:s,children:(0,o.jsx)(h.A,{width:26,height:26,fill:"#fff"})}),(0,o.jsx)(J.d4,{disabled:!i,isPrev:!1,onClick:n,"data-e2e":"arrow-right",role:"button","aria-label":l("pc_web_next_btn"),isUiOptimise:r,isClearModeAB:s,children:(0,o.jsx)(h.A,{width:26,height:26,fill:"#fff"})})]})},se=e=>{var t,i;let n=!0;const o=(0,V.yS)(null==e?void 0:e.author),{user:a={}}=null!==(t=(0,U.W)(()=>["user"],[]))&&void 0!==t?t:{},[r,s]=(0,p.useState)(!1),l=(0,p.useCallback)(e=>{e.stopPropagation(),w.d.handleClickAnalyticsButton(),s(!0)},[]),d=(0,p.useCallback)(()=>{s(!1)},[]);a||(n=!1);const{secUid:c,analyticsOn:u}=null!=a?a:{};return c===(null!==(i=null==o?void 0:o.secUid)&&void 0!==i?i:"")&&u||(n=!1),{showAnalyticsButton:n,showAnalyticsModal:r,handleOpenAnalyticsModal:l,handleCloseAnalyticsModal:d}};function le(e,t){const{listLength:i,statusCode:n}=ce({itemListKey:e,stateSelector:e=>{var t;return{listLength:null!==(t=null==e?void 0:e.list.length)&&void 0!==t?t:0,statusCode:null==e?void 0:e.statusCode}}}),{isBrowserModeOpen:o,browserModeIndex:a}=(0,q.JD)(e=>({isBrowserModeOpen:e.showingBrowserMode,browserModeIndex:e.currentIndex}),_.bN),{isImmersivePlayerOpen:r,index:s}=(0,T.Z9)(e=>({isImmersivePlayerOpen:e.isOpen,index:e.index})),l=(0,p.useMemo)(()=>r?s:a,[a,s,r]);(0,p.useEffect)(()=>{(o||r)&&0===n&&(!i||i-l<=3)&&t()},[l,t,o,r,i,n])}function de({itemListKey:e,exploreCategoryType:t,config:i,handler:n}){const{index:o,isOpen:a,immersivePlayerListLength:r,itemListSourceConfig:s}=(0,T.Z9)(e=>({index:e.index,isOpen:e.isOpen,immersivePlayerListLength:e.itemList.length,itemListSourceConfig:e.itemListSourceConfig}),_.bN),l="single"===(null==s?void 0:s.mode)?s.itemListKey:void 0,d=(0,q.JD)(e=>e.currentIndex,_.bN),c=a?o:d,u=(0,I.Gb)(),[{activeItemListKey:g,listLength:m,keyToLoadMore:h},v]=(0,Q.Zl)(e=>{var t;return{activeItemListKey:e.activeItemListKey,listLength:e.browserList.length,keyToLoadMore:null!==(t=e.keyToLoadMore)&&void 0!==t?t:""}},_.bN),f=a?r:m,y=a?l:g,{statusCode:b,loading:x}=ce({itemListKey:h,stateSelector:e=>{var t,i;return{statusCode:null!==(t=null==e?void 0:e.statusCode)&&void 0!==t?t:0,loading:null!==(i=null==e?void 0:e.loading)&&void 0!==i&&i}}});(0,p.useEffect)(()=>{v.registerBrowserListConfig({itemListKey:e,config:i})},[e,i,v]),(0,p.useEffect)(()=>{"explore"===e&&void 0!==t&&t!==u||x||y!==e||f&&!(f-c<=3)||(0===b?!1===n(h)&&v.freezeSourceWithKey(h):e!==h&&v.freezeSourceWithKey(h))},[x,c,y,e,f,b,v,h])}function ce({itemListKey:e,stateSelector:t,dependencies:i}){const n=(0,P.D)(e),o=(0,m.X)(n||Q.Eq,{selector:t,equalityFn:_.bN}),a=(0,r.P)(Y.O,{selector:i=>{var n;const o=null!==(n=i[e])&&void 0!==n?n:null;return t(o)},dependencies:null!=i?i:[e]});return n?o:a}const ue=({itemListKey:e,currentIndex:t})=>ce({itemListKey:(0,q.JD)(e=>e.isCreatorBrowserMode)?"creator_tab":null!=e?e:"",stateSelector:e=>{var i,n;return e?{currentId:e.browserList[t],prefetchId1:null!==(i=e.browserList[t+1])&&void 0!==i?i:"",prefetchId2:null!==(n=e.browserList[t+2])&&void 0!==n?n:"",listLength:e.browserList.length}:null},dependencies:[e,t]}),pe=({currentIndex:e})=>{const t=(0,q.JD)(e=>e.isCreatorBrowserMode);return(0,Q.d8)(i=>{var n,o;if(!i||!i.browserList)return null;const a=t?i.creatorBrowserList:i.browserList;return{currentId:a[e],prefetchId1:null!==(n=a[e+1])&&void 0!==n?n:"",prefetchId2:null!==(o=a[e+2])&&void 0!==o?o:"",listLength:a.length}},_.bN)},ge=()=>{const e=(0,q.JD)(e=>e.isCreatorBrowserMode);return(0,Q.d8)(t=>t&&t.browserList?e?t.creatorBrowserList:t.browserList:[],_.bN)},_e=({currentIndex:e})=>{var t;const{currentId:i=""}=(0,F.L$)(pe({currentIndex:e})),[n]=(0,a.S)(Z.k,{selector:e=>e[i],dependencies:[i]}),o=null!==(t=null==n?void 0:n.id)&&void 0!==t?t:"";return{authorId:null==n?void 0:n.authorId,groupId:o}};function me(e,t,i){const[{loading:n,hasMoreLatest:o,hasMorePrevious:a},r]=(0,A.sK)(e=>{var t,i,n;return{loading:null!==(t=e.loading)&&void 0!==t&&t,hasMoreLatest:null!==(i=e.hasMoreLatest)&&void 0!==i&&i,hasMorePrevious:null!==(n=e.hasMorePrevious)&&void 0!==n&&n}},_.bN);return(0,p.useCallback)(()=>{(!i||!n&&o)&&(i||!n&&a)&&r.getCreatorTabList({key:"creator_tab",secUid:e,createTime:t,fetchType:i?2:1})},[n,a,o,i,e,t,r])}const he=()=>{const e=(0,L.s)(),t=e("pc_web_login"),i=e("pc_web_login_to_comment"),n=i.indexOf("%s");return{prefixText:i.slice(0,n),loginText:t,endText:i.slice(n).replace("%s","")}},ve=e=>e?new Map([["foryou","one-column-item"],["following","one-column-item"]]).get(e):e,fe=({itemListKey:e,currentIndex:t})=>{const{currentId:i=""}=(0,F.L$)(ue({itemListKey:e,currentIndex:t})),[n]=(0,a.S)(Z.k,{selector:e=>e[i],dependencies:[i]});return{liveRoomInfo:null==n?void 0:n.liveRoomInfo,requestId:null==n?void 0:n.logId}},ye=(e,t,i)=>{const{withMultiInstance:n}=(0,G.re)(),o=(0,ee.RT)(),a=o===t,r=2===o,s=(0,ee.w)(e,t,i),l=(0,ee.R3)(e,t);let d=K.R.DEFAULT;return a&&r?d=s?K.R.ACTIVE:l&&n?K.R.BACKUP:K.R.DEFAULT:a&&(d=K.R.ACTIVE),d}},90886:(e,t,i)=>{"use strict";i.d(t,{i:()=>l});var n=i(72516),o=i(24643),a=i(27799),r=i(87741);const s=function({size:e=48}){return(0,o.jsxs)(r.Vb,{width:e,height:e,viewBox:`0 0 ${e} ${e}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("circle",{cx:e/2,cy:e/2,r:e/2-.75,stroke:"url(#paint0_linear)",strokeWidth:"1.5"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("linearGradient",{id:"paint0_linear",x1:-20.9902*e/48,y1:24*e/48,x2:27.0098*e/48,y2:65.9805*e/48,gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#FF1764"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#ED3495"})]})})]})},l=function(e){var{className:t,needAnimation:i=!1,isShowLive:l=!0,size:d=32,isShowLiveTag:c=!0,isTagShowingOnTop:u=!1,e2eTag:p,isBiggerBadge:g}=e,_=(0,n.__rest)(e,["className","needAnimation","isShowLive","size","isShowLiveTag","isTagShowingOnTop","e2eTag","isBiggerBadge"]);const m=(0,a.s)(),h=l&&i,v=l?d-6:d,f=h?d-4:d;return(0,o.jsxs)(r.Le,{isAnimating:h,className:t,"data-e2e":p,style:{width:d,height:d},children:[l&&(0,o.jsx)(s,{size:f}),(0,o.jsx)(r.dl,Object.assign({isAnimating:h,enable:l,size:v},_)),l&&c&&(0,o.jsx)(r.Cx,{isOnTop:u,isBiggerBadge:g,children:m("LIVE")})]})}},91575:(e,t,i)=>{"use strict";i.d(t,{Ly:()=>g,Oj:()=>y,b$:()=>f,fY:()=>v,hU:()=>p,j$:()=>_,jf:()=>h,w0:()=>m});var n,o,a,r,s,l,d,c,u=i(61363);!function(e){e.General="",e.Account="account",e.Common="common",e.Bug="bug",e.Feat="feature"}(n||(n={})),function(e){e[e.HideStillReport=2048]="HideStillReport",e[e.Account=4096]="Account"}(o||(o={})),function(e){e[e.ImageAnswer=1]="ImageAnswer",e[e.CategoryName=2]="CategoryName",e[e.Link=3]="Link"}(a||(a={})),function(e){e[e.NotEntranceShowType=0]="NotEntranceShowType",e[e.NotSolveAfterShow=1]="NotSolveAfterShow",e[e.NotSolveBeforeShow=2]="NotSolveBeforeShow",e[e.NotSolveAfterNotShow=3]="NotSolveAfterNotShow"}(r||(r={})),function(e){e[e.AlwaysShow=0]="AlwaysShow"}(s||(s={})),function(e){e.General="general"}(l||(l={})),function(e){e.V2="v2",e.V3="v3"}(d||(d={})),function(e){e.Yes="yes",e.No="no"}(c||(c={}));const p="general",g={5678:"login_page",9190:"login_page_lite",13e3:"abnor_live_purch",13417:"eg_referral",12043:"th_referral",10541:"br_referral",10561:"id_referral",11087:"Creator_Fund_EU",10960:"Creator_Fund",15376:"ca_referral",15375:"au_referral",15048:"BA_registration",13186:"TikTok_shoutouts",12996:"balance_page",13053:"br_referral_lite"},_=[],m=3,h=4,v={getListV2:"/feedback/2/common_feedback_list/",getListV3:"/feedback/3/common_feedback_list/",getNewestReply:"/api/feedback/v1/newest_reply/",uploadImage:"/node/feedback/upload_image/",getReportRecords:"/feedback/3/list/",submitFeedback:"/feedback/2/post_message/"},f=["image/png","image/jpeg","image/jpg","image/bmp"],y={id:"",label:u.j.HELP_CENTER.key,translated:!1}},92670:(e,t,i)=>{"use strict";i.d(t,{W:()=>C});var n=i(24643),o=i(40099),a=i(11124),r=i(97260),s=i(96406),l=i(17164),d=i(27799),c=i(20434),u=i(57190),p=i(28333),g=i(16410),_=i(93584),m=i(54622),h=i(76926);const v={id:"tooltip-arrow-9a788f22",use:"tooltip-arrow-9a788f22-usage",viewBox:"0 0 36 8",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 8" id="tooltip-arrow-9a788f22"><path fill-rule="evenodd" d="M0 8h6.686a8 8 0 0 0 5.657-2.343l4.95-4.95a1 1 0 0 1 1.414 0l4.95 4.95A8 8 0 0 0 29.314 8H36z" clip-rule="evenodd" /></symbol>'};function f(e){const t=(0,o.useContext)(h.X);return(0,o.useLayoutEffect)(()=>(t.add(v),()=>{t.remove("tooltip-arrow-9a788f22")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#tooltip-arrow-9a788f22"},void 0)}),void 0)}i(67476);const y=(0,g.default)("div",{target:"e1vz198y0"})(({theme:{colors:e},useLargeToggle:t})=>({width:t?"40px":"24px",height:t?"40px":"24px",background:t?e.ConstBGInverse4:"transparent",borderRadius:t?"50%":"unset",":hover":{background:t?e.ConstBGInverse3:"transparent"},display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"}),({theme:{direction:e}})=>(0,_.mp)({direction:e,end:"66px"}),"label:DivMiniPlayerButtonContainer;"),b=(0,g.default)(m.A,{target:"e1vz198y5"})({position:"absolute",width:"10px",height:"10px",fill:"black"},"label:IconClose;");b.defaultProps=Object.assign(Object.assign({},b.defaultProps),{"data-e2e":"mini-player-close-icon"});const x=(0,g.default)(f,{target:"e1vz198y7"})({width:"36px",height:"8px",position:"absolute",fill:"white"},"label:SVGArrow;"),k=(0,g.default)("p",{target:"e1vz198y10"})({padding:"8px"},"label:PToolTipText;");var w=i(67518);const S=(0,r.w)(y),C=(0,o.memo)(function(e){const{videoId:t="",useLargeToggle:i=!1,playMode:r,playModeForTea:g,index:_,itemListKey:m}=e,h=(0,u.Dy)(),{currentTime:v}=(0,l.uI)(t),f=(0,d.s)(),{colors:y}=(0,w.u)(),b=i?y.ConstBGInverse3:y.ConstBGInverse1,C=(0,o.useMemo)(()=>({background:b,padding:"unset",fontWeight:500,fontSize:"14px",lineHeight:"18px",boxShadow:"0px 12px 24px 0px #00000040"}),[b]),j=(0,o.useCallback)(()=>{h.openMiniPlayer({index:_,itemListKey:m,playProgress:v,playMode:r})},[h,_,m,v,r]),T=(0,o.useCallback)(()=>{s.f.sendEvent("show_mini_player_tooltip",{play_mode:g,group_id:t})},[t,g]),I=(0,n.jsx)(k,{children:f("pcWeb_Floating")});return(0,n.jsx)(p.m,{fullscreenAdjust:!0,overlay:I,overlayInnerStyle:Object.assign(Object.assign({},C),{position:"relative"}),arrow:!1,arrowContent:(0,n.jsx)(x,{}),arrowStyle:{zIndex:3060},trigger:["hover"],children:(0,n.jsx)(S,{onClick:j,onMouseDown:c.dG,onMouseEnter:T,useLargeToggle:i,etClick:{etName:"click_mini_player_icon",etParams:{play_mode:g,group_id:t,enter_method:"icon"}},children:(0,n.jsx)(a.A,{fontSize:i?20:21,style:{fill:"rgba(255, 255, 255, 1)"}})})})})},92704:(e,t,i)=>{"use strict";i.d(t,{V5:()=>l,cz:()=>d});var n=i(35938),o=i(71111),a=i(64388);const r=(0,o.atom)({shouldShow:!0}),{useAtomService:s,useServiceDispatchers:l,useServiceState:d,getStaticApi:c}=(0,a.i)(r,(e,t)=>({setShouldShow:e=>{t(r,{shouldShow:e.shouldShow}),n.Bv.setItem("hasCloseKeyboardShortcut",!0)}}))},92726:(e,t,i)=>{"use strict";i.d(t,{I:()=>n});const n=()=>({filter:"drop-shadow(0px 1px 1px rgba(0 0 0 / 12%))"})},92955:(e,t,i)=>{"use strict";i.d(t,{l:()=>x});var n=i(24643),o=i(14841),a=i(59846),r=i(40099),s=i(10645),l=i(71407),d=i(37818),c=i(82215),u=i(72355),p=i(99789),g=i.n(p),_=i(54133),m=i(27799),h=i(61322),v=i(71754),f=i(51426),y=i(80822),b=i(29547);const x=(0,r.memo)(function(){const e=(0,m.s)(),{pathname:t,search:i}=(0,u.zy)(),p=(0,h.U)(()=>["searchVideoForLoggedin"],[]),[{showModal:x,modalType:k},{setShowModal:w,setModalType:S}]=(0,a.HV)(e=>({showModal:e.showModal,modalType:e.modalType})),C={loginPath:l.tH.linkPhoneOrEmail,isLinkPhoneOrEmail:!0},j=(0,v.K)(C,void 0,!0),T=(0,r.useCallback)(()=>{try{w(!1),j()}catch(e){}},[w,j]),I=(0,r.useCallback)(()=>{S(2),c.z.logoutNotify({enter_method:"link_phone_number"})},[S]),P=(0,r.useCallback)(()=>{w(!1),c.z.logoutCancel(2===k||1===k?{enter_method:"link_phone_number"}:{})},[w,k]),A=(null==p?void 0:p.searchVideoForLoggedin)&&[d.$T.searchHome(),d.$T.searchVideo()].includes(t)||[d.$T.messages(),d.$T.upload()].includes(t),M=(0,_.stringify)(g()((0,_.parse)(i),"q","t","showLogin","loginType")),L=M?`?${M}`:"",D=`https://www.tiktok.com${d.$T.foryou()}${L}`,O=(0,r.useCallback)(()=>"undefined"==typeof window?"":`${(0,f.AF)()}${L}`,[L]),R=(0,r.useCallback)(()=>{(0,y.iM)(A?D:O(),2===k||1===k?{enter_method:"link_phone_number"}:{})},[D,O,A,k]);return(0,n.jsx)(b.aF,{visible:x,onClose:()=>w(!1),maskCloseable:!0,cancelMouseLeaveBubble:!0,children:1===k?(0,n.jsxs)(s.h0,{children:[(0,n.jsx)(o.F,{size:40}),(0,n.jsx)(s.nm,{children:e("login_fb_noLonger_LogInEase")}),(0,n.jsx)(s.aX,{children:e("login_fb_noLonger_LinkPhoneNumberReminder")}),(0,n.jsx)(s.iZ,{size:"small",onClick:T,children:e("login_fb_noLonger_LinkPhone")}),(0,n.jsx)(s.iZ,{size:"small",onClick:I,children:(0,n.jsxs)("span",{style:{color:"rgba(255, 76, 58, 1)"},children:[" ",e("log_out")," "]})})]}):(0,n.jsxs)(s.RA,{children:[(0,n.jsx)(s.C6,{children:e("Log_out_sheet_2")}),2===k&&(0,n.jsx)(s.rI,{children:e("login_fb_confirmLogOut_body")}),(0,n.jsxs)(s.rs,{children:[(0,n.jsx)(s.AR,{size:"small",onClick:P,children:e(2===k?"login_fb_confirmLogOut_stay_cta":"Cancel")}),(0,n.jsx)(s.AR,{size:"small",buttonTheme:"line",onClick:R,children:e("log_out")})]})]})})})},93251:(e,t,i)=>{"use strict";i.d(t,{y:()=>b});var n=i(24643),o=i(300),a=i.n(o),r=i(40099),s=i(28591),l=i(72355),d=i(26930),c=i(33573),u=i(61198),p=i(14869),g=i(59030),_=i(78751),m=i(25961),h=i(67768);function v(e){return null==e||"number"==typeof e||"boolean"==typeof e?e:"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):Array.isArray(e)?e.map(e=>v(e)):"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).reduce((t,i)=>(t[i]=v(e[i]),t),{}):v(String(e))}class f extends r.PureComponent{dynamicAddCompKey(e=[]){return e&&e.length?e.map(v).reduce((e,t,i)=>{var o;const[a="",r={},s]=t;return""!==a&&0!==Object.keys(r).length&&e.push((0,n.jsx)(h.hp,{dangerouslyExposeHtml:!0,id:null!==(o=null==s?void 0:s.name)&&void 0!==o?o:a,children:(0,n.jsx)(h.ck,{genericType:a,genericKey:a,schema:r})},`${a}-${i}`)),e},[]):null}render(){const{wrappedHead:e,metaParams:t={},jsonldList:i=[],children:o}=this.props,{title:a="",keywords:r="",description:s="",robotsContent:l="",canonicalHref:d="",alternateHref:c="",amphtmlHref:u="",applicableDevice:p="",hreflangList:g=[]}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e,{children:[a&&(0,n.jsx)("title",{children:a}),r&&(0,n.jsx)("meta",{name:"keywords",content:r},"keywords"),s&&(0,n.jsx)("meta",{name:"description",content:s},"description"),l&&(0,n.jsx)("meta",{name:"robots",content:l},"robots"),p&&(0,n.jsx)("meta",{name:"applicable-device",content:p},"applicable-device"),d&&(0,n.jsx)("link",{rel:"canonical",href:d},"canonical"),u&&(0,n.jsx)("link",{rel:"amphtml",href:u},"amphtml"),c&&(0,n.jsx)("link",{rel:"alternate",media:"only screen and (max-width: 640px)",href:c},"alternate-media"),g.length?g.map(({hreflang:e,href:t})=>(0,n.jsx)("link",{rel:"alternate",hrefLang:e,href:t},e)):null,o]}),this.dynamicAddCompKey(i)]})}}const y=f,b=function({appContext:e}){const{pathname:t}=(0,l.zy)(),{metaParams:i,jsonldList:o,disableAlternateLink:h,generateAlternateWithCanonical:v,enableAlternateHreflang:f,alternateHreflangList:b}=(0,c.X)(_.b,{selector:({metaParams:e,jsonldList:t,disableAlternateLink:i,generateAlternateWithCanonical:n,enableAlternateHreflang:o,alternateHreflangList:a})=>({metaParams:e,jsonldList:t,disableAlternateLink:i,generateAlternateWithCanonical:n,enableAlternateHreflang:o,alternateHreflangList:a}),equalityFn:u.bN});let x=t;try{x=encodeURI(decodeURI(t))}catch(e){}const k=(0,r.useMemo)(()=>{var e;let t=[];const{robotsContent:n,canonicalHref:o}=null!=i?i:{},r=n&&!n.includes("noindex"),s=v&&null!==(e=null==o?void 0:o.split("?")[0])&&void 0!==e?e:`${p.C}${x}`;if(r&&f)return Object.assign(Object.assign({},i),{hreflangList:a()(b,"hreflang")});if(r&&!h){const e=(0,m.Iz)(x);t=[{hreflang:"x-default",href:e?p.C:s}],g.wX.forEach(({value:i})=>{const n=i,o=e?`${p.C}/${n}/`:`${s}?lang=${n}`;t.push({hreflang:n,href:o})})}return Object.assign(Object.assign({},i),{hreflangList:a()(t,"hreflang")})},[e,h,v,i,x,f,b]);return(0,d.o)(()=>Promise.resolve(),[]),(0,n.jsx)(y,{wrappedHead:s.mg,metaParams:k,jsonldList:o})};b.deferSSREffects=!0},93363:(e,t,i)=>{"use strict";i.d(t,{C7:()=>b,XY:()=>y,lO:()=>w,rY:()=>x,vV:()=>C});var n=i(24643),o=i(67518),a=i(45027),r=i(40099),s=i(73057),l=i(19434),d=i(23973),c=i(92067),u=i(16537),p=i(52016),g=i(43039),_=i(60751),m=i(75051),h=i(27799),v=i(10114),f=i(42222);const y=()=>{const[{dimmer:e},t]=(0,a.S)(f.aL,{selector:e=>({dimmer:e.dimmer}),dependencies:[]}),i=(0,r.useRef)(0);return{dimmer:e,handleLightenVideoControls:(0,r.useCallback)(()=>{window.clearTimeout(i.current),t.setDimmer(!1),i.current=window.setTimeout(()=>{t.setDimmer(!0)},3e3)},[t])}},b=({isActive:e=!1,group_id:t,author_id:i,playModeForTea:n})=>{const[o,a]=(0,r.useState)(1),s=(0,r.useCallback)(e=>()=>{e!==o&&(a(e),m.V.handleVideoControlChange({group_id:t,author_id:i,play_mode:n,click_section:"speed",enter_method:"click",change_params:e}))},[i,t,n,o]),l=(0,r.useCallback)(()=>{a(1)},[]);return(0,r.useEffect)(()=>{e||a(1)},[e]),{playbackRate:o,handleChangePlaybackRate:s,handleResetPlaybackRate:l}},x=()=>{const[e,t]=(0,r.useState)(!1),i=(0,r.useRef)(0),n=(0,r.useCallback)(()=>{clearTimeout(i.current),e||t(!0)},[e]),o=(0,r.useCallback)(()=>{i.current=window.setTimeout(()=>{t(!1)},50)},[]),a=(0,r.useCallback)(()=>{clearTimeout(i.current),t(!1)},[]);return{active:e,handleDismissPanel:a,handleMouseMouseEnter:n,handleMouseLeave:o}},k={width:24,height:24,fill:"#fff"},w=({pause:e,fullscreen:t,playMode:i,ended:o,itemMute:a})=>{const{mute:m}=(0,v.ah)({playMode:i,itemMute:a});return{playIcon:(0,r.useMemo)(()=>o?(0,n.jsx)(s.A,Object.assign({},k)):e?(0,n.jsx)(l.A,Object.assign({},k)):(0,n.jsx)(d.A,Object.assign({},k)),[e,o]),muteIcon:(0,r.useMemo)(()=>m?(0,n.jsx)(c.A,Object.assign({},k)):(0,n.jsx)(u.A,Object.assign({},k)),[m]),fullscreenIcon:t?(0,n.jsx)(p.A,Object.assign({},k)):(0,n.jsx)(g.A,{width:18,height:18,fill:"#fff"}),settingIcon:(0,n.jsx)(_.A,Object.assign({},k))}},S={.75:"0.75x",1:"1.0x",1.25:"1.25x",1.5:"1.5x",2:"2.0x"},C=({playbackRate:e})=>{const{colors:t}=(0,o.u)(),i=(0,h.s)();return{fullScreenText:i("pc_web_fullscreen_btn"),speedText:1===e?i("pc_web_speed_btn"):S[e],tooltipStyle:(0,r.useMemo)(()=>({background:t.BGCreation2,paddingInlineStart:"20px",paddingInlineEnd:"20px",fontWeight:600,fontSize:"16px",lineHeight:"24px",whiteSpace:"nowrap"}),[t.BGCreation2]),volumeStyle:(0,r.useMemo)(()=>({background:t.BGCreation2,marginBottom:"27px"}),[t.BGCreation2])}}},93406:(e,t,i)=>{"use strict";i.d(t,{q:()=>n});const n=Object.freeze({statusCode:0,loading:!0,list:[],browserList:[],hasMore:!0,cursor:"0",preloadList:[]})},93459:(e,t,i)=>{"use strict";i.d(t,{Kd:()=>f,O1:()=>h,SX:()=>v,X$:()=>b,i7:()=>y,t4:()=>p});var n=i(72516),o=i(54133),a=i(40099),r=i(73041),s=i(90976),l=i(80049);const d=1988,c="tiktok_web",u="01da40f448edb427";function p(){var e;const{user:t,wid:i}=null!==(e=(0,s.W)(()=>["user","wid"],[]))&&void 0!==e?e:{},{openH265:n}=(0,l.A)();return(0,a.useMemo)(()=>({log:!0,aid:d,project_key:u,app_name:c,uid:null==t?void 0:t.uid,device_id:i,channel:"va",is_preview:1,teaParams:{is_preview:1,is_h265_open:n?"1":"0",event_page:"preview_page"}}),[t,i])}let g,_;const m="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAAWGluZwAAAA8AAAACAAACcQCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA//////////////////////////////////////////////////////////////////8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//sQxAADgnABGiAAQBCqgCRMAAgEAH///////////////7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq//////////////////9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAwVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==";function h(){return(0,n.__awaiter)(this,void 0,void 0,function*(){return new Promise(e=>{if((0,r.fU)())return e(!1);if(g)return e(!0);const t=document.createElement("audio");t.innerHTML=`<source src=${m} type="audio/mpeg"></source>`,t.controls=!1,t.muted=!1;try{t.play().then(()=>{g=!0,e(!0),t.remove()}).catch(()=>{g=!1,e(!1),t.remove()})}catch(i){g=!1,e(!1),t.remove()}clearTimeout(_),_=window.setTimeout(()=>{void 0===g&&(e(!1),t.remove())},200)})})}function v(e,t){if(!e)return"";const{url:i,query:n}=o.parseUrl(e);return`${i}?${o.stringify(Object.assign(Object.assign(Object.assign({},n),{abr_pts:-1800}),t))}`}function f(e,t){var i,n;return(null===(i=e.match(/stream-[0-9_a-z]+/))||void 0===i?void 0:i[0])===(null===(n=t.match(/stream-[0-9_a-z]+/))||void 0===n?void 0:n[0])}function y(e,t){var i,n;return(null===(i=e.match(/stream-[0-9]+/))||void 0===i?void 0:i[0])===(null===(n=t.match(/stream-[0-9]+/))||void 0===n?void 0:n[0])}function b(e){return e?`${e}${e.includes("?")?"&":"?"}_webnoredir=1`:e}},93690:(e,t,i)=>{"use strict";function n(){return!!window.liveSdk_recharge_coinsConfigLogId}function o(){return{charge_from:window.liveSdk_recharge_coinsConfigRefhash||"",request_id:window.liveSdk_recharge_coinsConfigLogId||""}}i.d(t,{h8:()=>o,mR:()=>n})},93721:(e,t,i)=>{"use strict";i.d(t,{L7:()=>n,aU:()=>o});const n=1440,o=1920},93731:(e,t,i)=>{"use strict";i.d(t,{Nu:()=>r,S1:()=>l,hV:()=>c,ip:()=>d,jw:()=>a,qq:()=>s});var n=i(16410),o=i(93584);const a=(0,n.default)("div",{target:"e14msn1a0"})(({isBrowserMode:e,visible:t=!0})=>({position:"absolute",opacity:t?1:0,transition:"opacity 500ms linear",width:"100%",height:"100%",paddingBottom:e?"21px":"13px",zIndex:10,display:"flex",flexDirection:"column",justifyContent:"flex-end"}),"label:DivPlayerControls;"),r=(0,n.default)("div",{target:"e14msn1a1"})({width:"100%",height:"200px",filter:"blur(10px)",background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.525) 99.27%);",position:"absolute",zIndex:-1,bottom:0},"label:DivFilterBottomMask;"),s=(0,n.default)("div",{target:"e14msn1a2"})({position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:1,"&>video":{position:"absolute",top:0,left:0,width:"100%",height:"100%",outline:"none",zIndex:2}},"label:DivRecommendLivePlayerContainer;"),l=(0,n.default)("div",{target:"e14msn1a3"})({position:"relative",width:"100%",height:"100%",background:"rgba(0, 0, 0, 1)",zIndex:1,"&>video":{position:"absolute",top:0,left:0,width:"100%",height:"100%",outline:"none",zIndex:2}},"label:DivLivePlayerContainer;"),d=(0,n.default)("div",{target:"e14msn1a4"})(({isBrowserMode:e,visible:t,theme:i})=>[{position:"absolute",bottom:e?16:12,height:"48px",display:"flex",opacity:t?1:0,transition:"opacity 500ms linear",zIndex:10},(0,o.mp)({direction:i.direction,end:12})],"label:DivPlayerVolumeIcon;"),c=(0,n.default)("div",{target:"e14msn1a5"})({display:"flex",height:"48px",margin:"0px 15px"},"label:DivPlayerLeftGroup;")},93981:(e,t,i)=>{"use strict";e.exports=i.p+"47624c235266dedd8e4d.png"},94353:(e,t,i)=>{"use strict";var n,o;i.d(t,{fe:()=>n,j0:()=>a}),function(e){e.Web="tiktokwebother",e.SEO="tiktokwebseo",e.WebSem="tiktokwebsem",e.SamsungQuickAccess="samsung_quick_access"}(n||(n={})),function(e){e.User="wrapper_user",e.Foryou="wrapper_foryou",e.VideoInsert="wrapper_video_insert",e.Music="wrapper_music",e.Challenge="wrapper_challenge",e.Video="wrapper_video",e.Search="wrapper_search",e.Poi="wrapper_poi",e.Channel="wrapper_channel",e.Find="wrapper_find",e.TrendingDetail="wrapper_trending"}(o||(o={}));const a="webapp_first_open_cta"},94701:(e,t,i)=>{"use strict";i.d(t,{Eo:()=>u,TU:()=>p,V7:()=>g,_U:()=>_});var n=i(40099),o=i(46090),a=i(98042),r=i(20434),s=i(70589),l=i(57190);const d="video-countdown-show";var c;!function(e){e.SHOW="0",e.NO_SHOW="1"}(c||(c={}));const u=()=>{(0,r.AP)(d,"1")},p=()=>{const[e,t]=(0,n.useState)(!document.hidden),i=()=>{t(!document.hidden)};return(0,n.useEffect)(()=>(document.addEventListener("visibilitychange",i),()=>{document.removeEventListener("visibilitychange",i)}),[]),e},g=({currentIndex:e,itemListKey:t,nextItem:i})=>{const{showEndCard:u}=(0,o.GE)(e=>e),p=(({itemListKey:e,nextItem:t})=>{const{isInGridToFypExperiment:i,gridToFypVVCount:u}=(0,s.vY)(),p=(0,a.eu)(),g=(0,l.mE)(e=>e.isMiniPlayerShowing),{disableEndCard:_,vvCount:m}=(0,o.GE)(e=>e);return(0,n.useMemo)(()=>Boolean(i&&!_&&u<=m&&!p&&!g&&!((0,r._S)(d)&&(0,r._S)(d)===c.NO_SHOW)&&t&&e&&["explore","search_top","search_video"].includes(e)),[_,u,p,i,g,e,t,m])})({itemListKey:t,nextItem:i}),g=(0,o.$c)();(0,n.useEffect)(()=>{g.increaseVVCount()},[e,g]),(0,n.useEffect)(()=>()=>{u&&g.disableEndCard()},[g,u]);const _=(0,n.useRef)(-1);(0,n.useEffect)(()=>{_.current!==e&&(u&&g.disableEndCard(),_.current=e)},[e,g,u]);const m=(0,n.useCallback)(()=>{p&&g.setShowEndCard()},[p,g]);return{showEndCard:u,handleVideoEndShowEndCard:m}},_=e=>{const t=(0,o.$c)();(0,n.useEffect)(()=>{t.resetVVCount()},[t,e])}},94725:(e,t,i)=>{"use strict";i.d(t,{e:()=>x});var n=i(24643),o=i(73739),a=i(27799),r=i(40099),s=i(75431),l=i(16410);const d=s.i7`
  0%, 100% {
    transform: scaleY(1);
  }
  50% {
    transform: scaleY(0.5);
  }
`,c=l.default.div`
  display: flex;
  align-items: center;
  justify-content: center;
  height: 26px;
  width: 26px;
  gap: 2px;
`,u=(0,l.default)("div",{target:"e1ii4hoh0"})(({theme:e,isLiveStreaming:t})=>({width:"3px",height:"16px",backgroundColor:e.colors.ConstTextInverse,transformOrigin:"bottom",borderRadius:"1px",animation:`${d} 1s infinite`,":nth-of-type(1)":{animationDelay:"0s",height:t?"16px":"5px"},":nth-of-type(2)":{animationDelay:"0.2s",height:t?"16px":"20px"},":nth-of-type(3)":{animationDelay:"0.4s",height:t?"16px":"8px"}}),"label:DivAniBar;"),p=(0,r.memo)(function({isLiveStreaming:e}){return(0,n.jsxs)(c,{children:[(0,n.jsx)(u,{isLiveStreaming:e}),(0,n.jsx)(u,{isLiveStreaming:e}),(0,n.jsx)(u,{isLiveStreaming:e})]})}),g=s.i7`
  0% {
    transform: scale(1);
    opacity: 0.1;
  }
  10% {
    opacity: 0.5;
  }
  70% {
    transform: scale(0.8333, 0.625);
    opacity: 0;
  }
  100% {
    transform: scale(0.8333, 0.625);
    opacity: 0;
  }
`,_=(0,l.default)("div",{target:"e1ipuhsr0"})(({theme:e})=>({position:"relative",display:"flex",justifyContent:"center",alignItems:"center",padding:"8px 14px",borderRadius:"999px",border:`1px solid ${e.colors.ConstTextInverse}`,backgroundColor:"rgba(255, 255, 255, 0.2)"}),"label:DivTipsButtonWrapper;"),m=(0,l.default)("div",{target:"e1ipuhsr1"})(({theme:e})=>({position:"absolute",left:"-10%",top:"-35%",width:"120%",height:"170%",borderRadius:"999px",border:`1px solid ${e.colors.ConstTextInverse}`,pointerEvents:"none",opacity:.1,boxSizing:"border-box",zIndex:1,animation:`${g} 2s ease-in infinite`}),"label:DivRing;"),h=(0,l.default)("div",{target:"e1ipuhsr2"})(({theme:e,useButtonStyle:t})=>Object.assign({width:"100%",zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",color:e.colors.ConstTextInverse,fontWeight:700,margin:t?"unset":"0 12px"},e.typography.P2),"label:DivClickTips;"),v=(0,l.default)("div",{target:"e1ipuhsr3"})({flex:1,height:"1px",backgroundColor:"rgba(170, 169, 169, 0.17)"},"label:DivLine;"),f=(0,l.default)("div",{target:"e1ipuhsr4"})(({useButtonStyle:e})=>({marginInlineEnd:e?"4px":"24px",height:"26px",lineHeight:"26px"}),"label:DivClickTipsText;"),y=(0,l.default)("div",{target:"e1ipuhsr5"})({height:"26px"},"label:DivStreamingIcon;"),b="click-tips-test-id",x=e=>{const{style:t,viewers:i,useButtonStyle:r}=e,s=(0,a.s)(),l=(0,o.MA)();return(0,n.jsx)(h,{style:t,useButtonStyle:r,"data-e2e":b,"data-testid":b,children:r?(0,n.jsxs)(_,{children:[l&&(0,n.jsx)(m,{}),(0,n.jsx)(y,{children:(0,n.jsx)(p,{isLiveStreaming:!0})}),(0,n.jsx)(f,{useButtonStyle:r,children:void 0===i?s("pm_web_fullpage_entry"):s("webLIVE_personalPage_LIVEbanner_numViewerDesc",{num:i})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{}),(0,n.jsx)(y,{children:(0,n.jsx)(p,{isLiveStreaming:!0})}),(0,n.jsx)(f,{children:void 0===i?s("pm_web_fullpage_entry"):s("webLIVE_personalPage_LIVEbanner_numViewerDesc",{num:i})}),(0,n.jsx)(v,{})]})})}},94764:(e,t,i)=>{"use strict";i.d(t,{j:()=>A});var n=i(24643),o=i(40099),a=i(67408),r=i(27799),s=i(29547),l=i(16410),d=i(93584);const c="border-box",u=(0,l.default)("div",{target:"e1yvrv7n0"})({position:"absolute",top:"50%",left:"50%",paddingTop:"24px",width:"310px",boxSizing:c,textAlign:"center",transform:"translate(-50%, -50%)",background:"#fff",borderRadius:"8px",overflow:"hidden"},"label:DivPrivacyModalContent;"),p=(0,l.default)("div",{target:"e1yvrv7n1"})({padding:"0 24px",wordBreak:"break-word"},"label:DivPrivacyModalTextContainer;"),g=(0,l.default)("p",{target:"e1yvrv7n2"})(({theme:e})=>[(0,d.zy)({theme:e,color:"TextPrimary",fontFamily:"TikTokFont",fontWeight:"bold"}),{fontSize:"20px",lineHeight:"24px",marginBottom:"12px"}],"label:PPrivacyModalTitle;"),_=(0,l.default)("p",{target:"e1yvrv7n3"})(({theme:e})=>[(0,d.zy)({theme:e,color:"TextSecondary",fontFamily:"TikTokFont",fontWeight:"normal"}),{fontSize:"15px",lineHeight:"18px",marginBottom:"20px"}],"label:PPrivacyModalContent;"),m=(0,l.default)("div",{target:"e1yvrv7n4"})(({theme:e})=>[(0,d.zy)({theme:e,color:"TextTertiary",fontFamily:"TikTokFont",fontWeight:"normal"}),{display:"flex",flexDirection:"row",borderTop:"1px solid rgba(22, 24, 35, .12)",boxSizing:c}],"label:DivPrivacyModalActionContainer;"),h=(0,l.default)("span",{target:"e1yvrv7n5"})({lineHeight:"48px",flex:"1 1 auto",boxSizing:c},"label:SpanCancelButton;"),v=(0,l.default)("span",{target:"e1yvrv7n6"})({lineHeight:"48px",flex:"1 1 auto",boxSizing:c,borderLeft:"1px solid rgba(22, 24, 35, .12)",color:"#161823"},"label:SpanConfirmButton;"),f=(0,o.memo)(function({visible:e,title:t,content:i,confirmText:o,onCancel:a,onConfirm:l}){const d=a,c=l,f=(0,r.s)();return(0,n.jsx)(s.aF,{visible:e,children:(0,n.jsxs)(u,{children:[(0,n.jsxs)(p,{children:[(0,n.jsx)(g,{children:t}),(0,n.jsx)(_,{children:i})]}),(0,n.jsxs)(m,{children:[a&&(0,n.jsx)(h,{onClick:d,children:f("Cancel")}),(0,n.jsx)(v,{onClick:c,children:null!=o?o:f("Confirm")})]})]})})});var y=i(61322),b=i(99411),x=i(73107);const k=(0,l.default)("div",{target:"e9flc1l0"})(({theme:{colors:e}})=>({backgroundColor:e.BGPrimary,width:"400px",padding:"32px",borderRadius:"8px"}),"label:DivContainer;");k.defaultProps=Object.assign(Object.assign({},k.defaultProps),{"data-e2e":"block-popup"});const w=(0,l.default)("h2",{target:"e9flc1l1"})({fontSize:"24px",lineHeight:"36px",fontFamily:"TikTokFont",fontWeight:700,textAlign:"center",wordBreak:"break-all"},"label:H2Title;");w.defaultProps=Object.assign(Object.assign({},w.defaultProps),{"data-e2e":"block-popup-title"});const S=(0,l.default)("p",{target:"e9flc1l2"})(({theme:{colors:e}})=>({marginTop:"16px",fontSize:"16px",lineHeight:"24px",fontFamily:"TikTokFont",textAlign:"center",color:e.TextSecondary}),"label:PDesc;");S.defaultProps=Object.assign(Object.assign({},S.defaultProps),{"data-e2e":"block-popup-desc"});const C=(0,l.default)("div",{target:"e9flc1l3"})({display:"flex",marginTop:"24px"},"label:DivButtonContainer;"),j=(0,l.default)(x.y,{target:"e9flc1l4"})(({theme:{direction:e}})=>[{width:"164px"},(0,d.mp)({direction:e,marginEnd:"8px"})],"label:StyledButtonCancel;");j.defaultProps=Object.assign(Object.assign({},j.defaultProps),{"data-e2e":"block-popup-cancel-btn"});const T=(0,l.default)(x.y,{target:"e9flc1l5"})({width:"164px"},"label:StyledButtonBlock;");T.defaultProps=Object.assign(Object.assign({},T.defaultProps),{"data-e2e":"block-popup-block-btn"});var I=i(61198),P=i(16356);const A=(0,o.memo)(function({visible:e,uniqueId:t,onClose:i}){var s;const l=(0,r.s)(),{isMobile:d}=null!==(s=(0,y.U)(()=>["isMobile"],[]))&&void 0!==s?s:{},[{nickname:c="",secUid:u="",relation:p},g]=(0,P.JY)(e=>{var i;return null!==(i=e.users[t])&&void 0!==i?i:{}},I.bN),_=4===p,m=l(_?"webapp_block_experience_unblock_popup_header":"webapp_block_experience_block_popup_header").replace("%s",t).replace("%s",c),h=_?l("webapp_block_experience_unblock_popup_body").replace("%s",c):l("webapp_block_experience_block_popup_body"),v=l(_?"webapp_unblocked_button1":"webdm_block"),x=(0,o.useCallback)(()=>{g.blockOrUnblockUser({uniqueId:t,secUid:u,isBlock:_}),a.h.handleBlockClick(!_)},[g,_,u,t]);return(0,o.useEffect)(()=>{i()},[i,p]),d?(0,n.jsx)(f,{visible:e,title:m,content:h,confirmText:v,onCancel:i,onConfirm:x}):(0,n.jsx)(b.i,{isOpen:e,onClose:i,compact:!0,closeOnBackdropClick:!0,closeOnEsc:!0,children:(0,n.jsxs)(k,{children:[(0,n.jsx)(w,{children:m}),(0,n.jsx)(S,{children:h}),(0,n.jsxs)(C,{children:[(0,n.jsx)(j,{onClick:i,children:l("webapp_unblocked_button2")}),(0,n.jsx)(T,{buttonTheme:"line",onClick:x,children:v})]})]})})})},95025:(e,t,i)=>{"use strict";i.d(t,{a:()=>p});var n=i(24643),o=i(40099),a=i(64375),r=i(27799),s=i(70589),l=i(64541),d=i(16410),c=i(93584);const u=(0,d.default)("span",{target:"e13ee5sf1"})(({theme:{direction:e}})=>[(0,c.mp)({direction:e,marginStart:"4px"})],"label:SpanText;"),p=(0,o.memo)(function({item:e,playMode:t}){const i=(0,r.s)(),{isDesktopUiOptDebugOn:o}=(0,s.kb)();if(!(null==e?void 0:e.subVideoMeta)&&!o)return null;const d=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.P,{}),(0,n.jsx)(u,{children:i("subVideo_viewing_lable")})]});return(0,n.jsx)(l.ZN,{playMode:t,isTag:!0,shouldOptProfile:!0,children:d})})},95728:(e,t,i)=>{"use strict";i.d(t,{B:()=>p});var n=i(24643),o=i(45027),a=i(40099),r=i(97065),s=i(65964),l=i(55765),d=i(76443),c=i(77547);var u=i(85295);function p(e){const t=function(t){const i=function({onClose:e}={}){const{hideModal:t}=(0,s.g9)(),[i,r]=(0,o.S)(l.hf,{selector:({showing:e})=>e,dependencies:[]}),d=(0,a.useCallback)(()=>{null==e||e(),t(),r.hideReport()},[r,t,e]);return(0,n.jsx)(u.p,{onClose:d,visible:i})}(),r=function({onClose:e}={}){const{hideModal:t}=(0,s.g9)(),[i,r]=(0,o.S)(d.y7,{selector:({showing:e})=>e,dependencies:[]}),l=(0,a.useCallback)(()=>{null==e||e(),t(),r.hideReport()},[r,t,e]);return(0,n.jsx)(c.Y,{onClose:l,visible:i})}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e,Object.assign({},t)),i,r]})};return t.displayName=`WithReport(${(0,r.x)(e)})`,t}},95778:(e,t,i)=>{"use strict";i.d(t,{G:()=>n});const n=e=>{if(!e)return 0;const t=e.split("?")[0];return t.endsWith(".avif")?2:t.endsWith(".webp")?1:0}},95895:(e,t,i)=>{"use strict";i.d(t,{s:()=>o});var n=i(70148);const o=function({children:e}){const{isSmartPlayer:t}=(0,n.Qt)();return t?null:e}},96330:(e,t,i)=>{"use strict";i.d(t,{nr:()=>v,Qf:()=>m,zd:()=>_,LO:()=>h});var n=i(72516),o=i(64388),a=i(1183),r=i(37783),s=i(57297);const l=(e,t,i,n)=>{var o,a;const r={};for(const l of e){if(!(l in t)){r[l]=!1;continue}const{isAd:e,clipId:d}=t[l];if(e){r[l]=!1;continue}if(!(d in i)){r[l]=!1;continue}const c=i[d];c.music.isCopyrighted&&(null===(a=null===(o=c.music.tt2dsp)||void 0===o?void 0:o.tt_to_dsp_song_infos)||void 0===a?void 0:a.length)&&(c.music.tt2dsp.dsp_platform_selected_by_user||n)&&s.OC.includes(null!=n?n:c.music.tt2dsp.dsp_platform_selected_by_user)&&c.music.tt2dsp.tt_to_dsp_song_infos.map(e=>Number(e.platform)).includes(Number(null!=n?n:c.music.tt2dsp.dsp_platform_selected_by_user))&&(c.applePreCheck||c.appleEquivalentSongId)?r[l]=!0:r[l]=!1}return r},d=(e,t,i)=>{var n;const o={};for(const a of e){if(!(a in t)){o[a]=!1;continue}const e=t[a];(null===(n=e.music.tt2dsp)||void 0===n?void 0:n.tt_to_dsp_song_infos)?(null!=i?i:e.music.tt2dsp.dsp_platform_selected_by_user)&&!e.music.tt2dsp.tt_to_dsp_song_infos.map(e=>e.platform).includes(Number(null!=i?i:e.music.tt2dsp.dsp_platform_selected_by_user))||(null!=i?i:e.music.tt2dsp.dsp_platform_selected_by_user)&&!s.OC.includes(null!=i?i:e.music.tt2dsp.dsp_platform_selected_by_user)||!e.applePreCheck&&!e.appleEquivalentSongId?o[a]=!1:o[a]=!0:o[a]=!1}return o};var c=i(66263),u=i(70199),p=i(4887);const g=(0,a.p)("tt2dspAtom@tiktok/fe-shared",{user:{isLogin:!1,isBusinessAccount:!1},items:{},clips:{},canUserTT2DSP:!1,canFYPTT2DSP:{},canSDPTT2DSP:{}}),{useAtomService:_,useServiceDispatchers:m,useServiceState:h,getStaticApi:v}=(0,o.i)(g,(e,t)=>({checkAndUpdateUser(e){let i=!1,n=!1;e?(i=!0,n=!!e.proAccountInfo.businessSuiteEntrance):i=!1,t(g,e=>Object.assign(Object.assign({},e),{user:{isLogin:i,isBusinessAccount:n},canUserTT2DSP:i&&!n}))},checkAndUpdateItems(i){var n;const{items:o,clips:a}=e(g),s=i.filter(e=>!(e in o)).map(e=>(0,r.ud)().getStaticItem(e));if(0===s.length)return;const c=Object.assign({},o),p=Object.assign({},a),_=[];let m=(0,u.Gz)().getStaticSelectedPlatform();for(const e of s){if(!e||!e.music)continue;const t=e.music;c[e.id]={isAd:!!e.ad_info,clipId:t.id},p[t.id]={music:t,applePreCheck:!0},_.push(t.id),m||(m=null===(n=t.tt2dsp)||void 0===n?void 0:n.dsp_platform_selected_by_user)}const h=s.filter(e=>e).map(e=>{var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""}),v=l(h,c,p,m),f=d(_,p,m);t(g,e=>Object.assign(Object.assign({},e),{item:c,clips:p,canFYPTT2DSP:Object.assign(Object.assign({},e.canFYPTT2DSP),v),canSDPTT2DSP:Object.assign(Object.assign({},e.canSDPTT2DSP),f)})),(0,u.Gz)().setSelectedPlatform(m),1===m&&this._checkAndUpdateClipsForAppleMusic(_,h,p,c).catch(()=>{})},checkAndUpdateClips(i){var n;const{clips:o}=e(g),a=i;if(0===a.length)return;const r=Object.assign({},o),s=[];let l=(0,u.Gz)().getStaticSelectedPlatform();for(const e of a)r[e.id]={music:e,applePreCheck:!0},s.push(e.id),l||(l=null===(n=e.tt2dsp)||void 0===n?void 0:n.dsp_platform_selected_by_user);const c=d(s,r,l);t(g,e=>Object.assign(Object.assign({},e),{clips:r,canSDPTT2DSP:Object.assign(Object.assign({},e.canSDPTT2DSP),c)})),(0,u.Gz)().setSelectedPlatform(l),1===l&&this._checkAndUpdateClipsForAppleMusic(s,[],r,{}).catch(()=>{})},_checkAndUpdateClipsForAppleMusic(e,i=[],o,a){var r,s,_,m,h;return(0,n.__awaiter)(this,void 0,void 0,function*(){const n={};let v;for(const t of e){if(!(t in o))continue;const e=o[t].music;if(null===(r=e.tt2dsp)||void 0===r?void 0:r.tt_to_dsp_song_infos){const i=e.tt2dsp.tt_to_dsp_song_infos.filter(e=>Number(e.platform)===Number(1));if(i.length>0&&i[0].song_id){const e=i[0].song_id;e in n||(n[e]=[]),n[e].push(t),v=null!=v?v:null===(m=null===(_=null===(s=i[0])||void 0===s?void 0:s.token)||void 0===_?void 0:_.apple_music_token)||void 0===m?void 0:m.developer_token}}}if(0===Object.keys(n).length)return;(0,p.o4)().setAppleMusicDeveloperToken(v);let f=(0,p.o4)().getStaticAppleMusicUserToken();if(f||(f=(0,p.o4)().getAndUpdateAccessTokenAndExpireTime(1).accessToken),!f)return;if(!v)return;const y={apple_music_token:{developer_token:v,user_token:f}},b=Object.assign({},o);if(Object.keys(n).length>0){const e=Object.keys(n),t=yield(0,c.$L)({platform:1,song_ids:e.join(","),auth_token:JSON.stringify(y)}),i=null!==(h=t.check_availability_result)&&void 0!==h?h:[];for(const e of i){const t=n[e.song_id];for(const i of t)b[i].applePreCheck=e.available,!e.available&&e.equivalent_song_id&&(b[i].appleEquivalentSongId=e.equivalent_song_id)}}const x=(0,u.Gz)().getStaticSelectedPlatform(),k=l(i,a,b,x),w=d(e,b,x);t(g,e=>Object.assign(Object.assign({},e),{clips:b,canFYPTT2DSP:Object.assign(Object.assign({},e.canFYPTT2DSP),k),canSDPTT2DSP:Object.assign(Object.assign({},e.canSDPTT2DSP),w)}))})},getStaticClips:()=>e(g).clips}))},96482:(e,t,i)=>{"use strict";i.d(t,{V:()=>g,e:()=>p});var n=i(26930),o=i(72355),a=i(2837),r=i(90976),s=i(69857),l=i(61198),d=i(40099),c=i(11675);const u=()=>{var e,t,i;const n=(0,c.wW)(),o=null!==(e=null==n?void 0:n.vidList)&&void 0!==e?e:[],{abTestVersion:a}=(0,s.L$)((0,r.W)(()=>["abTestVersion"],[]));return[...o,...null!==(i=null===(t=null==a?void 0:a.versionName)||void 0===t?void 0:t.split(","))&&void 0!==i?i:[]]},p=(e=[],t,i)=>{var n;const{pathname:r}=(0,o.zy)(),[{tagKeywordPathList:s={},itemTagLoading:c=!1},p]=(0,a.ZY)(e=>({tagKeywordPathList:e.tagKeywordPathList,itemTagLoading:e.loading}),{equalityFn:l.bN}),g=u();return(0,d.useEffect)(()=>{t||s[i]||p.setItemTagList(e,{pathname:r},g)},[p,t,r,i]),{itemTags:null!==(n=s[i])&&void 0!==n?n:[],isFetching:c}},g=(e=[],t,i=!1)=>{const{pathname:r}=(0,o.zy)(),s=(0,a.IN)(),l=u();(0,n.o)(()=>{if(t&&e.length>0&&!i)return s.setItemTagList(e,{pathname:r},l)},[s,t,r,i])}},96637:(e,t,i)=>{"use strict";i.d(t,{XF:()=>p,kw:()=>g});var n,o=i(45027),a=i(40099),r=i(72355),s=i(25961),l=i(90976),d=i(52165),c=i(63929),u=i(70589);function p(){var e;const{region:t=""}=null!==(e=(0,l.W)(()=>["region"],[]))&&void 0!==e?e:{},i=(0,o.w)(c.M);return(0,a.useCallback)(()=>{i.initShareSettings({isMobile:!1,region:t})},[t,i])}function g(){const{isBrowserModeShowing:e}=(0,a.useContext)(d.g),{pathname:t}=(0,r.zy)(),{shouldOptimizeCta:i}=(0,u.kb)();return(0,a.useMemo)(()=>{const n=((0,s.cj)(t)||(0,s.Ke)(t)||(0,s.Iy)(t)||(0,s.nq)(t)||(0,s.Ds)(t)||(0,s.LC)(t)||(0,s.vb)(t))&&!e,o=(0,s.tO)(t)||(0,s.P_)(t)||(0,s.gq)(t)||(0,s.Fj)(t);let a="none";return e?a=i?"short":"expand":(n||o)&&(a="short"),{additionShareOptions:!0,expanded:a}},[t,e,i])}!function(e){e.None="none",e.Simple="short",e.Expanded="expand"}(n||(n={}))},97102:(e,t,i)=>{"use strict";e.exports=i.p+"e0c522d68f9718996605.png"},97177:(e,t,i)=>{"use strict";i.d(t,{e:()=>_});var n=i(72516),o=i(24643),a=i(40099),r=i(9429),s=i(87412),l=i(5060),d=i(71052),c=i(58116),u=i(71225),p=i(21172);const g=e=>({buffered:null==e?void 0:e.buffered,currentSrc:null==e?void 0:e.currentSrc,currentTime:null==e?void 0:e.currentTime,duration:null==e?void 0:e.duration,readyState:null==e?void 0:e.readyState,error:null==e?void 0:e.error,volume:null==e?void 0:e.volume,muted:null==e?void 0:e.muted}),_=(0,a.memo)((0,a.forwardRef)(function(e,t){var{src:i,playProgress:_,horizontal:m,muteSetting:h,onUnmount:v,onEnded:f,onWaiting:y,disableDownload:b=!0,itemMute:x=!1,metrics:k=null,bitrate:w,hevcTest:S,bitrateInfo:C}=e,j=(0,n.__rest)(e,["src","playProgress","horizontal","muteSetting","onUnmount","onEnded","onWaiting","disableDownload","itemMute","metrics","bitrate","hevcTest","bitrateInfo"]);const T=(0,a.useRef)(null),I=(0,a.useRef)(!1),{mute:P,volume:A,playing:M}=(0,c.O2)(h),{setMute:L}=(0,u.S4)(),D=(0,a.useRef)({time:-1,size:-1}),O=(0,a.useMemo)(()=>{if((0,r.fU)())return{url:i,codecType:"h264"};if(!C||0===(null==C?void 0:C.length))return{url:i,codecType:"h264"};const{src:e,codecType:t}=(0,s.Hg)({hevcTest:{open:!1,qualityType:20},bitrateInfo:C,downgradeUrl:i,backupDomain:!0});return{url:e,codecType:t}},[C,i]);(0,a.useImperativeHandle)(t,()=>{const e=T.current;return{play:()=>(0,n.__awaiter)(this,void 0,void 0,function*(){try{yield null==e?void 0:e.play()}catch(e){}}),pause:()=>{try{p.A.emit("video_pause",{itemId:null!=i?i:""}),null==e||e.pause()}catch(e){}},seek:t=>{if(e){p.A.emit("video_seek",{itemId:null!=i?i:""});const{duration:n}=e;e.currentTime=n*t}},seekTime:t=>{e&&(e.currentTime=t)},onSeeked:t=>{null==e||e.addEventListener("seeked",t)},onSeeking:t=>{null==e||e.addEventListener("seeking",t)},onTimeUpdate:t=>{null==e||e.addEventListener("timeupdate",()=>{var i,n;const o=null!==(i=e.currentTime)&&void 0!==i?i:0,a=null!==(n=e.duration)&&void 0!==n?n:0;t(o/a,o,a)})},onCanPlay:t=>{null==e||e.addEventListener("canplay",t)},getPlayerAttributes:()=>g(e)}});const R=(0,a.useCallback)((e=0)=>(0,n.__awaiter)(this,void 0,void 0,function*(){var t,i,n;if(!(e>=3))try{yield null===(t=T.current)||void 0===t?void 0:t.play()}catch(t){const o=null!==(i=null==t?void 0:t.message)&&void 0!==i?i:"";(null!==(n=o.match("failed because the user didn't interact with the document first."))&&void 0!==n?n:o.match("The request is not allowed by the user agent or the platform in the current context"))?(L(!0),setTimeout(()=>{R(e+1)},0)):R(e+1)}}),[L]);(0,a.useEffect)(()=>{T.current&&(T.current.volume=A)},[A]),(0,a.useEffect)(()=>{R(),T.current&&Math.abs(T.current.currentTime-_)>.2&&(T.current.currentTime=_)},[_,R]),(0,a.useEffect)(()=>{var e;M?I.current&&(I.current=!1,R()):(I.current=!0,null===(e=T.current)||void 0===e||e.pause())},[M,R]),(0,a.useEffect)(()=>{const e=T.current;return()=>{D.current.time>0&&D.current.size>0&&(0,l.a)({time:D.current.time,size:D.current.size}),null==v||v(g(e))}},[]);const E=(0,a.useCallback)(e=>{e.preventDefault()},[]);(0,a.useEffect)(()=>{const e=T.current;return b&&(null==e||e.addEventListener("contextmenu",E)),()=>{null==e||e.removeEventListener("contextmenu",E)}},[T,E,b]);const F=(0,a.useCallback)(e=>{null==y||y(e)},[y]),B=(0,a.useCallback)(e=>{null==f||f(e),R(),p.A.emit("video_replay",{itemId:null!=i?i:""})},[f,R,i]),z=(0,a.useCallback)(()=>{if(T.current){const e=T.current;if(w&&w>0){let t=0;for(let i=0;i<e.buffered.length;i++)t+=e.buffered.end(i)-e.buffered.start(i);const i=t*w/8;D.current={time:t,size:i}}}},[w]);return(0,o.jsx)(d.CZ,Object.assign({horizontal:m,ref:T,src:O.url},j,{muted:x||P,playsInline:!0,autoPlay:!0,onEnded:B,onWaiting:F,onProgress:z}))}))},97276:(e,t,i)=>{"use strict";i.d(t,{t:()=>o});const n={"&amp;":"&","&quot;":'"',"&lt;":"<","&gt;":">","&nbsp;":" "};function o(e=""){return e?e.replace(/&[a-z]+?;/g,e=>n[e]||e):""}},97397:(e,t,i)=>{"use strict";i.d(t,{L:()=>s,m:()=>l});var n=i(26225),o=i(64388),a=i(55765);const r=(0,n.y)(a.hf),{useServiceState:s,useServiceDispatchers:l}=(0,o.i)(r,(e,t)=>({removeBlockVideo(e){t(r,"removeBlockVideo",e)}}))},97412:(e,t,i)=>{"use strict";i.d(t,{$:()=>m,L:()=>h});var n=i(45027),o=i(40099),a=i(90976),r=i(24469),s=i(34778),l=i(81378),d=i(69857),c=i(2232),u=i(19664),p=i(70589),g=i(72355),_=i(37818);const m=()=>{var e;const{abTestVersion:t}=(0,d.L$)((0,a.W)(()=>["abTestVersion"],[])),i="v2"===(null!==(e=(0,c.qt)(t,"search_transfer_guesssearch"))&&void 0!==e?e:"v1"),l=(0,u.Ul)(),{count:g}=(0,p.gQ)(),[{historyList:_},{getTransferList:m}]=(0,n.S)(r._,{selector:e=>({historyList:e.historyList}),dependencies:[]}),h=(0,s.JD)(e=>e.showingBrowserMode);return(0,o.useCallback)(()=>{var e,t;i&&!h&&m({req_source:"web_blank_page",from_group_id:null!==(e=null==l?void 0:l.id)&&void 0!==e?e:"",history_list_v2:(t=_,encodeURIComponent(encodeURIComponent(JSON.stringify(t)))),count:g})},[m,_,l,i,h,g])},h=()=>{const e=(0,g.zy)(),{pathname:t,search:i}=e,a=(0,g.W6)(),r=Boolean((0,g.B6)(t,{path:_.OZ.searchHome})),{resetSearchResult:s}=(0,n.w)(l.tq);return(0,o.useCallback)(()=>{r&&(s(),a.push({pathname:_.OZ.searchHome,search:i,state:{enterMethod:"manage_personalise"}}))},[r,s,i,a])}},97779:(e,t,i)=>{"use strict";i.d(t,{KQ:()=>o,a5:()=>r,kZ:()=>a});var n=i(16410);const o=(0,n.default)("div",{target:"ez2j8bk0"})(({isPopup:e=!1})=>({position:"relative",paddingTop:"8px",padding:e?"15px":"20px"}),"label:DivDailyEditContainer;"),a=(0,n.default)("div",{target:"ez2j8bk1"})(()=>({cursor:"pointer"}),"label:DivXMarkContainer;"),r=(0,n.default)("div",{target:"ez2j8bk2"})(({isPopup:e=!1,theme:{colors:t}})=>({fontSize:"24px",lineHeight:"32px",margin:"0 8px 20px",fontWeight:700,color:t.TextPrimary,display:e?"flex":"block",justifyContent:"space-between"}),"label:DivSettingTitle;")},97854:(e,t,i)=>{"use strict";function n(e){const t=e=>!!e;return{dsa_from_inbox:t("dsa"===e),osa_from_inbox:t("osa"===e),ric_from_inbox:t("ric"===e)}}i.d(t,{U:()=>n})},97882:(e,t,i)=>{"use strict";i.d(t,{I:()=>r});var n=i(24643),o=i(40099),a=i(85556);const r=e=>{const{src:t,alt:i,fallback:r,className:s,skeleton:l,width:d,height:c,style:u={},onClick:p,onLoaded:g}=e,_=(0,o.useRef)(0),[m,h]=(0,o.useState)(""),[v,f]=(0,o.useState)(!1),[y,b]=(0,o.useState)(!1),[x,k]=(0,o.useState)(!1),w=(0,o.useRef)(null);(0,o.useEffect)(()=>{var e,i,n;return k(!1),_.current=0,b(!1),f(null!==(i=null===(e=w.current)||void 0===e?void 0:e.complete)&&void 0!==i&&i),(null===(n=w.current)||void 0===n?void 0:n.complete)&&(null==g||g()),Array.isArray(t)?h(t[0]):h(t),()=>{k(!0)}},[t]);const S=(0,o.useCallback)(()=>{x||(f(!0),null==g||g())},[x,g]),C=(0,o.useCallback)(()=>{x||(_.current++,Array.isArray(t)&&t[_.current]?h(t[_.current]):(b(!0),h("")))},[x,t]),j=(0,o.useMemo)(()=>Object.assign(Object.assign({},u),{position:"relative",top:0}),[u]),T=(0,o.useMemo)(()=>Object.assign({display:v?"block":"none"},u),[v,u]);return(0,n.jsxs)(n.Fragment,{children:[v?null:"videoCover"===l?(0,n.jsx)(a.EA.VideoCover,{className:s,style:j}):"avatar"===l?(0,n.jsx)(a.EA.Avatar,{className:s,style:j}):null,!y&&m&&(0,n.jsx)("img",{ref:w,onClick:p,width:d,height:c,onLoad:S,onError:C,style:T,alt:i,src:m,className:s}),y?r:null]})}},97900:(e,t,i)=>{"use strict";i.d(t,{Eq:()=>S,sg:()=>w,hK:()=>k,Q5:()=>f});var n=i(72516),o=i(71450),a=i(4126),r=i(13356),s=i(340),l=i(35572),d=i(8536),c=i(23999),u=i(20259),p=i(26324),g=i(48156),_=i(28439),m=i(7672),h=i(44094);let v=class{constructor(e){this.fetch=e}checkUserStatusBeforeSwitchout(){return this.fetch.post("/api/ba/business/suite/account/quitcheck",{baseUrlType:2})}switchOutBusinessAccount(){return this.fetch.post("/api/ba/business/suite/account/off",{baseUrlType:2})}};var f,y;v=(0,n.__decorate)([(0,m._)(),(0,n.__metadata)("design:paramtypes",[h.p])],v),function(e){e.None="none",e.PersonalAccount="personal_account",e.ProAccount="pro_account"}(f||(f={})),function(e){e.None="none",e.SwitchConfirmModal="switch_confirm_modal",e.InvalidModal="invalid_modal"}(y||(y={}));const b=[3019001,3019002,3019003,3019018],x="Sorry, something wrong with the server, please try again.",k={3019001:"ttba_ob_switchouterr_title",3019002:"ttba_ob_switchouterr_title_lttfb",3019003:"ttba_ob_switchouterr_title_lmp",3019018:"ttba_ob_switchouterr_title_seller"},w={3019001:"ttba_ob_switchouterr_subtext",3019002:"ttba_ob_switchouterr_subtext_lttfb",3019003:"ttba_ob_switchouterr_subtext_lmp",3019018:"ttba_ob_switchouterr_subtext_seller"};let S=class extends o.E{constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={switchedType:"none",businessAccountModalType:"none",invalidCode:0}}checkSwitchOut(e){return e.pipe((0,l.p)(()=>this.service.checkUserStatusBeforeSwitchout().pipe((0,d.Z)(({statusCode:e,statusMsg:t})=>{if(!b.includes(e)&&0!==e)return g.F.open({content:t,duration:3}),(0,c.of)(this.noop());const i=0===e?"switch_confirm_modal":"invalid_modal";return(0,c.of)(this.getActions().setInvalidCode(e),this.getActions().setBusinessAccountModalType(i))}),this.catchError())))}switchBusinessAccount(e){return e.pipe((0,l.p)(({action_type:e})=>this.service.switchOutBusinessAccount().pipe((0,d.Z)(({statusCode:t})=>0===t?(g.F.open({content:this.t("switched_to_personal"),duration:3}),(0,c.of)(this.getActions().setSwitchedType(0===e?"personal_account":"pro_account"),this.getActions().setBusinessAccountModalType("none"))):(g.F.open({content:this.t(x),duration:3}),(0,c.of)(this.noop()))),this.catchError())))}setBusinessAccountModalType(e,t){e.businessAccountModalType=t}setInvalidCode(e,t){e.invalidCode=t}setSwitchedType(e,t){e.switchedType=t}catchError(){return(0,u.W)(()=>(g.F.open({content:this.t(x),duration:3}),(0,c.of)(this.noop())))}};(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"checkSwitchOut",null),(0,n.__decorate)([(0,a.Mj)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[p.c]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"switchBusinessAccount",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setBusinessAccountModalType",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setInvalidCode",null),(0,n.__decorate)([(0,a.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,String]),(0,n.__metadata)("design:returntype",void 0)],S.prototype,"setSwitchedType",null),S=(0,n.__decorate)([(0,r.nV)("BusinessAccountModule"),(0,n.__param)(1,(0,s.y)(_.hp)),(0,n.__metadata)("design:paramtypes",[v,Function])],S)},98046:(e,t,i)=>{"use strict";i.d(t,{Q:()=>b});var n=i(24643),o=i(37818),a=i(72516),r=i(71036),s=i(78751),l=i(26930),d=i(80179),c=i(69857),u=i(90976),p=i(27799),g=i(68252);const _=e=>{const{response:t}=e,i=(0,p.s)(),{language:o}=(0,c.L$)((0,u.W)(()=>["language","appType"],[])),_=(0,d.useSetAtom)(s.b);return(0,l.o)(()=>(0,a.__awaiter)(void 0,void 0,void 0,function*(){const{statusCode:e}=t;if(-1!==e){const e={language:o},n=Object.assign(Object.assign(Object.assign({},t),e),{seoProps:{pageType:5},t:i}),a=yield(0,g.G)(n,r.c),{metaParams:s={},jsonldList:l=[]}=a;_({metaParams:s,jsonldList:l})}}),[o,t]),(0,n.jsx)(n.Fragment,{})};var m=i(98277),h=i(14869),v=i(45027),f=i(94568);const y=()=>{const e=(0,p.s)(),{language:t}=(0,c.L$)((0,u.W)(()=>["language","appType"],[])),i=(0,v.w)(f.e),o=(0,d.useSetAtom)(s.b);return(0,l.o)(()=>(0,a.__awaiter)(void 0,void 0,void 0,function*(){const n={seoProps:{pageId:"",pageType:101},language:t,t:e},a=yield(0,g.G)(n,m.H),{metaParams:r={},jsonldList:s=[]}=a;return o({metaParams:r,jsonldList:s}),i.setSharingMetaStateEffect({"og:image":h.U})}),[t]),(0,n.jsx)(n.Fragment,{})},b=e=>{const{routeName:t,response:i}=e;return t===o.eU.foryou?(0,n.jsx)(_,{response:i}):[o.eU.home,o.eU.foryouWithLang].includes(t)?(0,n.jsx)(y,{}):(0,n.jsx)(n.Fragment,{})}},98447:(e,t,i)=>{"use strict";i.d(t,{D:()=>r});var n=i(69857),o=i(90976),a=i(2232);const r=()=>{var e,t;const{abTestVersion:i}=(0,n.L$)((0,o.W)(()=>["abTestVersion"],[]));return{enableMiniPlayer:"v0"!==(null!==(e=(0,a.qt)(i,"enable_mini_player"))&&void 0!==e?e:"v0"),enableMiniBitrateInfo:null!==(t=(0,a.qt)(i,"enable_mini_player_bitrateinfo"))&&void 0!==t?t:"v0"}}},98775:(e,t,i)=>{"use strict";i.d(t,{M:()=>d});var n=i(72516),o=i(4126),a=i(13356),r=i(5317),s=i(41438),l=i(26225);let d=class extends r.E{constructor(){super(),this.defaultState={redDotCount:0,hasVisitedFollowing:!1}}setRedDotCount(e,t){(0,s.yX)().setRedDotCount(t)}setHasVisitedFollowing(e,t){(0,s.yX)().setHasVisitedFollowing(t)}};d.jotaiAtom=s.VH,(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],d.prototype,"setRedDotCount",null),(0,n.__decorate)([(0,o.h5)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Boolean]),(0,n.__metadata)("design:returntype",void 0)],d.prototype,"setHasVisitedFollowing",null),d=(0,n.__decorate)([(0,a.nV)("FollowingRedDotModule"),(0,n.__metadata)("design:paramtypes",[])],d),s.VH.__SIGI_MODULE__=d,(0,l.y)(d)},98856:(e,t,i)=>{"use strict";i.d(t,{P:()=>C});var n=i(24643),o=i(40099),a=i(45027),r=i(85650),s=i(16410);const l=(0,s.default)("div",{target:"e16yqw5k0"})(({isMobile:e})=>({textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",padding:32,height:"100%",gap:"40px",paddingTop:"200px",justifyContent:e?"space-between":void 0,paddingBottom:e?"150px":void 0}),"label:ScheduledBreakContainer;"),d=(0,s.default)("div",{target:"e16yqw5k1"})(({isMobile:e})=>({color:"rgba(246, 246, 246, 1)",fontSize:e?"40px":"80px",lineHeight:e?"48px":"96px",textAlign:"center",fontWeight:700,padding:e?"5px":void 0}),"label:Title;"),c=(0,s.default)("div",{target:"e16yqw5k2"})(({isMobile:e})=>({fontWeight:500,color:"rgba(255, 255, 255, 0.88)",fontSize:e?"16px":"20px",lineHeight:e?"20px":"25px",textAlign:"center",letterSpacing:e?"0%":"1.5%",maxWidth:"640px",padding:e?"5px":void 0}),"label:Subtitle;"),u=(0,s.default)("div",{target:"e16yqw5k3"})([{position:"fixed",backgroundColor:"rgba(0, 0, 0, 1)",bottom:0,zIndex:3001,left:0,top:0,right:0,width:"100vw",height:"100vh",overflow:"hidden"}],"label:ModalContainer;"),p=(0,s.default)("div",{target:"e16yqw5k4"})([{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",justifyContent:"center"}],"label:BackgroundImageContainer;"),g=(0,s.default)("img",{target:"e16yqw5k5"})([{height:"100%",objectFit:"cover"}],"label:BackgroundImage;"),_=(0,s.default)("div",{target:"e16yqw5k6"})([{position:"relative",zIndex:1,height:"100%"}],"label:ModalContent;"),m=(0,s.default)("button",{target:"e16yqw5k7"})(({isMobile:e})=>({backgroundColor:"white",padding:e?"12px 40px 12px 40px":"8px 14px 8px 14px",borderRadius:e?"20px":"6px"}),"label:SettingButton;"),h=(0,s.default)("div",{target:"e16yqw5k8"})([{color:"black",gap:"4px",marginRight:"10px",marginLeft:"10px",fontWeight:500,fontSize:"16px",textAlign:"center"}],"label:SettingButtonText;");var v=i(27799),f=i(97102),y=i(96406),b=i(10114),x=i(79742),k=i(67476);const w=e=>{const{isOpen:t,children:i,id:o}=e;return t?(0,n.jsxs)(u,{id:o,children:[(0,n.jsx)(p,{children:(0,n.jsx)(g,{src:f})}),(0,n.jsx)(_,{children:i})]}):null},S=e=>{const{onSettingClick:t,rule:i,isMobile:o}=e,a=(0,v.s)();return(0,n.jsxs)(l,{isMobile:o,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d,{isMobile:o,children:a("FPscheduledBreak_teenBreaklimit_headline",{},"Time Away")}),(0,n.jsx)(c,{isMobile:o,children:a("FPscheduledBreak_teenBreaklimit_content",{s_startTime:i.startTime,s_endTime:i.endTime},"Your parent or guardian scheduled time away for you between {s_startTime}-{s_endTime}.")})]}),(0,n.jsx)(m,{onClick:t,isMobile:o,children:(0,n.jsx)(h,{children:a("FPscheduledBreak_teenBreaklimit_settingsButton",{},"View Settings")})})]})},C=e=>{const{onSettingClick:t,isMobile:i,header:s}=e,[l]=(0,a.S)(r.z),{mute:d,setMute:c}=(0,b.ah)({playMode:0,itemMute:!1}),{mobileDefaultMute:u}=(0,x.bn)(),{setMobileDefaultMute:p}=(0,x._B)(),g=l.scheduledBreakActive||!1;var _,m;return _="full-modal-id",m=g,(0,o.useEffect)(()=>{let e;return m&&(e=setInterval(()=>{document.getElementById(_)||window.location.reload()},1e3)),()=>{e&&clearInterval(e)}},[_,m]),(0,o.useEffect)(()=>{g&&(i&&!u?p(!0):i||d||c(!0))},[i,g,u,d,p,c]),(0,o.useEffect)(()=>{g&&y.f.event("show_scheduled_break_block",{type:"global"})},[g]),(0,n.jsx)(k.Mw,{isOpen:g,size:"Small",children:(0,n.jsx)(w,{id:"full-modal-id",isOpen:g,children:(0,n.jsxs)(n.Fragment,{children:[s,(0,n.jsx)(S,{onSettingClick:t,rule:l.scheduledBreakActiveRule,isMobile:i})]})})})}},98923:(e,t,i)=>{"use strict";i.d(t,{W:()=>s});var n=i(72516),o=i(7672),a=i(96406);const r="new_user_registration";let s=class{constructor(){this.handlePolicyConfirmOnFYP=e=>{a.f.event("tns_web_trending_setting",e)},this.handleAgeGateResponse=(e,t)=>{a.f.event("age_gate_response",{enter_type:"click_sign_up",is_success:e?1:0,error_code:t})}}handleUniversalPopShow(e){a.f.event("tns_general_dialog_show",e)}handleUniversalPopClick(e){a.f.event("qa_tns_general_dialog_click",e)}handleKeywordfilteringShow(e){a.f.event("enter_video_filter_kw",{enter_from:e})}hanldeKRConsentShow(){a.f.event("register_terms_show",{enter_from:r})}hanldeKRConsentClick(e,t){a.f.event("register_terms_click",{enter_from:r,content:e,click_type:t?1:0})}hanldeKRConsentClickNext(e){a.f.event("register_terms_click_next",{enter_from:r,trending_on:e?1:0})}hanldeKRConsentClickSeeDetail(e){a.f.event("register_terms_see_details",{enter_method:"click",enter_from:r,page_detail_viewed:e})}};s=(0,n.__decorate)([(0,o._)()],s)},99134:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var n=i(24643),o=i(40099),a=i(76926);const r={id:"eye-slash-dc48f765",use:"eye-slash-dc48f765-usage",viewBox:"0 0 48 48",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="eye-slash-dc48f765"><path fill="#fff" fill-rule="evenodd" d="M37.176 41.474a.746.746 0 0 0 1.058-.011l1.738-1.787a.755.755 0 0 0-.012-1.063L7.319 6.526a.745.745 0 0 0-1.058.012L4.523 8.324a.755.755 0 0 0 .012 1.064l4.777 4.696c-3.19 2.484-5.132 5.777-5.132 9.388 0 7.737 8.914 14.01 19.91 14.01 2.794 0 5.454-.406 7.868-1.137l5.218 5.13zM17.292 21.928l-5.098-5.011c-2.797 2.004-4.032 4.377-4.032 6.555 0 2.204 1.264 4.609 4.133 6.627 2.856 2.01 7.013 3.38 11.795 3.38 1.583 0 3.098-.15 4.52-.425l-2.832-2.784a7 7 0 0 1-1.688.207c-3.849 0-6.968-3.136-6.968-7.005q.001-.797.17-1.544" clip-rule="evenodd" /><path fill="#fff" d="M15.88 10.706c2.503-.798 5.283-1.242 8.21-1.242C35.086 9.464 44 15.735 44 23.472c0 3.707-2.046 7.076-5.386 9.582l-2.891-2.843.162-.112c2.868-2.018 4.133-4.423 4.133-6.627s-1.265-4.608-4.133-6.626c-2.856-2.01-7.014-3.38-11.795-3.38a23.8 23.8 0 0 0-4.894.5z" /><path fill="#fff" d="M24.09 16.468c-.709 0-1.393.106-2.038.304l8.747 8.599c.17-.604.26-1.24.26-1.899 0-3.868-3.12-7.004-6.969-7.004" /></symbol>'};function s(e){const t=(0,o.useContext)(a.X);return(0,o.useLayoutEffect)(()=>(t.add(r),()=>{t.remove("eye-slash-dc48f765")}),[]),(0,n.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,n.jsx)("use",{xlinkHref:"#eye-slash-dc48f765"},void 0)}),void 0)}},99278:(e,t,i)=>{"use strict";i.d(t,{AP:()=>u,CE:()=>p,MI:()=>_,iB:()=>m,jS:()=>g});var n=i(95074),o=i(45375),a=i(43887),r=i(69831),s=i(61198),l=i(16356);const d="https://www.tiktok.com";function c(e){const t={"<":"&lt",">":"&gt;",'"':"&#34;","'":"&#39;","&":"&#38;","/":"&#47;"};let i=`(${Object.keys(t).toString()})`;i=i.replace(/,/g,")|(");const n=new RegExp(i,"g");return e.replace(n,e=>t[e])}function u(e){var t,i,u;const p=(0,n.P)(r.k,{selector:t=>t[e],dependencies:[e]}),g=(0,l.nW)(e=>{var t;return e.users[null!==(t=null==p?void 0:p.author)&&void 0!==t?t:""]},s.bN),{music:_,textExtra:m,desc:h}=null!=p?p:{},{uniqueId:v="",secUid:f}=null!=g?g:{},y=null!==(t=null==_?void 0:_.title)&&void 0!==t?t:"",b=null!==(i=null==_?void 0:_.id)&&void 0!==i?i:"",x=null!==(u=null==_?void 0:_.authorName)&&void 0!==u?u:"",k=(0,o.fJR)({uniqueId:v,secUid:f}),w=(0,o.pHc)({musicName:y,musicId:b}),S=(0,a._u)()(p),C=y.replace(`- ${x}`,"")+(x?` - ${x}`:""),j=`${d}${k.split("?")[0]}`,T=`${d}${w.split("?")[0]}`,I=`${d}${S.split("?")[0]}`,P=`${d}/embed.js`,A=`@${v}`,M=`♬ ${c(C)}`;return`\n    <blockquote class="tiktok-embed"\n      cite="${I}"\n      data-video-id="${e}" style="max-width: 605px;min-width: 325px;" >\n      <section>\n          <a target="_blank" title="${A}" href="${j}?refer=embed">${A}</a>\n          ${function(e,t=[]){return t.length?[...t].sort((e,t)=>e.start-t.start).reduce((t,i,n,a)=>{const{start:r,end:s,hashtagName:l,type:u}=i,p=0===n?0:a[n-1].end,g=r,_=e.substring(p,g);_&&(t+=c(_));const m=e.substring(r,s);return t+(1===u&&l?`<a title="${l}" target="_blank" href="${d}${(0,o.ATn)({tagName:l})}?refer=embed">${c(m)}</a>`:c(m))},""):`<p>${c(e)}</p>`}(null!=h?h:"",m)}\n          <a target="_blank" title="${M}" href="${T}?refer=embed">${M}</a>\n      </section>\n    </blockquote>\n    <script async src="${P}"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map(e=>e.replace(/^\s+/gm,"")).join(" ").trim()}function p(e){if(e)return`\n    <blockquote class="tiktok-embed"\n      cite="${d}/@${e}"\n      data-unique-id="${e}"\n      data-embed-type="creator" style="max-width: 780px; min-width: 288px;" >\n      <section>\n        <a target="_blank" href="${d}/@${e}?refer=creator_embed">@${e}</a>\n      </section>\n    </blockquote>\n    <script async src="${d}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map(e=>e.replace(/^\s+/gm,"")).join(" ").trim()}function g(e){if(e)return`\n    <blockquote class="tiktok-embed"\n      cite="${d}/tag/${e}"\n      data-tag-id="${e}"\n      data-embed-type="tag" style="max-width: 780px; min-width: 288px;" >\n      <section>\n        <a target="_blank" href="${d}/tag/${e}?refer=tag_embed">#${e}</a>\n      </section>\n    </blockquote>\n    <script async src="${d}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map(e=>e.replace(/^\s+/gm,"")).join(" ").trim()}function _(e,t,i){if(!e||!t)return;const n=(0,o.pHc)({musicName:e,musicId:t}),a=n.split("/")[2],r=`${d}${n.split("?")[0]}`,s=`♬ ${e} - ${null!=i?i:""}`;return`\n    <blockquote class="tiktok-embed"\n      cite="${d}${n}"\n      data-music-id="${a}"\n      data-embed-from="embed"\n      data-embed-type="music" style="max-width: 780px; min-width: 288px;" >\n      <section>\n        <a target="_blank" title="${s}" href="${r}?refer=music_embed">${s}</a>\n      </section>\n    </blockquote>\n    <script async src="${d}/embed.js"><\/script>\n  `.split(/(?:\r\n|\n|\r)/).map(e=>e.replace(/^\s+/gm,"")).join(" ").trim()}function m(e){return`?lang=${e}&embedFrom=webapp_preview`}},99625:(e,t,i)=>{"use strict";i.d(t,{D:()=>_});var n=i(24643),o=i(40099),a=i(16410),r=i(93584);const s=(0,a.default)("div",{target:"e7egcb00"})({display:"flex",flexWrap:"nowrap"},"label:DivLiveTagWrapper;"),l=(0,a.default)("div",{target:"e7egcb01"})(({theme:e,needViewer:t})=>[{display:"flex",padding:"0 6px",height:"22px",justifyContent:"center",alignItems:"center",borderRadius:"rtl"===e.direction?"0 4px 4px 0":"4px 0 0 4px",background:"linear-gradient(131deg, #FF1764 0%, #ED3495 94.15%)"},(0,r.zy)({theme:e,typography:"H6",color:"ConstTextInverse",fontWeight:"medium"}),!t&&{borderRadius:"4px"}],"label:DivLiveTag;"),d=(0,a.default)("div",{target:"e7egcb02"})(({theme:e})=>({display:"flex",height:"20px",padding:"0 4px",justifyContent:"center",alignItems:"center",borderRadius:"rtl"===e.direction?"4px 0 0 4px":"0 4px 4px 0",gap:"4px",background:"rgba(0, 0, 0, 0.5)"}),"label:DivLiveViewer;"),c=(0,a.default)("span",{target:"e7egcb03"})(({theme:e})=>[(0,r.zy)({theme:e,typography:"H6",color:"ConstTextInverse",fontWeight:"medium"})],"label:DivLiveViewerNum;");var u=i(67476),p=i(64449),g=i(27799);const _=(0,o.memo)(function(e){const t=(0,g.s)(),{needViewer:i,viewerCount:o,className:a,isSubOnlyLive:r}=e;return(0,n.jsxs)(s,{className:a,children:[(0,n.jsx)(l,{needViewer:i,children:t(r?"subLiveShare_webLivePage_chatTextfield_subOnlyNote":"live_on_status")}),i&&(0,n.jsxs)(d,{children:[(0,n.jsx)(u.Ft,{icon:p.A,size:12,color:"ConstTextInverse"}),(0,n.jsx)(c,{children:o})]})]})})},99747:(e,t,i)=>{"use strict";i.d(t,{G:()=>l});var n=i(72516),o=i(7672),a=i(23999),r=i(17384),s=i(44094);let l=class{constructor(e){this.fetch=e}getReportReasons(e){return this.fetch.get("/node/report/reasons",{query:e,baseUrlType:2})}getLiveReportReasons(e){return this.fetch.get("/webcast/v3/feedback/reasons/",{query:e,baseUrlType:4})}getDSACountries(){return this.fetch.get("/tns-api/report/dsa",{baseUrlType:2})}postReport(e,t){return t?this.fetch.post("/webcast/v1/aweme/feedback/",{body:JSON.stringify(e),headers:{"Content-Type":"application/json"},baseUrlType:4}):this.fetch.get("/aweme/v2/aweme/feedback/",{query:e,baseUrlType:2})}uploadImage(e){if(0===e.length)return(0,a.of)({data:[],statusCode:0});const t=new FormData;for(let i=0;i<e.length;i++){const n=e[i];t.append("type",n.type),t.append("size",`${n.size}`),t.append("name",n.name),t.append("height",n.height),t.append("width",n.width),t.append(`file${i}`,n,n.name)}return this.fetch.post("/node/feedback/upload_image/",{body:t,headers:{[r.nk]:this.fetch.csrfToken},baseUrlType:2,omitContentType:!0})}getTustedFlaggerState(){return this.fetch.get("/trusted_flagger/check/v1",{})}unbindTrustedFlagger(){return this.fetch.delete("/trusted_flagger/unbind/v1",{})}sendNotifyGuardian(e,t){const i={Email:e,Extra:JSON.stringify(Object.assign({is_kids_mode:!1},t))};return this.fetch.post("/tns-api/notify-guardian",{body:JSON.stringify(i),headers:{"Content-Type":"application/json"},baseUrlType:2})}};l=(0,n.__decorate)([(0,o._)(),(0,n.__metadata)("design:paramtypes",[s.p])],l)},99777:(e,t,i)=>{"use strict";i.d(t,{T:()=>re});var n=i(24643),o=i(35626),a=i.n(o),r=i(40099),s=i(54622),l=i(85556),d=i(6726),c=i(16842),u=i(27799),p=i(69857),g=i(99411),_=i(90976),m=i(62738),h=i(54253),v=i(45375),f=i(90886),y=i(78859),b=i(5786),x=i(71754),k=i(20957),w=i(31382),S=i(16410),C=i(29098),j=i(93584),T=i(73107),I=i(22797);const P=(0,S.default)(I.N_,{target:"e85wp610"})({":hover":{textDecoration:"none"}},"label:StyledLink;"),A=(0,S.default)("div",{target:"e85wp611"})(({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"8px 12px",borderRadius:"4px",transition:"background-color 300ms",":hover":{backgroundColor:e.BGView},":active":{backgroundColor:e.BGInput}}),"label:DivUserContainer;"),M=(0,S.default)("div",{target:"e85wp612"})(({theme:{direction:e}})=>[{display:"flex",flex:"1"},(0,j.mp)({direction:e,paddingEnd:"24px"})],"label:DivUserInfo;"),L=(0,S.default)("div",{target:"e85wp613"})(({theme:{direction:e}})=>[{maxWidth:"450px",padding:"1px 0"},(0,j.mp)({direction:e,paddingStart:"12px"})],"label:DivUserDesc;"),D=(0,S.default)("div",{target:"e85wp614"})({display:"flex",alignItems:"center",height:"22px",lineHeight:"22px"},"label:DivTopPart;"),O=(0,S.default)("span",{target:"e85wp615"})(({theme:e})=>[(0,j.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",typography:"P2"})],"label:SpanUniqueId;"),R=(0,S.default)("span",{target:"e85wp616"})(({theme:e,theme:{direction:t,colors:i}})=>[(0,j.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",lineHeight:"15px",typography:"P4"}),{color:i.TextSecondary},(0,j.mp)({direction:t,paddingStart:"4px"})],"label:SpanNickname;"),E=(0,S.default)("div",{target:"e85wp617"})(({theme:e,theme:{colors:t}})=>[(0,j.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P3"}),{height:"20px",marginTop:"4px",color:t.TextSecondary}],"label:DivBottomPart;"),F=(0,S.default)("p",{target:"e85wp618"})({maxWidth:"450px"},j.PR,"label:PSignature;"),B=(0,S.default)("p",{target:"e85wp619"})({maxWidth:"450px"},j.PR,"label:POther;"),z=(0,S.default)("span",{target:"e85wp6110"})(({theme:{direction:e}})=>(0,j.mp)({direction:e,paddingStart:"8px"}),"label:SpanSecond;"),U=(0,S.default)(T.y,{target:"e85wp6111"})(({theme:{direction:e}})=>({flexShrink:0,"& > svg":[(0,j.mp)({direction:e,marginEnd:"6px"})]}),"label:StyledFollowButton;"),N=(0,S.default)(C.A,{target:"e85wp6112"})(({theme:{direction:e}})=>(0,j.mp)({direction:e,marginStart:"4px"}),"label:StyledVerifiedBadgeColor;");var W=i(61198),V=i(16356);const H=(0,r.memo)(function({uniqueId:e,enterMethod:t,onClose:i}){const o=(0,u.s)(),a=(0,V.nW)(t=>{const i=t.users[e],n=t.stats[e];if(!i)return null;const{verified:o,avatarThumb:a,secUid:r,nickname:s,roomId:l,id:d,relation:c,signature:u,secret:p}=i,{followerCount:g=0,videoCount:_=0}=null!=n?n:{};return{avatarThumb:a,secUid:r,verified:o,nickname:s,roomId:l,id:d,uniqueId:e,signature:u,relation:c,secret:p,followerCount:g,videoCount:_}},W.bN),{id:s,nickname:l,secUid:d,signature:c,verified:g,followerCount:_,videoCount:S}=(0,p.L$)(a),C=(0,v.fJR)({uniqueId:e,secUid:null!=d?d:""}),j=(0,k.r$)(a),{isShowLive:T}=j,I=T?y.B:b.E,H=(0,k.AL)({user:a,enterMethod:t}),q=(0,x.K)(),{handleFollow:$,text:G,isFollowing:K,relation:Y}=(0,w.Tu)({uniqueId:e,onNeedLogin:q}),Z=K?"default":"line",J=(0,r.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),$(e)},[$]),X=(0,r.useCallback)(()=>{h.q.handleEnterUser({to_user_id:s,enter_method:t}),null==i||i()},[t,s,i]),Q=(0,r.useCallback)(e=>{e.stopPropagation(),null==i||i()},[i]);return(0,n.jsx)(P,{to:C,onClick:X,children:(0,n.jsxs)(A,{children:[(0,n.jsxs)(M,{children:[(0,n.jsx)(I,{uniqueId:e,secUid:d,teaParams:H,shouldStopPropagation:!1,onClick:Q,children:(0,n.jsx)(f.i,Object.assign({},j,{liveTheme:6,size:48}))}),(0,n.jsxs)(L,{children:[(0,n.jsxs)(D,{children:[(0,n.jsx)(O,{children:e}),g&&(0,n.jsx)(N,{width:14,height:14}),(0,n.jsx)(R,{children:l})]}),(0,n.jsx)(E,{className:"bottom-part",children:c?(0,n.jsx)(F,{className:"signature",children:c}):(0,n.jsxs)(B,{children:[(0,n.jsxs)("span",{children:[o("Video"),": ",S]}),(0,n.jsxs)(z,{children:[o("Followers"),": ",(0,p.D1)(_)]})]})})]})]}),(0,n.jsxs)(U,{size:"small",id:s,buttonTheme:Z,onClick:J,children:[2===Y?(0,n.jsx)(m.A,{}):null,G]})]})},s)}),q=(0,S.default)("div",{target:"exlovqy0"})({display:"flex",flexDirection:"column",position:"absolute",width:"700px",height:"500px",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"#fff",boxShadow:"0 2px 12px rgba(0, 0, 0, .12)",borderRadius:"8px"},"label:DivAccountListModal;"),$=(0,S.default)("div",{target:"exlovqy1"})(({theme:{colors:e}})=>({position:"relative",height:"56px","::after":{position:"absolute",left:"0",bottom:"0",content:'""',width:"100%",height:"1px",transform:"scaleY(.5)",background:e.LinePrimary}}),"label:DivHeader;"),G=(0,S.default)("div",{target:"exlovqy2"})(({theme:{direction:e}})=>[{display:"flex"},(0,j.mp)({direction:e,marginStart:"14px"})],"label:DivTabsContainer;"),K=(0,S.default)("div",{target:"exlovqy3"})(({theme:e,active:t,theme:{colors:i}})=>[(0,j.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:t?"bold":"semiBold",typography:"P2"}),{position:"relative",margin:"24px 30px 0",color:t?i.TextPrimary:i.TextTertiary,cursor:"pointer"},t?{"::after":{position:"absolute",left:"0",bottom:"-10px",content:'""',width:"100%",height:"2px",background:i.TextPrimary}}:null],"label:DivTab;"),Y=(0,S.default)("span",{target:"exlovqy4"})(({theme:{direction:e}})=>[(0,j.mp)({direction:e,paddingStart:"4px"})],"label:SpanCount;"),Z=(0,S.default)("div",{target:"exlovqy5"})(({theme:{colors:e,direction:t}})=>[{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:"16px",width:"32px",height:"32px",background:e.BGView,borderRadius:"16px",cursor:"pointer"},(0,j.mp)({direction:t,end:"16px"})],"label:DivCloseBtn;"),J=(0,S.default)("div",{target:"exlovqy6"})(({isHidden:e})=>({flex:"1",overflowY:e?"hidden":"auto"}),"label:DivMain;"),X=(0,S.default)("div",{target:"exlovqy7"})({boxSizing:"border-box",width:"100%",padding:"16px 0 16px 12px"},"label:DivUserList;"),Q=(0,S.default)("div",{target:"exlovqy8"})({boxSizing:"border-box",display:"flex",alignItems:"center",width:"100%",padding:"8px 12px"},"label:DivLoadingContainer;"),ee=(0,S.default)("div",{target:"exlovqy9"})({width:"48px",height:"48px",flexShrink:0},"label:DivAvatarContainer;"),te=(0,S.default)("div",{target:"exlovqy10"})(({theme:{direction:e}})=>[{flexGrow:1},(0,j.mp)({direction:e,marginStart:"12px"})],"label:DivSkeletonTitleContainer;"),ie=(0,S.default)("div",{target:"exlovqy11"})({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"label:DivEmptyContainer;"),ne=(0,S.default)("p",{target:"exlovqy12"})(({theme:e})=>[(0,j.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"bold",lineHeight:"24px",typography:"P1"})],"label:PTitle;"),oe=(0,S.default)("p",{target:"exlovqy13"})(({theme:e,theme:{colors:t}})=>[(0,j.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P2"}),{marginTop:"8px",color:t.TextSecondary}],"label:PDesc;"),ae={following:{title:"following",empty:"following_my_empty_desc"},follower:{title:"Followers",empty:"followers_my_empty_desc"},suggest:{title:"common_registration_username_suggested",empty:"profile_suggested_empty_toast"}},re=(0,r.memo)(function(e){var t;const{visible:i,type:o,shouldShowSuggested:m=!0}=e,h=(0,u.s)(),{user:v}=null!==(t=(0,_.W)(()=>["user"],[]))&&void 0!==t?t:{},f=(0,r.useRef)(null),[y,b]=(0,d.Gd)(e=>({following:e.following,follower:e.follower,suggest:e.suggest}),(e,t)=>a()(e,t)),x={following:"pop_up_following",follower:"pop_up_follower",suggest:"pop_up_suggest"},[k,w]=(0,r.useState)(v?o:"suggest");(0,r.useEffect)(()=>{const{loading:e,list:t}=y.follower;i&&!t.length&&e&&b.getFollowerList({count:20})},[y,b,i]),(0,r.useEffect)(()=>{i&&w(o)},[o,i]);const S=(0,r.useCallback)(e=>()=>{w(e),f.current&&(f.current.scrollTop=0)},[w]),{list:C,loading:j,hasMore:T}=y[k],I=0!==C.length||j,P=(0,c._g)(()=>{var e;if("suggest"===k||j||!T)return;const{scrollTop:t=0,scrollHeight:i=0}=null!==(e=null==f?void 0:f.current)&&void 0!==e?e:{};t&&i-t<480&&("following"===k?b.getFollowingList({count:20}):b.getFollowerList({count:20}))},[b,k,j,T],200),A=(0,r.useMemo)(()=>Array.from({length:C.length?1:7}).fill(0),[C.length]);return(0,n.jsx)(g.i,{isOpen:i,compact:!0,closeOnBackdropClick:!0,onClose:e.onClose,children:(0,n.jsxs)(q,{children:[(0,n.jsxs)($,{children:[(0,n.jsxs)(G,{children:[v&&["following","follower"].map(e=>(0,n.jsxs)(K,{active:k===e,onClick:S(e),children:[(0,n.jsx)("span",{children:h(ae[e].title)}),(y[e].total||!y[e].loading)&&(0,n.jsx)(Y,{children:(0,p.D1)(y[e].total)})]},e)),m&&(0,n.jsx)(K,{active:"suggest"===k,onClick:S("suggest"),children:(0,n.jsx)("span",{children:h("common_registration_username_suggested")})})]}),(0,n.jsx)(Z,{onClick:e.onClose,children:(0,n.jsx)(s.A,{width:14,height:14,style:{color:"rgba(22, 24, 35, 0.75)"}})})]}),(0,n.jsx)(J,{isHidden:j&&!C.length,ref:f,onScroll:P,children:I?(0,n.jsxs)(X,{children:[y[k].list.map(t=>(0,n.jsx)(H,{uniqueId:t,enterMethod:x[k],onClose:e.onClose},t)),j&&A.map((e,t)=>(0,n.jsxs)(Q,{children:[(0,n.jsx)(ee,{children:(0,n.jsx)(l.EA.Avatar,{})}),(0,n.jsxs)(te,{children:[(0,n.jsx)(l.EA.Title,{style:{width:"119px",height:"16px",margin:"4px 0 12px"}}),(0,n.jsx)(l.EA.Title,{style:{width:"254px",height:"12px"}})]}),(0,n.jsx)(l.EA.Button,{style:{width:"106px",height:"36px",flexShrink:0}})]},t))]}):(0,n.jsxs)(ie,{children:[(0,n.jsx)(ne,{children:h(ae[k].title)}),(0,n.jsx)(oe,{children:h(ae[k].empty)})]})})]})})})}}]);