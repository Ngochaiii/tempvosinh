"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4673],{3293:(e,t,i)=>{i.d(t,{Bp:()=>c,Gj:()=>g,OW:()=>v,Yb:()=>u,mp:()=>m,vT:()=>f,xk:()=>d});var o=i(16410),n=i(57693),a=i(91842),r=i(98605),l=i(7713),s=i(93584);const d=(0,o.default)("div",{target:"e148ts220"})(({notPass:e})=>[{position:"absolute",width:"100%",bottom:"0",height:e?"100%":"100px",background:e?"rgba(18, 18, 18, .5)":"linear-gradient(180deg, rgba(22, 24, 35, .0001) 2.92%, rgba(22, 24, 35, .5) 98.99%)",padding:"67px 13px 17px",paddingTop:e?"100%":"67px"},(0,s.jJ)({max:479,style:e?null:{paddingTop:"72px"}})],"label:DivCardFooter;"),c=(0,o.default)("span",{target:"e148ts221"})(({theme:e})=>[(0,s.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"},(0,s.jJ)({max:479,style:{fontSize:"14px",lineHeight:"18px"}})],"label:SpanNotPass;"),u=(0,o.default)("strong",{target:"e148ts222"})(({theme:e})=>[(0,s.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",color:"ConstTextInverse"}),{verticalAlign:"middle",fontSize:"16px"}],"label:StrongVideoCount;"),h=({theme:{direction:e}})=>[(0,s.mp)({direction:e,marginEnd:4}),{verticalAlign:"middle"},(0,s.jJ)({max:479,style:{verticalAlign:"-.15em"}})],p=({theme:{direction:e}})=>({float:(0,s.t7)(e,"end"),position:"relative",top:"4px"}),m=(0,o.default)(n.A,{target:"e148ts223"})(h,"label:StyledHeart;"),v=(0,o.default)(a.A,{target:"e148ts225"})(h,"label:StyledPlay;"),g=(0,o.default)(r.A,{target:"e148ts226"})(p,"label:StyledLock3pt;"),f=(0,o.default)(l.A,{target:"e148ts227"})(p,"label:StyledTwoPerson;")},13198:(e,t,i)=>{i.d(t,{w:()=>p});var o=i(2787),n=i(40099),a=i(27799),r=i(16410),l=i(89293),s=i(30532);const d=(0,r.default)("div",{target:"e1cg0wnj0"})(({borderRadius:e})=>Object.assign({position:"relative",width:"100%"},e?{borderRadius:e,overflow:"hidden"}:{}),"label:DivContainer;"),c=(0,r.default)("div",{target:"e1cg0wnj1"})({position:"absolute",top:"0",left:"0",right:"0",bottom:"0","&:hover, &.copyright-muted":{[`& ${s.jG}`]:{opacity:1},'& [data-e2e="explore-card-info-right"]':{opacity:0}}},"label:DivWrapper;"),u=(0,r.default)(d,{target:"eq741c50"})(({borderRadius:e})=>({borderRadius:null!=e?e:"4px",overflow:"hidden"}),"label:StyledDivContainerV2;"),h=(0,n.memo)(e=>{const{isDetailPage:t}=(0,l.s0)(),i=t?u:d;return(0,o.Y)(i,Object.assign({},e))}),p=(0,n.memo)(function({ratio:e=0,children:t,className:i,borderRadius:n,e2eTag:r="",copyrightMuted:l=!1,onKeyDown:s,id:d}){const u=(0,a.s)(),p=0===e?100:100/e,m=l?"copyright-muted":"";return(0,o.Y)(h,{"data-e2e":r,borderRadius:n,className:i,id:d,tabIndex:0,onKeyDown:s,role:"button","aria-label":u("accessibilityLabels_forYou_videoCard_fullScreen"),children:(0,o.Y)("div",{style:{paddingTop:`${p}%`},children:(0,o.Y)(c,{className:m,children:t})})})})},16549:(e,t,i)=>{i.d(t,{p:()=>s});var o=i(40099),n=i(37783),a=i(16356),r=i(61198),l=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i};const s=(e,t)=>{const[i,s]=(0,n.l8)(t=>t[e],r.bN),d=(0,a.nW)(e=>(null==i?void 0:i.author)?e.users[i.author]:void 0,r.bN);return{handleUpdatePhotoCover:(0,o.useCallback)(e=>{if(!t||!(null==i?void 0:i.imagePost))return;const o=e.naturalHeight,n=e.naturalWidth,{author:a}=i,r=l(i,["author"]);r.imagePost.cover.imageHeight=o,r.imagePost.cover.imageWidth=n,r.imagePost.shareCover.imageHeight=o,r.imagePost.shareCover.imageWidth=n,r.video.height=o,r.video.width=n,r.author=d,s.setItem(r)},[d,t,i,s]),handleUpdatePhotoImages:(0,o.useCallback)(e=>{var t;if(!(null===(t=null==i?void 0:i.imagePost)||void 0===t?void 0:t.images))return;const{author:o}=i,n=l(i,["author"]);e.forEach((e,t)=>{const i=e.naturalHeight,o=e.naturalWidth;n.imagePost.images[t].imageHeight=i,n.imagePost.images[t].imageWidth=o}),n.author=d,s.setItem(n)},[d,i,s])}}},18588:(e,t,i)=>{var o,n;function a(e){var t,i,o,n,a;try{const r={common:{},data:{}},l=e?JSON.parse(null!==(n=null===(o=null===(i=null===(t=e.stream_url)||void 0===t?void 0:t.live_core_sdk_data)||void 0===i?void 0:i.pull_data)||void 0===o?void 0:o.stream_data)&&void 0!==n?n:""):{};if(r.common=l.common,l.data)for(const e in l.data){if(l.data[e].main){const t=JSON.parse(l.data[e].main.sdk_params);r.data[e]={},r.data[e].main=l.data[e].main,r.data[e].main.sdk_params=t}if(l.data[e].backup){const t=JSON.parse(l.data[e].backup.sdk_params);r.data[e]=null!==(a=r.data[e])&&void 0!==a?a:{},r.data[e].backup=l.data[e].backup,r.data[e].backup.sdk_params=t}}return{streamData:r}}catch(e){return{streamData:{}}}}i.d(t,{TS:()=>r,XA:()=>a}),function(e){e.H264="h264",e.Bytevc1="bytevc1",e.H265="h265"}(o||(o={})),function(e){e.LD="ld",e.SD="sd",e.HD="hd",e.HD60="hd_60",e.UHD="uhd",e.UHD60="uhd_60",e.ORIGIN="origin",e.AUTO="auto"}(n||(n={}));const r=e=>{var t,i,o,n,r;const{streamData:l}=a(e),s=null!==(r=null===(n=null===(o=null===(i=null===(t=l.data)||void 0===t?void 0:t.origin)||void 0===i?void 0:i.main)||void 0===o?void 0:o.sdk_params)||void 0===n?void 0:n.resolution)&&void 0!==r?r:"1920x1080",[d,c]=s.split("x");return d&&c?{isVertical:Number(d)<Number(c),width:Number(d),height:Number(c),ratio:Number(d)/Number(c),ratioStr:`${d}/${c}`}:{}}},25598:(e,t,i)=>{i.d(t,{A:()=>r,i:()=>l});var o=i(46294),n=i(71394),a=i(40099);function r(e){return a.createElement("svg",(0,o._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.96 24.15c1.83-4.8 1.05-8.61-.8-11.33a10.87 10.87 0 0 0-6.34-4.49 9.43 9.43 0 0 0-6.83 1.17c-1.08.65-2.1 1.53-2.99 2.66-.9-1.13-1.9-2.01-3-2.66a9.43 9.43 0 0 0-6.82-1.17 10.87 10.87 0 0 0-6.34 4.49c-1.85 2.72-2.63 6.54-.8 11.33 1.43 3.74 4.5 7.23 7.6 9.98a46.31 46.31 0 0 0 8.6 6.12l.76.4.76-.4a46.31 46.31 0 0 0 8.6-6.12c3.1-2.75 6.17-6.24 7.6-9.98ZM24 17.58c2.3-2.88 4.7-6.2 9.03-5.33a6.95 6.95 0 0 1 3.82 2.81c1.07 1.58 1.76 4.02.37 7.66-1.09 2.86-3.6 5.82-6.51 8.43A44.84 44.84 0 0 1 24 36.09a44.84 44.84 0 0 1-6.7-4.94c-2.93-2.6-5.43-5.57-6.52-8.43-1.4-3.64-.7-6.08.37-7.66a6.95 6.95 0 0 1 3.82-2.8c4.33-.88 6.73 2.44 9.03 5.32Z"}))}var l=(0,n.r)(r)},26537:(e,t,i)=>{i.d(t,{x:()=>r});var o=i(2787),n=i(40099),a=i(91954);const r=(0,n.memo)(function(e){var{index:t}=e,i=e.data,{itemList:n,hasTopCard:r,renderTitle:l,justWatchedVideoId:s,teaParams:d={},renderInner:c,renderItemChildren:u,getItemRef:h}=i,p=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}(i,["itemList","hasTopCard","renderTitle","justWatchedVideoId","teaParams","renderInner","renderItemChildren","getItemRef"]),{style:m}=e;const v=n[t],g=n.indexOf(null!=s?s:"");return d=Object.assign(Object.assign({},d),-1!==g&&{index_from_just_watched:g}),(0,o.FD)(o.FK,{children:[0===t&&r&&l,(0,o.Y)(a.g4,Object.assign(Object.assign({id:v,index:t,ref:h(t),teaParams:d},p),{style:m,children:null==u?void 0:u(v)}),v),null==c?void 0:c(t+1)]})})},26819:(e,t,i)=>{i.d(t,{$G:()=>m,PF:()=>h,ph:()=>p});var o=i(2787),n=i(40099),a=i(16410),r=i(41928),l=i(70589),s=i(93584),d=i(89293),c=i(63605),u=i(58814);const h=1700,p=(0,a.default)("div",{target:"ecyq5ls0"})(({mode:e,isNewSearchLayout:t})=>"explore"===e||t?[{display:"grid",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(304px, 1fr))"},(0,s.jJ)({max:1919,style:{gridTemplateColumns:"repeat(auto-fill, minmax(256px, 1fr))"}},{max:767,style:{gridTemplateColumns:"repeat(auto-fill, minmax(209px, 1fr))"}})]:[{display:"grid",width:"100%",gridGap:"24px 16px",gridTemplateColumns:"repeat(auto-fill, minmax(184px, 1fr))"}],({isUnifiedGrid:e})=>e&&[u.pg],"label:DivVideoFeedV2;"),m=(0,n.memo)((0,n.forwardRef)((e,t)=>{const{isDetailPage:i}=(0,d.s0)(),{isSearchPage:a}=(0,d.no)(),{isNewSearchLayout:s}=(0,r.CA)(),{isInProductHoldout:u}=(0,l.Vv)(),h=(0,n.useMemo)(()=>i||a&&s?p:c.$G,[i,s,a]);return(0,o.Y)(h,Object.assign(Object.assign({ref:t},e),{isNewSearchLayout:s,isUnifiedGrid:!u}))}))},27707:(e,t,i)=>{i.d(t,{tf:()=>r,yQ:()=>l});var o=i(64388);const n=(0,i(1183).p)("gifPlayerAtom@tiktok/webapp-desktop",{currentItemId:""}),{useAtomService:a,useServiceDispatchers:r,useServiceState:l,getStaticApi:s}=(0,o.i)(n,(e,t)=>({setCurrentItemId(e){t(n,{currentItemId:e})}}))},41933:(e,t,i)=>{i.d(t,{SA:()=>s,q:()=>a});var o=i(64388);const n=(0,i(1183).p)("cachedUserState@tiktok/webapp-atoms",{uniqueId:""}),{useAtomService:a,useServiceState:r,useServiceDispatchers:l,getStaticApi:s}=(0,o.i)(n,(e,t)=>({setCachedUser(e){t(n,t=>Object.assign(Object.assign({},t),{uniqueId:e}))},resetCachedUser(){t(n,{uniqueId:""})}}))},50971:(e,t,i)=>{i.d(t,{Y:()=>b});var o=i(2787),n=i(40099),a=i(73580),r=i(22889),l=i(55914),s=i(52165),d=i(76824),c=i(7125),u=i(27707),h=i(16410);const p=(0,h.default)("div",{target:"e1id08p20"})({top:0,left:0,width:"100%",height:"100%",position:"absolute"},"label:DivGifPlayerContainer;"),m=(0,h.default)("div",{target:"e1id08p21"})({top:0,left:0,width:"100%",height:"100%",position:"absolute"},"label:DivGifContainer;");var v=i(61198),g=i(96406),f=i(62402);const b=(0,n.memo)(({item:e,horizontal:t,mode:i,posterConfig:h,teaParams:b})=>{const{currentItemId:y}=(0,u.yQ)(e=>e,v.bN),_=(0,a.Nj)(r.V$),{armCoreContentEvent:x}=(0,n.useContext)(l.e),w=(0,n.useCallback)(()=>{null==x||x(),_.reportActualFMP()},[x,_]),k=t||2===i||3===i||5===i||4===i,C=(0,f.y)(e),{isBrowserModeShowing:I}=(0,n.useContext)(s.g);return(0,n.useEffect)(()=>{if((null==e?void 0:e.id)&&e.id===y&&!I){const e={group_id:b.group_id,author_id:b.author_id,play_mode:i};g.f.event("preview_video_play",Object.assign(Object.assign({},e),{has_gif:C.has_gif}));const t=Date.now();return()=>{const i=Date.now()-t;g.f.event("preview_play_time",Object.assign(Object.assign({},e),{duration:i}))}}},[null==e?void 0:e.id,y,i,b.group_id,b.author_id,C.has_gif,I]),e?(0,o.FD)(p,{children:[(null==h?void 0:h.poster)&&(0,o.Y)(d.R,{horizontal:k,mode:i,src:h.poster,alt:h.desc,loading:h.lazyLoading?"lazy":"eager",style:h.style,onLoad:w}),!(null==h?void 0:h.poster)&&(null==h?void 0:h.videoCover)&&(0,o.Y)(c.x,{video:h.videoCover,objectFit:k?"contain":"cover",style:h.style,alt:h.desc,onLoad:w}),e.id===y&&(0,o.Y)(m,{children:(0,o.Y)(c.x,{video:e.video,useDynamic:!0,alt:null==h?void 0:h.desc})})]}):null})},55415:(e,t,i)=>{i.d(t,{Vg:()=>f,ZV:()=>v,o6:()=>g});var o=i(1183),n=i(78695),a=i(64388),r=i(25094),l=i(11421),s=i(46833),d=i(52175),c=i(48941),u=i(43650),h=i(18433),p=i(41933);const m=(0,n._)((0,o.p)("personalPostCacheAtom@tiktok/webapp-atoms",r.hA),{rehydrationKey:"desktop.userPage.personalPostCache"}),{useAtomService:v,useServiceDispatchers:g,useServiceState:f,getStaticApi:b}=(0,a.i)(m,(e,t)=>({setLoading(e){t(m,t=>Object.assign(Object.assign({},t),{loading:e}))},getItemList(i){return o=this,n=void 0,r=function*(){try{t(m,e=>Object.assign(Object.assign({},e),{loading:!0}));const{secUid:n,userId:a,userUniqueId:r,count:v,filterPhotoContent:g,locateItemID:f,needPinnedItemIds:b=!0}=i,y=(0,l.bv)(e,m,Object.assign({secUid:n,userId:a,count:null!=v?v:c.M4,postItemListRequestType:s.Fo.LATEST,needPinnedItemIds:b},f&&{locateItemID:f}));(0,p.SA)().setCachedUser(r);const _=(0,d.Ob)(y);t(m,e=>Object.assign(Object.assign({},e),{prevPromise:_}));const x=yield _;var o;g&&(x.itemList=null==(o=x.itemList)?void 0:o.filter(e=>!e.imagePost)),(0,h.Tj)(e,t,m,u.Lz.UserPost,x,{secUid:n})}catch(e){(0,h.e_)(t,m)}},new((a=void 0)||(a=Promise))(function(e,t){function i(e){try{s(r.next(e))}catch(e){t(e)}}function l(e){try{s(r.throw(e))}catch(e){t(e)}}function s(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a(function(e){e(o)})).then(i,l)}s((r=r.apply(o,n||[])).next())});var o,n,a,r},resetItemList(){t(m,r.hA)}}))},60752:(e,t,i)=>{i.d(t,{B:()=>D});var o=i(72516),n=i(71450),a=i(4126),r=i(93995),l=i(23999),s=i(63700),d=i(26324),c=i(8536),u=i(35572),h=i(20259),p=i(74690),m=i(80339),v=i(76435),g=i(31291),f=i(24451),b=i(57009),y=i(30301),_=i(1404),x=i(69831),w=i(60267),k=i(83692),C=i(7672),I=i(44094);let T=class{constructor(e){this.fetch=e}getQuestionDetail(e){return this.fetch.get("/api/question/detail/",{query:e,baseUrlType:2})}};T=(0,o.__decorate)([(0,C._)(),(0,o.__metadata)("design:paramtypes",[I.p])],T);let D=class extends n.E{constructor(e,t,i,o,n,a){super(),this.service=e,this.seoModule=t,this.itemList=i,this.item=o,this.user=n,this.bizContext=a,this.defaultState={statusCode:0,questionInfo:void 0,loading:!0}}setQuestionInfo(e,t){const{statusCode:i=0,questionInfo:o}=null!=t?t:{};e.statusCode=i,e.questionInfo=o}resetData(e){e.loading=!0,e.statusCode=0,e.questionInfo=void 0}setLoading(e,t){e.loading=t}resetQuestionData(e){return e.pipe((0,c.Z)(()=>(0,l.of)(this.getActions().dispose$(),this.getActions().resetData(),this.itemList.getActions().dispose$(),this.itemList.getActions().resetItemList({key:"question"}))))}getQuestionPageData(e){return e.pipe((0,u.p)(({questionId:e="",scene:t="",abTestVersion:i,user:o,language:n,appType:a})=>this.service.getQuestionDetail({questionId:e,language:n}).pipe((0,h.W)(()=>(0,l.of)({statusCode:-1})),(0,c.Z)(r=>{const{statusCode:d}=r,c=[(0,l.of)(this.getActions().setQuestionInfo(r),this.getActions().setLoading(!1))];let u;return 0===d&&(u=this.itemList.getQuestionList$({questionID:e,abTestVersion:i,user:o,language:n}),c.push(u)),(0,s.h)(...c,this.setSEO(r,t,n,a,u))}),(0,p.Z)(this.getActions().setLoading(!0)),(0,m.q)(this.getActions().setLoading(!1),this.terminate()),(0,v.Q)(this.dispose$),(0,h.W)(e=>(console.error(e),(0,l.of)(this.noop()))))))}setSEO(e,t,i,o,n){var a;if((null===(a=this.bizContext.state.bizContext)||void 0===a?void 0:a.isBot)&&n){const a=this.itemList.state$.pipe((0,g.s)(1),(0,f.E)(this.item.state$,this.user.state$),(0,c.Z)(([n,a,r])=>{var l,s;const d=null===(l=n.question)||void 0===l?void 0:l.list,c=(null!==(s=null==d?void 0:d.map(e=>a[e]))&&void 0!==s?s:[]).filter(Boolean),u=c.map(e=>{var t;return Object.assign(Object.assign({},e),{author:r.users[null!==(t=e.author)&&void 0!==t?t:""]})});return this.seoModule.setQuestionSEOProps(e,{language:i},c,o,{scene:t},u)}));return n.pipe((0,b.$)(a))}return this.seoModule.setQuestionSEOProps(e,{language:i},[],o,{scene:t})}};(0,o.__decorate)([(0,a.uk)(),(0,o.__metadata)("design:type",d.c)],D.prototype,"dispose$",void 0),(0,o.__decorate)([(0,a.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setQuestionInfo",null),(0,o.__decorate)([(0,a.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"resetData",null),(0,o.__decorate)([(0,a.h5)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object,Boolean]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"setLoading",null),(0,o.__decorate)([(0,a.Mj)(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.c]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"resetQuestionData",null),(0,o.__decorate)([(0,a.Mj)({payloadGetter:1}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[d.c]),(0,o.__metadata)("design:returntype",void 0)],D.prototype,"getQuestionPageData",null),D=(0,o.__decorate)([(0,r.n)("QuestionModuleDesktop"),(0,o.__metadata)("design:paramtypes",[T,y.E,_.O,x.k,w.U,k.$])],D)},62402:(e,t,i)=>{i.d(t,{t:()=>l,y:()=>s});var o=i(70589),n=i(40099),a=i(27707);const r=[8,1,105,106,107,19,3,4,104,124,122],l=e=>{const t=(0,o._Y)(),i=(0,a.tf)(),l=(0,n.useCallback)(e=>i.setCurrentItemId(e),[i]);return{inGifPlayerExperiment:(0,n.useMemo)(()=>t&&r.includes(e),[t,e]),setGifPlayerItemId:l}},s=e=>{const t=(0,o._Y)();return(0,n.useMemo)(()=>t&&e?{has_gif:e.video.dynamicCover===e.video.cover||e.video.dynamicCover===e.video.originCover?"0":"1"}:{},[t,e])}},62917:(e,t,i)=>{i.d(t,{s:()=>E});var o=i(2787),n=i(95074),a=i(40099),r=i(17328),l=i(19664),s=i(93459),d=i(81378),c=i(7182),u=i(27799),h=i(59835),p=i(16410),m=i(93584),v=i(24643),g=i(76926);const f={id:"person-fill-fca39243",use:"person-fill-fca39243-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="person-fill-fca39243"><path d="M5 .25a2.75 2.75 0 1 0 0 5.5 2.75 2.75 0 0 0 0-5.5M1.622 10.5c-.449 0-.802-.396-.662-.822a4.252 4.252 0 0 1 8.08 0c.14.426-.213.822-.662.822z" clip-rule="evenodd" /></symbol>'};function b(e){const t=(0,a.useContext)(g.X);return(0,a.useLayoutEffect)(()=>(t.add(f),()=>{t.remove("person-fill-fca39243")}),[]),(0,v.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,v.jsx)("use",{xlinkHref:"#person-fill-fca39243"},void 0)}),void 0)}const y={id:"thumbs-up-fill-af859b0b",use:"thumbs-up-fill-af859b0b-usage",viewBox:"0 0 10 11",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" id="thumbs-up-fill-af859b0b"><path d="M6.512 3.784V2.036c0-.51-.272-.957-.677-1.203-.395-.239-.842-.006-1.029.417L3 4.625v5.5c0 .069.056.125.125.125h5.29a.93.93 0 0 0 .931-.796l.643-4.469a.94.94 0 0 0-.218-.755.93.93 0 0 0-.713-.321H6.637a.125.125 0 0 1-.125-.125m-4.387.824c.069 0 .125.056.125.125v5.392a.125.125 0 0 1-.125.125h-.823A1.05 1.05 0 0 1 .25 9.326V5.584c.07-.537.523-.985 1.052-.976z" /></symbol>'};function _(e){const t=(0,a.useContext)(g.X);return(0,a.useLayoutEffect)(()=>(t.add(y),()=>{t.remove("thumbs-up-fill-af859b0b")}),[]),(0,v.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor"},e,{children:(0,v.jsx)("use",{xlinkHref:"#thumbs-up-fill-af859b0b"},void 0)}),void 0)}var x;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(x||(x={}));const w=(0,p.default)("div",{target:"ej426ge0"})(({theme:{direction:e,fontFamilies:t,fontWeights:i}})=>[{position:"absolute",height:"17px",display:"flex",alignItems:"center",fontFamily:t.TikTokFont,fontWeight:i.semiBold,top:"8px",zIndex:10},(0,m.mp)({direction:e,start:"8px"})],"label:LiveTag;"),k=(0,p.default)("div",{target:"ej426ge1"})(({position:e})=>[{padding:"0 4px",height:"17px",display:"flex",alignItems:"center"},0===e?{background:"linear-gradient(131.17deg, #ff1764 0%, #ed3495 94.15%)",borderBottomLeftRadius:"2px",borderTopLeftRadius:"2px"}:{background:"rgba(37, 37, 37, 0.6)",borderBottomRightRadius:"2px",borderTopRightRadius:"2px"}],"label:LiveTextWrap;"),C=(0,p.default)("div",{target:"ej426ge2"})(({theme:{direction:e}})=>[{color:"#fff",textAlign:"center"},(0,m.mp)({direction:e,marginStart:"2px"})],"label:LiveText;"),I={width:"12px",height:"12px",color:"#fff"},T=(0,p.default)(_,{target:"ej426ge5"})(I,"label:IconThumbsUp;"),D=(0,p.default)(b,{target:"ej426ge6"})(I,"label:IconPerson;");function L(e=0){return e<1e3?e.toString():e<1e5?`${(e/1e3).toFixed(1)}K`:e<1e6?`${(e/1e3).toFixed(0)}K`:`${(e/1e6).toFixed(1)}M`}const P=(0,a.memo)(function({live:e}){const{user_count:t=0,like_count:i=0}=e,n=(0,u.s)();let a=D,r=L(t);+t<=50&&i>t&&(a=T,r=L(i));const l=(0,h.Eo)();return(0,o.FD)(w,{children:[(0,o.Y)(k,{position:0,children:(0,o.Y)(C,{children:n("pm_main_live_entry_final")})}),!l&&(0,o.FD)(k,{position:1,children:[(0,o.Y)(a,{}),(0,o.Y)(C,{children:r})]})]})}),S=(0,p.default)("div",{target:"e1474lcs0"})(({horizontal:e,mode:t,theme:{colors:i}})=>[{width:"100%",height:"100%",overflow:"hidden",position:"relative",backgroundColor:i.BGPlaceholderDefault,backgroundSize:e?"contain":"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},1===t?{display:"flex",alignItems:"center",justifyContent:"center",backgroundSize:"cover"}:null],"label:DivLink;"),Y=(0,p.default)("img",{target:"e1474lcs1"})({width:"100%",height:"100%",objectFit:"cover"},"label:ImgPoster;"),j=(0,p.default)("div",{target:"e1474lcs2"})(({horizontal:e=!0,show:t=!1})=>({position:"absolute",left:0,top:0,width:"100%",height:"100%","& .xgplayer video":{display:"block",width:"100%",height:"100%",objectFit:e?"contain":"cover"},zIndex:1,opacity:t?1:0,transition:"opacity 0.5s"}),"label:DivBasicPlayerWrapper;");var O=i(18588);const E=(0,a.memo)(function({id:e,mode:t,searchType:i,search_result_id:u,searchTopCardType:h}){var p,m,v,g,f;const{live:b}=(0,n.P)(r.d,{selector:t=>({live:t[e]}),dependencies:[e]}),y=null===(m=null===(p=b.square_cover_img)||void 0===p?void 0:p.url_list)||void 0===m?void 0:m[0],[_,x]=(0,a.useState)(null!==(f=null!=y?y:null===(g=null===(v=b.cover)||void 0===v?void 0:v.url_list)||void 0===g?void 0:g[0])&&void 0!==f?f:""),{currentVideo:w,playType:k}=(0,l.MY)(),[C,I]=(0,a.useState)(!1),T=(0,s.t4)(),{keyword:D,rid:L}=(0,n.P)(d.tq,{selector:e=>e[i],dependencies:[i]}),{isVertical:E}=(0,O.TS)(b),{streamData:M}=(0,a.useMemo)(()=>(0,O.XA)(b),[b]),A=(0,a.useMemo)(()=>{var e,t,i,o,n;const{sd:a,hd:r,uhd:l,origin:s}=null!==(e=M.data)&&void 0!==e?e:{};return null!==(n=null===(o=null!==(i=null!==(t=null!=a?a:r)&&void 0!==t?t:l)&&void 0!==i?i:s)||void 0===o?void 0:o.main.flv)&&void 0!==n?n:""},[M.data]),W=(0,a.useMemo)(()=>{var e;return null===(e=M.common)||void 0===e?void 0:e.drm_secret_key},[M.common]),B=(0,a.useMemo)(()=>{if(!w)return!1;const{id:i,mode:o}=w,n=i===e&&o===t;return n||I(!1),n},[e,t,w]),F=(0,a.useCallback)(()=>{I(!0)},[]),V=(0,a.useMemo)(()=>{var e;return{enter_from_merge:"live"===i?"search_result":"general_search",enter_method:20===h?"live_cover":"live_cell",room_id:b.id_str,anchor_id:null===(e=b.owner)||void 0===e?void 0:e.id_str,search_type:"live"===i?"live":"general",search_id:L,search_result_id:null!=u?u:b.id_str,search_keyword:D,play_type:k}},[D,b,k,L,h,i,u]),R=(0,a.useCallback)(()=>{var e,t,i,o,n;const a=null!==(i=null===(t=null===(e=b.square_cover_img)||void 0===e?void 0:e.url_list)||void 0===t?void 0:t[1])&&void 0!==i?i:null===(n=null===(o=b.cover)||void 0===o?void 0:o.url_list)||void 0===n?void 0:n[1];x(null!=a?a:"")},[b]);return(0,o.FD)(S,{mode:t,horizontal:!E,children:[_?(0,o.Y)(Y,{mode:2,src:_,alt:b.title,loading:"lazy",onError:R}):null,(0,o.Y)(j,{horizontal:!E,"data-e2e":"browse-live-player",show:B&&C,children:(0,o.Y)(c.I,{visible:B,defaultVolume:0,showVolumeIcon:!1,defaultMuted:!0,playing:!0,autoInit:!0,autoplay:!0,autoMutedPlay:!0,url:A,drmSecretKey:W,onLoadedData:F,teaParams:V,loggerConfig:T})}),(0,o.Y)(P,{live:b})]})})},63099:(e,t,i)=>{i.d(t,{N:()=>r});var o=i(46294),n=i(71394),a=i(40099),r=(0,n.r)(function(e){return a.createElement("svg",(0,o._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.87 9.37C3 11.07 3 13.32 3 17.8v12.4c0 4.48 0 6.72.87 8.43a8 8 0 0 0 3.5 3.5c1.7.87 3.95.87 8.43.87h16.4c4.48 0 6.72 0 8.43-.87a8 8 0 0 0 3.5-3.5c.87-1.7.87-3.95.87-8.43V17.8c0-4.48 0-6.72-.87-8.43a8 8 0 0 0-3.5-3.5C38.93 5 36.68 5 32.2 5H15.8c-4.48 0-6.72 0-8.43.87a8 8 0 0 0-3.5 3.5ZM8 30.2v-.63a5 5 0 0 1 1.46-3.53l1.5-1.5a5 5 0 0 1 7.08 0L31.5 38H15.8c-2.32 0-3.76 0-4.85-.1-1.02-.08-1.28-.2-1.31-.23a3 3 0 0 1-1.31-1.3c-.02-.04-.15-.3-.24-1.32C8 33.96 8 32.52 8 30.2ZM32 23a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z"}))})},63605:(e,t,i)=>{i.d(t,{$G:()=>r,Ct:()=>c,fW:()=>d,hb:()=>s,jl:()=>l});var o=i(16410),n=i(93584),a=i(58814);const r=(0,o.default)("div",{target:"eegew6e0"})(({hasDescUnderItem:e,notWrap:t})=>[{"::after":{content:'""',height:"0",display:"block",clear:"both"}},e?{display:"flex",flexWrap:"wrap"}:null,t?{flexWrap:"nowrap"}:null,(0,n.jJ)({max:767,style:{width:"100%"}})],({isUnifiedGrid:e})=>e&&[a.pg],"label:DivVideoFeed;"),l=(0,o.default)("div",{target:"eegew6e2"})(({isSearchTopCard:e})=>({width:e?"calc(100% + 12px)":"100%"}),"label:DivThreeColumnContainer;"),s=(0,o.default)("div",{target:"eegew6e3"})(({theme:{colors:e}})=>({height:"48px",color:e.TextTertiaryAlt,fontSize:"18px",lineHeight:"22px",display:"flex",justifyContent:"center",alignItems:"center"}),"label:DivNoMoreResultsContainer;"),d=(0,o.default)("div",{target:"eegew6e4"})(({theme:{direction:e},containerRight:t})=>Object.assign({position:"fixed",minWidth:"60px",bottom:"40px",zIndex:1},(0,n.mp)({direction:e,end:`${t}px`})),"label:DivJustWatchedButtonContainer;"),c=(e,t)=>({backgroundColor:e?void 0:t?"#252525":"#fff"})},73198:(e,t,i)=>{i.d(t,{BV:()=>c,Fp:()=>s,T6:()=>a,Uz:()=>h,Zt:()=>u,h9:()=>l});var o=i(16410),n=i(93584);const a=(0,o.default)("a",{target:"eih2qak0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;");var r;!function(e){e.ArrowLeft="left",e.ArrowRight="right",e.ArrowTop="top",e.ArrowBottom="bottom"}(r||(r={}));const l=(0,o.default)("div",{target:"eih2qak1"})(({theme:e})=>[(0,n.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box",width:"100%"}],"label:DivTagCardDesc;"),s=(0,o.default)("span",{target:"eih2qak2"})(({theme:e})=>({color:e.colors.TextTertiaryAlt}),{marginTop:"2px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"auto"},"label:SpanInfoExpandIconWrapper;");function d(e,t){return"right"===e?function(e){const t={borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderRight:"10px solid",borderRightColor:e.colors.BGSecondary};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginTop:"32px",marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginTop:"30px",marginLeft:"8px"})}(t):"bottom"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderBottom:"10px solid",borderBottomColor:e.colors.BGSecondary,marginTop:"60px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-16px"}):Object.assign(Object.assign({},t),{marginLeft:"-20px"})}(t):"left"===e?function(e){return{borderBottom:"12px solid transparent",borderTop:"12px solid transparent",borderLeft:"10px solid",borderLeftColor:e.colors.BGSecondary,marginTop:"30px",marginLeft:"-30px"}}(t):"top"===e?function(e){const t={borderLeft:"12px solid transparent",borderRight:"12px solid transparent",borderTop:"10px solid",borderTopColor:e.colors.BGSecondary,marginRight:"-20px",marginTop:"20px"};return"ltr"!==e.direction?Object.assign(Object.assign({},t),{marginRight:"-20px"}):Object.assign(Object.assign({},t),{marginLeft:"-18px"})}(t):{}}const c=(0,o.default)("div",{target:"eih2qak3"})(({renderDirection:e,visible:t,theme:i})=>[{width:0,height:0,position:"absolute",display:t?"block":"none",zIndex:100},d(e,i)],"label:DivInfoCardArrow;"),u=(0,o.default)("div",{target:"eih2qak4"})({display:"flex",position:"relative"},"label:DivDesContainer;"),h=(0,o.default)("span",{target:"eih2qak5"})({position:"absolute",display:"flex",top:-28,":hover":{cursor:"pointer"}},({theme:{direction:e}})=>"ltr"===e?{right:0}:{left:0},"label:SpanInfoExpandWrapper;")},77977:(e,t,i)=>{i.d(t,{Nj:()=>_,R8:()=>w,Sw:()=>y,b3:()=>b,tg:()=>f,xr:()=>x});var o=i(40099),n=i(11060),a=i(69857),r=i(90976),l=i(88985),s=i(45375),d=i(2232),c=i(10453),u=i(55415),h=i(37783),p=i(3702),m=i(19664),v=i(61198),g=function(e,t,i,o){return new(i||(i=Promise))(function(n,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,l)}s((o=o.apply(e,t||[])).next())})};function f(){const{language:e,abTestVersion:t,user:i,appType:s}=(0,a.L$)((0,r.W)(()=>["language","abTestVersion","user","appType"],[])),{uniqueId:d}=(0,n.g)();return(0,o.useMemo)(()=>Object.assign({language:e,abTestVersion:t,user:i,appType:s},(0,l.b_)(d)),[d,e,t,i,s])}function b({uniqueId:e,secUid:t}){const{user:i}=(0,a.L$)((0,r.W)(()=>["user"],[]));return!!i&&(Boolean(e&&e===i.uniqueId)||Boolean(t&&t===i.secUid))}function y({user:e,listKey:t,locateItemID:i,count:n,useCachedVideoList:a}){const r=(0,c.Ag)(),l=(0,u.o6)();return(0,o.useCallback)(()=>g(this,void 0,void 0,function*(){(null==e?void 0:e.secUid)&&(a?yield l.getItemList({secUid:e.secUid,userUniqueId:e.uniqueId}):yield r.getItemList(t,Object.assign(Object.assign({secUid:e.secUid},i&&{locateItemID:i}),n&&{count:n})))}),[r,l,a,t,null==e?void 0:e.uniqueId,null==e?void 0:e.secUid,i,n])}const _=()=>{const e=(0,p.R0)(e=>e.uniqueId),{pathname:t,search:i}=(0,n.zy)();(0,o.useEffect)(()=>{const o=t.replace(/^\/@/,"");if(e&&!(0,s.$2s)(o)){const t=`${(0,s.fJR)({uniqueId:e})}${i}`;window.history.replaceState(window.history.state,"",t)}},[e,t])},x=()=>{var e;const{justWatchedVideo:t=null}=(0,m.MY)(),i=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",o=(0,a.L$)((0,h.F3)(e=>e[i],v.bN));if(!i)return{justWatchedVideoId:null,justWatchedAuthorUniqueId:null,justWatchedAuthorId:null};const{author:n=null,authorId:r=null}=(0,a.L$)(o);return{justWatchedVideoId:i,justWatchedAuthorUniqueId:n,justWatchedAuthorId:r}},w=()=>{var e;const{abTestVersion:t}=(0,a.L$)((0,r.W)(()=>["abTestVersion"],[]));return{count:{v0:35,v1:28,v2:24,v3:20,v4:16,v5:12}[null!==(e=(0,d.qt)(t,"reduce_user_item_list"))&&void 0!==e?e:"v0"]}}},86674:(e,t,i)=>{i.d(t,{$t:()=>x,EI:()=>f,EZ:()=>g,H4:()=>C,WA:()=>w,aK:()=>k,p$:()=>_});var o=i(45027),n=i(40099),a=i(11060),r=i(90976),l=i(61322),s=i(2232),d=i(81378),c=i(31810),u=i(34778),h=i(37818),p=i(96406),m=i(24443),v=i(61198);const g=()=>{var e,t;const{user:i}=null!==(e=(0,r.W)(()=>["user"],[]))&&void 0!==e?e:{},{isBot:o,searchVideoForLoggedin:s,searchLiveForLoggedin:d}=null!==(t=(0,l.U)(()=>["isBot","searchVideoForLoggedin","searchLiveForLoggedin"],[]))&&void 0!==t?t:{},c=(0,m.b1)(),{search:u,pathname:p}=(0,a.zy)(),v=Boolean(i),g=(0,a.W6)();(0,n.useEffect)(()=>{if(!(o||v||p===h.OZ.searchUser||p===h.OZ.searchHome&&!s||p===h.OZ.searchVideo&&!s||p===h.OZ.searchLive&&!d)){c.setCloseCallback(()=>{let e=h.OZ.searchUser;s||(e=h.OZ.searchHome),g.push({pathname:e,search:u,state:{needLoad:!1,enterMethod:"click_icon",searchSource:"switch_tab"}})});const{state:{enterFrom:e}}=g.location;c.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"explore_page"===e?"explore_all":"prompt",type:"search"}})}},[])},f=()=>{var e;const{user:t}=null!==(e=(0,r.W)(()=>["user"],[]))&&void 0!==e?e:{};return Boolean(t)};function b(e){return!!["no_results","show_with_button"].includes(e)}function y(e){return"show_with_button"===e}const _=e=>{const t=(null==e?void 0:e.data)?null==e?void 0:e.data.show_results_type:"",[i,o]=(0,n.useState)(()=>b(t)),[a,r]=(0,n.useState)(()=>y(t));return(0,n.useEffect)(()=>{o(()=>b(t)),r(()=>y(t))},[t]),{hideSearchResult:i,skipError:e&&11===e.type||!1,onShowResult:function(){y(t)&&(o(!1),r(!1))},showResultButton:a}},x=()=>{var e,t;const i=(0,r.W)(()=>["abTestVersion"],[]),o=null!==(e=(0,s.qt)(null==i?void 0:i.abTestVersion,"search_video"))&&void 0!==e?e:"v1",{user:a}=null!==(t=(0,r.W)(()=>["user"],[]))&&void 0!==t?t:{},l=Boolean(a),d=(0,m.b1)();return(0,n.useCallback)(()=>{"v3"!==o&&"v4"!==o||l||d.openModal({isSignup:!1,query:{redirect_url:window.location.href,enter_method:"click_top_bar",enter_from:p.f.commonParams.page_name,type:"loginsearchmore"}})},[d,o,l])},w=e=>{const[{loading:t=!0,hasMore:i=!0}]=(0,o.S)(d.tq,{dependencies:[e],selector:t=>t[e]}),{handleSearch:a}=(0,c.nY)(e);return(0,n.useCallback)(()=>{!t&&i&&a.bind(null,!0,!1)()},[a,t,i])},k=(e,t)=>{var i;const a=(0,r.W)(()=>["abTestVersion"],[]),l=null!==(i=(0,s.qt)(null==a?void 0:a.abTestVersion,"search_video"))&&void 0!==i?i:"v1",c=f(),[{hasMore:h=!0,error:p}]=(0,o.S)(d.tq,{dependencies:[e],selector:t=>t[e]}),m=w(e),g=x(),{showingBrowserMode:b,currentIndex:y}=(0,u.JD)(e=>({showingBrowserMode:e.showingBrowserMode,currentIndex:e.currentIndex}),v.bN);(0,n.useEffect)(()=>{const e=("v3"===l||"v4"===l)&&!c;!h&&b&&e&&t.length-y===1?g():h&&b&&!e&&!p&&t.length-y<=3&&m()},[y,b,l,t.length,c,p,g,m,h])},C=(e,t,i,o)=>{(0,n.useEffect)(()=>{var n,a,r,l,s,d;const c=null!==(a=null===(n=document.getElementById("app-header"))||void 0===n?void 0:n.clientHeight)&&void 0!==a?a:0,u=null!==(l=null===(r=document.getElementById("search-tabs"))||void 0===r?void 0:r.clientHeight)&&void 0!==l?l:0,h=window.innerHeight;e.length>0&&(null!==(d=null===(s=t.current)||void 0===s?void 0:s.clientHeight)&&void 0!==d?d:0)+c+u<=h&&i&&(null==o||o())},[e.length,t,i,o])}},91954:(e,t,i)=>{i.d(t,{g4:()=>qt});var o=i(2787),n=i(40099),a=i(67518),r=i(63099),l=i(92067),s=i(16537),d=i(69857),c=i(20597),u=i(70589),h=i(41928),p=i(90976),m=i(2232),v=i(10114),g=i(17328),f=i(41516),b=i(55765),y=i(19664),_=i(34778),x=i(52165),w=i(27799),k=i(43887),C=i(24298),I=i(45375),T=i(75557),D=i(20434),L=i(6418),P=i(89610),S=i(63336),Y=i(9581),j=i(81491),O=i(49389),E=i(73289),M=i(99134),A=i(95074),W=i(45027),B=i(73580),F=i(96406),V=i(66493),R=i(39001),U=i(73995),N=i(75051),q=i(43664),$=i(9407),z=i(48156),H=i(37783),G=i(92511),K=i(16356),Q=i(66767),J=i(44643),Z=i(24443),X=i(97593),ee=i(13198),te=i(89293),ie=i(87314),oe=i(16549),ne=i(21745),ae=i(46494),re=i(62245),le=i(86697),se=i(62917),de=i(97517),ce=i.n(de);function ue(e,t,i,o=!1,n=!1){const a="JP"===e||n;return{showLike:a,count:o?t:a||n?i:t}}var he,pe=i(22797),me=i(54253),ve=i(16410),ge=i(29098),fe=i(93584),be=i(37082);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INSIDE=1]="INSIDE"}(he||(he={}));const ye=(0,ve.default)("div",{target:"exdlci10"})(({type:e,showMuteIcon:t})=>[{display:"flex",alignItems:"center",overflow:"hidden",marginTop:"2px"},1===e?{position:"absolute",bottom:"0",boxSizing:"border-box",width:"100%",height:"60px",background:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(0, 0, 0, .5) 100%)",marginTop:"0",padding:t?"24px 36px 12px 12px":"24px 12px 12px"}:null],"label:DivCardAvatar;"),_e=(0,ve.default)(be.e,{target:"exdlci11"})({flex:"none"},"label:StyledAvatar;"),xe=(0,ve.default)(pe.N_,{target:"exdlci12"})({overflow:"hidden"},"label:StyledLink;"),we=(0,ve.default)(ge.A,{target:"exdlci13"})(({theme:{direction:e}})=>[{flex:"none"},(0,fe.mp)({direction:e,marginStart:4})],"label:StyledVerifiedBadgeColor;"),ke=(0,ve.default)("h4",{target:"exdlci14"})(({theme:{colors:e,direction:t},type:i})=>[{display:"flex",alignItems:"center",fontSize:"16px",lineHeight:"22px",color:1===i?e.BGPrimary:e.TextSecondary,whiteSpace:"nowrap",overflow:"hidden",":hover":{textDecoration:"underline"}},(0,fe.mp)({direction:t,marginStart:1===i?4:8})],"label:H4UserTitle;"),Ce=(0,ve.default)("p",{target:"exdlci15"})(({theme:e,type:t})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:1===t?"semiBold":"normal"}),{flex:"1",overflow:"hidden",textOverflow:"ellipsis",color:"rgba(255,255,255,1.0)"}],"label:PUserName;"),Ie=(0,n.memo)(function({item:e,teaParams:t,e2ePrefix:i,type:a=0,showMuteIcon:r=!1}){var l;const{language:s}=null!==(l=(0,p.W)(()=>["language"],[]))&&void 0!==l?l:{},{author:c,id:u}=null!=e?e:{},h=(0,K.nW)(e=>{var t;if(c)return null===(t=e.users)||void 0===t?void 0:t[c]}),{uniqueId:m="",secUid:v,avatarThumb:g,verified:f,nickname:b}=(0,d.L$)(h),y=`${(0,I.fJR)({uniqueId:m,secUid:null!=v?v:""})}?lang=${s}`,_=(0,n.useCallback)(e=>i=>{null==i||i.stopPropagation(),me.q.handleEnterUser(Object.assign(Object.assign({},t),{enter_method:e,to_user_id:c,group_id:u,author_id:c}))},[c,u,t]);return(0,o.FD)(ye,{type:a,showMuteIcon:r,children:[(0,o.Y)(pe.N_,{"data-e2e":`${i}-item-avatar`,to:y,onClick:_("user_portrait"),children:(0,o.Y)(_e,{src:g,size:24,alt:`${b},${m}`})}),(0,o.Y)(xe,{title:m,onClick:_("user_name"),to:y,children:(0,o.FD)(ke,{type:a,children:[(0,o.Y)(Ce,{"data-e2e":`${i}-item-username`,className:"user-name",type:a,children:m}),f&&(0,o.Y)(we,{width:14,height:14})]})})]})});var Te=i(59835),De=i(3293);const Le=(0,n.memo)(function({item:e,content:t,prioritizeLike:i}){var n;const a=(0,w.s)(),{region:r=""}=null!==(n=(0,p.W)(()=>["region"],[]))&&void 0!==n?n:{},{secret:l,forFriend:s,showNotPass:c,scheduleTime:u}=(0,d.L$)(e),{diggCount:h,playCount:m}=(0,G.D)(e),v=(0,d.D1)(h),g=(0,d.D1)(null!=m?m:0),{showLike:f,count:b}=ue(r,g,v,!1,i),y=(0,Te.Eo)();return t?(0,o.Y)(De.xk,{notPass:c,children:t}):(0,o.Y)(De.xk,{notPass:c,children:u?null:c?(0,o.Y)(De.Bp,{children:a("cover_notice_violation")}):(0,o.FD)(o.FK,{children:[!y&&(0,o.FD)(o.FK,{children:[f?(0,o.Y)(De.mp,{className:"like-icon",width:18,height:18,fill:"#fff"}):(0,o.Y)(De.OW,{"data-e2e":"video-play",className:"like-icon",width:18,height:18,fill:"#fff"}),(0,o.Y)(De.Yb,{"data-e2e":"video-views",className:"video-count",children:b})]}),l&&!s&&(0,o.Y)(De.Gj,{className:"private",width:18,height:18,fill:"#fff"}),s&&(0,o.Y)(De.vT,{className:"private",width:18,height:18,fill:"#fff"})]})})});var Pe=i(27363),Se=i(45391),Ye=i(78351),je=i(5786),Oe=i(61198);const Ee=(0,ve.default)("div",{target:"ewsiauk0"})(({disable:e,withBack:t})=>[e&&{pointerEvents:"none"},t&&{padding:"4px 12px"}],"label:DivVideoExploreCardDesc;"),Me=(0,ve.default)("div",{target:"ewsiauk1"})(({ellipsisLine:e})=>[(0,fe.m4)(e),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}],"label:DivMetaCaptionLine;"),Ae=(0,ve.default)("div",{target:"ewsiauk2"})(({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"8px"}],"label:DivCardBottomInfo;"),We=(0,ve.default)("div",{target:"ewsiauk3"})(({theme:e})=>[(0,fe.zy)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"}],"label:DivPlayLine;"),Be=(0,ve.default)("div",{target:"ewsiauk4"})({display:"flex",alignItems:"center",overflow:"hidden"},"label:DivUserInfo;"),Fe=(0,ve.default)("p",{target:"ewsiauk5"})(({theme:{direction:e}})=>[(0,fe.mp)({direction:e,marginStart:"4px",marginEnd:"4px"}),{direction:"ltr",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis"}],"label:PUniqueId;"),Ve=(0,ve.default)("div",{target:"ewsiauk6"})(({theme:{colors:e},isOnCard:t})=>({fontSize:"16px",fontWeight:600,color:t?"white":e.TextTertiaryAlt}),"label:DivExploreCardText;"),Re=(0,ve.default)("div",{target:"ewsiauk7"})(({theme:{direction:e}})=>({display:"flex",alignItems:"center",flexShrink:0,cursor:"pointer","& > svg":Object.assign({fontSize:"20px"},(0,fe.mp)({direction:e,marginEnd:"2px"}))}),"label:DivIconText;"),Ue=(0,n.memo)(function({author:e}){const t=(0,K.nW)(t=>t.users[e],Oe.bN),{avatarThumb:i="",uniqueId:a="",verified:r=!1,secUid:l}=(0,d.L$)(t),s=(0,n.useMemo)(()=>{var e;return{to_user_id:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",enter_method:"click_category_video_user_name"}},[null==t?void 0:t.id]),c=(0,u.k0)(),{withCreator:h}=(0,u.Ry)(!0);if("v4"===c&&!h)return null;const p=(0,o.FD)(je.E,{"data-e2e":"explore-card-user-link",uniqueId:a,secUid:l,teaParams:Object.assign(Object.assign({},s),{enter_method:"click_category_video_user_icon"}),children:[(0,o.Y)(be.e,{style:{flexShrink:0},src:i,shape:"circle",size:24})," "]}),m=(0,o.Y)(je.E,{"data-e2e":"explore-card-user-link",uniqueId:a,secUid:l,teaParams:s,style:{overflow:"hidden"},children:(0,o.Y)(Fe,{"data-e2e":"explore-card-user-unique-id",children:a})});return(0,o.FD)(Be,{children:[p,m,r&&(0,o.Y)(Ye.A,{"data-e2e":"explore-card-user-verified",style:{flexShrink:0},width:14,height:14})]})});var Ne=i(25598);const qe=(0,n.memo)(function({count:e,onClick:t}){const i=(0,Te.Eo)();return(0,o.FD)(Re,{"data-e2e":"explore-card-like-container",onClick:t,children:[(0,o.Y)(Ne.A,{}),(0,o.Y)("span",{children:i?"":(0,d.D1)(e)})]})}),$e=(0,n.memo)(function({videoData:e,onClick:t,onMouseEnter:i,onLikeClick:n}){const a=(0,d.L$)(e),{scheduleTime:r,author:l=""}=a,{diggCount:s}=(0,G.D)(e),c=2===(null==e?void 0:e.adLabelVersion),h=(0,u.k0)(),{isClearUI:p,withDes:m,withBack:v}=(0,u.Ry)(!0);let g=(0,o.Y)(qe,{count:s,onClick:n});return"v4"===h&&(g=null),p?null:(0,o.Y)(Ee,{"data-e2e":"explore-card-desc",withBack:v,disable:!!r,children:(0,o.FD)(Ae,{children:[m&&(0,o.Y)(Me,{ellipsisLine:c||v?1:2,onClick:null==t?void 0:t("video_desc"),onMouseEnter:null==i?void 0:i("hover_cover"),"data-e2e":"explore-card-video-caption",children:(0,o.Y)(Pe.g,{item:e,ellipsisOnNarrow:!0,styleType:"explore"})}),(0,o.Y)(Se.P,{item:a}),r?null:(0,o.FD)(We,{children:[(0,o.Y)(Ue,{author:l}),(0,o.Y)(Ve,{isOnCard:!1,children:g})]})]})})});var ze=i(30532),He=i(46294);function Ge(e){return n.createElement("svg",(0,He._)({fill:"currentColor"},e,{viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:e.className}),n.createElement("path",{d:"M17.25 12.46v23.08L36.61 24 17.25 12.46Zm-4.5-2.2a3.25 3.25 0 0 1 4.91-2.8l23.05 13.75a3.25 3.25 0 0 1 0 5.58L17.66 40.53a3.25 3.25 0 0 1-4.91-2.79V10.26Z"}))}(0,i(71394).r)(Ge);const Ke=(0,n.memo)(function({count:e}){return(0,o.FD)(Re,{"data-e2e":"explore-card-view-container",children:[(0,o.Y)(Ge,{}),(0,o.Y)("span",{children:(0,d.D1)(e)})]})}),Qe=(0,n.memo)(function({item:e}){const{diggCount:t,playCount:i}=(0,G.D)(e),{isClearUI:n,withLike:a,withNoLeftInfo:r}=(0,u.Ry)(!0),l=(0,Te.Eo)(),s=n||r?null:a?(0,o.Y)(qe,{count:t}):(0,o.Y)(Ke,{count:i});return(0,o.Y)(ze.vb,{"data-e2e":"explore-card-info",children:(0,o.Y)(Ve,{"data-e2e":"explore-card-info-left",isOnCard:!0,children:!l&&s})})});var Je=i(48384);const Ze=(e,t=!0)=>{const{timeTranslator:i}=(0,Je.T)(),{createTime:n}=null!=e?e:{},a=i(1e3*Number(n));return(0,o.Y)(ze.Jd,{onVideo:t,children:a})};var Xe=i(60752);const et=(0,ve.default)("a",{target:"epeqwgm0"})({display:"block",marginTop:"4px",":hover":{textDecoration:"none"}},"label:AMetaCaptionLine;"),tt=(0,ve.default)("div",{target:"epeqwgm1"})(({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{padding:"2px 4px 0px",cursor:"hover",height:"28px",overflow:"hidden",boxSizing:"content-box"}],"label:DivQuestionCardDesc;"),it={enter_method:"video_desc"},ot=(0,n.memo)(function(e){var t,i,n;const{videoData:a,mode:r}=e,{user:l}=(0,d.L$)((0,p.W)(()=>["user"],[])),s=null==l?void 0:l.ftcUser,c=(0,u.tj)(),{scheduleTime:h,warnInfo:m=[]}=(0,d.L$)(a),{questionInfo:v}=(0,A.P)(Xe.B,{selector:e=>({questionInfo:e.questionInfo}),dependencies:[]}),g=!c&&m&&m.length>0,{content:f="",id:b=""}=(0,d.L$)(v),y=`https://www.tiktok.com${(0,I.WDv)({questionId:b,questionContent:f})}`,_=Boolean(h||s);return g?null:(0,o.Y)(tt,{onClick:null===(t=e.onClick)||void 0===t?void 0:t.call(e,"click_blank"),onMouseEnter:null===(i=e.onMouseEnter)||void 0===i?void 0:i.call(e,"hover_blank"),children:(0,o.Y)(et,{"data-e2e":"question-item-caption",onClick:null===(n=e.onClick)||void 0===n?void 0:n.call(e,"video_desc"),title:null==a?void 0:a.desc,href:y,children:(0,o.Y)(Pe.g,{mode:r,ellispsisLine:1,styleType:"question",item:a,ellipsisOnNarrow:!0,reportParams:it,shouldReport:_})})})});var nt=i(57432),at=i.n(nt),rt=i(20957),lt=i(69831),st=i(71754),dt=i(57693),ct=i(91842),ut=i(6985);const ht=(0,ve.default)("div",{target:"etrd4pu0"})(({disable:e})=>({pointerEvents:e?"none":"auto",padding:"0 8px"}),"label:DivVideoSearchCardDesc;"),pt=(0,ve.default)("div",{target:"etrd4pu1"})([(0,fe.m4)(2),{marginTop:"4px",wordBreak:"break-word",cursor:"pointer"}],"label:DivMetaCaptionLine;"),mt=(0,ve.default)("div",{target:"etrd4pu2"})(({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal"}),{paddingTop:"4px",paddingBottom:"26px"}],"label:DivCardBottomInfo;"),vt=(0,ve.default)("div",{target:"etrd4pu3"})(({theme:e})=>[(0,fe.zy)({theme:e,typography:"P2",color:"TextSecondary"}),{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"4px"}],"label:DivPlayLine;"),gt=(0,ve.default)("div",{target:"etrd4pu4"})({display:"flex",alignItems:"center",flexShrink:0},"label:DivPlayIcon;"),ft=({theme:{direction:e}})=>[{verticalAlign:"middle"},(0,fe.mp)({direction:e,marginEnd:4})],bt=(0,ve.default)("div",{target:"etrd4pu5"})({display:"flex",alignItems:"center"},"label:DivUserInfo;"),yt=(0,ve.default)("p",{target:"etrd4pu6"})(({theme:{direction:e}})=>[(0,fe.mp)({direction:e,marginStart:"4px",marginEnd:"4px"}),{maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis"}],"label:PUniqueId;"),_t=(0,ve.default)(dt.A,{target:"etrd4pu7"})(ft,"label:StyledHeart;"),xt=(0,ve.default)(ut.A,{target:"etrd4pu8"})(ft,"label:StyledHeartFill;"),wt=(0,ve.default)(ct.A,{target:"etrd4pu9"})(ft,"label:StyledPlay;"),kt=(0,ve.default)("strong",{target:"etrd4pu10"})({fontWeight:"normal"},"label:StrongVideoCount;"),Ct=(0,n.memo)(function({videoData:e,reportParams:t,onClick:i,onMouseEnter:r,onReportClick:l,hasPlayInfo:s=!0,id:c,descStyle:u}){var h;const v=(0,w.s)(),g=(0,d.L$)(e),{scheduleTime:f,id:b="",digged:y,author:_=""}=g,x=(0,K.nW)(e=>e.users[_],Oe.bN),{withLikeAndCreator:k,removeDesc:C,withOneLineDesc:I,withPublishTime:T}=(()=>{var e;const{abTestVersion:t,language:i}=(0,d.L$)((0,p.W)(()=>["abTestVersion","language"],[]));let o=null!==(e=(0,m.qt)(t,"search_preview_ui_change"))&&void 0!==e?e:"v0";return"hu-HU"!==i&&"hu"!==i||"v3"!==o||(o="v0"),{withLikeAndCreator:"v1"===o||"v2"===o||"v3"===o,removeDesc:"v1"===o,withOneLineDesc:"v2"===o||"v3"===o,withPublishTime:"v3"===o}})(),D=(0,Te.Eo)(),{avatarThumb:L="",uniqueId:P="",verified:S=!1,secUid:Y,nickname:j}=(0,d.L$)(x),O=(0,rt.AL)(Object.assign({user:x,enterMethod:"click_search_result"},t)),{region:E=""}=null!==(h=(0,p.W)(()=>["region"],[]))&&void 0!==h?h:{},{diggCount:M,playCount:A}=(0,G.D)(e),B=(0,d.D1)(M),F=(0,d.D1)(A),{showLike:V,count:R}=ue(E,F,B),U=(0,W.w)(lt.k),N=(0,n.useCallback)(()=>{U.postLikeVideo(Object.assign({id:b,enter_method:"click",channel_id:23},t))},[b,U,t]),q=(0,st.G)({actionWhenUserLoggedIn:V?N:at(),modalConfig:{query:{enter_method:"click_like",redirect_url:window.location.href,group_id:b}}}),$=(0,n.useCallback)(()=>{null==l||l()},[l]),{colors:z}=(0,a.u)(),H=Ze(e,!T);return(0,o.Y)(ht,{"data-e2e":"search-card-desc",disable:f,children:(0,o.FD)(mt,{children:[!C&&(0,o.Y)(pt,{onClick:null==i?void 0:i("video_desc"),onMouseEnter:null==r?void 0:r("hover_cover"),"data-e2e":"search-card-video-caption",children:(0,o.Y)(Pe.g,{item:e,ellipsisOnNarrow:!0,reportParams:t,onSearchResultClick:l,ellipsisLine:I?1:0,style:u})}),(0,o.Y)(Se.P,{item:g}),f?null:(0,o.FD)(vt,{children:[(0,o.Y)(je.E,{"data-e2e":"search-card-user-link",uniqueId:P,secUid:Y,teaParams:O,id:c,onClick:$,ariaLabel:v("accessibilityLabels_link_userProfile",{username:j}),children:(0,o.FD)(bt,{children:[(0,o.Y)(be.e,{style:{flexShrink:0},src:L,shape:"circle",size:24})," ",(0,o.Y)(yt,{"data-e2e":"search-card-user-unique-id",children:P}),S&&(0,o.Y)(ge.A,{"data-e2e":"search-card-user-verified",style:{flexShrink:0},width:14,height:14})]})}),T&&H,s&&!k&&!D&&(0,o.FD)(gt,{"data-e2e":"search-card-like-container",onClick:q,children:[V?y?(0,o.Y)(xt,{className:"like-icon",width:18,height:18,fill:z.Primary}):(0,o.Y)(_t,{className:"like-icon",width:18,height:18,fill:z.TextReverse2}):(0,o.Y)(wt,{className:"like-icon",width:16,height:16,fill:z.TextReverse2}),(0,o.Y)(kt,{children:R})]})]})]})})});var It=i(18650),Tt=i(21722),Dt=i(94646),Lt=i(73198),Pt=i(80208),St=i(4832),Yt=i(60797),jt=i(1966);const Ot={enter_method:"video_desc"},Et=(0,n.memo)(function(e){var t,i,a,r;const{videoData:l,mode:s,itemListKey:d,pageType:c,userData:h}=e,{user:m}=null!==(t=(0,p.W)(()=>["user"],[]))&&void 0!==t?t:{},v=null==m?void 0:m.ftcUser,[g,f]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),_=(0,St.N)(),[x,w]=(0,n.useState)(!1),C=(0,k._u)(),I=(0,u.tj)(),T=(0,n.useCallback)(e=>{1===c&&null!==e&&(Array.from(e.querySelectorAll("*")).forEach(e=>{e.tabIndex=-1}),e.tabIndex=0)},[c]),{scheduleTime:L,warnInfo:P=[],id:S="",author:Y=""}=null!=l?l:{},j=!I&&P&&P.length>0,[O,E]=(0,n.useState)("");(0,n.useEffect)(()=>{E(`https://www.tiktok.com${C(l)}`)},[Y,S]);const M=(0,n.useCallback)(()=>{var t;null===(t=e.onMouseEnter)||void 0===t||t.call(e,"hover_blank"),f(!0),y(!0)},[e]),A=(0,n.useCallback)(()=>{window.setTimeout(()=>{y(!1)},2e3)},[]);(0,n.useEffect)(()=>{x||f(b)},[b,x]);const W=(0,n.useRef)(null),B=Boolean(L||v),[F,V]=(0,n.useState)("down"),{isRTL:R}=(0,It.m)(),U=(0,n.useCallback)(e=>{(0,D.Gu)(e),Tt.O.handleGeneralClick("info_card_icon",{group_id:null==l?void 0:l.id}),Dt.c.showSection("info_card",{group_id:null==l?void 0:l.id});const t=(0,jt.c)(W,null!=c?c:999,R);V(t),w(!0)},[R,c,null==l?void 0:l.id]);return j?null:(0,o.FD)(Lt.Zt,{children:[(0,o.Y)(Lt.h9,{"aria-label":null==l?void 0:l.desc,"data-e2e":`${d}-item-desc`,onClick:null===(i=e.onClick)||void 0===i?void 0:i.call(e,"click_blank"),onMouseEnter:M,onMouseLeave:A,ref:T,children:(0,o.Y)(Lt.T6,{onClick:null===(a=e.onClick)||void 0===a?void 0:a.call(e,"video_desc"),title:null==l?void 0:l.desc,href:O,children:(0,o.Y)(Pe.g,{mode:s,ellispsisLine:1,styleType:"tag",item:l,ellipsisOnNarrow:!0,reportParams:Ot,shouldReport:B})})}),g&&(0,o.Y)(Lt.Fp,{onClick:U,ref:W,children:(0,o.Y)(Pt.o,{size:16})}),(0,o.Y)(Lt.Uz,{children:(_||x)&&(0,o.FD)(o.FK,{children:[(0,o.Y)(Lt.BV,{visible:x,renderDirection:F}),(0,o.Y)(Yt.K,{item:l,author:h,description:null!==(r=null==l?void 0:l.desc)&&void 0!==r?r:"",isBot:_,pageType:null!=c?c:999,handleClose:()=>{w(!1),f(!1),y(!1)},visible:x,renderDirection:F})]})})]})}),Mt=(0,ve.default)("div",{target:"e1cj3yk40"})({background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,right:0,bottom:0},"label:DivJustWatchedMaskContainer;"),At=(0,ve.default)("div",{target:"e1cj3yk41"})({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},"label:DivJustWatchedMaskWrapper;"),Wt=(0,ve.default)("span",{target:"e1cj3yk42"})(({theme:e})=>({fontSize:"16px",lineHeight:"15px",fontWeight:600,color:e.colors.ConstTextInverse,wordBreak:"break-word",textAlign:"center"}),"label:SpanText;"),Bt=(0,ve.default)(ct.A,{target:"e1cj3yk43"})(({theme:{direction:e,colors:t}})=>[(0,fe.mp)({direction:e,marginEnd:"4px"}),{fill:t.ConstTextInverse}],{verticalAlign:"middle",width:"16px",height:"16px"},"label:StyledPlayIcon;"),Ft=(0,n.memo)(()=>{const e=(0,w.s)();return(0,o.Y)(Mt,{children:(0,o.FD)(At,{children:[(0,o.Y)(Bt,{}),(0,o.Y)(Wt,{children:e("pcWeb_justWatched")})]})})});var Vt=i(62402),Rt=i(50971);const Ut={width:24,height:24,fill:"#fff"},Nt=[3,16,4,129,18,121],qt=(0,n.memo)((0,n.forwardRef)(function({index:e,id:t,pageType:i,itemListKey:de,mode:ue="compact",hasDescUnderItem:he,borderRadius:pe="4px",teaParams:me,searchTopCardType:ve,handleClick:ge,handleVideoClick:fe,searchType:be,mute:ye,hasSound:_e=!1,volume:xe=.7,handleToggleMute:we,handleVideoEnd:ke,isActualRatioEnabled:Ce=!1,style:Te,exploreCategoryType:De,useHorizontalList:Pe=!1,children:Se,handleVideoPlay:Ye,fullItemList:je,descStyle:Oe},Ee){var Me,Ae,We,Be,Fe,Ve,Re,Ue,Ne,qe;const He=(0,H.F3)(e=>e[t]),{video:Ge,itemMute:Ke=!1,warnInfo:Je,showNotPass:Xe=!1,author:et="",scheduleTime:tt,authorId:it="",secret:nt=!1,forFriend:at=!1,adLabelVersion:rt,logId:lt,isAd:st,music:dt}=(0,d.L$)(He),{playAddr:ct="",duration:ut,bitrateInfo:ht,volumeInfo:pt,bitrate:mt,encodedType:vt="",format:gt="",videoQuality:ft="",encodeUserTag:bt="",codecType:yt="",definition:_t="",zoomCover:xt,cover:wt}=(0,d.L$)(Ge),{isReposted:kt}=(0,G.D)(He),It=(0,c.mx)(He),Tt=(0,c.Q4)(He),Dt=!It&&!Tt,{isInProductHoldout:Lt}=(0,u.Vv)(),Pt=Lt,St=!Lt,Yt=(0,u.tj)(),jt=(0,u.PV)(),{withNoBG:Ot,withLinearGradientBG:Mt}=(0,u.KS)(),{withBack:At}=(0,u.Ry)("explore"===de),{inGifPlayerExperiment:Wt,setGifPlayerItemId:Bt}=(0,Vt.t)(i),{isNewSearchLayout:qt}=(0,h.CA)(),{isJustWatchedEnabled:$t}=(0,u.Kg)(),zt=(0,ie.EL)(),{abTestVersion:Ht}=(0,d.L$)((0,p.W)(()=>["abTestVersion"],[])),Gt=null!==(Me=(0,m.qt)(Ht,"search_video"))&&void 0!==Me?Me:"v1",{user:Kt,wid:Qt}=(0,d.L$)((0,p.W)(()=>["user","wid"],[])),{mute:Jt,setMute:Zt}=(0,v.ah)({playMode:1,itemMute:Ke}),Xt=(0,A.P)(g.d,{selector:e=>e[t],dependencies:[t]}),{hideMaskTempVideoId:ei}=(0,A.P)(f.w),ti=(0,A.P)(b.hf,{selector:e=>e.blockedVideos||[],dependencies:[]}),ii=(0,K.nW)(e=>{if(et)return e.users[et]}),oi=(0,W.w)(b.hf),ni=(0,y.nr)(),[ai]=(0,Q.eW)(),ri=(0,_.YZ)(),li=(0,J.lY)(),si=(0,Z.b1)(),{justWatchedVideo:di=null}=(0,y.MY)(),ci=(null==di?void 0:di.id)===t,{showBrowserMode:ui}=(0,n.useContext)(x.g),hi=(0,w.s)(),{colors:pi}=(0,a.u)(),{isDetailPage:mi}=(0,te.s0)(),vi=(0,k._u)(),gi=(({item:e,itemListKey:t})=>{const i=(0,w.s)(),{originalItem:n,officalItem:a}=null!=e?e:{},r=Boolean(n);return Boolean(a)?(0,o.Y)(ze.Qh,{"data-e2e":`${t}-official`,children:(0,o.Y)(ze.Qz,{children:i("official_tag")})}):r?(0,o.Y)(ze.Qh,{"data-e2e":`${t}-original`,children:(0,o.Y)(ze.Qz,{children:i("original_tag")})}):null})({item:He,itemListKey:de}),{handleUpdatePhotoCover:fi}=(0,oe.p)(null!==(Ae=null==He?void 0:He.id)&&void 0!==Ae?Ae:"",It),{showVideoMask:bi}=(0,C.d)({item:null!=He?He:{},playMode:1}),yi=Ze(He),{withLikeAndCreator:_i}=(0,u.y9)(),xi=function(e){const{teaParams:t,id:i,pageType:o}=e;return(0,n.useMemo)(()=>{const{search_id:e,search_keyword:n}=null!=t?t:{};let a,r={};switch(e&&(r=Object.assign(Object.assign({},r),{search_id:e,impr_id:e,search_keyword:n,search_result_id:i})),o){case 105:a="general";break;case 106:a="user";break;case 107:a="video";break;case 123:a="live";break;default:a=void 0}return a&&(r.search_type=a),r},[t,i,o])}({teaParams:me,id:t,pageType:i}),wi=(0,c.MA)(He),ki=(0,le.b1)(He,i),Ci=(0,c.n5)(He,"user-post"===de&&1!==ai&&2!==ai),Ii=(0,Vt.y)(He),Ti=(0,n.useRef)(null),Di=(0,n.useRef)(null),Li=Boolean(Kt),Pi=(0,n.useMemo)(()=>123===i||61===ve,[i,ve]),Si=105===i||107===i||Pi,Yi=("user-liked"===de||"favorites"===de||"user-repost"===de)&&(null==He?void 0:He.isContentClassified),ji=bi&&ei!==t||Yi,Oi=!_e||(null!=ye?ye:Jt),Ei=Object.assign({borderRadius:At?"8px 16px":void 0,background:At?pi.BGPlaceholderDefault:void 0},Te),Mi=(0,n.useMemo)(()=>{var e,t;const i=It&&(null===(t=null===(e=null==He?void 0:He.imagePost)||void 0===e?void 0:e.cover.imageURL.urlList)||void 0===t?void 0:t[0])||wt;return jt?{zoomCover:xt,cover:i,quality:"720"}:{zoomCover:xt,cover:i,quality:"480"}},[It,null===(We=null==He?void 0:He.imagePost)||void 0===We?void 0:We.cover,jt,wt,xt]),Ai=()=>{const e=new Date;return e.setDate(e.getDate()+1),e.setHours(0,0,0,0)},{uniqueId:Wi="",secUid:Bi="",nickname:Fi=""}=(0,d.L$)(ii),{title:Vi="",authorName:Ri=""}=(0,d.L$)(dt),Ui=hi("seo_user_video_cover",{videoText:null!==(Be=null==He?void 0:He.desc)&&void 0!==Be?Be:"",videoAuthor:Fi,musicAuthor:Ri,musicName:Vi}),Ni=function(e,t){return![3,4,129,103,16,18,121,19,123,106].includes(e)&&!t}(Number(i),Pi),qi=Nt.includes(i),$i=!Wt&&(_e||Ke),{playUrl:zi="",duration:Hi=0}=null!==(Fe=null==He?void 0:He.music)&&void 0!==Fe?Fe:{},Gi=It&&19===i;let Ki;Ki="following-recommend"===ue?`https://www.tiktok.com${(0,I.fJR)({uniqueId:Wi,secUid:null!=Bi?Bi:""})}`:`https://www.tiktok.com${vi(He)}`;const Qi=(0,n.useMemo)(()=>{let{ratio:e}=T.f[ue];return 19===i&&Ce&&(null==He?void 0:He.video)&&(e=He.video.width/He.video.height),e},[ue,i,Ce,null==He?void 0:He.video]),Ji=(0,n.useMemo)(()=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},me),xi),{group_id:t,author_id:it,is_scheduled:Boolean(tt),bitrate:Number(mt),encodedType:vt,format:gt,videoQuality:ft,encodeUserTag:bt,codecType:yt,definition:_t,secret:nt,forFriend:at,isPaidPartnership:2===rt,isPinnedItem:Ci,isReposted:kt}),wi),ki),{log_id:lt,isAd:st,rank:null==je?void 0:je.indexOf(t)}),[me,xi,t,lt,st,it,tt,mt,vt,gt,ft,bt,yt,_t,nt,at,rt,wi,ki,Ci,kt,je]),Zi=function(e){const{teaParams:t,pageType:i}=e;return(0,n.useMemo)(()=>[105,106,107,123].includes(i)?Object.assign(Object.assign({},t),{enter_from:`${F.f.commonParams.page_name}_result`}):t,[t,i])}({teaParams:Ji,pageType:i}),Xi=(0,B.Nj)(V.AU),eo=(0,B.Nj)(R.Gs),to=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),Zt(!Oi)},[Oi,Zt]),io=(0,n.useCallback)((e,t)=>{const i={data:t,expire:Ai()};(0,D.AP)(e,JSON.stringify(i))},[]),oo=(0,n.useCallback)(e=>{const t=(0,D._S)(e),i=Date.now();let o;if(t){const n=JSON.parse(t);i<n.expire?o=n.data:(0,D.sc)(e)}return o},[]),no=(0,n.useCallback)((i,o)=>{if(Yi)return z.F.destroy(),z.F.open({content:hi("cc_webapp_age_video_details_body"),duration:3,widthType:"half"}),i.stopPropagation(),void i.preventDefault();if(ge)return i.preventDefault(),void ge(i,t);if(i.preventDefault(),i.stopPropagation(),null==He?void 0:He.showNotPass)return;"explore"===de&&De&&li.prepareBrowserMode(De);const n=Object.assign(Object.assign({},Ji),{enter_method:o,from_mode:1});if(!("v4"!==Gt||Li||"general_search"!==F.f.commonParams.page_name&&"search_video"!==F.f.commonParams.page_name||oo(`${L.DK}${Qt}`)))return io(`${L.DK}${Qt}`,Qt),si.setCloseCallback(()=>{ri.setItemListKey(de),ui({index:e,teaParams:Zi,enterFrom:F.f.commonParams.page_name,reportTeaParams:n}),eo.setEnterMethod(o),Xi.handleUserChangeVideoOrPlayMode(),Xi.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o})}),void si.openModal({isSignup:!1,query:{enter_method:"click_top_bar",enter_from:F.f.commonParams.page_name,redirect_url:window.location.href,type:"loginsearchmore"}});ri.setItemListKey(de),ui({index:e,teaParams:Zi,enterFrom:F.f.commonParams.page_name,reportTeaParams:n}),eo.setEnterMethod(o),Xi.handleUserChangeVideoOrPlayMode(),Xi.reportVideoInteractStart({startTime:Date.now(),situation:"open_browser_mode",enter_method:o}),null==fe||fe()},[Yi,ge,null==He?void 0:He.showNotPass,Ji,Gt,Li,oo,Qt,de,ui,e,Zi,eo,Xi,hi,t,io,si,ri,fe,De,li]),ao=(0,n.useCallback)(e=>{var t;13!==e.keyCode&&32!==e.keyCode||null===(t=Di.current)||void 0===t||t.click()},[]),ro=(0,n.useCallback)(e=>{ji||(e.preventDefault(),e.stopPropagation(),He&&oi.removeBlockVideo(He.id))},[ji,He,oi]),lo=(0,n.useCallback)(()=>{var e;const{search_id:t="",search_keyword:i="",search_result_id:o="",search_type:n="general",impr_id:a}=xi;U.$G.handleSearchResultClick({search_id:t,search_keyword:i,search_result_id:o,search_type:n,token_type:Pi?"live_card":"person",nickname:Pi?null===(e=null==Xt?void 0:Xt.owner)||void 0===e?void 0:e.nickname:Fi,impr_id:a})},[Pi,xi,Fi,Xt]),so=(0,n.useCallback)(e=>t=>no(t,e),[no]),co=(0,n.useCallback)(i=>o=>{var n,a;ji||(o.preventDefault(),Wt?Bt(t):(ni.updateVideo({currentVideo:{id:t,index:e,mode:1},playProgress:null!==(a=null===(n=Ti.current)||void 0===n?void 0:n.currentTime)&&void 0!==a?a:0,playType:"hover"}),eo.setEnterMethod(i),Xi.reportVideoInteractStart({startTime:Date.now(),situation:"three_column_user_hover",enter_method:i}),N.V.handleVideoControlReport({play_mode:"list_mouse_trigger"})))},[ji,t,ni,e,eo,Xi,Wt,Bt]),uo=(0,n.useCallback)(e=>{e.preventDefault()},[]),ho=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),Ke?(z.F.destroy(),z.F.open({content:hi("music_detail_unavailable_1"),duration:3,widthType:"half"})):(we?null==we||we(e):to(e),q.p.handleSwitchSound({playMode:1}))},[Ke,we,hi,to]),po=(0,n.useCallback)(()=>{var o;const n=106===i?"recent_video":"scroll";$.A.handleVideoExposeReport(Object.assign({enter_method:n,author_id:null!==(o=null==ii?void 0:ii.id)&&void 0!==o?o:"",group_id:t,rank:e,page_name:F.f.commonParams.page_name,backend_source_event_tracking:""},Ii))},[null==ii?void 0:ii.id,t,e,i,Ii]),mo=(0,n.useRef)(null),vo=(0,n.useMemo)(()=>[0],[]);(0,n.useImperativeHandle)(Ee,()=>({get offsetTop(){var e,t;return null!==(t=null===(e=mo.current)||void 0===e?void 0:e.offsetTop)&&void 0!==t?t:0},get currentElementRef(){return mo}}),[]),(0,P.B)({intersectionHandler:po,element:mo,threshold:vo,unobserveAfterIntersect:!0});const{delayAfterVideoPlay:go}=(0,u.y4)(),{delayUntilFirstItem:fo,delayUntilAnyItem:bo}=(0,u.W3)(),{hasCommonVideoFirst:yo}=(0,u.lP)(),_o=(0,n.useCallback)(()=>{!bo||1!==i&&8!==i||ne.aY.updateUserProfileLoadEvent(),e||(go&&19===i&&ne.aY.updateExploreVideoLoadEvent(),!fo||1!==i&&8!==i||ne.aY.updateUserProfileLoadEvent(),yo&&ae.UX.includes(i)&&ne.aY.updateCommonLoadEvent())},[go,bo,fo,yo,e,i]);(0,n.useEffect)(()=>{const t=(fo||bo)&&(1===i||8===i),o=yo&&ae.UX.includes(i);It&&(bo||0===e)&&(t||o)&&ne.aY.updateCommonLoadEvent()},[It,e,fo,yo,bo,i]);const xo=(0,n.useCallback)(()=>{_o(),null==Ye||Ye()},[]),wo=(0,n.useMemo)(()=>{var t;let n=null;switch(i){case 16:n=(0,o.Y)(ot,{mode:ue,index:e,onMouseEnter:co,onClick:so,videoData:He});break;case 1:Pt&&(n=(0,o.Y)(Et,{mode:ue,index:e,itemListKey:de,onMouseEnter:co,onClick:so,videoData:He,pageType:i,userData:ii}));break;case 3:case 4:case 121:case 18:case 129:n=(0,o.Y)(Et,{mode:ue,index:e,itemListKey:de,onMouseEnter:co,onClick:so,videoData:He,pageType:i,userData:ii});break;case 105:case 107:case 123:case 135:let a=He;Pi&&(a={author:null===(t=null==Xt?void 0:Xt.owner)||void 0===t?void 0:t.display_id,desc:null==Xt?void 0:Xt.title}),n=(0,o.Y)(Ct,{onClick:so,onMouseEnter:co,videoData:a,reportParams:xi,onReportClick:lo,pageType:i,hasPlayInfo:!Pi,id:`${de}-item-user-link-${e}`,descStyle:Oe});break;case 19:"explore"===de&&(n=(0,o.Y)($e,{videoData:He,onClick:so,onMouseEnter:co,onLikeClick:no}))}return n},[i,ue,e,co,so,He,de,Pi,xi,lo,no,null===(Ve=null==Xt?void 0:Xt.owner)||void 0===Ve?void 0:Ve.display_id,null==Xt?void 0:Xt.title]),ko=Si?ze.tE:ze.aX,Co=135===i,Io=(0,n.useMemo)(()=>Co?ze.kY:mi||Si&&qt?ze.iP:ko,[ko,mi,qt,Si]),To=105!==i&&107!==i&&135!==i||_i?null:yi,Do=(105===i||107===i||135===i)&&_i,Lo=(0,n.useMemo)(()=>Ke||Oi?(0,o.Y)(l.A,Object.assign({},Ut)):(0,o.Y)(s.A,Object.assign({},Ut)),[Ke,Oi]),Po=(0,S.X)({item:Object.assign(Object.assign({},He),{author:ii}),originalAltText:()=>Ui}),So=(0,n.useMemo)(()=>({videoCover:Mi,desc:Po}),[Mi,Po]),Yo=X.Rg("video-card-for-bot-hook",{src:null===(Re=null==He?void 0:He.video)||void 0===Re?void 0:Re.playAddr,poster:null===(Ue=null==He?void 0:He.video)||void 0===Ue?void 0:Ue.cover,posterAlt:Po,Img:re.eL,Video:re.wM});return(0,o.FD)(Io,{ref:mo,hasDescUnderItem:he,style:Ei,inHorizontalList:Pe,maxWidth:1===i&&St?"320px":void 0,id:"column-item-video-container",children:[(0,o.FD)(ee.w,{e2eTag:`${de}-item`,ratio:Qi,borderRadius:At?"0":pe,hasDescUnderItem:he,copyrightMuted:Ke,onKeyDown:ao,children:[(0,o.FD)(ze.mF,{draggable:"trending_topics"!==de&&void 0,showNotPass:null!==(Ne=null==He?void 0:He.showNotPass)&&void 0!==Ne&&Ne,href:Ki,onMouseEnter:co("hover_cover"),onClick:no,tabIndex:-1,ref:Di,children:[(0,o.Y)(ze.Od,{width:100*Qi,height:100}),Pi?(0,o.Y)(ze.w3,{children:(0,o.Y)(se.s,{id:t,mode:1,searchType:null!=be?be:"live",search_result_id:null==me?void 0:me.search_result_id})}):(0,o.FD)(ze.w3,{withBack:At,borderRadius:pe,onContextMenu:uo,children:[Dt?!Wt&&(null!==(qe=null==Yo?void 0:Yo.videoCard4Bot)&&void 0!==qe?qe:(0,o.Y)(Y.K,{desc:Po,horizontal:!1,mode:1,ref:Ti,id:t,playUrl:ct,index:e,itemMute:Oi||Ke,duration:ut,bitrateInfo:ht,teaParams:Ji,disableDownload:!0,volumeInfo:{Loudness:xe}||pt,bitrate:Number(mt),videoCover:Mi,onVideoPlay:xo,onVideoError:_o,onTimeUpdate:_o,onVideoEnded:ke,fetchPriority:zt&&e<3?"high":"auto",videoInfo:Ge})):(0,o.FD)(ze.NR,{children:[(0,o.Y)(ze.zj,{video:Mi,alt:Po,onLoad:e=>fi(e.target)}),Gi&&(0,o.Y)(j.Y,{index:e,id:t,mode:1,duration:Hi,playUrl:zi,teaParams:Ji,volumeInfo:Object.assign(Object.assign({},pt),{Loudness:xe}),itemMute:Oi||Ke,onAudioPlay:xo,onAudioError:_o,onTimeUpdate:_o,preload:"metadata",playsInline:!0})]}),Wt&&!It&&(0,o.Y)(Rt.Y,{item:He,mode:1,posterConfig:So,teaParams:Ji}),!Yt&&(null==Je?void 0:Je[0])&&(0,o.Y)(ze.zm,{children:(0,o.Y)(O.Q,{needExtraBottom:!Pe,info:null==Je?void 0:Je[0],useSmallSize:Pe})}),Boolean(tt)&&(0,o.Y)(ze.zm,{children:(0,o.FD)(ze.Vq,{children:[(0,o.Y)(ze.Mt,{width:14.67,height:14.67}),(e=>{const[t,i]=e.split(" "),[n,a,r]=t.split("-");return(0,o.FD)(o.FK,{children:[(0,o.Y)("span",{children:n}),(0,o.Y)("span",{children:"-"}),(0,o.Y)("span",{children:a}),(0,o.Y)("span",{children:"-"}),(0,o.Y)("span",{children:r}),(0,o.Y)("span",{children:" "}),(0,o.Y)("span",{children:i})]})})((jo=tt,ce().unix(jo).format("YYYY-M-D H:mm")))]})}),gi,It&&(0,o.Y)(ze.gp,{children:(0,o.Y)(r.N,{size:20})}),Ni&&(0,o.Y)(Le,{item:He,content:To,prioritizeLike:Do}),(Yt||!(null==Je?void 0:Je[0]))&&qi&&(0,o.Y)(Ie,{e2ePrefix:de,type:1,item:He,teaParams:me,showMuteIcon:$i}),19===i&&(0,o.Y)(Qe,{item:He}),ji||ti.includes((null==He?void 0:He.id)||"")?(0,o.Y)(ze.es,{hasSolidBackground:Yi||Ot,hasGradientBackground:Mt,children:(0,o.Y)(ze.NL,{onClick:ro,children:(0,o.Y)(M.A,{width:"48",height:"48"})})}):null,$i&&(0,o.Y)(ze.jG,{onClickCapture:ho,children:Lo}),$t&&ci&&1===i&&"user-post"===de&&0===ai&&(0,o.Y)(Ft,{})]}),(0,o.Y)(E.R,{videoData:He,pageType:i,itemListKey:de,sortType:ai})]}),Se]}),!Xe&&wo]});var jo}))},94673:(e,t,i)=>{i.d(t,{Z:()=>M});var o,n=i(2787),a=i(40099),r=i(67518),l=i(57615),s=i(24061),d=i(70589),c=i(19664),u=i(34778),h=i(705),p=i(52165),m=i(18650),v=i(24298),g=i(96482),f=i(47256),b=i(89610),y=i(10114),_=i(61215),x=i(4838),w=i(95501),k=i(37783),C=i(52175),I=i(66767),T=i(27799),D=i(61198),L=i(86674),P=i(77977),S=i(4832),Y=i(62402),j=i(26537),O=i(26819),E=i(63605);!function(e){e[e.IN_VIEW=0]="IN_VIEW",e[e.ABOVE_VIEW=1]="ABOVE_VIEW",e[e.BELOW_VIEW=2]="BELOW_VIEW"}(o||(o={}));const M=(0,a.memo)((0,s.h)()(function({mode:e="compact",loading:t,itemList:i,pageType:o,itemListKey:s,onHitBottom:M,threshold:A,borderRadius:W,renderMap:B,renderTitle:F,renderItemChildren:V,teaParams:R,searchTopCardType:U,notWrap:N=!1,autoPlayFirst:q=!0,handleClick:$,handleVideoClick:z,searchType:H,hasMore:G=!0,mute:K,hasSound:Q=!1,handleToggleMute:J,hasLocateItem:Z=!1,children:X,fullItemList:ee,descStyle:te}){var ie,oe;const ne=i[0],{isJustWatchedEnabled:ae,isButtonPrimary:re,isButtonSizeLarge:le}=(0,d.Kg)(),{inGifPlayerExperiment:se,setGifPlayerItemId:de}=(0,Y.t)(o),ce=(0,k.F3)(e=>e[ne]),ue=(0,c.nr)(),{justWatchedVideoId:he,justWatchedAuthorUniqueId:pe,justWatchedAuthorId:me}=(0,P.xr)(),ve=(0,C.gT)(),[ge]=(0,I.eW)(),fe=(0,u.JD)(e=>e.currentIndex),be=(0,h.Sb)(),{isBrowserModeShowing:ye}=(0,a.useContext)(p.g),[_e,xe]=(0,a.useState)(0),[we,ke]=(0,a.useState)(20),[Ce,Ie]=(0,a.useState)(!1),[Te,De]=(0,a.useState)(!1),[Le,Pe]=(0,a.useState)(!1),Se=(0,a.useRef)(!0),Ye=(0,a.useRef)(s),je=(0,a.useRef)(null),Oe=(0,a.useRef)([]),Ee=(0,a.useCallback)(e=>t=>{Oe.current||(Oe.current=[]),Oe.current[e]=t},[]),Me=(0,a.useCallback)(()=>{var e,t;const o=null==i?void 0:i.indexOf(null!=he?he:"");return-1===o?null:null!==(t=null===(e=null==Oe?void 0:Oe.current[o])||void 0===e?void 0:e.currentElementRef)&&void 0!==t?t:null},[i,he,Oe,Te]),Ae=3===o||105===o||107===o||123===o||16===o||61===U,We=(0,T.s)(),{isRTL:Be}=(0,m.m)(),{isDark:Fe}=(0,r.u)(),{showVideoMask:Ve}=(0,v.d)({item:null!=ce?ce:{},playMode:1}),Re=(0,S.N)();(0,g.V)(i,Re);const Ue=(0,k.F3)(e=>{const t=[];return i.forEach(i=>{if(!Re)return;const o=e[i];(null==o?void 0:o.video.subtitleInfos)&&t.push(o)}),t},D.bN);(0,f.t)(Ue,Re);const Ne=(0,a.useCallback)(()=>{null==M||M()},[M]),qe=(0,_.O)({onHitBottom:Ne,threshold:A});(0,L.H4)(i,qe,G,M);const $e=(0,a.useCallback)((e,t=150)=>{var i;if(e){const o=null!==(i=e.offsetTop)&&void 0!==i?i:0;0!==o&&window.scrollTo(0,o+t)}},[]);(0,b.B)({intersectionHandler:()=>{xe(0)},outerSectionHandler:()=>{const e=Me();if(!e||!e.current)return void xe(2);const{top:t}=e.current.getBoundingClientRect();xe(t<0?1:2)},element:Me(),threshold:[.8]}),(0,y.Ux)(1),(0,a.useEffect)(()=>{s!==Ye.current&&(Se.current=!0,Ye.current=s)},[s]),(0,a.useEffect)(()=>{if(!Ve&&Se.current&&q&&i.length){if(Se.current=!1,se)return void de(i[0]);ue.updateVideo({currentVideo:{id:i[0],index:0,mode:1},teaParams:{isThreeColumnAuto:!0},playProgress:0,playType:"automatic"})}},[Ve,i,se,de,q]),(0,a.useEffect)(()=>{const e=-1!==i.indexOf(null!=he?he:"")&&0!==_e,t=-1===i.indexOf(null!=he?he:"")&&Z,n=1===o&&(e||t);n&&!Ce&&x.D.handleJustWatchedButtonShow({has_locate_item:Z,author_id:null!=me?me:"",group_id:null!=he?he:""}),Ie(n)},[o,i,Z,_e,he]),(0,a.useEffect)(()=>{const e=()=>{if(je.current){const e=je.current.getBoundingClientRect(),t=Be?e.left:window.innerWidth-e.right;ke(t+20)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.useEffect)(()=>{if(Le){const e=Me();e&&$e(e.current),Pe(!1)}},[Le,Me,$e]),(0,a.useEffect)(()=>{let e;if("explore"===s&&ye&&0!==fe){const{itemListKey:t,index:i}=be.getSourceIndex(fe);return t===s&&(e=setTimeout(()=>{var t,o,n;e=void 0,window.scrollTo(0,(null!==(n=null===(o=null===(t=Oe.current)||void 0===t?void 0:t[i])||void 0===o?void 0:o.offsetTop)&&void 0!==n?n:144)-144)},0)),()=>e&&clearTimeout(e)}},[fe,ye,s,be]);const ze=(0,a.useCallback)(()=>{return e=this,t=void 0,o=function*(){var e;x.D.handleClickJustWatchedButton({author_id:null!=me?me:"",group_id:null!=he?he:""});const t=Me();if(t)$e(t.current);else if(pe===(null==ce?void 0:ce.author)){De(!0);try{yield ve.getItemList(Object.assign({secUid:null!==(e=null==ce?void 0:ce.authorSecId)&&void 0!==e?e:"",postItemListRequestType:3},he&&{locateItemID:he}))}catch(e){console.error("Error calling fetch function:",e)}finally{De(!1)}Pe(!0)}},new((i=void 0)||(i=Promise))(function(n,a){function r(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,l)}s((o=o.apply(e,t||[])).next())});var e,t,i,o},[Me,$e,pe,me,null==ce?void 0:ce.author,null==ce?void 0:ce.authorSecId,he,ve,De]),He=(0,a.useCallback)(e=>{if(null==B?void 0:B.length){const t=B.filter(({position:t})=>t===e);if(t.length>0)return t.map(t=>t.renderNode(e))}return null},[B]),Ge=(0,a.useMemo)(()=>null!==He(0),[B,He]),Ke=(0,a.useMemo)(()=>({itemList:i,hasTopCard:Ge,renderTitle:F,mode:e,pageType:o,borderRadius:W,itemListKey:s,hasDescUnderItem:Ae,teaParams:R,searchTopCardType:U,handleClick:$,handleVideoClick:z,searchType:H,mute:K,hasSound:Q,handleToggleMute:J,renderInner:He,renderItemChildren:V,getItemRef:Ee,justWatchedVideoId:he,fullItemList:ee,descStyle:te}),[i,Ge,F,e,o,W,s,Ae,R,U,$,z,H,K,Q,J,He,V,Ee,he,ee,te]),Qe=i.map((e,t)=>(0,n.Y)(j.x,{index:t,data:Ke},e));return(0,n.FD)(E.jl,{ref:qe,isSearchTopCard:Boolean(U),children:[(0,n.FD)(O.$G,{"data-e2e":`${s}-item-list`,hasDescUnderItem:Ae,mode:e,notWrap:N,ref:je,useAutoFill:i.length<Math.ceil((null!==(oe=null===(ie=null==je?void 0:je.current)||void 0===ie?void 0:ie.clientWidth)&&void 0!==oe?oe:0)/336),children:[He(0),Qe,ae&&"user-post"===s&&0===ge&&Ce&&(0,n.Y)(E.fW,{containerRight:we,children:(0,n.Y)(l.I05,{variant:re?"primary":"secondary",style:(0,E.Ct)(re,Fe),size:le?"large":"medium",shape:"capsule",trailingIcon:1===_e?(0,n.Y)(l.dTl,{}):(0,n.Y)(l.g4Y,{}),label:We("pcWeb_justWatched"),onClick:ze,loading:Te})}),X]}),t&&(0,n.Y)(w.R,{center:!0}),!t&&!G&&(0,n.Y)(E.hb,{children:We("search_nomoreresults_text")})]})}))}}]);